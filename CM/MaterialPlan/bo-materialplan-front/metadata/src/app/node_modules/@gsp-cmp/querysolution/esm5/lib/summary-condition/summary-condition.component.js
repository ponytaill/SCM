/**
 * @fileoverview added by tsickle
 * Generated from: lib/summary-condition/summary-condition.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Injector } from '@angular/core';
import { QueryCondition, ControlType } from '@farris/component-querycondition';
import { DateTimeHelperService } from '@farris/ui-common/date';
import { NumberHelperService } from '@farris/ui-common/number';
import { LocaleService } from '@farris/ui-locale';
var SummaryConditionComponent = /** @class */ (function () {
    function SummaryConditionComponent(dtHelper, numberHelper, injector) {
        this.dtHelper = dtHelper;
        this.numberHelper = numberHelper;
        this.injector = injector;
        // 分隔符
        this._spliter = '';
        // 是否区间
        this._isRange = false;
        this.showTime = false;
        this.textField = 'name';
        this.valueField = 'value';
        // 从服务器端取值是格式化后的
        this.returnFormat = '';
        // 文本显示
        this.text = "";
        // 千分位符号
        this.thousand = ',';
        // 小数点处符号
        this.decimal = '.';
        // 货币符号及值展现形式
        this.expression = '%s%v';
        // formControl显示的文本
        /**
         * 国际化类型
         * \@Input() localizationType: string;
         */
        // 货币符号，默认是RMB
        this.currencySymbol = '￥';
        // 十进制前面填充的符号
        this.filledSymbol = '0';
        this.localeService = this.injector.get(LocaleService);
    }
    Object.defineProperty(SummaryConditionComponent.prototype, "condition", {
        get: /**
         * @return {?}
         */
        function () {
            return this._condition;
        },
        set: /**
         * @param {?} qCondition
         * @return {?}
         */
        function (qCondition) {
            this._condition = qCondition;
            this.formatCondition();
        },
        enumerable: true,
        configurable: true
    });
    ;
    /**
     * @return {?}
     */
    SummaryConditionComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    SummaryConditionComponent.prototype.formatCondition = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var qCondition = this.condition;
        if (qCondition) {
            this._conditionType = qCondition.control.getControlType();
            /** @type {?} */
            var textValueObj = void 0;
            /** @type {?} */
            var textOriginalValue = qCondition.value.getOriginalValue();
            /** @type {?} */
            var startValue = void 0;
            /** @type {?} */
            var endValue = void 0;
            switch (this._conditionType) {
                case ControlType.Text:
                    //文本
                    textValueObj = (/** @type {?} */ (qCondition.value));
                    textOriginalValue = textValueObj.value && textValueObj.value.trim();
                    break;
                case ControlType.SingleNumber:
                    // 数值
                    this.numberOptions = { precision: qCondition.control['precision'], type: 'number' };
                    break;
                case ControlType.NumberRange:
                    // 数值区间
                    this._isRange = true;
                    this._spliter = '~';
                    this.numberOptions = { precision: qCondition.control['precision'], type: 'number' };
                    startValue = qCondition.value['startValue'] ? qCondition.value['startValue'] : '';
                    endValue = qCondition.value['endValue'] ? qCondition.value['endValue'] : '';
                    textOriginalValue = [startValue, endValue].join(this._spliter);
                    break;
                case ControlType.SingleDate:
                    //单个日期
                    this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : "yyyy-MM-dd";
                    this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : "yyyy-MM-dd";
                    break;
                case ControlType.DateRange:
                    //日期区间
                    this._isRange = true;
                    this._spliter = '~';
                    this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : "yyyy-MM-dd";
                    this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : "yyyy-MM-dd";
                    startValue = qCondition.value['startTime'] ? qCondition.value['startTime'] : '';
                    endValue = qCondition.value['endTime'] ? qCondition.value['endTime'] : '';
                    textOriginalValue = [startValue, endValue].join(this._spliter);
                    break;
                case ControlType.SingleYear:
                    // 只有年
                    this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : "yyyy";
                    this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : "yyyy";
                    break;
                case ControlType.SingleMonth:
                    // 只有月
                    this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : "yyyy-MM";
                    this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : "yyyy-MM";
                    break;
                case ControlType.MonthRange:
                    // 月范围
                    this._isRange = true;
                    this._spliter = '~';
                    this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : "yyyy-MM";
                    this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : "yyyy-MM";
                    startValue = qCondition.value['startTime'] ? qCondition.value['startTime'] : '';
                    endValue = qCondition.value['endTime'] ? qCondition.value['endTime'] : '';
                    break;
                case ControlType.SingleDateTime:
                    // 时间
                    this.showTime = true;
                    this.returnFormat = qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : this.returnFormat;
                    this.format = 'yyyy-MM-dd HH:mm:ss';
                    if (qCondition.control) {
                        if (qCondition.control['enableCustomFormat']) {
                            this.format = qCondition.control['format'] ? qCondition.control['format'] : this.returnFormat;
                        }
                        else {
                            this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] + ' HH:mm:ss' : this.returnFormat;
                        }
                    }
                    break;
                case ControlType.DateTimeRange:
                    // 时间区间
                    this.showTime = true;
                    this._isRange = true;
                    this._spliter = '~';
                    this.returnFormat = qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : this.returnFormat;
                    this.format = 'yyyy-MM-dd HH:mm:ss';
                    if (qCondition.control) {
                        if (qCondition.control['enableCustomFormat']) {
                            this.format = qCondition.control['format'] ? qCondition.control['format'] : this.returnFormat;
                        }
                        else {
                            this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] + ' HH:mm:ss' : this.returnFormat;
                        }
                    }
                    startValue = qCondition.value['startTime'] ? qCondition.value['startTime'] : '';
                    endValue = qCondition.value['endTime'] ? qCondition.value['endTime'] : '';
                    break;
                case ControlType.BoolCheck:
                    // 布尔值-单个值
                    /** @type {?} */
                    var checkValue = ((/** @type {?} */ (qCondition.value))).value;
                    textOriginalValue = checkValue.length > 0 ? checkValue['0'] : null;
                    break;
                case ControlType.DropDownList:
                    // 下拉
                    this._spliter = ',';
                    break;
                case ControlType.Radio:
                    // 单选组
                    this._spliter = ',';
                    break;
                case ControlType.InputGroup:
                    // inputgroup
                    textValueObj = (/** @type {?} */ (qCondition.value));
                    textOriginalValue = textValueObj.textValue && textValueObj.textValue.trim();
                    break;
                case ControlType.SmartHelp:
                    // 帮助
                    textValueObj = (/** @type {?} */ (qCondition.value));
                    textOriginalValue = textValueObj.textValue && textValueObj.textValue.trim();
                    break;
                default:
                    textOriginalValue = qCondition.value.getOriginalValue();
            }
            this.text = this.formatValue(textOriginalValue);
        }
        else {
            this.text = '';
        }
    };
    /**
     * 处理多语言，待定
     */
    /**
     * 处理多语言，待定
     * @param {?} value
     * @return {?}
     */
    SummaryConditionComponent.prototype.formatLang = /**
     * 处理多语言，待定
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return value && value[this.currentLanguage] ? value[this.currentLanguage] : '';
    };
    /**
     * C货币
     * D十进制
     * F浮点数
     * N数字，带千分位
     * P百分比
     */
    /**
     * C货币
     * D十进制
     * F浮点数
     * N数字，带千分位
     * P百分比
     * @param {?} value
     * @return {?}
     */
    SummaryConditionComponent.prototype.getFormatNumberValue = /**
     * C货币
     * D十进制
     * F浮点数
     * N数字，带千分位
     * P百分比
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (!this.format && !this.numberOptions) {
            return value.toString();
        }
        if (this.numberOptions && this.numberOptions.type && this.numberOptions.type == 'number') {
            if (this.numberOptions.formatter) {
                return this.numberOptions.formatter(value);
            }
            else {
                if (this.numberOptions.useThousands) {
                    // 设置了千分位
                    if (this.numberOptions.precision != undefined) {
                        this.format = 'n' + this.numberOptions.precision;
                    }
                    else {
                        this.format = 'n';
                    }
                }
                else {
                    // 没有设置千分位
                    if (this.numberOptions.precision != undefined) {
                        this.format = 'f' + this.numberOptions.precision;
                    }
                    else {
                        // 没有设置精度，没有设置千分位
                        return value.toString();
                    }
                }
            }
        }
        else {
            return value.toString();
        }
        /** @type {?} */
        var firstLetter = this.currencyToUpperCase(this.format.substring(0, 1));
        /** @type {?} */
        var precision = Number(this.format.substring(1));
        /** @type {?} */
        var config = {};
        /** @type {?} */
        var result;
        if (!/C|D|F|N|P/g.test(firstLetter)) {
            console.warn("\u4E0D\u652F\u6301format\u4E3A " + this.format + " \u7C7B\u578B\u7684\u6570\u5B57\u683C\u5F0F\u5316");
            return;
        }
        if (this.thousand) {
            Object.assign(config, { thousand: this.thousand });
        }
        if (this.decimal) {
            Object.assign(config, { decimal: this.decimal });
        }
        if (this.expression) {
            Object.assign(config, { format: this.expression });
        }
        switch (firstLetter) {
            case 'C':
                Object.assign(config, { prefix: this.currencySymbol, precision: precision });
                result = this.numberHelper.formatMoney(value, config);
                break;
            case 'D':
                result = this.toDecimal(value, precision);
                break;
            case 'F':
                Object.assign(config, { prefix: '', thousand: '', precision: precision });
                result = this.numberHelper.formatMoney(value, config);
                break;
            case 'N':
                Object.assign(config, { prefix: '', precision: precision });
                result = this.numberHelper.formatMoney(value, config);
                break;
            case 'P':
                result = this.toPercent(value, precision);
                break;
        }
        return result;
    };
    /**
     * @param value 转换成十进制的数字
     * @param precision 十进制数字的长度
     */
    /**
     * @param {?} value 转换成十进制的数字
     * @param {?} precision 十进制数字的长度
     * @return {?}
     */
    SummaryConditionComponent.prototype.toDecimal = /**
     * @param {?} value 转换成十进制的数字
     * @param {?} precision 十进制数字的长度
     * @return {?}
     */
    function (value, precision) {
        if (value.toString().indexOf('.') > -1) {
            console.warn('十进制转换仅限整型类型');
            return;
        }
        return (Array(precision).join(this.filledSymbol) + value).slice(-precision);
    };
    /**
     * @param value 转换成百分数的数字
     * @param decimal 小数点保留几位
     */
    /**
     * @param {?} value 转换成百分数的数字
     * @param {?} precision
     * @return {?}
     */
    SummaryConditionComponent.prototype.toPercent = /**
     * @param {?} value 转换成百分数的数字
     * @param {?} precision
     * @return {?}
     */
    function (value, precision) {
        return Number(value * 100).toFixed(Number(precision)) + '%';
    };
    /**
     * 将货币符号首字母转换成大写
     */
    /**
     * 将货币符号首字母转换成大写
     * @param {?} value
     * @return {?}
     */
    SummaryConditionComponent.prototype.currencyToUpperCase = /**
     * 将货币符号首字母转换成大写
     * @param {?} value
     * @return {?}
     */
    function (value) {
        return value.replace(/[a-z]+/g, (/**
         * @param {?} word
         * @return {?}
         */
        function (word) {
            return word.toUpperCase();
        }));
    };
    /**
     * 处理年，Y=>y, D=>d
     */
    /**
     * 处理年，Y=>y, D=>d
     * @param {?} value
     * @return {?}
     */
    SummaryConditionComponent.prototype.dateToUpperCase = /**
     * 处理年，Y=>y, D=>d
     * @param {?} value
     * @return {?}
     */
    function (value) {
        /** @type {?} */
        var newFormat;
        if (/Y/g.test(value) === true) {
            newFormat = value.replace(/Y/g, 'y');
        }
        else {
            newFormat = value;
        }
        if (/D/g.test(newFormat) === true) {
            newFormat = newFormat.replace(/D/g, 'd');
        }
        return newFormat;
    };
    /**
     * 枚举类型处理
     */
    /**
     * 枚举类型处理
     * @param {?} value
     * @return {?}
     */
    SummaryConditionComponent.prototype.getFormatEnumValue = /**
     * 枚举类型处理
     * @param {?} value
     * @return {?}
     */
    function (value) {
        var _this = this;
        if (value == undefined || value === null || value === '') {
            return '';
        }
        if (this.dataSource && this.dataSource.length) {
            // 可能存在多选枚举，作为分隔符  
            // let curVals = ('' + value).split(',');
            /** @type {?} */
            var curVals_1 = ('' + value).split(this._spliter);
            /** @type {?} */
            var nameResult = [];
            var _loop_1 = function (k) {
                /** @type {?} */
                var findObj = this_1.dataSource.find((/**
                 * @param {?} item
                 * @return {?}
                 */
                function (item) {
                    return item[_this.valueField] == curVals_1[k];
                }));
                if (findObj) {
                    nameResult.push(findObj[this_1.textField]);
                }
                else {
                    nameResult.push(curVals_1[k]);
                }
            };
            var this_1 = this;
            for (var k = 0; k < curVals_1.length; k++) {
                _loop_1(k);
            }
            if (nameResult.length > 0) {
                // return nameResult.join(',');
                return nameResult.join(this._spliter);
            }
            return '';
        }
        else {
            return value;
        }
    };
    /**
     * boolean值处理
     */
    /**
     * boolean值处理
     * @param {?} value
     * @return {?}
     */
    SummaryConditionComponent.prototype.getFormatCheckBoxValue = /**
     * boolean值处理
     * @param {?} value
     * @return {?}
     */
    function (value) {
        if (value === true) {
            return this.localeService.getValue('text.yes');
        }
        else if (value === false || value == null || typeof value === 'undefined') {
            return this.localeService.getValue('text.no');
        }
        else {
            return value;
        }
    };
    /*
    * 日期格式化
    */
    /*
      * 日期格式化
      */
    /**
     * @param {?} value
     * @return {?}
     */
    SummaryConditionComponent.prototype.dateformat = /*
      * 日期格式化
      */
    /**
     * @param {?} value
     * @return {?}
     */
    function (value) {
        /** @type {?} */
        var str;
        if (!this.format) {
            this.format = 'YYYY-MM-dd';
        }
        // 当前值是已经格式化后的日期字符串
        if (this.returnFormat && typeof value == 'string') {
            value = this.getDateFromFormatedString(value, this.returnFormat);
        }
        if (this.format === 'hh:mm:ss' || this.format === 'HH:mm:ss') {
            // 格式化时间  临时处理
            str = value;
        }
        else {
            // 格式化日期
            str = this.dtHelper.formatTo(value, this.dateToUpperCase(this.format));
        }
        return str;
    };
    /**
     * @private
     * @param {?} dateString
     * @param {?} format
     * @return {?}
     */
    SummaryConditionComponent.prototype.getDateFromFormatedString = /**
     * @private
     * @param {?} dateString
     * @param {?} format
     * @return {?}
     */
    function (dateString, format) {
        /** @type {?} */
        var result = { year: 0, month: 0, day: 0, hour: 0, minite: 0, second: 0 };
        if (dateString) {
            format.replace(/y{4}|Y{4}|M+|d+|D+|h+|H+|m+|s+/g, (/**
             * @param {?} m
             * @param {?} a
             * @param {?} b
             * @param {?} c
             * @return {?}
             */
            function (m, a, b, c) {
                dateString.substring(a).replace(/\d+/, (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    if (d) {
                        c = parseInt(d.substr(0, m.length), 10);
                    }
                }));
                if (/y+/i.test(m) && !result.year)
                    result.year = c;
                if (/M+/.test(m) && !result.month)
                    result.month = c;
                if (/d+/i.test(m) && !result.day)
                    result.day = c;
                if (/h+/i.test(m) && !result.hour)
                    result.hour = c;
                if (/m+/.test(m) && !result.minite)
                    result.minite = c;
                if (/s+/.test(m) && !result.second)
                    result.second = c;
            }));
        }
        result.day = result.day ? result.day : 1;
        result.month = result.month ? result.month : 1;
        /** @type {?} */
        var resultDate = new Date(result.year + '/' + result.month + '/' + result.day + ' ' + result.hour + ':' + result.minite + ':' + result.second);
        return resultDate;
    };
    /**
     * @param {?} date
     * @param {?} fmt
     * @return {?}
     */
    SummaryConditionComponent.prototype.function = /**
     * @param {?} date
     * @param {?} fmt
     * @return {?}
     */
    function (date, fmt) {
        /** @type {?} */
        var o = {
            'M+': date.getMonth() + 1,
            //月份
            'd+': date.getDate(),
            //日
            'h+': date.getHours(),
            //小时
            'm+': date.getMinutes(),
            //分
            's+': date.getSeconds(),
            //秒
            'q+': Math.floor((date.getMonth() + 3) / 3),
            //季度
            'S': date.getMilliseconds() //毫秒
        };
        if (!fmt) {
            fmt = 'yyyy-MM-dd hh:mm:ss';
        }
        if (/(y+)/.test(fmt)) {
            fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));
        }
        for (var k in o) {
            if (new RegExp('(' + k + ')').test(fmt)) {
                fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)));
            }
        }
        return fmt;
    };
    /**
     * 格式化处理
     */
    /**
     * 格式化处理
     * @param {?} value
     * @return {?}
     */
    SummaryConditionComponent.prototype.formatValue = /**
     * 格式化处理
     * @param {?} value
     * @return {?}
     */
    function (value) {
        var _this = this;
        /** @type {?} */
        var str;
        if (this.currentLanguage) {
            return this.formatLang(value);
        }
        // 标记类型
        if (this._conditionType !== ControlType.BoolCheck && (value == null || typeof value === 'undefined')) {
            return '';
        }
        switch (this._conditionType) {
            case ControlType.Text:
                str = value;
                break;
            case ControlType.DateRange:
            case ControlType.MonthRange:
            case ControlType.DateTimeRange:
                /** @type {?} */
                var dateValues = value.split(this._spliter);
                /** @type {?} */
                var dataStr_1 = [];
                if (dateValues && dateValues.length) {
                    dateValues.forEach((/**
                     * @param {?} date
                     * @return {?}
                     */
                    function (date) {
                        /** @type {?} */
                        var val = _this.dateformat(date);
                        dataStr_1.push(val);
                    }));
                }
                str = dataStr_1.join(this._spliter);
                break;
            case ControlType.SingleDate:
            case ControlType.SingleDateTime:
            case ControlType.SingleMonth:
            case ControlType.SingleYear:
                str = this.dateformat(value);
                break;
            case ControlType.SingleNumber:
                // 数字
                str = this.getFormatNumberValue(value);
                break;
            case ControlType.NumberRange:
                // 数字 区间     
                /** @type {?} */
                var numberValues = value.split(this._spliter);
                /** @type {?} */
                var resultStr_1 = [];
                if (numberValues && numberValues.length) {
                    numberValues.forEach((/**
                     * @param {?} date
                     * @return {?}
                     */
                    function (date) {
                        /** @type {?} */
                        var val = _this.getFormatNumberValue(date);
                        resultStr_1.push(val);
                    }));
                }
                str = resultStr_1.join(this._spliter);
                break;
            case ControlType.Radio:
                // 单选组
                this.dataSource = ((/** @type {?} */ (this.condition.control))).enumValues;
                str = this.getFormatEnumValue(value);
                break;
            case ControlType.DropDownList:
                // 下拉
                this.dataSource = ((/** @type {?} */ (this.condition.control))).enumValues;
                str = this.getFormatEnumValue(value);
                break;
            case ControlType.BoolCheck:
                // 布尔
                //this.dataSource = (this.condition.control as CheckBoxControl).data;
                str = this.getFormatCheckBoxValue(value);
                break;
            default:
                str = value;
        }
        return str;
    };
    SummaryConditionComponent.decorators = [
        { type: Component, args: [{
                    selector: 'lib-summary-condition',
                    template: "<span class=\"summary-condition--label\">{{condition.fieldName}}</span>:<span class=\"summary-condition--text\">{{text}}</span>",
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    SummaryConditionComponent.ctorParameters = function () { return [
        { type: DateTimeHelperService },
        { type: NumberHelperService },
        { type: Injector }
    ]; };
    SummaryConditionComponent.propDecorators = {
        condition: [{ type: Input }],
        filledSymbol: [{ type: Input }]
    };
    return SummaryConditionComponent;
}());
export { SummaryConditionComponent };
if (false) {
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype._condition;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype._conditionType;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype._spliter;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype._isRange;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.showTime;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.textField;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.valueField;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.returnFormat;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.format;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.dataSource;
    /** @type {?} */
    SummaryConditionComponent.prototype.text;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.currentLanguage;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.thousand;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.decimal;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.expression;
    /**
     * 国际化类型
     * \@Input() localizationType: string;
     * @type {?}
     */
    SummaryConditionComponent.prototype.currencySymbol;
    /** @type {?} */
    SummaryConditionComponent.prototype.filledSymbol;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.numberOptions;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.localeService;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.dtHelper;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.numberHelper;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.injector;
    /* Skipping unhandled member: ;*/
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3VtbWFyeS1jb25kaXRpb24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGdzcC1jbXAvcXVlcnlzb2x1dGlvbi8iLCJzb3VyY2VzIjpbImxpYi9zdW1tYXJ5LWNvbmRpdGlvbi9zdW1tYXJ5LWNvbmRpdGlvbi5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFVLEtBQUssRUFBRSxRQUFRLEVBQWEsTUFBTSxlQUFlLENBQUM7QUFDOUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQW1JLE1BQU0sa0NBQWtDLENBQUM7QUFDaE4sT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDL0QsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDL0QsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRWxEO0lBeURFLG1DQUNVLFFBQStCLEVBQy9CLFlBQWlDLEVBQ2pDLFFBQWtCO1FBRmxCLGFBQVEsR0FBUixRQUFRLENBQXVCO1FBQy9CLGlCQUFZLEdBQVosWUFBWSxDQUFxQjtRQUNqQyxhQUFRLEdBQVIsUUFBUSxDQUFVOztRQWhEcEIsYUFBUSxHQUFHLEVBQUUsQ0FBQzs7UUFFZCxhQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ2pCLGFBQVEsR0FBRyxLQUFLLENBQUM7UUFDakIsY0FBUyxHQUFHLE1BQU0sQ0FBQztRQUNuQixlQUFVLEdBQUcsT0FBTyxDQUFDOztRQUVyQixpQkFBWSxHQUFHLEVBQUUsQ0FBQzs7UUFNMUIsU0FBSSxHQUFHLEVBQUUsQ0FBQzs7UUFhRixhQUFRLEdBQUcsR0FBRyxDQUFDOztRQUVmLFlBQU8sR0FBRyxHQUFHLENBQUM7O1FBRWQsZUFBVSxHQUFHLE1BQU0sQ0FBQzs7Ozs7OztRQVE1QixtQkFBYyxHQUFHLEdBQUcsQ0FBQzs7UUFFWixpQkFBWSxHQUFHLEdBQUcsQ0FBQztRQVUxQixJ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QUFFLElBQUksQ0FBQyxRQUFRLEVBQUU7O1lBQ3JCLElBQUksRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFOztZQUN2QixJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRTs7WUFDdkIsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDOztZQUMzQyxHQUFHLEVBQUUsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDLElBQUk7U0FDakM7UUFDRCxJQUFJLENBQUMsR0FBRyxFQUFFO1lBQ1IsR0FBRyxHQUFHLHFCQUFxQixDQUFDO1NBQzdCO1FBQ0QsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ3BCLEdBQUcsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7U0FDdEY7UUFDRCxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNmLElBQUksSUFBSSxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQ3ZDLEdBQUcsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQzdHO1NBQ0Y7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7SUFFRDs7T0FFRzs7Ozs7O0lBQ0gsK0NBQVc7Ozs7O0lBQVgsVUFBWSxLQUFVO1FBQXRCLGlCQW9FQzs7WUFuRUssR0FBUTtRQUNaLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTtZQUN4QixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDL0I7UUFDRCxPQUFPO1FBQ1AsSUFBSSxJQUFJLENBQUMsY0FBYyxLQUFLLFdBQVcsQ0FBQyxTQUFTLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxJQUFJLE9BQU8sS0FBSyxLQUFLLFdBQVcsQ0FBQyxFQUFFO1lBQ3BHLE9BQU8sRUFBRSxDQUFDO1NBQ1g7UUFDRCxRQUFRLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDM0IsS0FBSyxXQUFXLENBQUMsSUFBSTtnQkFDbkIsR0FBRyxHQUFHLEtBQUssQ0FBQztnQkFDWixNQUFNO1lBQ1IsS0FBSyxXQUFXLENBQUMsU0FBUyxDQUFDO1lBQzNCLEtBQUssV0FBVyxDQUFDLFVBQVUsQ0FBQztZQUM1QixLQUFLLFdBQVcsQ0FBQyxhQUFhOztvQkFDdEIsVUFBVSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQzs7b0JBQ3pDLFNBQU8sR0FBRyxFQUFFO2dCQUNoQixJQUFJLFVBQVUsSUFBSSxVQUFVLENBQUMsTUFBTSxFQUFFO29CQUNuQyxVQUFVLENBQUMsT0FBTzs7OztvQkFBQyxVQUFBLElBQUk7OzRCQUNqQixHQUFHLEdBQUcsS0FBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUM7d0JBQy9CLFNBQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQ3BCLENBQUMsRUFBQyxDQUFDO2lCQUNKO2dCQUNELEdBQUcsR0FBRyxTQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDbEMsTUFBTTtZQUNSLEtBQUssV0FBVyxDQUFDLFVBQVUsQ0FBQztZQUM1QixLQUFLLFdBQVcsQ0FBQyxjQUFjLENBQUM7WUFDaEMsS0FBSyxXQUFXLENBQUMsV0FBVyxDQUFDO1lBQzdCLEtBQUssV0FBVyxDQUFDLFVBQVU7Z0JBQ3pCLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUM3QixNQUFNO1lBQ1IsS0FBSyxXQUFXLENBQUMsWUFBWTtnQkFDM0IsS0FBSztnQkFDTCxHQUFHLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUN2QyxNQUFNO1lBQ1IsS0FBSyxXQUFXLENBQUMsV0FBVzs7O29CQUVwQixZQUFZLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDOztvQkFDM0MsV0FBUyxHQUFHLEVBQUU7Z0JBQ2xCLElBQUksWUFBWSxJQUFJLFlBQVksQ0FBQyxNQUFNLEVBQUU7b0JBQ3ZDLFlBQVksQ0FBQyxPQUFPOzs7O29CQUFDLFVBQUEsSUFBSTs7NEJBQ25CLEdBQUcsR0FBRyxLQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDO3dCQUN6QyxXQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUN0QixDQUFDLEVBQUMsQ0FBQztpQkFDSjtnQkFDRCxHQUFHLEdBQUcsV0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3BDLE1BQU07WUFDUixLQUFLLFdBQVcsQ0FBQyxLQUFLO2dCQUNwQixNQUFNO2dCQUNOLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxtQkFBQSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBZ0IsQ0FBQyxDQUFDLFVBQVUsQ0FBQztnQkFDdEUsR0FBRyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDckMsTUFBTTtZQUNSLEtBQUssV0FBVyxDQUFDLFlBQVk7Z0JBQzNCLEtBQUs7Z0JBQ0wsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLG1CQUFBLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUF1QixDQUFDLENBQUMsVUFBVSxDQUFDO2dCQUM3RSxHQUFHLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNyQyxNQUFNO1lBQ1IsS0FBSyxXQUFXLENBQUMsU0FBUztnQkFDeEIsS0FBSztnQkFDTCxxRUFBcUU7Z0JBQ3JFLEdBQUcsR0FBRyxJQUFJLENBQUMsc0JBQXNCLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ3pDLE1BQU07WUFDUjtnQkFDRSxHQUFHLEdBQUcsS0FBSyxDQUFDO1NBQ2Y7UUFFRCxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7O2dCQTFmRixTQUFTLFNBQUM7b0JBQ1QsUUFBUSxFQUFFLHVCQUF1QjtvQkFDakMsMklBQWlEOztpQkFFbEQ7Ozs7Z0JBUlEscUJBQXFCO2dCQUNyQixtQkFBbUI7Z0JBSE8sUUFBUTs7OzRCQWlDeEMsS0FBSzsrQkF5QkwsS0FBSzs7SUF1Y1IsZ0NBQUM7Q0FBQSxBQTNmRCxJQTJmQztTQXRmWSx5QkFBeUI7Ozs7OztJQUdwQywrQ0FBbUM7Ozs7O0lBRW5DLG1EQUF1Qjs7Ozs7SUFFdkIsNkNBQXNCOzs7OztJQUV0Qiw2Q0FBeUI7Ozs7O0lBQ3pCLDZDQUF5Qjs7Ozs7SUFDekIsOENBQTJCOzs7OztJQUMzQiwrQ0FBNkI7Ozs7O0lBRTdCLGlEQUEwQjs7Ozs7SUFFMUIsMkNBQW9COzs7OztJQUVwQiwrQ0FBbUI7O0lBRW5CLHlDQUFVOzs7OztJQVdWLG9EQUFnQzs7Ozs7SUFFaEMsNkNBQXVCOzs7OztJQUV2Qiw0Q0FBc0I7Ozs7O0lBRXRCLCtDQUE0Qjs7Ozs7O0lBUTVCLG1EQUFxQjs7SUFFckIsaURBQTRCOzs7OztJQUU1QixrREFBc0I7Ozs7O0lBRXRCLGtEQUEyQjs7Ozs7SUFFekIsNkNBQXVDOzs7OztJQUN2QyxpREFBeUM7Ozs7O0lBQ3pDLDZDQUEwQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgSW5qZWN0b3IsIE9uRGVzdHJveSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBRdWVyeUNvbmRpdGlvbiwgQ29udHJvbFR5cGUsIFRleHRWYWx1ZSwgRHJvcERvd25MaXN0Q29udHJvbCwgSW5wdXRHcm91cFZhbHVlLCBTbWFydEhlbHBWYWx1ZSwgTnVtYmVyUmFuZ2VWYWx1ZSwgUmFkaW9Db250cm9sLCBDaGVja0JveENvbnRyb2wsIENoZWNrQm94VmFsdWUgfSBmcm9tICdAZmFycmlzL2NvbXBvbmVudC1xdWVyeWNvbmRpdGlvbic7XHJcbmltcG9ydCB7IERhdGVUaW1lSGVscGVyU2VydmljZSB9IGZyb20gJ0BmYXJyaXMvdWktY29tbW9uL2RhdGUnO1xyXG5pbXBvcnQgeyBOdW1iZXJIZWxwZXJTZXJ2aWNlIH0gZnJvbSAnQGZhcnJpcy91aS1jb21tb24vbnVtYmVyJztcclxuaW1wb3J0IHsgTG9jYWxlU2VydmljZSB9IGZyb20gJ0BmYXJyaXMvdWktbG9jYWxlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnbGliLXN1bW1hcnktY29uZGl0aW9uJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vc3VtbWFyeS1jb25kaXRpb24uY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL3N1bW1hcnktY29uZGl0aW9uLmNvbXBvbmVudC5jc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgU3VtbWFyeUNvbmRpdGlvbkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblxyXG5cclxuICBwcml2YXRlIF9jb25kaXRpb246IFF1ZXJ5Q29uZGl0aW9uO1xyXG4gIC8vIOW9k+WJjWNvbnRyb2xUeXBlXHJcbiAgcHJpdmF0ZSBfY29uZGl0aW9uVHlwZTtcclxuICAvLyDliIbpmpTnrKZcclxuICBwcml2YXRlIF9zcGxpdGVyID0gJyc7XHJcbiAgLy8g5piv5ZCm5Yy66Ze0XHJcbiAgcHJpdmF0ZSBfaXNSYW5nZSA9IGZhbHNlO1xyXG4gIHByaXZhdGUgc2hvd1RpbWUgPSBmYWxzZTtcclxuICBwcml2YXRlIHRleHRGaWVsZCA9ICduYW1lJztcclxuICBwcml2YXRlIHZhbHVlRmllbGQgPSAndmFsdWUnO1xyXG4gIC8vIOS7juacjeWKoeWZqOerr+WPluWAvOaYr+agvOW8j+WMluWQjueahFxyXG4gIHByaXZhdGUgcmV0dXJuRm9ybWF0ID0gJyc7XHJcbiAgLy8g6ZyA6KaB6L2s5YyW57G75Z6L5qC85byP55qE6KGo6L6+5byPXHJcbiAgcHJpdmF0ZSBmb3JtYXQ6IGFueTtcclxuICAvLyDovazmjaLnsbvlnovnlKjliLDnmoTmlbDmja5cclxuICBwcml2YXRlIGRhdGFTb3VyY2U7XHJcbiAgLy8g5paH5pys5pi+56S6XHJcbiAgdGV4dCA9IFwiXCI7XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgc2V0IGNvbmRpdGlvbihxQ29uZGl0aW9uKSB7XHJcbiAgICB0aGlzLl9jb25kaXRpb249cUNvbmRpdGlvbjtcclxuICAgIHRoaXMuZm9ybWF0Q29uZGl0aW9uKCk7XHJcbiAgfVxyXG4gIGdldCBjb25kaXRpb24oKTogUXVlcnlDb25kaXRpb24ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NvbmRpdGlvbjtcclxuICB9O1xyXG4gIC8vIOWkmuivreiogFxyXG4gIHByaXZhdGUgY3VycmVudExhbmd1YWdlOiBzdHJpbmc7XHJcbiAgLy8g5Y2D5YiG5L2N56ym5Y+3XHJcbiAgcHJpdmF0ZSB0aG91c2FuZCA9ICcsJztcclxuICAvLyDlsI/mlbDngrnlpITnrKblj7dcclxuICBwcml2YXRlIGRlY2ltYWwgPSAnLic7XHJcbiAgLy8g6LSn5biB56ym5Y+35Y+K5YC85bGV546w5b2i5byPXHJcbiAgcHJpdmF0ZSBleHByZXNzaW9uID0gJyVzJXYnO1xyXG5cclxuICAvLyBmb3JtQ29udHJvbOaYvuekuueahOaWh+acrFxyXG4gIC8qKlxyXG4gICAqIOWbvemZheWMluexu+Wei1xyXG4gICBcclxuICBASW5wdXQoKSBsb2NhbGl6YXRpb25UeXBlOiBzdHJpbmc7Ki9cclxuICAvLyDotKfluIHnrKblj7fvvIzpu5jorqTmmK9STUJcclxuICBjdXJyZW5jeVN5bWJvbCA9ICfvv6UnO1xyXG4gIC8vIOWNgei/m+WItuWJjemdouWhq+WFheeahOespuWPt1xyXG4gIEBJbnB1dCgpIGZpbGxlZFN5bWJvbCA9ICcwJztcclxuICAvL+aVsOWAvOagvOW8j+WPguaVsFxyXG4gIHByaXZhdGUgbnVtYmVyT3B0aW9ucztcclxuXHJcbiAgcHJpdmF0ZSBsb2NhbGVTZXJ2aWNlOiBhbnk7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIGR0SGVscGVyOiBEYXRlVGltZUhlbHBlclNlcnZpY2UsXHJcbiAgICBwcml2YXRlIG51bWJlckhlbHBlcjogTnVtYmVySGVscGVyU2VydmljZSxcclxuICAgIHByaXZhdGUgaW5qZWN0b3I6IEluamVjdG9yXHJcbiAgKSB7XHJcbiAgICB0aGlzLmxvY2FsZVNlcnZpY2UgPSB0aGlzLmluamVjdG9yLmdldChMb2NhbGVTZXJ2aWNlKTtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG5cclxuICB9XHJcblxyXG4gIGZvcm1hdENvbmRpdGlvbigpIHtcclxuICAgIGxldCBxQ29uZGl0aW9uID0gdGhpcy5jb25kaXRpb247XHJcbiAgICBpZiAocUNvbmRpdGlvbikge1xyXG4gICAgICB0aGlzLl9jb25kaXRpb25UeXBlID0gcUNvbmRpdGlvbi5jb250cm9sLmdldENvbnRyb2xUeXBlKCk7XHJcbiAgICAgIGxldCB0ZXh0VmFsdWVPYmo7XHJcbiAgICAgIGxldCB0ZXh0T3JpZ2luYWxWYWx1ZSA9IHFDb25kaXRpb24udmFsdWUuZ2V0T3JpZ2luYWxWYWx1ZSgpO1xyXG4gICAgICBsZXQgc3RhcnRWYWx1ZTtcclxuICAgICAgbGV0IGVuZFZhbHVlXHJcbiAgICAgIHN3aXRjaCAodGhpcy5fY29uZGl0aW9uVHlwZSkge1xyXG4gICAgICAgIGNhc2UgQ29udHJvbFR5cGUuVGV4dDpcclxuICAgICAgICAgIC8v5paH5pysXHJcbiAgICAgICAgICB0ZXh0VmFsdWVPYmogPSBxQ29uZGl0aW9uLnZhbHVlIGFzIFRleHRWYWx1ZTtcclxuICAgICAgICAgIHRleHRPcmlnaW5hbFZhbHVlID0gdGV4dFZhbHVlT2JqLnZhbHVlICYmIHRleHRWYWx1ZU9iai52YWx1ZS50cmltKCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIENvbnRyb2xUeXBlLlNpbmdsZU51bWJlcjpcclxuICAgICAgICAgIC8vIOaVsOWAvFxyXG4gICAgICAgICAgdGhpcy5udW1iZXJPcHRpb25zID0geyBwcmVjaXNpb246IHFDb25kaXRpb24uY29udHJvbFsncHJlY2lzaW9uJ10sdHlwZTonbnVtYmVyJyB9XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIENvbnRyb2xUeXBlLk51bWJlclJhbmdlOlxyXG4gICAgICAgICAgLy8g5pWw5YC85Yy66Ze0XHJcbiAgICAgICAgICB0aGlzLl9pc1JhbmdlID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMuX3NwbGl0ZXIgPSAnfic7XHJcbiAgICAgICAgICB0aGlzLm51bWJlck9wdGlvbnMgPSB7IHByZWNpc2lvbjogcUNvbmRpdGlvbi5jb250cm9sWydwcmVjaXNpb24nXSx0eXBlOidudW1iZXInIH07XHJcbiAgICAgICAgICBzdGFydFZhbHVlID0gcUNvbmRpdGlvbi52YWx1ZVsnc3RhcnRWYWx1ZSddID8gcUNvbmRpdGlvbi52YWx1ZVsnc3RhcnRWYWx1ZSddIDogJyc7XHJcbiAgICAgICAgICBlbmRWYWx1ZSA9IHFDb25kaXRpb24udmFsdWVbJ2VuZFZhbHVlJ10gPyBxQ29uZGl0aW9uLnZhbHVlWydlbmRWYWx1ZSddIDogJyc7XHJcbiAgICAgICAgICB0ZXh0T3JpZ2luYWxWYWx1ZSA9IFtzdGFydFZhbHVlLCBlbmRWYWx1ZV0uam9pbih0aGlzLl9zcGxpdGVyKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQ29udHJvbFR5cGUuU2luZ2xlRGF0ZTpcclxuICAgICAgICAgIC8v5Y2V5Liq5pel5pyfXHJcbiAgICAgICAgICB0aGlzLnJldHVybkZvcm1hdCA9ICBxQ29uZGl0aW9uLmNvbnRyb2wmJnFDb25kaXRpb24uY29udHJvbFsncmV0dXJuRm9ybWF0J10/cUNvbmRpdGlvbi5jb250cm9sWydyZXR1cm5Gb3JtYXQnXTpcInl5eXktTU0tZGRcIjtcclxuICAgICAgICAgIHRoaXMuZm9ybWF0ID0gIHFDb25kaXRpb24uY29udHJvbCYmcUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXT9xQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddOlwieXl5eS1NTS1kZFwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgQ29udHJvbFR5cGUuRGF0ZVJhbmdlOlxyXG4gICAgICAgICAgLy/ml6XmnJ/ljLrpl7RcclxuICAgICAgICAgIHRoaXMuX2lzUmFuZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgdGhpcy5fc3BsaXRlciA9ICd+JztcclxuICAgICAgICAgIHRoaXMucmV0dXJuRm9ybWF0ID0gcUNvbmRpdGlvbi5jb250cm9sJiZxQ29uZGl0aW9uLmNvbnRyb2xbJ3JldHVybkZvcm1hdCddP3FDb25kaXRpb24uY29udHJvbFsncmV0dXJuRm9ybWF0J106XCJ5eXl5LU1NLWRkXCI7XHJcbiAgICAgICAgICB0aGlzLmZvcm1hdCA9ICBxQ29uZGl0aW9uLmNvbnRyb2wmJnFDb25kaXRpb24uY29udHJvbFsnZm9ybWF0J10/cUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXTpcInl5eXktTU0tZGRcIjtcclxuXHJcbiAgICAgICAgICBzdGFydFZhbHVlID0gcUNvbmRpdGlvbi52YWx1ZVsnc3RhcnRUaW1lJ10gPyBxQ29uZGl0aW9uLnZhbHVlWydzdGFydFRpbWUnXSA6ICcnO1xyXG4gICAgICAgICAgZW5kVmFsdWUgPSBxQ29uZGl0aW9uLnZhbHVlWydlbmRUaW1lJ10gPyBxQ29uZGl0aW9uLnZhbHVlWydlbmRUaW1lJ10gOiAnJztcclxuICAgICAgICAgIHRleHRPcmlnaW5hbFZhbHVlID0gW3N0YXJ0VmFsdWUsIGVuZFZhbHVlXS5qb2luKHRoaXMuX3NwbGl0ZXIpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgQ29udHJvbFR5cGUuU2luZ2xlWWVhcjpcclxuICAgICAgICAgIC8vIOWPquacieW5tFxyXG4gICAgICAgICAgdGhpcy5yZXR1cm5Gb3JtYXQgPSBxQ29uZGl0aW9uLmNvbnRyb2wmJnFDb25kaXRpb24uY29udHJvbFsncmV0dXJuRm9ybWF0J10/cUNvbmRpdGlvbi5jb250cm9sWydyZXR1cm5Gb3JtYXQnXTpcInl5eXlcIjtcclxuICAgICAgICAgIHRoaXMuZm9ybWF0ID0gIHFDb25kaXRpb24uY29udHJvbCYmcUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXT9xQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddOlwieXl5eVwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBDb250cm9sVHlwZS5TaW5nbGVNb250aDpcclxuICAgICAgICAgIC8vIOWPquacieaciFxyXG4gICAgICAgICAgdGhpcy5yZXR1cm5Gb3JtYXQgPSBxQ29uZGl0aW9uLmNvbnRyb2wmJnFDb25kaXRpb24uY29udHJvbFsncmV0dXJuRm9ybWF0J10/cUNvbmRpdGlvbi5jb250cm9sWydyZXR1cm5Gb3JtYXQnXTpcInl5eXktTU1cIjtcclxuICAgICAgICAgIHRoaXMuZm9ybWF0ID0gIHFDb25kaXRpb24uY29udHJvbCYmcUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXT9xQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddOlwieXl5eS1NTVwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBDb250cm9sVHlwZS5Nb250aFJhbmdlOlxyXG4gICAgICAgICAgLy8g5pyI6IyD5Zu0XHJcbiAgICAgICAgICB0aGlzLl9pc1JhbmdlID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMuX3NwbGl0ZXIgPSAnfic7XHJcbiAgICAgICAgICB0aGlzLnJldHVybkZvcm1hdCA9cUNvbmRpdGlvbi5jb250cm9sJiZxQ29uZGl0aW9uLmNvbnRyb2xbJ3JldHVybkZvcm1hdCddP3FDb25kaXRpb24uY29udHJvbFsncmV0dXJuRm9ybWF0J106XCJ5eXl5LU1NXCI7XHJcbiAgICAgICAgICB0aGlzLmZvcm1hdCA9ICBxQ29uZGl0aW9uLmNvbnRyb2wmJnFDb25kaXRpb24uY29udHJvbFsnZm9ybWF0J10/cUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXTpcInl5eXktTU1cIjtcclxuICAgICAgICAgIHN0YXJ0VmFsdWUgPSBxQ29uZGl0aW9uLnZhbHVlWydzdGFydFRpbWUnXSA/IHFDb25kaXRpb24udmFsdWVbJ3N0YXJ0VGltZSddIDogJyc7XHJcbiAgICAgICAgICBlbmRWYWx1ZSA9IHFDb25kaXRpb24udmFsdWVbJ2VuZFRpbWUnXSA/IHFDb25kaXRpb24udmFsdWVbJ2VuZFRpbWUnXSA6ICcnO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBDb250cm9sVHlwZS5TaW5nbGVEYXRlVGltZTpcclxuICAgICAgICAgIC8vIOaXtumXtFxyXG4gICAgICAgICAgdGhpcy5zaG93VGltZSA9IHRydWU7XHJcbiAgICAgICAgICB0aGlzLnJldHVybkZvcm1hdD1xQ29uZGl0aW9uLmNvbnRyb2xbJ3JldHVybkZvcm1hdCddP3FDb25kaXRpb24uY29udHJvbFsncmV0dXJuRm9ybWF0J106dGhpcy5yZXR1cm5Gb3JtYXQ7XHJcbiAgICAgICAgICB0aGlzLmZvcm1hdCA9J3l5eXktTU0tZGQgSEg6bW06c3MnO1xyXG4gICAgICAgICAgaWYocUNvbmRpdGlvbi5jb250cm9sKXtcclxuICAgICAgICAgICAgaWYocUNvbmRpdGlvbi5jb250cm9sWydlbmFibGVDdXN0b21Gb3JtYXQnXSl7XHJcbiAgICAgICAgICAgICAgdGhpcy5mb3JtYXQ9cUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXT9xQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddOnRoaXMucmV0dXJuRm9ybWF0O1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICB0aGlzLmZvcm1hdD1xQ29uZGl0aW9uLmNvbnRyb2wmJnFDb25kaXRpb24uY29udHJvbFsnZm9ybWF0J10/cUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXSsnIEhIOm1tOnNzJzp0aGlzLnJldHVybkZvcm1hdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSAgICAgICAgIFxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBDb250cm9sVHlwZS5EYXRlVGltZVJhbmdlOlxyXG4gICAgICAgICAgLy8g5pe26Ze05Yy66Ze0XHJcbiAgICAgICAgICB0aGlzLnNob3dUaW1lID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMuX2lzUmFuZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgdGhpcy5fc3BsaXRlciA9ICd+JztcclxuICAgICAgICAgIHRoaXMucmV0dXJuRm9ybWF0PXFDb25kaXRpb24uY29udHJvbFsncmV0dXJuRm9ybWF0J10/cUNvbmRpdGlvbi5jb250cm9sWydyZXR1cm5Gb3JtYXQnXTp0aGlzLnJldHVybkZvcm1hdDtcclxuICAgICAgICAgIHRoaXMuZm9ybWF0ID0neXl5eS1NTS1kZCBISDptbTpzcyc7XHJcbiAgICAgICAgICBpZihxQ29uZGl0aW9uLmNvbnRyb2wpe1xyXG4gICAgICAgICAgICBpZihxQ29uZGl0aW9uLmNvbnRyb2xbJ2VuYWJsZUN1c3RvbUZvcm1hdCddKXtcclxuICAgICAgICAgICAgICB0aGlzLmZvcm1hdD1xQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddP3FDb25kaXRpb24uY29udHJvbFsnZm9ybWF0J106dGhpcy5yZXR1cm5Gb3JtYXQ7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgIHRoaXMuZm9ybWF0PXFDb25kaXRpb24uY29udHJvbCYmcUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXT9xQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddKycgSEg6bW06c3MnOnRoaXMucmV0dXJuRm9ybWF0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzdGFydFZhbHVlID0gcUNvbmRpdGlvbi52YWx1ZVsnc3RhcnRUaW1lJ10gPyBxQ29uZGl0aW9uLnZhbHVlWydzdGFydFRpbWUnXSA6ICcnO1xyXG4gICAgICAgICAgZW5kVmFsdWUgPSBxQ29uZGl0aW9uLnZhbHVlWydlbmRUaW1lJ10gPyBxQ29uZGl0aW9uLnZhbHVlWydlbmRUaW1lJ10gOiAnJztcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIENvbnRyb2xUeXBlLkJvb2xDaGVjazpcclxuICAgICAgICAgIC8vIOW4g+WwlOWAvC3ljZXkuKrlgLxcclxuICAgICAgICAgIGxldCBjaGVja1ZhbHVlPSAocUNvbmRpdGlvbi52YWx1ZSBhcyBDaGVja0JveFZhbHVlKS52YWx1ZTtcclxuICAgICAgICAgIHRleHRPcmlnaW5hbFZhbHVlID1jaGVja1ZhbHVlLmxlbmd0aD4wP2NoZWNrVmFsdWVbJzAnXTpudWxsO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBDb250cm9sVHlwZS5Ecm9wRG93bkxpc3Q6XHJcbiAgICAgICAgICAvLyDkuIvmi4lcclxuICAgICAgICAgIHRoaXMuX3NwbGl0ZXIgPSAnLCc7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIENvbnRyb2xUeXBlLlJhZGlvOlxyXG4gICAgICAgICAgLy8g5Y2V6YCJ57uEXHJcbiAgICAgICAgICB0aGlzLl9zcGxpdGVyID0gJywnO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBDb250cm9sVHlwZS5JbnB1dEdyb3VwOlxyXG4gICAgICAgICAgLy8gaW5wdXRncm91cFxyXG4gICAgICAgICAgdGV4dFZhbHVlT2JqID0gcUNvbmRpdGlvbi52YWx1ZSBhcyBJbnB1dEdyb3VwVmFsdWU7XHJcbiAgICAgICAgICB0ZXh0T3JpZ2luYWxWYWx1ZSA9IHRleHRWYWx1ZU9iai50ZXh0VmFsdWUgJiYgdGV4dFZhbHVlT2JqLnRleHRWYWx1ZS50cmltKCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIENvbnRyb2xUeXBlLlNtYXJ0SGVscDpcclxuICAgICAgICAgIC8vIOW4ruWKqVxyXG4gICAgICAgICAgdGV4dFZhbHVlT2JqID0gcUNvbmRpdGlvbi52YWx1ZSBhcyBTbWFydEhlbHBWYWx1ZTtcclxuICAgICAgICAgIHRleHRPcmlnaW5hbFZhbHVlID0gdGV4dFZhbHVlT2JqLnRleHRWYWx1ZSAmJiB0ZXh0VmFsdWVPYmoudGV4dFZhbHVlLnRyaW0oKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICB0ZXh0T3JpZ2luYWxWYWx1ZSA9IHFDb25kaXRpb24udmFsdWUuZ2V0T3JpZ2luYWxWYWx1ZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMudGV4dCA9IHRoaXMuZm9ybWF0VmFsdWUodGV4dE9yaWdpbmFsVmFsdWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy50ZXh0ID0gJyc7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOWkhOeQhuWkmuivreiogO+8jOW+heWumlxyXG4gICAqL1xyXG4gIGZvcm1hdExhbmcodmFsdWU6IGFueSkge1xyXG4gICAgcmV0dXJuIHZhbHVlICYmIHZhbHVlW3RoaXMuY3VycmVudExhbmd1YWdlXSA/IHZhbHVlW3RoaXMuY3VycmVudExhbmd1YWdlXSA6ICcnO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBD6LSn5biBXHJcbiAgICogROWNgei/m+WItlxyXG4gICAqIEbmta7ngrnmlbBcclxuICAgKiBO5pWw5a2X77yM5bim5Y2D5YiG5L2NXHJcbiAgICogUOeZvuWIhuavlFxyXG4gICAqL1xyXG4gIGdldEZvcm1hdE51bWJlclZhbHVlKHZhbHVlOiBhbnkpIHtcclxuICAgIGlmICghdGhpcy5mb3JtYXQgJiYgIXRoaXMubnVtYmVyT3B0aW9ucykge1xyXG4gICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLm51bWJlck9wdGlvbnMgJiYgdGhpcy5udW1iZXJPcHRpb25zLnR5cGUgJiYgdGhpcy5udW1iZXJPcHRpb25zLnR5cGUgPT0gJ251bWJlcicpIHtcclxuICAgICAgaWYgKHRoaXMubnVtYmVyT3B0aW9ucy5mb3JtYXR0ZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5udW1iZXJPcHRpb25zLmZvcm1hdHRlcih2YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKHRoaXMubnVtYmVyT3B0aW9ucy51c2VUaG91c2FuZHMpIHtcclxuICAgICAgICAgIC8vIOiuvue9ruS6huWNg+WIhuS9jVxyXG4gICAgICAgICAgaWYgKHRoaXMubnVtYmVyT3B0aW9ucy5wcmVjaXNpb24gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0ID0gJ24nICsgdGhpcy5udW1iZXJPcHRpb25zLnByZWNpc2lvbjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmZvcm1hdCA9ICduJztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAvLyDmsqHmnInorr7nva7ljYPliIbkvY1cclxuICAgICAgICAgIGlmICh0aGlzLm51bWJlck9wdGlvbnMucHJlY2lzaW9uICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmZvcm1hdCA9ICdmJyArIHRoaXMubnVtYmVyT3B0aW9ucy5wcmVjaXNpb247XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8g5rKh5pyJ6K6+572u57K+5bqm77yM5rKh5pyJ6K6+572u5Y2D5YiG5L2NXHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfWVsc2V7XHJcbiAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZmlyc3RMZXR0ZXIgPSB0aGlzLmN1cnJlbmN5VG9VcHBlckNhc2UodGhpcy5mb3JtYXQuc3Vic3RyaW5nKDAsIDEpKTtcclxuICAgIGNvbnN0IHByZWNpc2lvbiA9IE51bWJlcih0aGlzLmZvcm1hdC5zdWJzdHJpbmcoMSkpO1xyXG4gICAgbGV0IGNvbmZpZyA9IHt9O1xyXG4gICAgbGV0IHJlc3VsdDogYW55O1xyXG4gICAgaWYgKCEvQ3xEfEZ8TnxQL2cudGVzdChmaXJzdExldHRlcikpIHtcclxuICAgICAgY29uc29sZS53YXJuKGDkuI3mlK/mjIFmb3JtYXTkuLogJHt0aGlzLmZvcm1hdH0g57G75Z6L55qE5pWw5a2X5qC85byP5YyWYCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnRob3VzYW5kKSB7XHJcbiAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCB7IHRob3VzYW5kOiB0aGlzLnRob3VzYW5kIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuZGVjaW1hbCkge1xyXG4gICAgICBPYmplY3QuYXNzaWduKGNvbmZpZywgeyBkZWNpbWFsOiB0aGlzLmRlY2ltYWwgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5leHByZXNzaW9uKSB7XHJcbiAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCB7IGZvcm1hdDogdGhpcy5leHByZXNzaW9uIH0pO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoIChmaXJzdExldHRlcikge1xyXG4gICAgICBjYXNlICdDJzpcclxuICAgICAgICBPYmplY3QuYXNzaWduKGNvbmZpZywgeyBwcmVmaXg6IHRoaXMuY3VycmVuY3lTeW1ib2wsIHByZWNpc2lvbiB9KTtcclxuICAgICAgICByZXN1bHQgPSB0aGlzLm51bWJlckhlbHBlci5mb3JtYXRNb25leSh2YWx1ZSwgY29uZmlnKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnRCc6XHJcbiAgICAgICAgcmVzdWx0ID0gdGhpcy50b0RlY2ltYWwodmFsdWUsIHByZWNpc2lvbik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ0YnOlxyXG4gICAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCB7IHByZWZpeDogJycsIHRob3VzYW5kOiAnJywgcHJlY2lzaW9uIH0pO1xyXG4gICAgICAgIHJlc3VsdCA9IHRoaXMubnVtYmVySGVscGVyLmZvcm1hdE1vbmV5KHZhbHVlLCBjb25maWcpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdOJzpcclxuICAgICAgICBPYmplY3QuYXNzaWduKGNvbmZpZywgeyBwcmVmaXg6ICcnLCBwcmVjaXNpb24gfSk7XHJcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5udW1iZXJIZWxwZXIuZm9ybWF0TW9uZXkodmFsdWUsIGNvbmZpZyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ1AnOlxyXG4gICAgICAgIHJlc3VsdCA9IHRoaXMudG9QZXJjZW50KHZhbHVlLCBwcmVjaXNpb24pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHZhbHVlIOi9rOaNouaIkOWNgei/m+WItueahOaVsOWtl1xyXG4gICAqIEBwYXJhbSBwcmVjaXNpb24g5Y2B6L+b5Yi25pWw5a2X55qE6ZW/5bqmXHJcbiAgICovXHJcbiAgdG9EZWNpbWFsKHZhbHVlOiBhbnksIHByZWNpc2lvbjogYW55KSB7XHJcbiAgICBpZiAodmFsdWUudG9TdHJpbmcoKS5pbmRleE9mKCcuJykgPiAtMSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ+WNgei/m+WItui9rOaNouS7hemZkOaVtOWei+exu+WeiycpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKEFycmF5KHByZWNpc2lvbikuam9pbih0aGlzLmZpbGxlZFN5bWJvbCkgKyB2YWx1ZSkuc2xpY2UoLXByZWNpc2lvbik7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB2YWx1ZSDovazmjaLmiJDnmb7liIbmlbDnmoTmlbDlrZdcclxuICAgKiBAcGFyYW0gZGVjaW1hbCDlsI/mlbDngrnkv53nlZnlh6DkvY1cclxuICAgKi9cclxuICB0b1BlcmNlbnQodmFsdWU6IGFueSwgcHJlY2lzaW9uOiBhbnkpIHtcclxuICAgIHJldHVybiBOdW1iZXIodmFsdWUgKiAxMDApLnRvRml4ZWQoTnVtYmVyKHByZWNpc2lvbikpICsgJyUnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5bCG6LSn5biB56ym5Y+36aaW5a2X5q+N6L2s5o2i5oiQ5aSn5YaZXHJcbiAgICovXHJcbiAgY3VycmVuY3lUb1VwcGVyQ2FzZSh2YWx1ZTogYW55KSB7XHJcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvW2Etel0rL2csICh3b3JkOiBhbnkpID0+IHtcclxuICAgICAgcmV0dXJuIHdvcmQudG9VcHBlckNhc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5aSE55CG5bm077yMWT0+eSwgRD0+ZFxyXG4gICAqL1xyXG4gIGRhdGVUb1VwcGVyQ2FzZSh2YWx1ZTogYW55KSB7XHJcbiAgICBsZXQgbmV3Rm9ybWF0OiBhbnk7XHJcbiAgICBpZiAoL1kvZy50ZXN0KHZhbHVlKSA9PT0gdHJ1ZSkge1xyXG4gICAgICBuZXdGb3JtYXQgPSB2YWx1ZS5yZXBsYWNlKC9ZL2csICd5Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuZXdGb3JtYXQgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIGlmICgvRC9nLnRlc3QobmV3Rm9ybWF0KSA9PT0gdHJ1ZSkge1xyXG4gICAgICBuZXdGb3JtYXQgPSBuZXdGb3JtYXQucmVwbGFjZSgvRC9nLCAnZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXdGb3JtYXQ7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIOaemuS4vuexu+Wei+WkhOeQhlxyXG4gICAqL1xyXG4gIGdldEZvcm1hdEVudW1WYWx1ZSh2YWx1ZTogYW55KSB7XHJcbiAgICBpZiAodmFsdWUgPT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSAnJykge1xyXG4gICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5kYXRhU291cmNlICYmIHRoaXMuZGF0YVNvdXJjZS5sZW5ndGgpIHtcclxuICAgICAgLy8g5Y+v6IO95a2Y5Zyo5aSa6YCJ5p6a5Li+77yM5L2c5Li65YiG6ZqU56ymICBcclxuICAgICAgLy8gbGV0IGN1clZhbHMgPSAoJycgKyB2YWx1ZSkuc3BsaXQoJywnKTtcclxuICAgICAgbGV0IGN1clZhbHMgPSAoJycgKyB2YWx1ZSkuc3BsaXQodGhpcy5fc3BsaXRlcik7XHJcbiAgICAgIGxldCBuYW1lUmVzdWx0ID0gW107XHJcbiAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgY3VyVmFscy5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgIGxldCBmaW5kT2JqID0gdGhpcy5kYXRhU291cmNlLmZpbmQoaXRlbSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gaXRlbVt0aGlzLnZhbHVlRmllbGRdID09IGN1clZhbHNba107XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGZpbmRPYmopIHtcclxuICAgICAgICAgIG5hbWVSZXN1bHQucHVzaChmaW5kT2JqW3RoaXMudGV4dEZpZWxkXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgbmFtZVJlc3VsdC5wdXNoKGN1clZhbHNba10pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAobmFtZVJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgLy8gcmV0dXJuIG5hbWVSZXN1bHQuam9pbignLCcpO1xyXG4gICAgICAgIHJldHVybiBuYW1lUmVzdWx0LmpvaW4odGhpcy5fc3BsaXRlcilcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gJyc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIGJvb2xlYW7lgLzlpITnkIZcclxuICAgKi9cclxuICBnZXRGb3JtYXRDaGVja0JveFZhbHVlKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICBpZiAodmFsdWUgPT09IHRydWUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMubG9jYWxlU2VydmljZS5nZXRWYWx1ZSgndGV4dC55ZXMnKTtcclxuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICByZXR1cm4gdGhpcy5sb2NhbGVTZXJ2aWNlLmdldFZhbHVlKCd0ZXh0Lm5vJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qXHJcbiAgKiDml6XmnJ/moLzlvI/ljJZcclxuICAqL1xyXG4gIGRhdGVmb3JtYXQodmFsdWUpIHtcclxuICAgIGxldCBzdHI7XHJcbiAgICBpZiAoIXRoaXMuZm9ybWF0KSB7XHJcbiAgICAgIHRoaXMuZm9ybWF0ID0gJ1lZWVktTU0tZGQnO1xyXG4gICAgfVxyXG4gICAgLy8g5b2T5YmN5YC85piv5bey57uP5qC85byP5YyW5ZCO55qE5pel5pyf5a2X56ym5LiyXHJcbiAgICBpZiAodGhpcy5yZXR1cm5Gb3JtYXQgICYmIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xyXG4gICAgICB2YWx1ZSA9IHRoaXMuZ2V0RGF0ZUZyb21Gb3JtYXRlZFN0cmluZyh2YWx1ZSwgdGhpcy5yZXR1cm5Gb3JtYXQpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuZm9ybWF0ID09PSAnaGg6bW06c3MnIHx8IHRoaXMuZm9ybWF0ID09PSAnSEg6bW06c3MnKSB7XHJcbiAgICAgIC8vIOagvOW8j+WMluaXtumXtCAg5Li05pe25aSE55CGXHJcbiAgICAgIHN0ciA9IHZhbHVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyDmoLzlvI/ljJbml6XmnJ9cclxuICAgICAgICBzdHIgPSB0aGlzLmR0SGVscGVyLmZvcm1hdFRvKHZhbHVlLCB0aGlzLmRhdGVUb1VwcGVyQ2FzZSh0aGlzLmZvcm1hdCkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0cjtcclxuICB9XHJcbiAgcHJpdmF0ZSBnZXREYXRlRnJvbUZvcm1hdGVkU3RyaW5nKGRhdGVTdHJpbmcsIGZvcm1hdCkge1xyXG4gICAgdmFyIHJlc3VsdCA9IHsgeWVhcjogMCwgbW9udGg6IDAsIGRheTogMCwgaG91cjogMCwgbWluaXRlOiAwLCBzZWNvbmQ6IDAgfTsvL+W9k+eEtui/memHjOWPr+S7pem7mOiupDE5NzAtMS0x5pelXHJcbiAgICBpZiAoZGF0ZVN0cmluZykge1xyXG4gICAgICBmb3JtYXQucmVwbGFjZSgveXs0fXxZezR9fE0rfGQrfEQrfGgrfEgrfG0rfHMrL2csIGZ1bmN0aW9uIChtLCBhLCBiLCBjKSB7Ly/ov5nph4zlj6rlgZrkuoblubTmnIjml6UgIOWKoOaXtuWIhuenkuS5n+aYr+WPr+S7peeahFxyXG4gICAgICAgIGRhdGVTdHJpbmcuc3Vic3RyaW5nKGEpLnJlcGxhY2UoL1xcZCsvLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgIGlmKGQpe1xyXG4gICAgICAgICAgICAgIGMgPSBwYXJzZUludChkLnN1YnN0cigwLG0ubGVuZ3RoKSwgMTApOyBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICgveSsvaS50ZXN0KG0pICYmICFyZXN1bHQueWVhcikgcmVzdWx0LnllYXIgPSBjO1xyXG4gICAgICAgIGlmICgvTSsvLnRlc3QobSkgJiYgIXJlc3VsdC5tb250aCkgcmVzdWx0Lm1vbnRoID0gYztcclxuICAgICAgICBpZiAoL2QrL2kudGVzdChtKSAmJiAhcmVzdWx0LmRheSkgcmVzdWx0LmRheSA9IGM7XHJcbiAgICAgICAgaWYgKC9oKy9pLnRlc3QobSkgJiYgIXJlc3VsdC5ob3VyKSByZXN1bHQuaG91ciA9IGM7XHJcbiAgICAgICAgaWYgKC9tKy8udGVzdChtKSAmJiAhcmVzdWx0Lm1pbml0ZSkgcmVzdWx0Lm1pbml0ZSA9IGM7XHJcbiAgICAgICAgaWYgKC9zKy8udGVzdChtKSAmJiAhcmVzdWx0LnNlY29uZCkgcmVzdWx0LnNlY29uZCA9IGM7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVzdWx0LmRheT1yZXN1bHQuZGF5P3Jlc3VsdC5kYXk6MTtcclxuICAgIHJlc3VsdC5tb250aD1yZXN1bHQubW9udGg/cmVzdWx0Lm1vbnRoOjE7XHJcbiAgICB2YXIgcmVzdWx0RGF0ZSA9IG5ldyBEYXRlKHJlc3VsdC55ZWFyICsgJy8nICsgcmVzdWx0Lm1vbnRoICsgJy8nICsgcmVzdWx0LmRheSArICcgJyArIHJlc3VsdC5ob3VyICsgJzonICsgcmVzdWx0Lm1pbml0ZSArICc6JyArIHJlc3VsdC5zZWNvbmQpO1xyXG4gICAgcmV0dXJuIHJlc3VsdERhdGU7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiAoZGF0ZSwgZm10KSB7XHJcbiAgICB2YXIgbyA9IHtcclxuICAgICAgJ00rJzogZGF0ZS5nZXRNb250aCgpICsgMSwgLy/mnIjku71cclxuICAgICAgJ2QrJzogZGF0ZS5nZXREYXRlKCksIC8v5pelXHJcbiAgICAgICdoKyc6IGRhdGUuZ2V0SG91cnMoKSwgLy/lsI/ml7ZcclxuICAgICAgJ20rJzogZGF0ZS5nZXRNaW51dGVzKCksIC8v5YiGXHJcbiAgICAgICdzKyc6IGRhdGUuZ2V0U2Vjb25kcygpLCAvL+enklxyXG4gICAgICAncSsnOiBNYXRoLmZsb29yKChkYXRlLmdldE1vbnRoKCkgKyAzKSAvIDMpLCAvL+Wto+W6plxyXG4gICAgICAnUyc6IGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgLy/mr6vnp5JcclxuICAgIH07XHJcbiAgICBpZiAoIWZtdCkge1xyXG4gICAgICBmbXQgPSAneXl5eS1NTS1kZCBoaDptbTpzcyc7XHJcbiAgICB9XHJcbiAgICBpZiAoLyh5KykvLnRlc3QoZm10KSkge1xyXG4gICAgICBmbXQgPSBmbXQucmVwbGFjZShSZWdFeHAuJDEsIChkYXRlLmdldEZ1bGxZZWFyKCkgKyAnJykuc3Vic3RyKDQgLSBSZWdFeHAuJDEubGVuZ3RoKSk7XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBrIGluIG8pIHtcclxuICAgICAgaWYgKG5ldyBSZWdFeHAoJygnICsgayArICcpJykudGVzdChmbXQpKSB7XHJcbiAgICAgICAgZm10ID0gZm10LnJlcGxhY2UoUmVnRXhwLiQxLCAoUmVnRXhwLiQxLmxlbmd0aCA9PSAxKSA/IChvW2tdKSA6ICgoJzAwJyArIG9ba10pLnN1YnN0cigoJycgKyBvW2tdKS5sZW5ndGgpKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmbXQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmoLzlvI/ljJblpITnkIZcclxuICAgKi9cclxuICBmb3JtYXRWYWx1ZSh2YWx1ZTogYW55KSB7XHJcbiAgICBsZXQgc3RyOiBhbnk7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50TGFuZ3VhZ2UpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0TGFuZyh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICAvLyDmoIforrDnsbvlnotcclxuICAgIGlmICh0aGlzLl9jb25kaXRpb25UeXBlICE9PSBDb250cm9sVHlwZS5Cb29sQ2hlY2sgJiYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykpIHtcclxuICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoICh0aGlzLl9jb25kaXRpb25UeXBlKSB7XHJcbiAgICAgIGNhc2UgQ29udHJvbFR5cGUuVGV4dDpcclxuICAgICAgICBzdHIgPSB2YWx1ZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBDb250cm9sVHlwZS5EYXRlUmFuZ2U6XHJcbiAgICAgIGNhc2UgQ29udHJvbFR5cGUuTW9udGhSYW5nZTpcclxuICAgICAgY2FzZSBDb250cm9sVHlwZS5EYXRlVGltZVJhbmdlOlxyXG4gICAgICAgIGNvbnN0IGRhdGVWYWx1ZXMgPSB2YWx1ZS5zcGxpdCh0aGlzLl9zcGxpdGVyKTtcclxuICAgICAgICBsZXQgZGF0YVN0ciA9IFtdO1xyXG4gICAgICAgIGlmIChkYXRlVmFsdWVzICYmIGRhdGVWYWx1ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICBkYXRlVmFsdWVzLmZvckVhY2goZGF0ZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB2YWwgPSB0aGlzLmRhdGVmb3JtYXQoZGF0ZSk7XHJcbiAgICAgICAgICAgIGRhdGFTdHIucHVzaCh2YWwpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0ciA9IGRhdGFTdHIuam9pbih0aGlzLl9zcGxpdGVyKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBDb250cm9sVHlwZS5TaW5nbGVEYXRlOlxyXG4gICAgICBjYXNlIENvbnRyb2xUeXBlLlNpbmdsZURhdGVUaW1lOlxyXG4gICAgICBjYXNlIENvbnRyb2xUeXBlLlNpbmdsZU1vbnRoOlxyXG4gICAgICBjYXNlIENvbnRyb2xUeXBlLlNpbmdsZVllYXI6XHJcbiAgICAgICAgc3RyID0gdGhpcy5kYXRlZm9ybWF0KHZhbHVlKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBDb250cm9sVHlwZS5TaW5nbGVOdW1iZXI6XHJcbiAgICAgICAgLy8g5pWw5a2XXHJcbiAgICAgICAgc3RyID0gdGhpcy5nZXRGb3JtYXROdW1iZXJWYWx1ZSh2YWx1ZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgQ29udHJvbFR5cGUuTnVtYmVyUmFuZ2U6XHJcbiAgICAgICAgLy8g5pWw5a2XIOWMuumXtCAgICAgXHJcbiAgICAgICAgY29uc3QgbnVtYmVyVmFsdWVzID0gdmFsdWUuc3BsaXQodGhpcy5fc3BsaXRlcik7XHJcbiAgICAgICAgbGV0IHJlc3VsdFN0ciA9IFtdO1xyXG4gICAgICAgIGlmIChudW1iZXJWYWx1ZXMgJiYgbnVtYmVyVmFsdWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgbnVtYmVyVmFsdWVzLmZvckVhY2goZGF0ZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB2YWwgPSB0aGlzLmdldEZvcm1hdE51bWJlclZhbHVlKGRhdGUpO1xyXG4gICAgICAgICAgICByZXN1bHRTdHIucHVzaCh2YWwpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0ciA9IHJlc3VsdFN0ci5qb2luKHRoaXMuX3NwbGl0ZXIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIENvbnRyb2xUeXBlLlJhZGlvOlxyXG4gICAgICAgIC8vIOWNlemAiee7hFxyXG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZSA9ICh0aGlzLmNvbmRpdGlvbi5jb250cm9sIGFzIFJhZGlvQ29udHJvbCkuZW51bVZhbHVlcztcclxuICAgICAgICBzdHIgPSB0aGlzLmdldEZvcm1hdEVudW1WYWx1ZSh2YWx1ZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgQ29udHJvbFR5cGUuRHJvcERvd25MaXN0OlxyXG4gICAgICAgIC8vIOS4i+aLiVxyXG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZSA9ICh0aGlzLmNvbmRpdGlvbi5jb250cm9sIGFzIERyb3BEb3duTGlzdENvbnRyb2wpLmVudW1WYWx1ZXM7XHJcbiAgICAgICAgc3RyID0gdGhpcy5nZXRGb3JtYXRFbnVtVmFsdWUodmFsdWUpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIENvbnRyb2xUeXBlLkJvb2xDaGVjazpcclxuICAgICAgICAvLyDluIPlsJRcclxuICAgICAgICAvL3RoaXMuZGF0YVNvdXJjZSA9ICh0aGlzLmNvbmRpdGlvbi5jb250cm9sIGFzIENoZWNrQm94Q29udHJvbCkuZGF0YTtcclxuICAgICAgICBzdHIgPSB0aGlzLmdldEZvcm1hdENoZWNrQm94VmFsdWUodmFsdWUpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHN0ciA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzdHI7XHJcbiAgfVxyXG59XHJcbiJdfQ==