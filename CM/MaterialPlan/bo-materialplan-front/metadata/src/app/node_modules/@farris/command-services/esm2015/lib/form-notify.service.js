import { Injectable, Optional } from '@angular/core';
import { NotifyService } from '@farris/ui-notify';
import { LanguageService } from './languag.service';
/**
 * 通知服务
 * @scope FormModule
 * @description
 * 消息提示使用策略：成功使用success，失败使用error，警告使用warning，其他场景使用info
 */
class FormNotifyService {
    /**
     * 构造函数
     * 注入@farris/ui的NotifyService
     */
    constructor(notifyService, languageService) {
        this.notifyService = notifyService;
        this.languageService = languageService;
        if (!languageService) {
            this.languageService = LanguageService.getInstance();
        }
    }
    /**
     * 信息提示
     * @param content 内容
     */
    default(content) {
        return this.notifyService.default({
            title: this.languageService.notifyTitle,
            msg: content,
            timeout: 3000
        });
    }
    /**
     * 信息提示
     * @param content 内容
     */
    info(content, options) {
        const notifyOptions = {
            title: this.languageService.notifyTitle,
            msg: content,
            timeout: 3000
        };
        if (options && options.hideTitle) {
            delete notifyOptions.title;
        }
        return this.notifyService.info(notifyOptions);
    }
    /**
     * 成功提示
     * @param content 内容
     * @param options? 选项 {shorTitle: false}
     */
    success(content, options) {
        const notifyOptions = {
            title: this.languageService.notifyTitle,
            msg: content,
            timeout: 3000
        };
        if (options && options.hideTitle) {
            delete notifyOptions.title;
        }
        this.notifyService.success(notifyOptions);
    }
    /**
     * 警告提示
     * @param content 内容
     * @param options 选项
     */
    warning(content, options) {
        const notifyOptions = {
            title: this.languageService.notifyTitle,
            msg: content,
            timeout: 3000
        };
        if (options && options.hideTitle) {
            delete notifyOptions.title;
        }
        this.notifyService.warning(notifyOptions);
    }
    /**
     * 错误提示
     * @param content 内容
     */
    error(content, options) {
        const notifyOptions = {
            title: this.languageService.notifyTitle,
            msg: content,
            timeout: 3000
        };
        if (options && options.hideTitle) {
            delete notifyOptions.title;
        }
        this.notifyService.error(notifyOptions);
    }
}
FormNotifyService.decorators = [
    { type: Injectable }
];
/** @nocollapse */
FormNotifyService.ctorParameters = () => [
    { type: NotifyService },
    { type: LanguageService, decorators: [{ type: Optional }] }
];
export { FormNotifyService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS1ub3RpZnkuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvY29tbWFuZC1zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbImxpYi9mb3JtLW5vdGlmeS5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3JELE9BQU8sRUFBRSxhQUFhLEVBQWlCLE1BQU0sbUJBQW1CLENBQUM7QUFDakUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRXBEOzs7OztHQUtHO0FBQ0gsTUFDTSxpQkFBaUI7SUFFckI7OztPQUdHO0lBQ0gsWUFBb0IsYUFBNEIsRUFDMUIsZUFBZ0M7UUFEbEMsa0JBQWEsR0FBYixhQUFhLENBQWU7UUFDMUIsb0JBQWUsR0FBZixlQUFlLENBQWlCO1FBRXBELElBQUksQ0FBQyxlQUFlLEVBQUU7WUFDcEIsSUFBSSxDQUFDLGVBQWUsR0FBRyxlQUFlLENBQUMsV0FBVyxFQUFFLENBQUM7U0FDdEQ7SUFDSCxDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksT0FBTyxDQUFDLE9BQWU7UUFDNUIsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBZ0I7WUFDL0MsS0FBSyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsV0FBVztZQUN2QyxHQUFHLEVBQUUsT0FBTztZQUNaLE9BQU8sRUFBRSxJQUFJO1NBQ2QsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVEOzs7T0FHRztJQUNJLElBQUksQ0FBQyxPQUFlLEVBQUUsT0FBaUM7UUFDNUQsTUFBTSxhQUFhLEdBQWtCO1lBQ25DLEtBQUssRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLFdBQVc7WUFDdkMsR0FBRyxFQUFFLE9BQU87WUFDWixPQUFPLEVBQUUsSUFBSTtTQUNHLENBQUM7UUFDbkIsSUFBSSxPQUFPLElBQUksT0FBTyxDQUFDLFNBQVMsRUFBRTtZQUNoQyxPQUFPLGFBQWEsQ0FBQyxLQUFLLENBQUM7U0FDNUI7UUFDRCxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ2hELENBQUM7SUFFRDs7OztPQUlHO0lBQ0ksT0FBTyxDQUFDLE9BQWUsRUFBRSxPQUFpQztRQUMvRCxNQUFNLGFBQWEsR0FBa0I7WUFDbkMsS0FBSyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsV0FBVztZQUN2QyxHQUFHLEVBQUUsT0FBTztZQUNaLE9BQU8sRUFBRSxJQUFJO1NBQ0csQ0FBQztRQUNuQixJQUFJLE9BQU8sSUFBSSxPQUFPLENBQUMsU0FBUyxFQUFFO1lBQ2hDLE9BQU8sYUFBYSxDQUFDLEtBQUssQ0FBQztTQUM1QjtRQUNELElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFFRDs7OztPQUlHO0lBQ0ksT0FBTyxDQUFDLE9BQWUsRUFBRSxPQUFpQztRQUMvRCxNQUFNLGFBQWEsR0FBa0I7WUFDbkMsS0FBSyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsV0FBVztZQUN2QyxHQUFHLEVBQUUsT0FBTztZQUNaLE9BQU8sRUFBRSxJQUFJO1NBQ0csQ0FBQztRQUNuQixJQUFJLE9BQU8sSUFBSSxPQUFPLENBQUMsU0FBUyxFQUFFO1lBQ2hDLE9BQU8sYUFBYSxDQUFDLEtBQUssQ0FBQztTQUM1QjtRQUNELElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFFRDs7O09BR0c7SUFDSSxLQUFLLENBQUMsT0FBZSxFQUFFLE9BQWlDO1FBQzdELE1BQU0sYUFBYSxHQUFrQjtZQUNuQyxLQUFLLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXO1lBQ3ZDLEdBQUcsRUFBRSxPQUFPO1lBQ1osT0FBTyxFQUFFLElBQUk7U0FDRyxDQUFDO1FBQ25CLElBQUksT0FBTyxJQUFJLE9BQU8sQ0FBQyxTQUFTLEVBQUU7WUFDaEMsT0FBTyxhQUFhLENBQUMsS0FBSyxDQUFDO1NBQzVCO1FBQ0QsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDMUMsQ0FBQzs7O1lBM0ZGLFVBQVU7Ozs7WUFURixhQUFhO1lBQ2IsZUFBZSx1QkFnQm5CLFFBQVE7O0FBc0ZiLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5vdGlmeVNlcnZpY2UsIE5vdGlmeU9wdGlvbnMgfSBmcm9tICdAZmFycmlzL3VpLW5vdGlmeSc7XG5pbXBvcnQgeyBMYW5ndWFnZVNlcnZpY2UgfSBmcm9tICcuL2xhbmd1YWcuc2VydmljZSc7XG5cbi8qKlxuICog6YCa55+l5pyN5YqhXG4gKiBAc2NvcGUgRm9ybU1vZHVsZVxuICogQGRlc2NyaXB0aW9uXG4gKiDmtojmga/mj5DnpLrkvb/nlKjnrZbnlaXvvJrmiJDlip/kvb/nlKhzdWNjZXNz77yM5aSx6LSl5L2/55SoZXJyb3LvvIzorablkYrkvb/nlKh3YXJuaW5n77yM5YW25LuW5Zy65pmv5L2/55SoaW5mb1xuICovXG5ASW5qZWN0YWJsZSgpXG5jbGFzcyBGb3JtTm90aWZ5U2VydmljZSB7XG5cbiAgLyoqXG4gICAqIOaehOmAoOWHveaVsFxuICAgKiDms6jlhaVAZmFycmlzL3Vp55qETm90aWZ5U2VydmljZVxuICAgKi9cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBub3RpZnlTZXJ2aWNlOiBOb3RpZnlTZXJ2aWNlLFxuICAgIEBPcHRpb25hbCgpIHByaXZhdGUgbGFuZ3VhZ2VTZXJ2aWNlOiBMYW5ndWFnZVNlcnZpY2VcbiAgKSB7XG4gICAgaWYgKCFsYW5ndWFnZVNlcnZpY2UpIHtcbiAgICAgIHRoaXMubGFuZ3VhZ2VTZXJ2aWNlID0gTGFuZ3VhZ2VTZXJ2aWNlLmdldEluc3RhbmNlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOS/oeaBr+aPkOekulxuICAgKiBAcGFyYW0gY29udGVudCDlhoXlrrlcbiAgICovXG4gIHB1YmxpYyBkZWZhdWx0KGNvbnRlbnQ6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLm5vdGlmeVNlcnZpY2UuZGVmYXVsdCg8Tm90aWZ5T3B0aW9ucz57XG4gICAgICB0aXRsZTogdGhpcy5sYW5ndWFnZVNlcnZpY2Uubm90aWZ5VGl0bGUsXG4gICAgICBtc2c6IGNvbnRlbnQsXG4gICAgICB0aW1lb3V0OiAzMDAwXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICog5L+h5oGv5o+Q56S6XG4gICAqIEBwYXJhbSBjb250ZW50IOWGheWuuVxuICAgKi9cbiAgcHVibGljIGluZm8oY29udGVudDogc3RyaW5nLCBvcHRpb25zPzogeyBbcHJvcDogc3RyaW5nXTogYW55IH0pIHtcbiAgICBjb25zdCBub3RpZnlPcHRpb25zOiBOb3RpZnlPcHRpb25zID0ge1xuICAgICAgdGl0bGU6IHRoaXMubGFuZ3VhZ2VTZXJ2aWNlLm5vdGlmeVRpdGxlLFxuICAgICAgbXNnOiBjb250ZW50LFxuICAgICAgdGltZW91dDogMzAwMFxuICAgIH0gYXMgTm90aWZ5T3B0aW9ucztcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmhpZGVUaXRsZSkge1xuICAgICAgZGVsZXRlIG5vdGlmeU9wdGlvbnMudGl0bGU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm5vdGlmeVNlcnZpY2UuaW5mbyhub3RpZnlPcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmiJDlip/mj5DnpLpcbiAgICogQHBhcmFtIGNvbnRlbnQg5YaF5a65XG4gICAqIEBwYXJhbSBvcHRpb25zPyDpgInpobkge3Nob3JUaXRsZTogZmFsc2V9XG4gICAqL1xuICBwdWJsaWMgc3VjY2Vzcyhjb250ZW50OiBzdHJpbmcsIG9wdGlvbnM/OiB7IFtwcm9wOiBzdHJpbmddOiBhbnkgfSkge1xuICAgIGNvbnN0IG5vdGlmeU9wdGlvbnM6IE5vdGlmeU9wdGlvbnMgPSB7XG4gICAgICB0aXRsZTogdGhpcy5sYW5ndWFnZVNlcnZpY2Uubm90aWZ5VGl0bGUsXG4gICAgICBtc2c6IGNvbnRlbnQsXG4gICAgICB0aW1lb3V0OiAzMDAwXG4gICAgfSBhcyBOb3RpZnlPcHRpb25zO1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaGlkZVRpdGxlKSB7XG4gICAgICBkZWxldGUgbm90aWZ5T3B0aW9ucy50aXRsZTtcbiAgICB9XG4gICAgdGhpcy5ub3RpZnlTZXJ2aWNlLnN1Y2Nlc3Mobm90aWZ5T3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICog6K2m5ZGK5o+Q56S6XG4gICAqIEBwYXJhbSBjb250ZW50IOWGheWuuVxuICAgKiBAcGFyYW0gb3B0aW9ucyDpgInpoblcbiAgICovXG4gIHB1YmxpYyB3YXJuaW5nKGNvbnRlbnQ6IHN0cmluZywgb3B0aW9ucz86IHsgW3Byb3A6IHN0cmluZ106IGFueSB9KSB7XG4gICAgY29uc3Qgbm90aWZ5T3B0aW9uczogTm90aWZ5T3B0aW9ucyA9IHtcbiAgICAgIHRpdGxlOiB0aGlzLmxhbmd1YWdlU2VydmljZS5ub3RpZnlUaXRsZSxcbiAgICAgIG1zZzogY29udGVudCxcbiAgICAgIHRpbWVvdXQ6IDMwMDBcbiAgICB9IGFzIE5vdGlmeU9wdGlvbnM7XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5oaWRlVGl0bGUpIHtcbiAgICAgIGRlbGV0ZSBub3RpZnlPcHRpb25zLnRpdGxlO1xuICAgIH1cbiAgICB0aGlzLm5vdGlmeVNlcnZpY2Uud2FybmluZyhub3RpZnlPcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDplJnor6/mj5DnpLpcbiAgICogQHBhcmFtIGNvbnRlbnQg5YaF5a65XG4gICAqL1xuICBwdWJsaWMgZXJyb3IoY29udGVudDogc3RyaW5nLCBvcHRpb25zPzogeyBbcHJvcDogc3RyaW5nXTogYW55IH0pIHtcbiAgICBjb25zdCBub3RpZnlPcHRpb25zOiBOb3RpZnlPcHRpb25zID0ge1xuICAgICAgdGl0bGU6IHRoaXMubGFuZ3VhZ2VTZXJ2aWNlLm5vdGlmeVRpdGxlLFxuICAgICAgbXNnOiBjb250ZW50LFxuICAgICAgdGltZW91dDogMzAwMFxuICAgIH0gYXMgTm90aWZ5T3B0aW9ucztcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmhpZGVUaXRsZSkge1xuICAgICAgZGVsZXRlIG5vdGlmeU9wdGlvbnMudGl0bGU7XG4gICAgfVxuICAgIHRoaXMubm90aWZ5U2VydmljZS5lcnJvcihub3RpZnlPcHRpb25zKTtcbiAgfVxufVxuXG5leHBvcnQgeyBGb3JtTm90aWZ5U2VydmljZSB9O1xuIl19