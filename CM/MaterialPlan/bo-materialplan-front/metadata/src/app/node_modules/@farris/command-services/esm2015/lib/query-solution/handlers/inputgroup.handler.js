import { CompareType } from '../enum/compare-type.enum';
import { ValueType } from '../enum/value-type.enum';
import { RelationType } from '../enum/relation-type.enum';
export class InputGroupHandler {
    convert(qc) {
        const igv = qc.value;
        const arr = [];
        if (igv.isInputText || igv.textField == null) {
            arr.push({
                'FilterField': qc.fieldCode,
                'Compare': CompareType.Like,
                'Value': igv.textValue,
                'Relation': RelationType.And,
                'Expresstype': ValueType.Value
            });
            return arr;
        }
        else {
            igv.getOriginalValue().split(',').forEach(itemValue => {
                itemValue && arr.push({
                    'FilterField': qc.fieldCode,
                    'Compare': CompareType.Equal,
                    'Value': itemValue,
                    'Relation': RelationType.Or,
                    'Expresstype': ValueType.Value
                });
            });
            if (arr.length > 0) {
                arr[0]['Lbracket'] = '(';
                arr[arr.length - 1]['Rbracket'] = ')';
                arr[arr.length - 1]['Relation'] = RelationType.And;
                return arr;
            }
            else {
                return [];
            }
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXRncm91cC5oYW5kbGVyLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy9jb21tYW5kLXNlcnZpY2VzLyIsInNvdXJjZXMiOlsibGliL3F1ZXJ5LXNvbHV0aW9uL2hhbmRsZXJzL2lucHV0Z3JvdXAuaGFuZGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDeEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQ3BELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUUxRCxNQUFNLE9BQU8saUJBQWlCO0lBQzVCLE9BQU8sQ0FBQyxFQUFrQjtRQUN4QixNQUFNLEdBQUcsR0FBSSxFQUFFLENBQUMsS0FBeUIsQ0FBQztRQUMxQyxNQUFNLEdBQUcsR0FBRyxFQUFFLENBQUM7UUFFZixJQUFJLEdBQUcsQ0FBQyxXQUFXLElBQUksR0FBRyxDQUFDLFNBQVMsSUFBSSxJQUFJLEVBQUU7WUFDNUMsR0FBRyxDQUFDLElBQUksQ0FBQztnQkFDUCxhQUFhLEVBQUUsRUFBRSxDQUFDLFNBQVM7Z0JBQzNCLFNBQVMsRUFBRSxXQUFXLENBQUMsSUFBSTtnQkFDM0IsT0FBTyxFQUFFLEdBQUcsQ0FBQyxTQUFTO2dCQUN0QixVQUFVLEVBQUUsWUFBWSxDQUFDLEdBQUc7Z0JBQzVCLGFBQWEsRUFBRSxTQUFTLENBQUMsS0FBSzthQUMvQixDQUFDLENBQUM7WUFDSCxPQUFPLEdBQUcsQ0FBQztTQUNaO2FBQ0k7WUFDSCxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFO2dCQUNwRCxTQUFTLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQztvQkFDcEIsYUFBYSxFQUFFLEVBQUUsQ0FBQyxTQUFTO29CQUMzQixTQUFTLEVBQUUsV0FBVyxDQUFDLEtBQUs7b0JBQzVCLE9BQU8sRUFBRSxTQUFTO29CQUNsQixVQUFVLEVBQUUsWUFBWSxDQUFDLEVBQUU7b0JBQzNCLGFBQWEsRUFBRSxTQUFTLENBQUMsS0FBSztpQkFDL0IsQ0FBQyxDQUFDO1lBQ0wsQ0FBQyxDQUFDLENBQUM7WUFDSCxJQUFJLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO2dCQUNsQixHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLEdBQUcsR0FBRyxDQUFDO2dCQUN6QixHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsR0FBRyxHQUFHLENBQUM7Z0JBQ3RDLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxHQUFHLFlBQVksQ0FBQyxHQUFHLENBQUM7Z0JBQ25ELE9BQU8sR0FBRyxDQUFDO2FBQ1o7aUJBQU07Z0JBQ0wsT0FBTyxFQUFFLENBQUM7YUFDWDtTQUNGO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSVF1ZXJ5Q29uZGl0aW9uSGFuZGxlciB9IGZyb20gXCIuL2lxdWVyeWNvbmRpdGlvbi5oYW5kbGVyXCI7XG5pbXBvcnQgeyBRdWVyeUNvbmRpdGlvbiwgSW5wdXRHcm91cFZhbHVlIH0gZnJvbSBcIkBmYXJyaXMvY29tcG9uZW50LXF1ZXJ5Y29uZGl0aW9uXCI7XG5pbXBvcnQgeyBDb21wYXJlVHlwZSB9IGZyb20gJy4uL2VudW0vY29tcGFyZS10eXBlLmVudW0nO1xuaW1wb3J0IHsgVmFsdWVUeXBlIH0gZnJvbSAnLi4vZW51bS92YWx1ZS10eXBlLmVudW0nO1xuaW1wb3J0IHsgUmVsYXRpb25UeXBlIH0gZnJvbSAnLi4vZW51bS9yZWxhdGlvbi10eXBlLmVudW0nO1xuXG5leHBvcnQgY2xhc3MgSW5wdXRHcm91cEhhbmRsZXIgaW1wbGVtZW50cyBJUXVlcnlDb25kaXRpb25IYW5kbGVyIHtcbiAgY29udmVydChxYzogUXVlcnlDb25kaXRpb24pIHtcbiAgICBjb25zdCBpZ3YgPSAocWMudmFsdWUgYXMgSW5wdXRHcm91cFZhbHVlKTtcbiAgICBjb25zdCBhcnIgPSBbXTtcblxuICAgIGlmIChpZ3YuaXNJbnB1dFRleHQgfHwgaWd2LnRleHRGaWVsZCA9PSBudWxsKSB7XG4gICAgICBhcnIucHVzaCh7XG4gICAgICAgICdGaWx0ZXJGaWVsZCc6IHFjLmZpZWxkQ29kZSxcbiAgICAgICAgJ0NvbXBhcmUnOiBDb21wYXJlVHlwZS5MaWtlLFxuICAgICAgICAnVmFsdWUnOiBpZ3YudGV4dFZhbHVlLC8vZW5jb2RlVVJJQ29tcG9uZW50KGlndi50ZXh0VmFsdWUpLFxuICAgICAgICAnUmVsYXRpb24nOiBSZWxhdGlvblR5cGUuQW5kLFxuICAgICAgICAnRXhwcmVzc3R5cGUnOiBWYWx1ZVR5cGUuVmFsdWVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFycjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZ3YuZ2V0T3JpZ2luYWxWYWx1ZSgpLnNwbGl0KCcsJykuZm9yRWFjaChpdGVtVmFsdWUgPT4ge1xuICAgICAgICBpdGVtVmFsdWUgJiYgYXJyLnB1c2goe1xuICAgICAgICAgICdGaWx0ZXJGaWVsZCc6IHFjLmZpZWxkQ29kZSxcbiAgICAgICAgICAnQ29tcGFyZSc6IENvbXBhcmVUeXBlLkVxdWFsLFxuICAgICAgICAgICdWYWx1ZSc6IGl0ZW1WYWx1ZSxcbiAgICAgICAgICAnUmVsYXRpb24nOiBSZWxhdGlvblR5cGUuT3IsXG4gICAgICAgICAgJ0V4cHJlc3N0eXBlJzogVmFsdWVUeXBlLlZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYXJyWzBdWydMYnJhY2tldCddID0gJygnO1xuICAgICAgICBhcnJbYXJyLmxlbmd0aCAtIDFdWydSYnJhY2tldCddID0gJyknO1xuICAgICAgICBhcnJbYXJyLmxlbmd0aCAtIDFdWydSZWxhdGlvbiddID0gUmVsYXRpb25UeXBlLkFuZDtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdfQ==