{"__symbolic":"module","version":4,"metadata":{"AvatarService":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":2,"character":1},"arguments":[{"providedIn":"root"}]}],"members":{"__ctor__":[{"__symbolic":"constructor"}]},"statics":{"ngInjectableDef":{}}},"upImageFile":{"__symbolic":"interface"},"AvatarComponent":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Component","line":16,"character":1},"arguments":[{"selector":"farris-avatar","providers":[{"provide":{"__symbolic":"reference","module":"@angular/forms","name":"NG_VALUE_ACCESSOR","line":22,"character":15},"useExisting":{"__symbolic":"reference","name":"AvatarComponent"},"multi":true}],"template":"<div class=\"f-avatar\" \r\n    [ngClass]=\"{'f-avatar-readonly': tReadOnly,'f-avatar-circle':imgShape === 'circle','f-avatar-square':imgShape === 'square'}\" \r\n    [ngStyle]=\"{'width': avatarWidth+'px','height':avatarHeight+'px'}\">\r\n    <ng-container *ngIf=\"loadingImg\">\r\n        <div class=\"f-avatar-upload-loading\">\r\n            <div class=\"loading-inner\">\r\n                加载中\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <img \r\n    [title]=\"imgtitle\" \r\n    class=\"f-avatar-image\"\r\n    [attr.src]=\"imgSrc\"\r\n    (error)=\"errorSrc()\"\r\n    >\r\n    <div class=\"f-avatar-icon\" *ngIf=\"!tReadOnly\">\r\n        <span class=\"f-icon f-icon-camera\"></span>\r\n    </div>\r\n    <input type=\"file\" class=\"f-avatar-upload\" [accept]='imgType' (change)=\"getfiledata($event)\" #file style=\"display: none;\">\r\n</div>","styles":[".f-avatar{position:relative;cursor:pointer;overflow:hidden}.f-avatar.f-avatar-readonly{cursor:default}.f-avatar.f-avatar-circle{border-radius:100%;overflow:hidden}.f-avatar.f-avatar-square{border-radius:0}.f-avatar .f-avatar-defult,.f-avatar .f-avatar-image{display:inline-block;width:100%;height:100%}.f-avatar .f-avatar-icon{display:none;position:absolute;left:0;right:0;top:0;bottom:0;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;background:rgba(0,0,0,.3)}.f-avatar .f-avatar-icon .f-icon{font-size:24px;color:#fff}.f-avatar.f-avatar-circle .f-avatar-icon{border-radius:100%}.f-avatar.f-avatar-square .f-avatar-icon{border-radius:0}.f-avatar .f-avatar-upload-loading{position:absolute;left:0;top:0;display:inline-block;width:100%;height:100%;background-color:rgba(0,0,0,.15)}.f-avatar .f-avatar-upload-loading .loading-inner{position:absolute;width:100%;left:0;top:50%;margin-top:-25px;height:50px;line-height:50px;text-align:center;font-size:16px;color:#fff}.f-avatar:hover .f-avatar-icon{display:-webkit-box;display:flex}"]}]}],"members":{"file":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":33,"character":3},"arguments":["file"]}]}],"readonly":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":36,"character":3}}]}],"size":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":49,"character":3}}]}],"imgTitle":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":50,"character":3}}]}],"avatarWidth":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":51,"character":3}}]}],"avatarHeight":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":52,"character":3}}]}],"imgShape":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":53,"character":3}}]}],"imgChange":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Output","line":56,"character":3},"arguments":["imgChange"]}]}],"type":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":59,"character":3}}]}],"cover":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":88,"character":3}}]}],"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","module":"@farris/ui-notify","name":"NotifyService","line":109,"character":37},{"__symbolic":"reference","module":"@farris/ui-locale","name":"LocaleService","line":109,"character":74}]}],"ngOnInit":[{"__symbolic":"method"}],"imgsrcInit":[{"__symbolic":"method"}],"onClick":[{"__symbolic":"method","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"HostListener","line":148,"character":3},"arguments":["click"]}]}],"getfiledata":[{"__symbolic":"method"}],"getImgFileObj":[{"__symbolic":"method"}],"transformFile":[{"__symbolic":"method"}],"read":[{"__symbolic":"method"}],"do":[{"__symbolic":"method"}],"writeValue":[{"__symbolic":"method"}],"registerOnChange":[{"__symbolic":"method"}],"registerOnTouched":[{"__symbolic":"method"}],"addBase64":[{"__symbolic":"method"}],"removeBase64":[{"__symbolic":"method"}],"isSrc":[{"__symbolic":"method"}],"isBaseSrc":[{"__symbolic":"method"}],"errorSrc":[{"__symbolic":"method"}]}},"AvatarModule":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"NgModule","line":7,"character":1},"arguments":[{"declarations":[{"__symbolic":"reference","name":"AvatarComponent"}],"imports":[{"__symbolic":"reference","module":"@angular/common","name":"CommonModule","line":10,"character":4},{"__symbolic":"reference","module":"@angular/forms","name":"FormsModule","line":11,"character":4},{"__symbolic":"reference","module":"@farris/ui-notify","name":"NotifyModule","line":12,"character":4},{"__symbolic":"call","expression":{"__symbolic":"select","expression":{"__symbolic":"reference","module":"@farris/ui-locale","name":"LocaleModule","line":13,"character":4},"member":"forRoot"}}],"exports":[{"__symbolic":"reference","name":"AvatarComponent"}]}]}],"members":{}}},"origins":{"AvatarService":"./lib/avatar.service","upImageFile":"./lib/avatar.component","AvatarComponent":"./lib/avatar.component","AvatarModule":"./lib/avatar.module"},"importAs":"@farris/ui-avatar"}