/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { FormGroup } from '@angular/forms';
import { Directive, Input, Injector, ComponentFactoryResolver, ViewContainerRef, Renderer2 } from '@angular/core';
import { ColumnFilterType } from '@farris/ui-datagrid';
import { FilterTextboxComponent } from './filter-editors/filter-row-textbox.component';
import { FilterCheckboxComponent } from './filter-editors/filter-row-checkbox.component';
var FilterCellEditorDirective = /** @class */ (function () {
    function FilterCellEditorDirective(injector, resolver, container, render) {
        this.injector = injector;
        this.resolver = resolver;
        this.container = container;
        this.render = render;
        this.delay = 300;
    }
    /**
     * @return {?}
     */
    FilterCellEditorDirective.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.createFilterEditor();
    };
    /**
     * @private
     * @return {?}
     */
    FilterCellEditorDirective.prototype.createFilterEditor = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.column.filter) {
            /** @type {?} */
            var columnFilter = (/** @type {?} */ (this.column.filter));
            columnFilter.type = columnFilter.type || ColumnFilterType.string;
            /** @type {?} */
            var constructorCmp = FilterTextboxComponent;
            switch (columnFilter.type) {
                case ColumnFilterType.boolean:
                    constructorCmp = FilterCheckboxComponent;
                    break;
                // case ColumnFilterType.enum:
                //     constructorCmp = FilterEnumComponent;
                //     break;
            }
            /** @type {?} */
            var factory = this.resolver.resolveComponentFactory(constructorCmp);
            this.componentRef = this.container.createComponent(factory);
            this.componentRef.instance.column = this.column;
            this.componentRef.instance.group = this.group;
            this.componentRef.instance.gridInstance = this.gridInstance;
            this.componentRef.instance.disabled = columnFilter.type >= 3;
            this.componentRef.instance.delay = this.delay;
            if (this.gridInstance.conditions && Object.keys(this.gridInstance.conditions).length) {
                // console.log(this.gridInstance.conditions);
                setTimeout((/**
                 * @return {?}
                 */
                function () {
                    _this.componentRef.instance.initFilter(_this.gridInstance.conditions[_this.column.field]);
                }), 100);
            }
        }
    };
    /**
     * @return {?}
     */
    FilterCellEditorDirective.prototype.clearValue = /**
     * @return {?}
     */
    function () {
        if (this.componentRef) {
            this.componentRef.instance.clearValue();
        }
    };
    FilterCellEditorDirective.decorators = [
        { type: Directive, args: [{
                    selector: '[filter-cell-editor]',
                },] }
    ];
    /** @nocollapse */
    FilterCellEditorDirective.ctorParameters = function () { return [
        { type: Injector },
        { type: ComponentFactoryResolver },
        { type: ViewContainerRef },
        { type: Renderer2 }
    ]; };
    FilterCellEditorDirective.propDecorators = {
        column: [{ type: Input }],
        group: [{ type: Input }],
        gridInstance: [{ type: Input }],
        delay: [{ type: Input }]
    };
    return FilterCellEditorDirective;
}());
export { FilterCellEditorDirective };
if (false) {
    /** @type {?} */
    FilterCellEditorDirective.prototype.column;
    /** @type {?} */
    FilterCellEditorDirective.prototype.group;
    /** @type {?} */
    FilterCellEditorDirective.prototype.gridInstance;
    /** @type {?} */
    FilterCellEditorDirective.prototype.delay;
    /** @type {?} */
    FilterCellEditorDirective.prototype.componentRef;
    /**
     * @type {?}
     * @private
     */
    FilterCellEditorDirective.prototype.injector;
    /**
     * @type {?}
     * @private
     */
    FilterCellEditorDirective.prototype.resolver;
    /**
     * @type {?}
     * @private
     */
    FilterCellEditorDirective.prototype.container;
    /**
     * @type {?}
     * @private
     */
    FilterCellEditorDirective.prototype.render;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YWdyaWQtZmlsdGVyLWNlbGwtZWRpdG9yLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvdWktZGF0YWdyaWQtZmlsdGVyLyIsInNvdXJjZXMiOlsibGliL2RhdGFncmlkLWZpbHRlci1jZWxsLWVkaXRvci5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMzQyxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsd0JBQXdCLEVBQUUsZ0JBQWdCLEVBQXdCLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN4SSxPQUFPLEVBQTRCLGdCQUFnQixFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDakYsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sK0NBQStDLENBQUM7QUFDdkYsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sZ0RBQWdELENBQUM7QUFFekY7SUFTSSxtQ0FDWSxRQUFrQixFQUNsQixRQUFrQyxFQUNsQyxTQUEyQixFQUMzQixNQUFpQjtRQUhqQixhQUFRLEdBQVIsUUFBUSxDQUFVO1FBQ2xCLGFBQVEsR0FBUixRQUFRLENBQTBCO1FBQ2xDLGNBQVMsR0FBVCxTQUFTLENBQWtCO1FBQzNCLFdBQU0sR0FBTixNQUFNLENBQVc7UUFOcEIsVUFBSyxHQUFHLEdBQUcsQ0FBQztJQU1XLENBQUM7Ozs7SUFFakMsNENBQVE7OztJQUFSO1FBQ0ksSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7SUFDOUIsQ0FBQzs7Ozs7SUFFTyxzREFBa0I7Ozs7SUFBMUI7UUFBQSxpQkE4QkM7UUE1QkcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRTs7Z0JBQ2QsWUFBWSxHQUFHLG1CQUFBLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFnQjtZQUN2RCxZQUFZLENBQUMsSUFBSSxHQUFHLFlBQVksQ0FBQyxJQUFJLElBQUksZ0JBQWdCLENBQUMsTUFBTSxDQUFDOztnQkFDN0QsY0FBYyxHQUFRLHNCQUFzQjtZQUNoRCxRQUFRLFlBQVksQ0FBQyxJQUFJLEVBQUU7Z0JBQ3ZCLEtBQUssZ0JBQWdCLENBQUMsT0FBTztvQkFDekIsY0FBYyxHQUFHLHVCQUF1QixDQUFDO29CQUN6QyxNQUFNO2dCQUNWLDhCQUE4QjtnQkFDOUIsNENBQTRDO2dCQUM1QyxhQUFhO2FBQ2hCOztnQkFDSyxPQUFPLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBRSxjQUFjLENBQUU7WUFDdkUsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUM1RCxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUNoRCxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUM5QyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQztZQUM1RCxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEdBQUcsWUFBWSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUM7WUFDN0QsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7WUFFOUMsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxFQUFHO2dCQUNuRiw2Q0FBNkM7Z0JBQzdDLFVBQVU7OztnQkFBQztvQkFDUCxLQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsS0FBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsS0FBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2dCQUMzRixDQUFDLEdBQUUsR0FBRyxDQUFDLENBQUM7YUFDWDtTQUNKO0lBRUwsQ0FBQzs7OztJQUVELDhDQUFVOzs7SUFBVjtRQUNJLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRTtZQUNuQixJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUMzQztJQUNMLENBQUM7O2dCQXZESixTQUFTLFNBQUM7b0JBQ1AsUUFBUSxFQUFFLHNCQUFzQjtpQkFDbkM7Ozs7Z0JBUDBCLFFBQVE7Z0JBQUUsd0JBQXdCO2dCQUFFLGdCQUFnQjtnQkFBd0IsU0FBUzs7O3lCQVMzRyxLQUFLO3dCQUNMLEtBQUs7K0JBQ0wsS0FBSzt3QkFDTCxLQUFLOztJQWtEVixnQ0FBQztDQUFBLEFBekRELElBeURDO1NBdERZLHlCQUF5Qjs7O0lBQ2xDLDJDQUE0Qjs7SUFDNUIsMENBQTBCOztJQUMxQixpREFBMkI7O0lBQzNCLDBDQUFxQjs7SUFDckIsaURBQWdDOzs7OztJQUU1Qiw2Q0FBMEI7Ozs7O0lBQzFCLDZDQUEwQzs7Ozs7SUFDMUMsOENBQW1DOzs7OztJQUNuQywyQ0FBeUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGb3JtR3JvdXAgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcbmltcG9ydCB7IERpcmVjdGl2ZSwgSW5wdXQsIEluamVjdG9yLCBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsIFZpZXdDb250YWluZXJSZWYsIE9uSW5pdCwgQ29tcG9uZW50UmVmLCBSZW5kZXJlcjIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRGF0YUNvbHVtbiwgQ29sdW1uRmlsdGVyLCBDb2x1bW5GaWx0ZXJUeXBlIH0gZnJvbSAnQGZhcnJpcy91aS1kYXRhZ3JpZCc7XHJcbmltcG9ydCB7IEZpbHRlclRleHRib3hDb21wb25lbnQgfSBmcm9tICcuL2ZpbHRlci1lZGl0b3JzL2ZpbHRlci1yb3ctdGV4dGJveC5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBGaWx0ZXJDaGVja2JveENvbXBvbmVudCB9IGZyb20gJy4vZmlsdGVyLWVkaXRvcnMvZmlsdGVyLXJvdy1jaGVja2JveC5jb21wb25lbnQnO1xyXG5cclxuQERpcmVjdGl2ZSh7XHJcbiAgICBzZWxlY3RvcjogJ1tmaWx0ZXItY2VsbC1lZGl0b3JdJyxcclxufSlcclxuZXhwb3J0IGNsYXNzIEZpbHRlckNlbGxFZGl0b3JEaXJlY3RpdmUgaW1wbGVtZW50cyBPbkluaXQge1xyXG4gICAgQElucHV0KCkgY29sdW1uOiBEYXRhQ29sdW1uO1xyXG4gICAgQElucHV0KCkgZ3JvdXA6IEZvcm1Hcm91cDtcclxuICAgIEBJbnB1dCgpIGdyaWRJbnN0YW5jZTogYW55O1xyXG4gICAgQElucHV0KCkgZGVsYXkgPSAzMDA7XHJcbiAgICBjb21wb25lbnRSZWY6IENvbXBvbmVudFJlZjxhbnk+O1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJpdmF0ZSBpbmplY3RvcjogSW5qZWN0b3IsXHJcbiAgICAgICAgcHJpdmF0ZSByZXNvbHZlcjogQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLFxyXG4gICAgICAgIHByaXZhdGUgY29udGFpbmVyOiBWaWV3Q29udGFpbmVyUmVmLFxyXG4gICAgICAgIHByaXZhdGUgcmVuZGVyOiBSZW5kZXJlcjIpIHt9XHJcblxyXG4gICAgbmdPbkluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVGaWx0ZXJFZGl0b3IoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZUZpbHRlckVkaXRvcigpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29sdW1uLmZpbHRlcikge1xyXG4gICAgICAgICAgICBjb25zdCBjb2x1bW5GaWx0ZXIgPSB0aGlzLmNvbHVtbi5maWx0ZXIgYXMgQ29sdW1uRmlsdGVyO1xyXG4gICAgICAgICAgICBjb2x1bW5GaWx0ZXIudHlwZSA9IGNvbHVtbkZpbHRlci50eXBlIHx8IENvbHVtbkZpbHRlclR5cGUuc3RyaW5nO1xyXG4gICAgICAgICAgICBsZXQgY29uc3RydWN0b3JDbXA6IGFueSA9IEZpbHRlclRleHRib3hDb21wb25lbnQ7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoY29sdW1uRmlsdGVyLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgQ29sdW1uRmlsdGVyVHlwZS5ib29sZWFuOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yQ21wID0gRmlsdGVyQ2hlY2tib3hDb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAvLyBjYXNlIENvbHVtbkZpbHRlclR5cGUuZW51bTpcclxuICAgICAgICAgICAgICAgIC8vICAgICBjb25zdHJ1Y3RvckNtcCA9IEZpbHRlckVudW1Db21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZmFjdG9yeSA9IHRoaXMucmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoIGNvbnN0cnVjdG9yQ21wICk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50UmVmID0gdGhpcy5jb250YWluZXIuY3JlYXRlQ29tcG9uZW50KGZhY3RvcnkpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS5jb2x1bW4gPSB0aGlzLmNvbHVtbjtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UuZ3JvdXAgPSB0aGlzLmdyb3VwO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS5ncmlkSW5zdGFuY2UgPSB0aGlzLmdyaWRJbnN0YW5jZTtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UuZGlzYWJsZWQgPSBjb2x1bW5GaWx0ZXIudHlwZSA+PSAzO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS5kZWxheSA9IHRoaXMuZGVsYXk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5ncmlkSW5zdGFuY2UuY29uZGl0aW9ucyAmJiBPYmplY3Qua2V5cyh0aGlzLmdyaWRJbnN0YW5jZS5jb25kaXRpb25zKS5sZW5ndGggKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmdyaWRJbnN0YW5jZS5jb25kaXRpb25zKTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlLmluaXRGaWx0ZXIodGhpcy5ncmlkSW5zdGFuY2UuY29uZGl0aW9uc1t0aGlzLmNvbHVtbi5maWVsZF0pO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJWYWx1ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5jb21wb25lbnRSZWYpIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UuY2xlYXJWYWx1ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuIl19