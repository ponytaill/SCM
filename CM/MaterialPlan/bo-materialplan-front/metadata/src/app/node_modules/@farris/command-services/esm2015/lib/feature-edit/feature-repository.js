import { Injectable, Injector } from "@angular/core";
import { Repository } from '@farris/devkit';
export class FeatureRepository {
    constructor(injector, repository) {
        this.injector = injector;
        this.repository = repository;
    }
    /**
     * 根据物料id获取物料特征项及特征值（公共默认值）
     * @param materialId 物料id
     */
    getFeaturesByMaterialId(materialId) {
        const url = '/api/scm/scmfnd/v1.0/scmcommoncmpservice/service/getmaterialprops';
        const body = {
            materialID: materialId
        };
        const options = {
            body
        };
        const befRepository = this.repository;
        return befRepository.proxy.request(url, 'put', null, options);
    }
    /**
     * 根据物料id及物料特征保存后的hash获取该物料已经存储的特征项值
     * @param materialId 物料Id
     * @param configID 对应该物料的特征项hash
     * @returns
     */
    getConfigedValueByFeatureId(materialId, configID, configType = 'Materials') {
        const url = '/api/bf/df/v1.0/charactconfigservice/service/getcharactconfiginfo';
        const body = { objType: configType, objID: materialId, configID };
        const befRepository = this.repository;
        const options = {
            body
        };
        return befRepository.proxy.request(url, 'put', null, options);
    }
    /**
     * 保存物料特征项
     * @param materialId 物料id
     * @param charactValue 特征值
     * @param configType 配置类型
     * @returns
     */
    applyFeatures(materialId, charactValue, configType = 'Materials') {
        const body = { objType: configType, objID: materialId, charactValue };
        const befRepository = this.repository;
        const options = {
            body
        };
        return befRepository.proxy.request('/api/bf/df/v1.0/charactconfigservice/service/matchcharactconfigid', 'put', null, options);
    }
    /**
     * 获取帮助信息
     * @param helpid 帮助id
     * @param filter 过滤条件
     * @param params 参数
     * @returns
     */
    getHelpInfo(helpid, filter, params) {
        const url = '/api/scm/scmfnd/v1.0/scmcommoncmpservice/service/gethelpdata';
        const httpParams = {};
        if (params) {
            if (params.pageIndex) {
                httpParams['pageIndex'] = JSON.stringify(params.pageIndex - 0);
            }
            if (params.pageSize) {
                httpParams['pageSize'] = JSON.stringify(params.pageSize - 0);
            }
            if (params.condition) {
                httpParams['condition'] = JSON.stringify(params.condition);
            }
            if (params.searchValue) {
                httpParams['search'] = params.searchValue;
            }
        }
        const body = {
            helpID: helpid,
            queryParam: JSON.stringify(httpParams),
            filterStr: filter
        };
        const befRepository = this.repository;
        const options = {
            body
        };
        return befRepository.proxy.request(url, 'put', null, options);
    }
}
FeatureRepository.decorators = [
    { type: Injectable }
];
/** @nocollapse */
FeatureRepository.ctorParameters = () => [
    { type: Injector },
    { type: Repository }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmVhdHVyZS1yZXBvc2l0b3J5LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy9jb21tYW5kLXNlcnZpY2VzLyIsInNvdXJjZXMiOlsibGliL2ZlYXR1cmUtZWRpdC9mZWF0dXJlLXJlcG9zaXRvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFckQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBTTVDLE1BQU0sT0FBTyxpQkFBaUI7SUFDNUIsWUFDVSxRQUFrQixFQUNsQixVQUEyQjtRQUQzQixhQUFRLEdBQVIsUUFBUSxDQUFVO1FBQ2xCLGVBQVUsR0FBVixVQUFVLENBQWlCO0lBQ2pDLENBQUM7SUFDTDs7O09BR0c7SUFDSSx1QkFBdUIsQ0FBQyxVQUFrQjtRQUMvQyxNQUFNLEdBQUcsR0FBRyxtRUFBbUUsQ0FBQztRQUNoRixNQUFNLElBQUksR0FBRztZQUNYLFVBQVUsRUFBRSxVQUFVO1NBQ3ZCLENBQUM7UUFDRixNQUFNLE9BQU8sR0FBRztZQUNkLElBQUk7U0FDTCxDQUFDO1FBQ0YsTUFBTSxhQUFhLEdBQXVCLElBQUksQ0FBQyxVQUFnQyxDQUFDO1FBQ2hGLE9BQU8sYUFBYSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDaEUsQ0FBQztJQUNEOzs7OztPQUtHO0lBQ0ksMkJBQTJCLENBQUMsVUFBa0IsRUFBRSxRQUFnQixFQUFFLGFBQXFCLFdBQVc7UUFDdkcsTUFBTSxHQUFHLEdBQUcsbUVBQW1FLENBQUM7UUFDaEYsTUFBTSxJQUFJLEdBQUcsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLENBQUM7UUFDbEUsTUFBTSxhQUFhLEdBQXVCLElBQUksQ0FBQyxVQUFnQyxDQUFDO1FBQ2hGLE1BQU0sT0FBTyxHQUFHO1lBQ2QsSUFBSTtTQUNMLENBQUM7UUFDRixPQUFPLGFBQWEsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFDRDs7Ozs7O09BTUc7SUFDSSxhQUFhLENBQUMsVUFBa0IsRUFBRSxZQUFpQixFQUFFLGFBQXFCLFdBQVc7UUFDMUYsTUFBTSxJQUFJLEdBQUcsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLENBQUM7UUFDdEUsTUFBTSxhQUFhLEdBQXVCLElBQUksQ0FBQyxVQUFnQyxDQUFDO1FBQ2hGLE1BQU0sT0FBTyxHQUFHO1lBQ2QsSUFBSTtTQUNMLENBQUM7UUFDRixPQUFPLGFBQWEsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLG1FQUFtRSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDaEksQ0FBQztJQUNEOzs7Ozs7T0FNRztJQUNJLFdBQVcsQ0FBQyxNQUFjLEVBQUUsTUFBYyxFQUFFLE1BQVc7UUFDNUQsTUFBTSxHQUFHLEdBQUcsOERBQThELENBQUM7UUFDM0UsTUFBTSxVQUFVLEdBQVEsRUFBRSxDQUFDO1FBQzNCLElBQUksTUFBTSxFQUFFO1lBQ1YsSUFBSSxNQUFNLENBQUMsU0FBUyxFQUFFO2dCQUNwQixVQUFVLENBQUMsV0FBVyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQ2hFO1lBQ0QsSUFBSSxNQUFNLENBQUMsUUFBUSxFQUFFO2dCQUNuQixVQUFVLENBQUMsVUFBVSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQzlEO1lBQ0QsSUFBSSxNQUFNLENBQUMsU0FBUyxFQUFFO2dCQUNwQixVQUFVLENBQUMsV0FBVyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7YUFDNUQ7WUFDRCxJQUFJLE1BQU0sQ0FBQyxXQUFXLEVBQUU7Z0JBQ3RCLFVBQVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDO2FBQzNDO1NBQ0Y7UUFDRCxNQUFNLElBQUksR0FBRztZQUNYLE1BQU0sRUFBRSxNQUFNO1lBQ2QsVUFBVSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDO1lBQ3RDLFNBQVMsRUFBRSxNQUFNO1NBQ2xCLENBQUM7UUFDRixNQUFNLGFBQWEsR0FBdUIsSUFBSSxDQUFDLFVBQWdDLENBQUM7UUFDaEYsTUFBTSxPQUFPLEdBQUc7WUFDZCxJQUFJO1NBQ0wsQ0FBQztRQUNGLE9BQU8sYUFBYSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDaEUsQ0FBQzs7O1lBckZGLFVBQVU7Ozs7WUFQVSxRQUFRO1lBRXBCLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBJbmplY3RvciB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XHJcbmltcG9ydCB7IEJlZlJlcG9zaXRvcnksIFJlc3BvbnNlSW5mbyB9IGZyb20gXCJAZmFycmlzL2JlZlwiO1xyXG5pbXBvcnQgeyBSZXBvc2l0b3J5IH0gZnJvbSAnQGZhcnJpcy9kZXZraXQnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSBcInJ4anNcIjtcclxuaW1wb3J0IHsgbWFwIH0gZnJvbSBcInJ4anMvb3BlcmF0b3JzXCI7XHJcbmltcG9ydCB7IFByb3AgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5cclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgRmVhdHVyZVJlcG9zaXRvcnkge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBpbmplY3RvcjogSW5qZWN0b3IsXHJcbiAgICBwcml2YXRlIHJlcG9zaXRvcnk6IFJlcG9zaXRvcnk8YW55PixcclxuICApIHsgfVxyXG4gIC8qKlxyXG4gICAqIOagueaNrueJqeaWmWlk6I635Y+W54mp5paZ54m55b6B6aG55Y+K54m55b6B5YC877yI5YWs5YWx6buY6K6k5YC877yJXHJcbiAgICogQHBhcmFtIG1hdGVyaWFsSWQg54mp5paZaWRcclxuICAgKi9cclxuICBwdWJsaWMgZ2V0RmVhdHVyZXNCeU1hdGVyaWFsSWQobWF0ZXJpYWxJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxSZXNwb25zZUluZm8+IHtcclxuICAgIGNvbnN0IHVybCA9ICcvYXBpL3NjbS9zY21mbmQvdjEuMC9zY21jb21tb25jbXBzZXJ2aWNlL3NlcnZpY2UvZ2V0bWF0ZXJpYWxwcm9wcyc7XHJcbiAgICBjb25zdCBib2R5ID0ge1xyXG4gICAgICBtYXRlcmlhbElEOiBtYXRlcmlhbElkXHJcbiAgICB9O1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgYm9keVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGJlZlJlcG9zaXRvcnk6IEJlZlJlcG9zaXRvcnk8YW55PiA9IHRoaXMucmVwb3NpdG9yeSBhcyBCZWZSZXBvc2l0b3J5PGFueT47XHJcbiAgICByZXR1cm4gYmVmUmVwb3NpdG9yeS5wcm94eS5yZXF1ZXN0KHVybCwgJ3B1dCcsIG51bGwsIG9wdGlvbnMpO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDmoLnmja7nianmlplpZOWPiueJqeaWmeeJueW+geS/neWtmOWQjueahGhhc2jojrflj5bor6Xnianmlpnlt7Lnu4/lrZjlgqjnmoTnibnlvoHpobnlgLxcclxuICAgKiBAcGFyYW0gbWF0ZXJpYWxJZCDnianmlplJZFxyXG4gICAqIEBwYXJhbSBjb25maWdJRCDlr7nlupTor6XnianmlpnnmoTnibnlvoHpobloYXNoXHJcbiAgICogQHJldHVybnMgXHJcbiAgICovXHJcbiAgcHVibGljIGdldENvbmZpZ2VkVmFsdWVCeUZlYXR1cmVJZChtYXRlcmlhbElkOiBzdHJpbmcsIGNvbmZpZ0lEOiBzdHJpbmcsIGNvbmZpZ1R5cGU6IHN0cmluZyA9ICdNYXRlcmlhbHMnKTogT2JzZXJ2YWJsZTxSZXNwb25zZUluZm8+IHtcclxuICAgIGNvbnN0IHVybCA9ICcvYXBpL2JmL2RmL3YxLjAvY2hhcmFjdGNvbmZpZ3NlcnZpY2Uvc2VydmljZS9nZXRjaGFyYWN0Y29uZmlnaW5mbyc7XHJcbiAgICBjb25zdCBib2R5ID0geyBvYmpUeXBlOiBjb25maWdUeXBlLCBvYmpJRDogbWF0ZXJpYWxJZCwgY29uZmlnSUQgfTtcclxuICAgIGNvbnN0IGJlZlJlcG9zaXRvcnk6IEJlZlJlcG9zaXRvcnk8YW55PiA9IHRoaXMucmVwb3NpdG9yeSBhcyBCZWZSZXBvc2l0b3J5PGFueT47XHJcbiAgICBjb25zdCBvcHRpb25zID0ge1xyXG4gICAgICBib2R5XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGJlZlJlcG9zaXRvcnkucHJveHkucmVxdWVzdCh1cmwsICdwdXQnLCBudWxsLCBvcHRpb25zKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog5L+d5a2Y54mp5paZ54m55b6B6aG5XHJcbiAgICogQHBhcmFtIG1hdGVyaWFsSWQg54mp5paZaWRcclxuICAgKiBAcGFyYW0gY2hhcmFjdFZhbHVlIOeJueW+geWAvFxyXG4gICAqIEBwYXJhbSBjb25maWdUeXBlIOmFjee9ruexu+Wei1xyXG4gICAqIEByZXR1cm5zIFxyXG4gICAqL1xyXG4gIHB1YmxpYyBhcHBseUZlYXR1cmVzKG1hdGVyaWFsSWQ6IHN0cmluZywgY2hhcmFjdFZhbHVlOiBhbnksIGNvbmZpZ1R5cGU6IHN0cmluZyA9ICdNYXRlcmlhbHMnKSB7XHJcbiAgICBjb25zdCBib2R5ID0geyBvYmpUeXBlOiBjb25maWdUeXBlLCBvYmpJRDogbWF0ZXJpYWxJZCwgY2hhcmFjdFZhbHVlIH07XHJcbiAgICBjb25zdCBiZWZSZXBvc2l0b3J5OiBCZWZSZXBvc2l0b3J5PGFueT4gPSB0aGlzLnJlcG9zaXRvcnkgYXMgQmVmUmVwb3NpdG9yeTxhbnk+O1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgYm9keVxyXG4gICAgfTtcclxuICAgIHJldHVybiBiZWZSZXBvc2l0b3J5LnByb3h5LnJlcXVlc3QoJy9hcGkvYmYvZGYvdjEuMC9jaGFyYWN0Y29uZmlnc2VydmljZS9zZXJ2aWNlL21hdGNoY2hhcmFjdGNvbmZpZ2lkJywgJ3B1dCcsIG51bGwsIG9wdGlvbnMpO1xyXG4gIH1cclxuICAvKipcclxuICAgKiDojrflj5bluK7liqnkv6Hmga9cclxuICAgKiBAcGFyYW0gaGVscGlkIOW4ruWKqWlkXHJcbiAgICogQHBhcmFtIGZpbHRlciDov4fmu6TmnaHku7ZcclxuICAgKiBAcGFyYW0gcGFyYW1zIOWPguaVsFxyXG4gICAqIEByZXR1cm5zIFxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRIZWxwSW5mbyhoZWxwaWQ6IHN0cmluZywgZmlsdGVyOiBzdHJpbmcsIHBhcmFtczogYW55KTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IHVybCA9ICcvYXBpL3NjbS9zY21mbmQvdjEuMC9zY21jb21tb25jbXBzZXJ2aWNlL3NlcnZpY2UvZ2V0aGVscGRhdGEnO1xyXG4gICAgY29uc3QgaHR0cFBhcmFtczogYW55ID0ge307XHJcbiAgICBpZiAocGFyYW1zKSB7XHJcbiAgICAgIGlmIChwYXJhbXMucGFnZUluZGV4KSB7XHJcbiAgICAgICAgaHR0cFBhcmFtc1sncGFnZUluZGV4J10gPSBKU09OLnN0cmluZ2lmeShwYXJhbXMucGFnZUluZGV4IC0gMCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHBhcmFtcy5wYWdlU2l6ZSkge1xyXG4gICAgICAgIGh0dHBQYXJhbXNbJ3BhZ2VTaXplJ10gPSBKU09OLnN0cmluZ2lmeShwYXJhbXMucGFnZVNpemUgLSAwKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocGFyYW1zLmNvbmRpdGlvbikge1xyXG4gICAgICAgIGh0dHBQYXJhbXNbJ2NvbmRpdGlvbiddID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zLmNvbmRpdGlvbik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHBhcmFtcy5zZWFyY2hWYWx1ZSkge1xyXG4gICAgICAgIGh0dHBQYXJhbXNbJ3NlYXJjaCddID0gcGFyYW1zLnNlYXJjaFZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBib2R5ID0ge1xyXG4gICAgICBoZWxwSUQ6IGhlbHBpZCxcclxuICAgICAgcXVlcnlQYXJhbTogSlNPTi5zdHJpbmdpZnkoaHR0cFBhcmFtcyksXHJcbiAgICAgIGZpbHRlclN0cjogZmlsdGVyXHJcbiAgICB9O1xyXG4gICAgY29uc3QgYmVmUmVwb3NpdG9yeTogQmVmUmVwb3NpdG9yeTxhbnk+ID0gdGhpcy5yZXBvc2l0b3J5IGFzIEJlZlJlcG9zaXRvcnk8YW55PjtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgIGJvZHlcclxuICAgIH07XHJcbiAgICByZXR1cm4gYmVmUmVwb3NpdG9yeS5wcm94eS5yZXF1ZXN0KHVybCwgJ3B1dCcsIG51bGwsIG9wdGlvbnMpO1xyXG4gIH1cclxufSJdfQ==