/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ElementRef, Input, Output, EventEmitter, HostListener, ViewChild, forwardRef } from '@angular/core';
import { Observable } from 'rxjs';
import { NotifyService } from '@farris/ui-notify';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
import { LocaleService } from '@farris/ui-locale';
/**
 * @record
 */
export function upImageFile() { }
if (false) {
    /** @type {?} */
    upImageFile.prototype.size;
    /** @type {?} */
    upImageFile.prototype.name;
    /** @type {?} */
    upImageFile.prototype.type;
    /** @type {?|undefined} */
    upImageFile.prototype.lastModified;
    /** @type {?|undefined} */
    upImageFile.prototype.lastModifiedDate;
    /** @type {?|undefined} */
    upImageFile.prototype.state;
    /** @type {?|undefined} */
    upImageFile.prototype.base64;
}
export class AvatarComponent {
    /**
     * @param {?} notifyService
     * @param {?} localeService
     */
    constructor(notifyService, localeService) {
        this.notifyService = notifyService;
        this.localeService = localeService;
        this.defaultImgSrc = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAZABkAAD/2wBDAAwICQoJBwwKCQoNDAwOER0TERAQESMZGxUdKiUsKyklKCguNEI4LjE/MigoOk46P0RHSktKLTdRV1FIVkJJSkf/2wBDAQwNDREPESITEyJHMCgwR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0f/wAARCAEsASwDASIAAhEBAxEB/8QAGgABAQEBAQEBAAAAAAAAAAAAAAECAwQFB//EADMQAQEAAQEECAQGAgMBAAAAAAABAhEDITFBBBRRUmFxgaESkcHwEyIysdHhM3IjQvE0/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/xAAXEQEBAQEAAAAAAAAAAAAAAAAAEQEh/9oADAMBAAIRAxEAPwD9BBYqCiyAGhougIqyGgEhIui6AyuixdATQ0WQA0BdA4houhoCaGgugMrouhoCaJoum80BNDRdDQGTRbEBNCxdDQGTRUBE0asQGRTQGTT71WxNPP5AugqyACyAC6dpIsgGgshoBISKAiroQDQ0OSyAgoBoaABoaABomigJTRQGV0XRATRGizUGRSwGdEsaqAljLQDOiNWJQZNJ4KffEFIRYAsFkAkFkAJFFkAkNCLIAAAC6AguhoCCl3TW2TzugIHx4S788Z6wmWN4ZY3ysoA1pu+qAgpYCAAaIoDIoCaJZvVAQ03LUBlGqWAzYmimn3vAaRYA1IkWASKKACgirIgAsgBoBdJNbZNN9t3aeIHNw2vSccbZhPxLN27dJ68/Rx222u1/LjbNn8vi/ieHPm58N03SKN5bfa58c7jOzHd78XOyXfd98bqoCaScp8jSdk+SgLjlljdccssfK12w6TlN2cmXjN1/iuAD34Z47Sa43XTjLus82nz5bjl8WNss4WPXsNtNpNLuzk3zlZ2wHUsBBF5CAFgAhouiUGRUBErSAyffFamgKqKCqkUBYcgBpADiuhoAKeYA8fStp8WX4WPCfq8b2eT1bXObPZZZ8bJrJ23lHz5rpvutu+3tvOqAAAAAAAACy3HKZY3Sy6yoA+hs85tMJlN2vGdlaeTomem0+C/9pu849SAKlARQERrkgJUWoCUVKDIqb/ugqxFBVRQFFBFABRAUAHn6bl+XDGc7bfT/ANeV26XddvJ2Yz3tcVAAAAAAAAAAFxy+HKZTjLq+l+z5j6Gzuuywt54z9jRoEQAARSoCCoCIqAIJQaCLzBZxCAKC8wIAChOIAADxdL/+i/6z6uTt0yabfXtxnta4qAAAAAAAAAAD37H/AAbP/WPBwfQ2c02WE7MYaNAIIoAhzCggHMEqaNIDNPviHoAsRqcAFSKC8iIoHNUAUAAAHl6ZPzbPLtln1ed7el467DXu2X0+68SgAAAAAAAAABpru7bo+npy7Po8HR8fi2+M46XW+Ue4ABAAAQAQUvAEvBL6BQS8U3feqpv7fcFnBUUBUUBScQFRUBQAAATKTLG43nLL6vnaWWy8ZdL5x9J4ulY/DtrZwymvrzUcgAAAAAAAANdwPT0LH9Wd8MZ+9elnY4fh7HHG8prfOtIAABQAQAKi1AE5KlBD09hPl7gKjUAVFBeYTiAqKgKAAAA5dKw+PY2ya5Y/mn19nVQfMG9th+HtbjOF3zyrCgAAAAAA6dHw+PbSWfln5r6Ob29Gw+DZS2fmy33y5T6g7cbreaAgAAAAgqAcgqfIBOapQSnr7lPS/IEaScAFVFgKIoKioCgAABgADj0nZ/HstZvyx3zxnN4+T6b52ePw7TLGcJbIoyAAAAADex2f4m1mN1+Gb75Tl9H0PbweboeOmGWXO3T0n/r0AAIAAAACKgHJFpyBEpyARFT74gKnNQVeaRQF5IoKTiigCKAAACZWY4/FlZMZxt3SAvnuna+dnlM8885wyts8nXb9I/Elw2e7G7rleN8J4ePNxUAAAAAAeroeUuFx7LrPKvQ+djlcMpljdLHs2W3x2k0/Tl2W8fLtB1C8ewQAAEUBDmt4oBeJeCAIUARFvBN3gByVAFUIChzWcAOSpGdpnjs5rnlMdeHbfKcwb58x5c+l23TZ7P1y3e0+rldvtcuO0snZjJFHvtmM1ysnjbpHHLpOyx3TK5eGM1eKyW63W3tt1UHfPpeV3YYTGduW+/JwyuWd1zyuVnDXhPKcgAAAAAAAAAAB0w2+0w3TKZTsy3+7tj0vG/rxyxvbN8eUB9DDa7PP9OeNvZrpfdu8OD5mkvGNY55Y/pzyx8ruIPePJj0nazj8OU8ZpfZ1w6Ts8rJlrhfHfPmg7FKgAF4AgVARPW/NanoAsZaBVlZUFVF4g57fbfhY7pLld0l/e+EeO23K5ZW5ZXjb97o1tcvj22WXHS/DPKMqAAAAAAAAAAAAAAAAAAAAAAOux212d0ttwvGdnjHr3ceMfPevo2XxbLTu3T0B1TmHJAZVOYF4p98xPviBFScQGlRZxBdS3TG3slvsibS/8WX+t/YHhx/TPGaqk4TyVQAAAAAAAAAAAAAAAAAAAAAAd+iX82c7ZL9/Nwdui/5b/rfoD00vARAQqAhfvcVNfL3A1WMqDSxmVQVNr/iz4/pv7LDOXLDLGcbNPDeDxTh6DtOjZaafFju816tlf+2Puo4Dv1bPvY+51bLvY+5RwHfq2Xex9zquXex9yjgO/Vcu9j7nVc+9j7lHAd+q597H3Oq597H3BwHfqufex9zqufex9yjgO/Vc+9j7nVc+9j7lHAd+q597H3Oq597H3KOA79Vz72PudVz72PuUcB36rl3sfc6rn3sfco4DvejZd7H3OrZd7H3KOA79Wy72PudWz72PuDg7dG/y3/W/Q6tl3sfdvY7K7PO25S6yzSdoOqWlEBmhaBamt+6J6AnmqaqDQy0CxYyoNCKC6m/VAGhPJdQBOSgKi6+QGu41QBRAF1LUABbUABNdAVOYUC0tE13gIWloCcTXeloFQLQTmffMtT74gixOa6gqysrzBVSVQVdWdQGpRNV1BV10SUlBYIvIF1E1Ne0F5iAKIAohaCmqWgBaapqC2ohqC6pqWoC2paa70tAqCACACa+F+RanyAWJ/a8vkAuqT6fVf7AVOz0X+AXVYh2egNSifx9T+wVWefyX+PqCyrqn807PQFEn0+p/YKH9H37gAc/kC6onL0P5BRP6OV8vqC2of2l/gAOSAuqan9J/AKmon9AUtL9PqnP1oCWl5ehfv5gh635nP1qWg//Z';
        this.errorImgSrc = 'data:image/jpeg;base64,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';
        // @Input() cover = '';
        this.tReadOnly = false;
        // @Input() type;
        this.size = 1;
        this.avatarWidth = 100;
        this.avatarHeight = 100;
        this.imgShape = 'circle';
        this.imgtitle = '点击修改';
        // @Input() isBase64:boolean = true;
        this.imgChange = new EventEmitter();
        this.onChangeCallback = (/**
         * @return {?}
         */
        () => { });
        this.onTouchedCallback = (/**
         * @return {?}
         */
        () => { });
        this.imgType = 'image/*';
        this.currentImgType = ['image/image', 'image/webp', 'image/png', 'image/svg', 'image/gif', 'image/jpg', 'image/jpeg', 'image/bmp'];
        this.notifyService.config.position = 'top-center';
    }
    /**
     * @param {?} value
     * @return {?}
     */
    set readonly(value) {
        if (value !== this.tReadOnly) {
            /** @type {?} */
            let localeTitle = this.localeService.getValue('avatar.imgtitle');
            this.imgtitle = value ? '' : (this.imgTitle ? this.imgTitle : localeTitle);
            this.tReadOnly = value;
        }
    }
    ;
    /**
     * @return {?}
     */
    get readonly() {
        return this.tReadOnly;
    }
    /**
     * @param {?} val
     * @return {?}
     */
    set type(val) {
        if (val && val.length) {
            /** @type {?} */
            let types = val;
            if (typeof val === 'string') {
                types = val.split(',');
            }
            if (types && types.length) {
                this.currentImgType = [];
                types.forEach((/**
                 * @param {?} t
                 * @return {?}
                 */
                t => {
                    if ((typeof t == 'string') && t.constructor == String) {
                        /** @type {?} */
                        let tImgtype = 'image/' + t;
                        if (t === 'jpg') {
                            /** @type {?} */
                            let jpgType = 'image/jpeg';
                            this.currentImgType.push(jpgType);
                        }
                        this.currentImgType.push(tImgtype);
                    }
                }));
                if (this.currentImgType.length > 0) {
                    this.imgType = this.currentImgType.join(',');
                }
            }
        }
    }
    /**
     * @return {?}
     */
    get type() {
        return this._type;
    }
    /**
     * @param {?} val
     * @return {?}
     */
    set cover(val) {
        if (val) {
            this._cover = val;
            this.imgsrcInit(this.cover);
        }
        else {
            this.imgSrc = this.defaultImgSrc;
        }
    }
    /**
     * @return {?}
     */
    get cover() {
        return this._cover;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        // if(this.cover){
        //   this.imgsrcInit(this.cover);
        // }
        // else{
        //   this.imgSrc = this.defaultImgSrc;
        // }
        if (this.readonly) {
            this.imgtitle = '';
        }
        else if (this.imgTitle) {
            this.imgtitle = this.imgTitle;
        }
        else {
            this.imgtitle = this.localeService.getValue('avatar.imgtitle');
        }
    }
    /*判断cover数据格式，做出修改赋值给imgSrc
      */
    /**
     * @param {?} val
     * @return {?}
     */
    imgsrcInit(val) {
        /** @type {?} */
        let isImg = this.isSrc(val);
        if (isImg) {
            this.imgSrc = val;
        }
        else {
            /** @type {?} */
            let isFullBase64 = this.isBaseSrc(val);
            if (isFullBase64) {
                this.imgSrc = val;
            }
            else {
                this.imgSrc = this.addBase64(val);
            }
        }
    }
    /**
     * @return {?}
     */
    onClick() {
        if (this.readonly) {
            return;
        }
        ((/** @type {?} */ (this.file.nativeElement))).click();
    }
    /**
     * @param {?} event
     * @return {?}
     */
    getfiledata(event) {
        if (this.readonly) {
            return;
        }
        /** @type {?} */
        const filetarget = (/** @type {?} */ (event.target));
        /** @type {?} */
        let getfile = filetarget.files;
        if (!getfile[0]) {
            return;
        }
        /** @type {?} */
        let fileType = getfile[0].type;
        /** @type {?} */
        const isLtSize = getfile[0].size / 1024 / 1024 < this.size;
        if (this.currentImgType.indexOf(fileType) < 0) {
            /** @type {?} */
            let typeerrorText = this.localeService.getValue('avatar.typeError');
            this.notifyService.error({
                type: 'error',
                title: '',
                msg: typeerrorText
            });
            filetarget.value = '';
            // this.notifyService.error('上传图片类型不正确');
            return;
        }
        if (!isLtSize) {
            /** @type {?} */
            let sizeerrorText = this.localeService.getValue('avatar.sizeError');
            /** @type {?} */
            let errormes = sizeerrorText + this.size + "M!";
            this.notifyService.error({
                type: 'error',
                title: '',
                msg: errormes
            });
            filetarget.value = '';
            // this.notifyService.error(`上传图片不能大于${this.size}M!`);
            return;
        }
        this.transformFile(getfile[0]);
        filetarget.value = '';
    }
    /**
     * @return {?}
     */
    getImgFileObj() {
        return this.imgFileObj;
    }
    /**
     * @param {?} getfile
     * @return {?}
     */
    transformFile(getfile) {
        // const subject = new Subject();
        this.imgFileObj = {
            size: getfile.size,
            name: getfile.name,
            type: getfile.type,
            lastModified: getfile.lastModified,
            lastModifiedDate: getfile.lastModifiedDate
        };
        this.do(getfile).subscribe((/**
         * @param {?} res
         * @return {?}
         */
        res => {
            this.loadingImg = false;
            if (res['state'] === 'done') {
                this.imgSrc = res['result'];
                //this.onChangeCallback(this.imgSrc);
                this.onChangeCallback(this.removeBase64(this.imgSrc));
                this.onTouchedCallback();
            }
            else if (res['state'] === 'error') {
                /** @type {?} */
                let uploaderrorText = this.localeService.getValue('avatar.uploadError');
                this.notifyService.error({
                    type: 'error',
                    title: '',
                    msg: uploaderrorText
                });
                // this.notifyService.error('图片上传失败，请重试!');
            }
            this.imgFileObj.state = res['state'];
            this.imgFileObj.base64 = res['result'];
            this.imgChange.emit(this.imgFileObj);
        }));
    }
    /**
     * @param {?} file
     * @return {?}
     */
    read(file) {
        return Observable.create((/**
         * @param {?} observer
         * @return {?}
         */
        observer => {
            /** @type {?} */
            const reader = new FileReader();
            reader.readAsDataURL(file);
            //this.loadingImg = true;
            // reader.onloadstart=function(){}
            reader.onload = (/**
             * @return {?}
             */
            () => {
                //console.log(reader.result);
                observer.next({ state: 'done', 'result': reader.result });
                observer.complete();
            });
            reader.onerror = (/**
             * @return {?}
             */
            function () {
                observer.next({ state: 'error', 'result': reader.result });
                observer.complete();
            });
        }));
    }
    /**
     * @param {?} file
     * @return {?}
     */
    do(file) {
        return this.read((/** @type {?} */ (file)));
    }
    /**
     * @param {?} val
     * @return {?}
     */
    writeValue(val) {
        if (val && val.length) {
            // if(this.isBase64){
            //   this.imgSrc = this.addBase64(val);
            // }
            // else{
            //   this.imgSrc = val;
            // }
            this.imgsrcInit(val);
        }
        else if (this.cover) {
            this.imgsrcInit(this.cover);
        }
        else {
            this.imgSrc = this.defaultImgSrc;
        }
    }
    /**
     * @param {?} fn
     * @return {?}
     */
    registerOnChange(fn) {
        this.onChangeCallback = fn;
    }
    /**
     * @param {?} fn
     * @return {?}
     */
    registerOnTouched(fn) {
        this.onTouchedCallback = fn;
    }
    // setDisabledState?(isDisabled: boolean): void {
    //     this.disabled = isDisabled;
    // }
    /**
     * @param {?} val
     * @return {?}
     */
    addBase64(val) {
        if (!val)
            return;
        return 'data:image/jpeg;base64,' + val;
    }
    /**
     * @param {?} val
     * @return {?}
     */
    removeBase64(val) {
        if (!val)
            return;
        /** @type {?} */
        let img_arr = val.split(',');
        if (img_arr.length) {
            return img_arr[1];
        }
    }
    //判断是否是图片路径
    /**
     * @param {?} url
     * @return {?}
     */
    isSrc(url) {
        return (url.match(/\.(jpeg|jpg|gif|png|svg|bmp|webp)$/) != null);
    }
    //判断是否是完成base64
    /**
     * @param {?} url
     * @return {?}
     */
    isBaseSrc(url) {
        return (url.indexOf('data:image/') > -1 ? true : false);
    }
    /**
     * @return {?}
     */
    errorSrc() {
        this.imgSrc = this.errorImgSrc;
        this.imgtitle = this.localeService.getValue('avatar.loadError');
    }
}
AvatarComponent.decorators = [
    { type: Component, args: [{
                selector: 'farris-avatar',
                template: "<div class=\"f-avatar\" \r\n    [ngClass]=\"{'f-avatar-readonly': tReadOnly,'f-avatar-circle':imgShape === 'circle','f-avatar-square':imgShape === 'square'}\" \r\n    [ngStyle]=\"{'width': avatarWidth+'px','height':avatarHeight+'px'}\">\r\n    <ng-container *ngIf=\"loadingImg\">\r\n        <div class=\"f-avatar-upload-loading\">\r\n            <div class=\"loading-inner\">\r\n                \u52A0\u8F7D\u4E2D\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <img \r\n    [title]=\"imgtitle\" \r\n    class=\"f-avatar-image\"\r\n    [attr.src]=\"imgSrc\"\r\n    (error)=\"errorSrc()\"\r\n    >\r\n    <div class=\"f-avatar-icon\" *ngIf=\"!tReadOnly\">\r\n        <span class=\"f-icon f-icon-camera\"></span>\r\n    </div>\r\n    <input type=\"file\" class=\"f-avatar-upload\" [accept]='imgType' (change)=\"getfiledata($event)\" #file style=\"display: none;\">\r\n</div>",
                providers: [
                    {
                        provide: NG_VALUE_ACCESSOR,
                        useExisting: forwardRef((/**
                         * @return {?}
                         */
                        () => AvatarComponent)),
                        multi: true
                    }
                ],
                styles: [".f-avatar{position:relative;cursor:pointer;overflow:hidden}.f-avatar.f-avatar-readonly{cursor:default}.f-avatar.f-avatar-circle{border-radius:100%;overflow:hidden}.f-avatar.f-avatar-square{border-radius:0}.f-avatar .f-avatar-defult,.f-avatar .f-avatar-image{display:inline-block;width:100%;height:100%}.f-avatar .f-avatar-icon{display:none;position:absolute;left:0;right:0;top:0;bottom:0;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;background:rgba(0,0,0,.3)}.f-avatar .f-avatar-icon .f-icon{font-size:24px;color:#fff}.f-avatar.f-avatar-circle .f-avatar-icon{border-radius:100%}.f-avatar.f-avatar-square .f-avatar-icon{border-radius:0}.f-avatar .f-avatar-upload-loading{position:absolute;left:0;top:0;display:inline-block;width:100%;height:100%;background-color:rgba(0,0,0,.15)}.f-avatar .f-avatar-upload-loading .loading-inner{position:absolute;width:100%;left:0;top:50%;margin-top:-25px;height:50px;line-height:50px;text-align:center;font-size:16px;color:#fff}.f-avatar:hover .f-avatar-icon{display:-webkit-box;display:flex}"]
            }] }
];
/** @nocollapse */
AvatarComponent.ctorParameters = () => [
    { type: NotifyService },
    { type: LocaleService }
];
AvatarComponent.propDecorators = {
    file: [{ type: ViewChild, args: ['file',] }],
    readonly: [{ type: Input }],
    size: [{ type: Input }],
    imgTitle: [{ type: Input }],
    avatarWidth: [{ type: Input }],
    avatarHeight: [{ type: Input }],
    imgShape: [{ type: Input }],
    imgChange: [{ type: Output, args: ['imgChange',] }],
    type: [{ type: Input }],
    cover: [{ type: Input }],
    onClick: [{ type: HostListener, args: ['click',] }]
};
if (false) {
    /**
     * @type {?}
     * @private
     */
    AvatarComponent.prototype.defaultImgSrc;
    /**
     * @type {?}
     * @private
     */
    AvatarComponent.prototype.errorImgSrc;
    /** @type {?} */
    AvatarComponent.prototype.imgSrc;
    /** @type {?} */
    AvatarComponent.prototype.file;
    /** @type {?} */
    AvatarComponent.prototype.tReadOnly;
    /** @type {?} */
    AvatarComponent.prototype.size;
    /** @type {?} */
    AvatarComponent.prototype.imgTitle;
    /** @type {?} */
    AvatarComponent.prototype.avatarWidth;
    /** @type {?} */
    AvatarComponent.prototype.avatarHeight;
    /** @type {?} */
    AvatarComponent.prototype.imgShape;
    /** @type {?} */
    AvatarComponent.prototype.imgtitle;
    /** @type {?} */
    AvatarComponent.prototype.imgChange;
    /** @type {?} */
    AvatarComponent.prototype._type;
    /** @type {?} */
    AvatarComponent.prototype._cover;
    /**
     * @type {?}
     * @private
     */
    AvatarComponent.prototype.onChangeCallback;
    /**
     * @type {?}
     * @private
     */
    AvatarComponent.prototype.onTouchedCallback;
    /** @type {?} */
    AvatarComponent.prototype.loadingImg;
    /** @type {?} */
    AvatarComponent.prototype.imgType;
    /** @type {?} */
    AvatarComponent.prototype.imgFileObj;
    /** @type {?} */
    AvatarComponent.prototype.currentImgType;
    /**
     * @type {?}
     * @private
     */
    AvatarComponent.prototype.notifyService;
    /** @type {?} */
    AvatarComponent.prototype.localeService;
    /* Skipping unhandled member: ;*/
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXZhdGFyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvdWktYXZhdGFyLyIsInNvdXJjZXMiOlsibGliL2F2YXRhci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQXdCLFVBQVUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM5SSxPQUFPLEVBQUUsVUFBVSxFQUFXLE1BQU0sTUFBTSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNsRCxPQUFPLEVBQXdCLGlCQUFpQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDekUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1CQUFtQixDQUFDOzs7O0FBRWxELGlDQVFDOzs7SUFQQywyQkFBYTs7SUFDYiwyQkFBYTs7SUFDYiwyQkFBYTs7SUFDYixtQ0FBc0I7O0lBQ3RCLHVDQUF3Qjs7SUFDeEIsNEJBQWU7O0lBQ2YsNkJBQWdCOztBQWVsQixNQUFNLE9BQU8sZUFBZTs7Ozs7SUFpRjFCLFlBQW9CLGFBQTRCLEVBQVMsYUFBNEI7UUFBakUsa0JBQWEsR0FBYixhQUFhLENBQWU7UUFBUyxrQkFBYSxHQUFiLGFBQWEsQ0FBZTtRQWhGN0Usa0JBQWEsR0FBRyx5c0dBQXlzRyxDQUFBO1FBQ3p0RyxnQkFBVyxHQUFHLDZrRkFBNmtGLENBQUM7O1FBS3BtRixjQUFTLEdBQVksS0FBSyxDQUFDOztRQWNsQixTQUFJLEdBQVcsQ0FBQyxDQUFDO1FBRWpCLGdCQUFXLEdBQVcsR0FBRyxDQUFDO1FBQzFCLGlCQUFZLEdBQVcsR0FBRyxDQUFDO1FBQzNCLGFBQVEsR0FBVyxRQUFRLENBQUM7UUFDckMsYUFBUSxHQUFXLE1BQU0sQ0FBQzs7UUFFTCxjQUFTLEdBQUcsSUFBSSxZQUFZLEVBQUUs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d0I7O0lBQ3hCLHlDQUE4SDs7Ozs7SUFDbEgsd0NBQW9DOztJQUFFLHdDQUFtQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBWaWV3Q2hpbGRyZW4sIEVsZW1lbnRSZWYsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgSG9zdExpc3RlbmVyLCBWaWV3Q2hpbGQsIGZvcndhcmRSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBOb3RpZnlTZXJ2aWNlIH0gZnJvbSAnQGZhcnJpcy91aS1ub3RpZnknO1xyXG5pbXBvcnQgeyBDb250cm9sVmFsdWVBY2Nlc3NvciwgTkdfVkFMVUVfQUNDRVNTT1IgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcbmltcG9ydCB7IExvY2FsZVNlcnZpY2UgfSBmcm9tICdAZmFycmlzL3VpLWxvY2FsZSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIHVwSW1hZ2VGaWxlIHtcclxuICBzaXplOiBudW1iZXI7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHR5cGU6IHN0cmluZztcclxuICBsYXN0TW9kaWZpZWQ/OiBzdHJpbmc7XHJcbiAgbGFzdE1vZGlmaWVkRGF0ZT86IERhdGU7XHJcbiAgc3RhdGU/OiBzdHJpbmc7XHJcbiAgYmFzZTY0Pzogc3RyaW5nO1xyXG59XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2ZhcnJpcy1hdmF0YXInLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9hdmF0YXIuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL2F2YXRhci5jb21wb25lbnQuc2NzcyddLFxyXG4gIHByb3ZpZGVyczogW1xyXG4gICAge1xyXG4gICAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcclxuICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gQXZhdGFyQ29tcG9uZW50KSxcclxuICAgICAgbXVsdGk6IHRydWVcclxuICAgIH1cclxuICBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBBdmF0YXJDb21wb25lbnQgaW1wbGVtZW50cyBDb250cm9sVmFsdWVBY2Nlc3NvciwgT25Jbml0IHtcclxuICBwcml2YXRlIGRlZmF1bHRJbWdTcmMgPSAnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwvOWovNEFBUVNrWkpSZ0FCQVFFQVpBQmtBQUQvMndCREFBd0lDUW9KQnd3S0NRb05EQXdPRVIwVEVSQVFFU01aR3hVZEtpVXNLeWtsS0NndU5FSTRMakUvTWlnb09rNDZQMFJIU2t0S0xUZFJWMUZJVmtKSlNrZi8yd0JEQVF3TkRSRVBFU0lURXlKSE1DZ3dSMGRIUjBkSFIwZEhSMGRIUjBkSFIwZEhSMGRIUjBkSFIwZEhSMGRIUjBkSFIwZEhSMGRIUjBkSFIwZEhSMGRIUjBmL3dBQVJDQUVzQVN3REFTSUFBaEVCQXhFQi84UUFHZ0FCQVFFQkFRRUJBQUFBQUFBQUFBQUFBQUVDQXdRRkIvL0VBRE1RQVFFQUFRRUVDQVFHQWdNQkFBQUFBQUFCQWhFRElURkJCQlJSVW1GeGdhRVNrY0h3RXlJeXNkSGhNM0lqUXZFMC84UUFGUUVCQVFBQUFBQUFBQUFBQUFBQUFBQUFBQUgveEFBWEVRRUJBUUVBQUFBQUFBQUFBQUFBQUFBQUVRRWgvOW9BREFNQkFBSVJBeEVBUHdEOUJCWXFDaXlBR2hvdWdJcXlHZ0VoSXVpNkF5dWl4ZEFUUTBXUUEwQmRBNGhvdWhvQ2FHZ3VnTXJvdWhvQ2FKb3VtODBCTkRSZERRR1RSYkVCTkN4ZERRR1RSVUJFMGFzUUdSVFFHVFQ3MVd4TlBQNUF1Z3F5QUN5QUM2ZHBJc2dHZ3Nob0JJU0tBaXJvUURRME9TeUFnb0JvYUFCb2FBQm9taWdKVFJRR1YwWFJBVFJHaXpVR1JTd0dkRXNhcUFsakxRRE9pTldKUVpOSjRLZmZFRklSWUFzRmtBa0ZrQUpGRmtBa05DTElBQUFDNkFndWhvQ0NsM1RXMlR6dWdJSHg0Uzc4OFo2d21XTjRaWTN5c29BMXB1K3FBZ3BZQ0FBYUlvRElvQ2FKWnZWQVEwM0xVQmxHcVdBelltaW1uM3ZBYVJZQTFJa1dBU0tLQUNnaXJJZ0FzZ0JvQmRKTmJaTk45dDNhZUlITncydlNjY2JaaFB4TE4yN2RKNjgvUngyMjJ1MS9MamJObjh2aS9pZUhQbTU4TjAzU0tONWJmYTU4YzdqT3pIZDc4WE95WGZkOThicW9DYVNjcDhqU2RrK1NnTGpsbGpkY2Nzc2ZLMTJ3NlRsTjJjbVhqTjEvaXVBRDM0WjQ3U2E0M1hUakx1czgybno1YmpsOFdOc3M0V1BYc050TnBOTHV6azN6bFoyd0hVc0JCRjVDQUZnQWhvdWlVR1JVQkVyU0F5ZmZGYW1nS3FLQ3FrVUJZY2dCcEFEaXVob0FLZVlBOGZTdHA4V1g0V1BDZnE4YjJlVDFiWE9iUFpaWjhiSnJKMjNsSHo1cnB2dXR1KzN0dk9xQUFBQUFBQUFDeTNIS1pZM1N5NnlvQStoczg1dE1KbE4ydkdkbGFlVG9tZW0wK0MvOXB1ODQ5U0FLbEFSUUVScmtnSlVXb0NVVktESXFiL3VncXhGQlZSUUZGQkZBQlJBVUFIbjZibCtYREdjN2JmVC9BTmVWMjZYZGR2SjJZejN0Y1ZBQUFBQUFBQUFBRnh5K0hLWlRqTHErbCt6NWo2R3p1dXl3dDU0ejlqUm9FUUFBUlNvQ0NvQ0lxQUlKUWFDTHpCWnhDQUtDOHdJQUNoT0lBQUR4ZEwvK2kvNno2dVR0MHlhYmZYdHhudGE0cUFBQUFBQUFBQUFEMzdIL0FBYlAvV1BCd2ZRMmMwMldFN01ZYU5BSUlvQWh6Q2dnSE1FcWFOSUROUHZpSG9Bc1JxY0FGU0tDOGlJb0hOVUFVQUFBSGw2WlB6YlBMdGxuMWVkN2VsNDY3RFh1MlgwKzY4U2dBQUFBQUFBQUFCcHJ1N2JvK25weTdQbzhIUjhmaTIrTTQ2WFcrVWU0QUJBQUFRQVFVdkFFdkJMNkJRUzhVM2ZlcXB2N2ZjRm5CVVVCVVVCU2NRRlJVQlFBQUFUS1RMRzQzbkxMNnZuYVdXeThaZEw1eDlKNHVsWS9EdHJad3ltdnJ6VWNnQUFBQUFBQUFOZHdQVDBMSDlXZDhNWis5ZWxuWTRmaDdISEc4cHJmT3RJQUFCUUFRQUtpMUFFNUtsQkQwOWhQbDdnS2pVQVZGQmVZVGlBcUtnS0FBQUE1ZEt3K1BZMnlhNVkvbW4xOW5WUWZNRzl0aCtIdGJqT0YzenlyQ2dBQUFBQUE2ZEh3K1BiU1dmbG41cjZPYjI5R3crRFpTMmZteTMzeTVUNmc3Y2JyZWFBZ0FBQUFncUFjZ3FmSUJPYXBRU25yN2xQUy9JRWFTY0FGVkZnS0lvS2lvQ2dBQUJnQURqMG5aL0hzdFp2eXgzenhuTjQrVDZiNTJlUHc3VExHY0piSW95QUFBQUFEZXgyZjRtMW1OMStHYjc1VGw5SDBQYndlYm9lT21HV1hPM1Qwbi9yMEFBSUFBQUFDS2dISkZweUJFcHlBUkZUNzRnS25OUVZlYVJRRjVJb0tUaWlnQ0tBQUFDWldZNC9GbFpNWnh0M1NBdm51bmErZG5sTTg4ODV3eXRzOG5YYjlJL0VsdzJlN0c3cmxlTjhKNGVQTnhVQUFBQUFBZXJvZVV1Rng3THJQS3ZRK2RqbGNNcGxqZExIczJXM3gyazAvVGwyVzhmTHRCMUM4ZXdRQUFFVUJEbXQ0b0JlSmVDQUlVQVJGdkJOM2dCeVZBRlVJQ2h6V2NBT1NwR2RwbmpzNXJubE1kZUhiZktjd2I1OHg1YytsMjNUWjdQMXkzZTArcmxkdnRjdU8wc25aakpGSHZ0bU0xeXNuamJwSEhMcE95eDNUSzVlR00xZUt5VzYzVzN0dDFVSGZQcGVWM1lZVEdkdVcrL0p3eXVXZDF6eXVWbkRYaFBLY2dBQUFBQUFBQUFBQjB3MiswdzNUS1pUc3kzKzd0ajB2Ry9yeHl4dmJOOGVVQjlERGE3UFA5T2VOdlpycGZkdThPRDVta3ZHTlk1NVkvcHp5eDhydUlQZVBKajBuYXpqOE9VOFpwZloxdzZUczhySmxyaGZIZlBtZzdGS2dBRjRBZ1ZBUlBXL05hbm9Bc1phQlZsWlVGVkY0ZzU3ZmJmaFk3cExsZDBsL2UrRWVPMjNLNVpXNVpYamI5N28xdGN2ajIyV1hIUy9EUEtNcUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFPdXgyMTJkMHR0d3ZHZG5qSHIzY2VNZlBldm8yWHhiTFR1M1QwQjFUbUhKQVpWT1lGNHA5OHhQdmlCRlNjUUdsUlp4QmRTM1RHM3NsdnNpYlMvOFdYK3QvWUhoeC9UUEdhcWs0VHlWUUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFkK2lYODJjN1pMOS9Od2R1aS81Yi9yZm9EMDB2QVJBUXFBaGZ2Y1ZOZkwzQTFXTXFEU3htVlFWTnIvaXo0L3B2N0xET1hMRExHY2JOUERlRHhUaDZEdE9qWmFhZkZqdTgxNnRsZisyUHVvNER2MWJQdlkrNTFiTHZZKzVSd0hmcTJYZXg5enF1WGV4OXlqZ08vVmN1OWo3blZjKzlqN2xIQWQrcTU5N0gzT3E1OTdIM0J3SGZxdWZleDl6cXVmZXg5eWpnTy9WYys5ajduVmMrOWo3bEhBZCtxNTk3SDNPcTU5N0gzS09BNzlWejcyUHVkVno3MlB1VWNCMzZybDNzZmM2cm4zc2ZjbzREdmVqWmQ3SDNPclpkN0gzS09BNzlXeTcyUHVkV3o3MlB1RGc3ZEcveTMvVy9RNnRsM3NmZHZZN0s3UE8yNVM2eXpTZG9PcVdsRUJtaGFCYW10KzZKNkFubXFhcURReTBDeFl5b05DS0M2bS9WQUdoUEpkUUJPU2dLaTYrUUd1NDFRQlJBRjFMVUFCYlVBQk5kQVZPWVVDMHRFMTNnSVdsb0NjVFhlbG9GUUxRVG1mZk10VDc0Z2l4T2E2Z3F5c3J6QlZTVlFWZFdkUUdwUk5WMUJWMTBTVWxCWUl2SUYxRTFOZTBGNWlBS0lBb2hhQ21xV2dCYWFwcUMyb2hxQzZwcVdvQzJwYWE3MHRBcUNBQ0FDYStGK1JhbnlBV0ovYTh2a0F1cVQ2ZlZmN0FWT3owWCtBWFZZaDJlZ05TaWZ4OVQrd1ZXZWZ5WCtQcUN5cnFuODA3UFFGRW4wK3AvWUtIOUgzN2dBYy9rQzZvbkwwUDVCUlA2T1Y4dnFDMm9mMmwvZ0FPU0F1cWFuOUovQUttb245QVV0TDlQcW5QMW9DV2w1ZWhmdjVnaDYzNW5QMXFXZy8vWidcclxuICBwcml2YXRlIGVycm9ySW1nU3JjID0gJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQsLzlqLzRBQVFTa1pKUmdBQkFRQUFTQUJJQUFELzRRQkFSWGhwWmdBQVRVMEFLZ0FBQUFnQUFZZHBBQVFBQUFBQkFBQUFHZ0FBQUFBQUFxQUNBQVFBQUFBQkFBQUFaS0FEQUFRQUFBQUJBQUFBWkFBQUFBRC83UUE0VUdodmRHOXphRzl3SURNdU1BQTRRa2xOQkFRQUFBQUFBQUE0UWtsTkJDVUFBQUFBQUJEVUhZelpqd0N5Qk9tQUNaanMrRUorLzhBQUVRZ0FaQUJrQXdFaUFBSVJBUU1SQWYvRUFCOEFBQUVGQVFFQkFRRUJBQUFBQUFBQUFBQUJBZ01FQlFZSENBa0tDLy9FQUxVUUFBSUJBd01DQkFNRkJRUUVBQUFCZlFFQ0F3QUVFUVVTSVRGQkJoTlJZUWNpY1JReWdaR2hDQ05Dc2NFVlV0SHdKRE5pY29JSkNoWVhHQmthSlNZbktDa3FORFUyTnpnNU9rTkVSVVpIU0VsS1UxUlZWbGRZV1ZwalpHVm1aMmhwYW5OMGRYWjNlSGw2ZzRTRmhvZUlpWXFTazVTVmxwZVltWnFpbzZTbHBxZW9xYXF5czdTMXRyZTR1YnJDdzhURnhzZkl5Y3JTMDlUVjF0ZlkyZHJoNHVQazVlYm42T25xOGZMejlQWDI5L2o1K3YvRUFCOEJBQU1CQVFFQkFRRUJBUUVBQUFBQUFBQUJBZ01FQlFZSENBa0tDLy9FQUxVUkFBSUJBZ1FFQXdRSEJRUUVBQUVDZHdBQkFnTVJCQVVoTVFZU1FWRUhZWEVUSWpLQkNCUkNrYUd4d1Frak0xTHdGV0p5MFFvV0pEVGhKZkVYR0JrYUppY29LU28xTmpjNE9UcERSRVZHUjBoSlNsTlVWVlpYV0ZsYVkyUmxabWRvYVdwemRIVjJkM2g1ZW9LRGhJV0doNGlKaXBLVGxKV1dsNWlabXFLanBLV21wNmlwcXJLenRMVzJ0N2k1dXNMRHhNWEd4OGpKeXRMVDFOWFcxOWpaMnVMajVPWG01K2pwNnZMejlQWDI5L2o1K3YvYkFFTUFBUUVCQVFFQkFnRUJBZ01DQWdJREJBTURBd01FQlFRRUJBUUVCUVlGQlFVRkJRVUdCZ1lHQmdZR0JnY0hCd2NIQndnSUNBZ0lDUWtKQ1FrSkNRa0pDZi9iQUVNQkFRRUJBZ0lDQkFJQ0JBa0dCUVlKQ1FrSkNRa0pDUWtKQ1FrSkNRa0pDUWtKQ1FrSkNRa0pDUWtKQ1FrSkNRa0pDUWtKQ1FrSkNRa0pDUWtKQ1FrSkNmL2RBQVFBQi8vYUFBd0RBUUFDRVFNUkFEOEEvc3dvb29vQUtLS0tBQ2lpaWdBb29vb0FLS0tLQUNpaWlnQW9vb29BLzlEK3pDaWlpZ0FvcnQvaDdiV2wzNGtTRzhqV1ZkakVCaGtaQTlEWGJYL2ppejB2VkpkS3M5S1YzamtNWXdRdTQ1d01BSWV0QUhpZURqZGppa3I2RDhjNjROUDhPQ3h1VVVYTjRtM3l3Y2hSL0VmdzZBK3ZOZVVlRWZETTNpUFVOalpXM2l3Wlc5djdvOXorbEFISjBWN1pxZnhDMHZTcm82VnAxbWs5dkFOZ0lZS01qcUYrVThEMTcvenovd0RoWVBoNmYvajcwbERucjl4djVxS0FQSTZLOWMvNFN2NGZ6ZjYvU2l2KzdISC9BRVlWZHV0TThHNng0WHU5WjBtMU1SaERCU2NxUXlnSHBrakhOQUhpMUZGRkFCUlJSUUIvLzlIK3pDaWlpZ0RzL2g5SjVmaXkxSFp0NC84QUhHcS9xMS9Ib1B4Qm0xQ1dMelZqazNGZjk1UnlQY1p5S3d2QjBubGVKN0p2V1FEOHhpdFA0aVI3UEZjN2YzMVEvd0Rqb0g5S0FPeDhUYUJGNHl0eDRrOFBUZWM0VUswUlBZZGg2SDI3L3dBK1I4RytKbThOWDcyV29LUmJ5bmJJQ09VWWNaeC9NVnptaWE3cU9nWFl1N0I4ZjNsUDNXSG9SWHBQaktIVE5ZOE1RK0t4RDVGektWSCs5a2tZUHJ3TWc5Y1VBYzc0MThLTHBFZzFYVFBuc3ArUmprSVQyK2g3SDhQcmhlRnREWHhEckNhZkkreE1GbUk2NEhwNzE2aDRSYVcwOEhUemVKU0RZa0h5MFljN0QvUW43b3J4eXcxRzUwcStXLzA1akc2RTdlL0I3SDE0b0E5QjhhK0NMSFF0UFhVdE5kOW9ZS3l1UWV2UWc0SDVWYzB6L1IvaGRkeWYzM1A2c3ExeE91K0xOWThReHBEZnNvalE1Q29NRFBxZVRtdTNtL2NmQ2lOZThyZisxU2Y1Q2dEeUtpaWlnQW9vb29BLy85TCt6Q2lpaWdEWDhQeWVWcjFsSjZUeC93RG9RcnJ2aWZIczhTSzM5K0ZUK3JEK2xjSFpTZVZlUlMvM1hVL2thOXI4ZCtGTlgxN1U0Ym5UVVZsV0xZeFpnTUVNVDllOUFIaGdCSndPcHI2UnYvREl2N1hUZEl1T0xXMFVOTDJ5VVVLQitPVG4ycnl5THdacVdqNnpwNDFYWjVjODZyOHB6eUNEZzlPdGQ1NDcxeTVhZUx3cHBoMnpYZTBPNTRBVmpnRFB2Mzl1S0FPQjhjZUp4ck4wTlBzRGl6dHpoY2RHSTQzZlFkQi85ZXVDcjBpWDRYZUlrNWprZ2Y2TVIvTmF6SmZoOTRyaTVGc0hIK3k2L3dCU0tBT0tyMXp4Qi9vL3cyMCtMKyt5ZnFHYXVGbDhKZUpZZnYyVXAvM1YzZnl6WGVlT2thMThJNlRaU0FxeWhNZzhFRlk4SFA1MEFlUTBVVVVBRkZGRkFILy8wLzdNS0tLS0FDdmZmRzh2aVdTT3lrOFBHWWlSV0wrU0Qvc2taSTZkVFhnVmQzRDhSZkVrRnNsdEcwZUkxQ2hpdVRnY2M4NG9Bb1grbitNWVZYVmRVUzRJZ0lZUElTMjA1R0R5VGptdlJmRmVoWGZqQ3lzZGMwWlZNalIvTUNRT0R5QmsraHlLODMxTHhuNGkxYTFheXZKOHhQOEFlVlZVWng3Z1pyTXN0ZTFyVG94QlkzVXNhRG9vWTdSK0hTZ0RyUDdBK0l0ai9xdnRDZ2YzSmdmMERVdjIvd0NKTmwxRjF4M01aY2ZtUWF5NHZIbml5SDd0MlQvdktoL21LMG92aVo0bWorK1lwUDhBZVQvQWlnQi8vQ2RlTmJQL0FJK3VjZjhBUFNJRCtRRmJ2eFVsY3c2ZEcvM2lIWS9YQzFSaStLdXJML3I3YUZ2OTNjdjh5YTVYeFQ0b204VDNFVTBzUWlFU2tBQTU2OVRuaWdEbHFLS0tBQ2lpaWdELzFQN01LS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQUtLS0tBUC9WL3N3b29vb0FLS0tLQUNpaWlnQW9vb29BS0tLS0FDaWlpZ0Fvb29vQS85az0nO1xyXG4gIHB1YmxpYyBpbWdTcmM7XHJcbiAgLy8gcHVibGljIGZpbGVCaW5hcnk6IHN0cmluZztcclxuICBAVmlld0NoaWxkKCdmaWxlJykgZmlsZTogRWxlbWVudFJlZjtcclxuICAvLyBASW5wdXQoKSBjb3ZlciA9ICcnO1xyXG4gIHRSZWFkT25seTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpXHJcbiAgc2V0IHJlYWRvbmx5KHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICBpZiAodmFsdWUgIT09IHRoaXMudFJlYWRPbmx5KSB7XHJcbiAgICAgIGxldCBsb2NhbGVUaXRsZSA9IHRoaXMubG9jYWxlU2VydmljZS5nZXRWYWx1ZSgnYXZhdGFyLmltZ3RpdGxlJyk7XHJcbiAgICAgIHRoaXMuaW1ndGl0bGUgPSB2YWx1ZSA/ICcnIDogKHRoaXMuaW1nVGl0bGUgPyB0aGlzLmltZ1RpdGxlIDogbG9jYWxlVGl0bGUpO1xyXG4gICAgICB0aGlzLnRSZWFkT25seSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICB9O1xyXG4gIGdldCByZWFkb25seSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLnRSZWFkT25seTtcclxuICB9XHJcbiAgLy8gQElucHV0KCkgdHlwZTtcclxuICBASW5wdXQoKSBzaXplOiBudW1iZXIgPSAxO1xyXG4gIEBJbnB1dCgpIGltZ1RpdGxlOiBzdHJpbmc7XHJcbiAgQElucHV0KCkgYXZhdGFyV2lkdGg6IG51bWJlciA9IDEwMDtcclxuICBASW5wdXQoKSBhdmF0YXJIZWlnaHQ6IG51bWJlciA9IDEwMDtcclxuICBASW5wdXQoKSBpbWdTaGFwZTogc3RyaW5nID0gJ2NpcmNsZSc7XHJcbiAgaW1ndGl0bGU6IHN0cmluZyA9ICfngrnlh7vkv67mlLknO1xyXG4gIC8vIEBJbnB1dCgpIGlzQmFzZTY0OmJvb2xlYW4gPSB0cnVlO1xyXG4gIEBPdXRwdXQoJ2ltZ0NoYW5nZScpIGltZ0NoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcbiAgX3R5cGU7XHJcbiAgQElucHV0KClcclxuICBzZXQgdHlwZSh2YWwpIHtcclxuICAgIGlmICh2YWwgJiYgdmFsLmxlbmd0aCkge1xyXG4gICAgICBsZXQgdHlwZXMgPSB2YWw7XHJcbiAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHR5cGVzID0gdmFsLnNwbGl0KCcsJyk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHR5cGVzICYmIHR5cGVzLmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudEltZ1R5cGUgPSBbXTtcclxuICAgICAgICB0eXBlcy5mb3JFYWNoKHQgPT4ge1xyXG4gICAgICAgICAgaWYgKCh0eXBlb2YgdCA9PSAnc3RyaW5nJykgJiYgdC5jb25zdHJ1Y3RvciA9PSBTdHJpbmcpIHtcclxuICAgICAgICAgICAgbGV0IHRJbWd0eXBlID0gJ2ltYWdlLycgKyB0O1xyXG4gICAgICAgICAgICBpZiAodCA9PT0gJ2pwZycpIHtcclxuICAgICAgICAgICAgICBsZXQganBnVHlwZSA9ICdpbWFnZS9qcGVnJztcclxuICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbWdUeXBlLnB1c2goanBnVHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW1nVHlwZS5wdXNoKHRJbWd0eXBlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50SW1nVHlwZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICB0aGlzLmltZ1R5cGUgPSB0aGlzLmN1cnJlbnRJbWdUeXBlLmpvaW4oJywnKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBnZXQgdHlwZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl90eXBlO1xyXG4gIH1cclxuICBfY292ZXI7XHJcbiAgQElucHV0KClcclxuICBzZXQgY292ZXIodmFsKSB7XHJcbiAgICBpZiAodmFsKSB7XHJcbiAgICAgIHRoaXMuX2NvdmVyID0gdmFsO1xyXG4gICAgICB0aGlzLmltZ3NyY0luaXQodGhpcy5jb3Zlcik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5pbWdTcmMgPSB0aGlzLmRlZmF1bHRJbWdTcmM7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdldCBjb3ZlcigpIHtcclxuICAgIHJldHVybiB0aGlzLl9jb3ZlcjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25DaGFuZ2VDYWxsYmFjazogRnVuY3Rpb24gPSAoKSA9PiB7IH1cclxuICBwcml2YXRlIG9uVG91Y2hlZENhbGxiYWNrOiBGdW5jdGlvbiA9ICgpID0+IHsgfVxyXG4gIC8v5piv5ZCm5Yqg6L295LitXHJcbiAgbG9hZGluZ0ltZzogYm9vbGVhbjtcclxuICBpbWdUeXBlID0gJ2ltYWdlLyonO1xyXG4gIGltZ0ZpbGVPYmo6IHVwSW1hZ2VGaWxlO1xyXG4gIGN1cnJlbnRJbWdUeXBlID0gWydpbWFnZS9pbWFnZScsICdpbWFnZS93ZWJwJywgJ2ltYWdlL3BuZycsICdpbWFnZS9zdmcnLCAnaW1hZ2UvZ2lmJywgJ2ltYWdlL2pwZycsICdpbWFnZS9qcGVnJywgJ2ltYWdlL2JtcCddO1xyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbm90aWZ5U2VydmljZTogTm90aWZ5U2VydmljZSwgcHVibGljIGxvY2FsZVNlcnZpY2U6IExvY2FsZVNlcnZpY2UpIHtcclxuICAgIHRoaXMubm90aWZ5U2VydmljZS5jb25maWcucG9zaXRpb24gPSAndG9wLWNlbnRlcic7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIC8vIGlmKHRoaXMuY292ZXIpe1xyXG4gICAgLy8gICB0aGlzLmltZ3NyY0luaXQodGhpcy5jb3Zlcik7XHJcbiAgICAvLyB9XHJcbiAgICAvLyBlbHNle1xyXG4gICAgLy8gICB0aGlzLmltZ1NyYyA9IHRoaXMuZGVmYXVsdEltZ1NyYztcclxuICAgIC8vIH1cclxuICAgIGlmICh0aGlzLnJlYWRvbmx5KSB7XHJcbiAgICAgIHRoaXMuaW1ndGl0bGUgPSAnJztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMuaW1nVGl0bGUpIHtcclxuICAgICAgdGhpcy5pbWd0aXRsZSA9IHRoaXMuaW1nVGl0bGU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5pbWd0aXRsZSA9IHRoaXMubG9jYWxlU2VydmljZS5nZXRWYWx1ZSgnYXZhdGFyLmltZ3RpdGxlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8q5Yik5patY292ZXLmlbDmja7moLzlvI/vvIzlgZrlh7rkv67mlLnotYvlgLznu5lpbWdTcmNcclxuICAqL1xyXG4gIGltZ3NyY0luaXQodmFsKSB7XHJcbiAgICBsZXQgaXNJbWcgPSB0aGlzLmlzU3JjKHZhbCk7XHJcbiAgICBpZiAoaXNJbWcpIHtcclxuICAgICAgdGhpcy5pbWdTcmMgPSB2YWw7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgbGV0IGlzRnVsbEJhc2U2NCA9IHRoaXMuaXNCYXNlU3JjKHZhbCk7XHJcbiAgICAgIGlmIChpc0Z1bGxCYXNlNjQpIHtcclxuICAgICAgICB0aGlzLmltZ1NyYyA9IHZhbFxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaW1nU3JjID0gdGhpcy5hZGRCYXNlNjQodmFsKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQEhvc3RMaXN0ZW5lcignY2xpY2snKVxyXG4gIG9uQ2xpY2soKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5yZWFkb25seSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAodGhpcy5maWxlLm5hdGl2ZUVsZW1lbnQgYXMgSFRNTElucHV0RWxlbWVudCkuY2xpY2soKTtcclxuICB9XHJcblxyXG4gIGdldGZpbGVkYXRhKGV2ZW50KSB7XHJcbiAgICBpZiAodGhpcy5yZWFkb25seSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBmaWxldGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBsZXQgZ2V0ZmlsZSA9IGZpbGV0YXJnZXQuZmlsZXM7XHJcbiAgICBpZiAoIWdldGZpbGVbMF0pIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IGZpbGVUeXBlID0gZ2V0ZmlsZVswXS50eXBlO1xyXG4gICAgY29uc3QgaXNMdFNpemUgPSBnZXRmaWxlWzBdLnNpemUgLyAxMDI0IC8gMTAyNCA8IHRoaXMuc2l6ZTtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRJbWdUeXBlLmluZGV4T2YoZmlsZVR5cGUpIDwgMCkge1xyXG4gICAgICBsZXQgdHlwZWVycm9yVGV4dCA9IHRoaXMubG9jYWxlU2VydmljZS5nZXRWYWx1ZSgnYXZhdGFyLnR5cGVFcnJvcicpO1xyXG4gICAgICB0aGlzLm5vdGlmeVNlcnZpY2UuZXJyb3Ioe1xyXG4gICAgICAgIHR5cGU6ICdlcnJvcicsXHJcbiAgICAgICAgdGl0bGU6ICcnLFxyXG4gICAgICAgIG1zZzogdHlwZWVycm9yVGV4dFxyXG4gICAgICB9KTtcclxuICAgICAgZmlsZXRhcmdldC52YWx1ZSA9ICcnO1xyXG4gICAgICAvLyB0aGlzLm5vdGlmeVNlcnZpY2UuZXJyb3IoJ+S4iuS8oOWbvueJh+exu+Wei+S4jeato+ehricpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc0x0U2l6ZSkge1xyXG4gICAgICBsZXQgc2l6ZWVycm9yVGV4dCA9IHRoaXMubG9jYWxlU2VydmljZS5nZXRWYWx1ZSgnYXZhdGFyLnNpemVFcnJvcicpO1xyXG4gICAgICBsZXQgZXJyb3JtZXM6IHN0cmluZyA9IHNpemVlcnJvclRleHQgKyB0aGlzLnNpemUgKyBcIk0hXCI7XHJcbiAgICAgIHRoaXMubm90aWZ5U2VydmljZS5lcnJvcih7XHJcbiAgICAgICAgdHlwZTogJ2Vycm9yJyxcclxuICAgICAgICB0aXRsZTogJycsXHJcbiAgICAgICAgbXNnOiBlcnJvcm1lc1xyXG4gICAgICB9KTtcclxuICAgICAgZmlsZXRhcmdldC52YWx1ZSA9ICcnO1xyXG4gICAgICAvLyB0aGlzLm5vdGlmeVNlcnZpY2UuZXJyb3IoYOS4iuS8oOWbvueJh+S4jeiDveWkp+S6jiR7dGhpcy5zaXplfU0hYCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMudHJhbnNmb3JtRmlsZShnZXRmaWxlWzBdKTtcclxuICAgIGZpbGV0YXJnZXQudmFsdWUgPSAnJztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRJbWdGaWxlT2JqKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaW1nRmlsZU9iajtcclxuICB9XHJcblxyXG4gIHRyYW5zZm9ybUZpbGUoZ2V0ZmlsZTogYW55KSB7XHJcbiAgICAvLyBjb25zdCBzdWJqZWN0ID0gbmV3IFN1YmplY3QoKTtcclxuICAgIHRoaXMuaW1nRmlsZU9iaiA9IHtcclxuICAgICAgc2l6ZTogZ2V0ZmlsZS5zaXplLFxyXG4gICAgICBuYW1lOiBnZXRmaWxlLm5hbWUsXHJcbiAgICAgIHR5cGU6IGdldGZpbGUudHlwZSxcclxuICAgICAgbGFzdE1vZGlmaWVkOiBnZXRmaWxlLmxhc3RNb2RpZmllZCxcclxuICAgICAgbGFzdE1vZGlmaWVkRGF0ZTogZ2V0ZmlsZS5sYXN0TW9kaWZpZWREYXRlXHJcbiAgICB9XHJcbiAgICB0aGlzLmRvKGdldGZpbGUpLnN1YnNjcmliZShyZXMgPT4ge1xyXG4gICAgICB0aGlzLmxvYWRpbmdJbWcgPSBmYWxzZTtcclxuICAgICAgaWYgKHJlc1snc3RhdGUnXSA9PT0gJ2RvbmUnKSB7XHJcbiAgICAgICAgdGhpcy5pbWdTcmMgPSByZXNbJ3Jlc3VsdCddO1xyXG5cclxuICAgICAgICAvL3RoaXMub25DaGFuZ2VDYWxsYmFjayh0aGlzLmltZ1NyYyk7XHJcbiAgICAgICAgdGhpcy5vbkNoYW5nZUNhbGxiYWNrKHRoaXMucmVtb3ZlQmFzZTY0KHRoaXMuaW1nU3JjKSk7XHJcbiAgICAgICAgdGhpcy5vblRvdWNoZWRDYWxsYmFjaygpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKHJlc1snc3RhdGUnXSA9PT0gJ2Vycm9yJykge1xyXG4gICAgICAgIGxldCB1cGxvYWRlcnJvclRleHQgPSB0aGlzLmxvY2FsZVNlcnZpY2UuZ2V0VmFsdWUoJ2F2YXRhci51cGxvYWRFcnJvcicpO1xyXG4gICAgICAgIHRoaXMubm90aWZ5U2VydmljZS5lcnJvcih7XHJcbiAgICAgICAgICB0eXBlOiAnZXJyb3InLFxyXG4gICAgICAgICAgdGl0bGU6ICcnLFxyXG4gICAgICAgICAgbXNnOiB1cGxvYWRlcnJvclRleHRcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vIHRoaXMubm90aWZ5U2VydmljZS5lcnJvcign5Zu+54mH5LiK5Lyg5aSx6LSl77yM6K+36YeN6K+VIScpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuaW1nRmlsZU9iai5zdGF0ZSA9IHJlc1snc3RhdGUnXTtcclxuICAgICAgdGhpcy5pbWdGaWxlT2JqLmJhc2U2NCA9IHJlc1sncmVzdWx0J107XHJcbiAgICAgIHRoaXMuaW1nQ2hhbmdlLmVtaXQodGhpcy5pbWdGaWxlT2JqKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVhZChmaWxlOiBGaWxlKTogT2JzZXJ2YWJsZTxzdHJpbmc+IHtcclxuICAgIHJldHVybiBPYnNlcnZhYmxlLmNyZWF0ZShvYnNlcnZlciA9PiB7XHJcbiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAvL3RoaXMubG9hZGluZ0ltZyA9IHRydWU7XHJcbiAgICAgIC8vIHJlYWRlci5vbmxvYWRzdGFydD1mdW5jdGlvbigpe31cclxuICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKHJlYWRlci5yZXN1bHQpO1xyXG4gICAgICAgIG9ic2VydmVyLm5leHQoeyBzdGF0ZTogJ2RvbmUnLCAncmVzdWx0JzogcmVhZGVyLnJlc3VsdCB9KTtcclxuICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xyXG4gICAgICB9O1xyXG4gICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBvYnNlcnZlci5uZXh0KHsgc3RhdGU6ICdlcnJvcicsICdyZXN1bHQnOiByZWFkZXIucmVzdWx0IH0pO1xyXG4gICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBkbyhmaWxlOiBhbnkpOiBPYnNlcnZhYmxlPHN0cmluZz4ge1xyXG4gICAgcmV0dXJuIHRoaXMucmVhZChmaWxlIGFzIEZpbGUpO1xyXG4gIH1cclxuXHJcbiAgd3JpdGVWYWx1ZSh2YWw6IGFueSk6IHZvaWQge1xyXG4gICAgaWYgKHZhbCAmJiB2YWwubGVuZ3RoKSB7XHJcbiAgICAgIC8vIGlmKHRoaXMuaXNCYXNlNjQpe1xyXG4gICAgICAvLyAgIHRoaXMuaW1nU3JjID0gdGhpcy5hZGRCYXNlNjQodmFsKTtcclxuICAgICAgLy8gfVxyXG4gICAgICAvLyBlbHNle1xyXG4gICAgICAvLyAgIHRoaXMuaW1nU3JjID0gdmFsO1xyXG4gICAgICAvLyB9XHJcbiAgICAgIHRoaXMuaW1nc3JjSW5pdCh2YWwpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGhpcy5jb3Zlcikge1xyXG4gICAgICB0aGlzLmltZ3NyY0luaXQodGhpcy5jb3Zlcik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5pbWdTcmMgPSB0aGlzLmRlZmF1bHRJbWdTcmM7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJlZ2lzdGVyT25DaGFuZ2UoZm46IGFueSk6IHZvaWQge1xyXG4gICAgdGhpcy5vbkNoYW5nZUNhbGxiYWNrID0gZm47XHJcbiAgfVxyXG4gIHJlZ2lzdGVyT25Ub3VjaGVkKGZuOiBhbnkpOiB2b2lkIHtcclxuICAgIHRoaXMub25Ub3VjaGVkQ2FsbGJhY2sgPSBmbjtcclxuICB9XHJcbiAgLy8gc2V0RGlzYWJsZWRTdGF0ZT8oaXNEaXNhYmxlZDogYm9vbGVhbik6IHZvaWQge1xyXG4gIC8vICAgICB0aGlzLmRpc2FibGVkID0gaXNEaXNhYmxlZDtcclxuICAvLyB9XHJcblxyXG4gIGFkZEJhc2U2NCh2YWwpIHtcclxuICAgIGlmICghdmFsKSByZXR1cm47XHJcbiAgICByZXR1cm4gJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQsJyArIHZhbDtcclxuICB9XHJcblxyXG4gIHJlbW92ZUJhc2U2NCh2YWwpIHtcclxuICAgIGlmICghdmFsKSByZXR1cm47XHJcbiAgICBsZXQgaW1nX2FyciA9IHZhbC5zcGxpdCgnLCcpO1xyXG4gICAgaWYgKGltZ19hcnIubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiBpbWdfYXJyWzFdO1xyXG4gICAgfVxyXG5cclxuICB9XHJcbiAgLy/liKTmlq3mmK/lkKbmmK/lm77niYfot6/lvoRcclxuICBpc1NyYyh1cmwpIHtcclxuICAgIHJldHVybiAodXJsLm1hdGNoKC9cXC4oanBlZ3xqcGd8Z2lmfHBuZ3xzdmd8Ym1wfHdlYnApJC8pICE9IG51bGwpXHJcbiAgfVxyXG4gIC8v5Yik5pat5piv5ZCm5piv5a6M5oiQYmFzZTY0XHJcbiAgaXNCYXNlU3JjKHVybCkge1xyXG4gICAgcmV0dXJuICh1cmwuaW5kZXhPZignZGF0YTppbWFnZS8nKSA+IC0xID8gdHJ1ZSA6IGZhbHNlKVxyXG4gIH1cclxuXHJcbiAgZXJyb3JTcmMoKSB7XHJcbiAgICB0aGlzLmltZ1NyYyA9IHRoaXMuZXJyb3JJbWdTcmM7XHJcbiAgICB0aGlzLmltZ3RpdGxlID0gdGhpcy5sb2NhbGVTZXJ2aWNlLmdldFZhbHVlKCdhdmF0YXIubG9hZEVycm9yJyk7XHJcbiAgfVxyXG5cclxufVxyXG4iXX0=