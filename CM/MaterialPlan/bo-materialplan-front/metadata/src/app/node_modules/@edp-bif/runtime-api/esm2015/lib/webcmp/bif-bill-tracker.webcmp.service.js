/**
 * @fileoverview added by tsickle
 * Generated from: lib/webcmp/bif-bill-tracker.webcmp.service.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable, Optional } from '@angular/core';
import { BillTrackerUiService } from '../bill-tracker/services/bill-tracker-ui.service';
import { GetBillsInfoArgs } from '../entity/tracking/GetBillsInfoArgs';
import { BindingData, ViewModel, FrameContext } from '@farris/devkit';
import { canJSONParse } from '../utils/ObjectUtils';
/**
 * 单据追踪web构件服务类
 */
export class BifBillTrackerWebCmpService {
    /**
     * @param {?} trackerUiService
     * @param {?} bindingData
     * @param {?} viewModel
     * @param {?} frameContext
     */
    constructor(trackerUiService, bindingData, viewModel, frameContext) {
        this.trackerUiService = trackerUiService;
        this.bindingData = bindingData;
        this.viewModel = viewModel;
        this.frameContext = frameContext;
    }
    /**
     * 打开单据追踪弹窗
     * @param {?} args 单据Id或者单据查询参数
     * @param {?=} maximized 是否最大化弹窗
     * @param {?=} modalOptions 弹窗配置
     * @param {?=} graphOptions 单据追踪图配置
     * @param {?=} gridOptions 单据追踪数据表配置
     * @return {?} billTrackerComponent 单据追踪组件 \@type { Observable<BillTrackerComponent> }
     */
    openDialog(args, maximized, modalOptions, graphOptions, gridOptions) {
        if (typeof args == "string" && canJSONParse((/** @type {?} */ (args)))) {
            args = JSON.parse((/** @type {?} */ (args)));
        }
        else {
            args = (/** @type {?} */ (args));
        }
        maximized = (/** @type {?} */ (maximized)) === "" || maximized == null ? undefined : maximized;
        modalOptions = (/** @type {?} */ (modalOptions)) === "" || modalOptions == null ? undefined : modalOptions;
        graphOptions = (/** @type {?} */ (graphOptions)) === "" || graphOptions == null ? undefined : graphOptions;
        gridOptions = (/** @type {?} */ (gridOptions)) === "" || gridOptions == null ? undefined : gridOptions;
        /** @type {?} */
        const argz = new GetBillsInfoArgs();
        if (typeof args == "string") {
            argz.billDataId = args;
        }
        else {
            argz.LoadFromJsonObject(args);
        }
        return this.trackerUiService.openDefaultBillTrackerDialog(argz, maximized, modalOptions, graphOptions, gridOptions);
    }
    /**
     * 打开单据追踪App
     * @param {?} args 单据Id或者单据查询参数
     * @param {?=} graphOptions 单据追踪图配置
     * @param {?=} gridOptions 单据追踪数据表配置
     * @return {?}
     */
    openApp(args, graphOptions, gridOptions) {
        if (typeof args == "string" && canJSONParse((/** @type {?} */ (args)))) {
            args = JSON.parse((/** @type {?} */ (args)));
        }
        else {
            args = (/** @type {?} */ (args));
        }
        graphOptions = (/** @type {?} */ (graphOptions)) === "" || graphOptions == null ? undefined : graphOptions;
        gridOptions = (/** @type {?} */ (gridOptions)) === "" || gridOptions == null ? undefined : gridOptions;
        /** @type {?} */
        const argz = new GetBillsInfoArgs();
        if (typeof args == "string") {
            argz.billDataId = args;
        }
        else {
            argz.LoadFromJsonObject(args);
        }
        this.trackerUiService.openDefaultBillTrackerApp(argz, graphOptions, gridOptions);
    }
}
BifBillTrackerWebCmpService.decorators = [
    { type: Injectable }
];
/** @nocollapse */
BifBillTrackerWebCmpService.ctorParameters = () => [
    { type: BillTrackerUiService },
    { type: BindingData, decorators: [{ type: Optional }] },
    { type: ViewModel, decorators: [{ type: Optional }] },
    { type: FrameContext, decorators: [{ type: Optional }] }
];
if (false) {
    /** @type {?} */
    BifBillTrackerWebCmpService.prototype.trackerUiService;
    /** @type {?} */
    BifBillTrackerWebCmpService.prototype.bindingData;
    /** @type {?} */
    BifBillTrackerWebCmpService.prototype.viewModel;
    /** @type {?} */
    BifBillTrackerWebCmpService.prototype.frameContext;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmlmLWJpbGwtdHJhY2tlci53ZWJjbXAuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BlZHAtYmlmL3J1bnRpbWUtYXBpLyIsInNvdXJjZXMiOlsibGliL3dlYmNtcC9iaWYtYmlsbC10cmFja2VyLndlYmNtcC5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDckQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sa0RBQWtELENBQUM7QUFDeEYsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0scUNBQXFDLENBQUM7QUFJdkUsT0FBTyxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFHdEUsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLHNCQUFzQixDQUFDOzs7O0FBTXBELE1BQU0sT0FBTywyQkFBMkI7Ozs7Ozs7SUFDcEMsWUFDVyxnQkFBc0MsRUFDMUIsV0FBd0IsRUFDeEIsU0FBb0IsRUFDcEIsWUFBMEI7UUFIdEMscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFzQjtRQUMxQixnQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQUN4QixjQUFTLEdBQVQsU0FBUyxDQUFXO1FBQ3BCLGlCQUFZLEdBQVosWUFBWSxDQUFjO0lBR2pELENBQUM7Ozs7Ozs7Ozs7SUFXTSxVQUFVLENBQUMsSUFBK0IsRUFBRSxTQUFtQixFQUFFLFlBQTJCLEVBQUUsWUFBc0MsRUFBRSxXQUFvQztRQUM3SyxJQUFJLE9BQU8sSUFBSSxJQUFJLFFBQVEsSUFBSSxZQUFZLENBQUMsbUJBQUEsSUFBSSxFQUFVLENBQUMsRUFBRTtZQUN6RCxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxtQkFBQSxJQUFJLEVBQVUsQ0FBQyxDQUFDO1NBQ3JDO2FBQU07WUFDSCxJQUFJLEdBQUcsbUJBQUEsSUFBSSxFQUFVLENBQUM7U0FDekI7UUFDRCxTQUFTLEdBQUcsbUJBQUEsU0FBUyxFQUFPLEtBQUssRUFBRSxJQUFJLFNBQVMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO1FBQ2pGLFlBQVksR0FBRyxtQkFBQSxZQUFZLEVBQU8sS0FBSyxFQUFFLElBQUksWUFBWSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUM7UUFDN0YsWUFBWSxHQUFHLG1CQUFBLFlBQVksRUFBTyxLQUFLLEVBQUUsSUFBSSxZQUFZLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQztRQUM3RixXQUFXLEdBQUcsbUJBQUEsV0FBVyxFQUFPLEtBQUssRUFBRSxJQUFJLFdBQVcsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDOztjQUVuRixJQUFJLEdBQUcsSUFBSSxnQkFBZ0IsRUFBRTtRQUNuQyxJQUFJLE9BQU8sSUFBSSxJQUFJLFFBQVEsRUFBRTtZQUN6QixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztTQUMxQjthQUFNO1lBQ0gsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ2pDO1FBRUQsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsNEJBQTRCLENBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsWUFBWSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQ3hILENBQUM7Ozs7Ozs7O0lBUU0sT0FBTyxDQUFDLElBQStCLEVBQUUsWUFBc0MsRUFBRSxXQUFvQztRQUN4SCxJQUFJLE9BQU8sSUFBSSxJQUFJLFFBQVEsSUFBSSxZQUFZLENBQUMsbUJBQUEsSUFBSSxFQUFVLENBQUMsRUFBRTtZQUN6RCxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxtQkFBQSxJQUFJLEVBQVUsQ0FBQyxDQUFDO1NBQ3JDO2FBQU07WUFDSCxJQUFJLEdBQUcsbUJBQUEsSUFBSSxFQUFVLENBQUM7U0FDekI7UUFDRCxZQUFZLEdBQUcsbUJBQUEsWUFBWSxFQUFPLEtBQUssRUFBRSxJQUFJLFlBQVksSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDO1FBQzdGLFdBQVcsR0FBRyxtQkFBQSxXQUFXLEVBQU8sS0FBSyxFQUFFLElBQUksV0FBVyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUM7O2NBRW5GLElBQUksR0FBRyxJQUFJLGdCQUFnQixFQUFFO1FBQ25DLElBQUksT0FBTyxJQUFJLElBQUksUUFBUSxFQUFFO1lBQ3pCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1NBQzFCO2FBQU07WUFDSCxJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDakM7UUFFRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMseUJBQXlCLENBQUMsSUFBSSxFQUFFLFlBQVksRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNyRixDQUFDOzs7WUFoRUosVUFBVTs7OztZQWJGLG9CQUFvQjtZQUtwQixXQUFXLHVCQVlYLFFBQVE7WUFaSyxTQUFTLHVCQWF0QixRQUFRO1lBYmdCLFlBQVksdUJBY3BDLFFBQVE7Ozs7SUFIVCx1REFBNkM7O0lBQzdDLGtEQUEyQzs7SUFDM0MsZ0RBQXVDOztJQUN2QyxtREFBNkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBPcHRpb25hbCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBCaWxsVHJhY2tlclVpU2VydmljZSB9IGZyb20gJy4uL2JpbGwtdHJhY2tlci9zZXJ2aWNlcy9iaWxsLXRyYWNrZXItdWkuc2VydmljZSc7XHJcbmltcG9ydCB7IEdldEJpbGxzSW5mb0FyZ3MgfSBmcm9tICcuLi9lbnRpdHkvdHJhY2tpbmcvR2V0QmlsbHNJbmZvQXJncyc7XHJcbmltcG9ydCB7IE1vZGFsT3B0aW9ucyB9IGZyb20gJ0BmYXJyaXMvdWktbW9kYWwnO1xyXG5pbXBvcnQgeyBCaWxsVHJhY2tlckdyYXBoT3B0aW9ucyB9IGZyb20gJy4uL2JpbGwtdHJhY2tlci9jb25maWcvYmlsbC10cmFja2VyLWdyYXBoLW9wdGlvbnMnO1xyXG5pbXBvcnQgeyBCaWxsVHJhY2tlckdyaWRPcHRpb25zIH0gZnJvbSAnLi4vYmlsbC10cmFja2VyL2NvbmZpZy9iaWxsLXRyYWNrZXItZ3JpZC1vcHRpb25zJztcclxuaW1wb3J0IHsgQmluZGluZ0RhdGEsIFZpZXdNb2RlbCwgRnJhbWVDb250ZXh0IH0gZnJvbSAnQGZhcnJpcy9kZXZraXQnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IEJpbGxUcmFja2VyQ29tcG9uZW50IH0gZnJvbSAnLi4vYmlsbC10cmFja2VyL2NvbXBvbmVudHMvYmlsbC10cmFja2VyL2JpbGwtdHJhY2tlci5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBjYW5KU09OUGFyc2UgfSBmcm9tICcuLi91dGlscy9PYmplY3RVdGlscyc7XHJcblxyXG4vKipcclxuICog5Y2V5o2u6L+96Liqd2Vi5p6E5Lu25pyN5Yqh57G7XHJcbiAqL1xyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBCaWZCaWxsVHJhY2tlcldlYkNtcFNlcnZpY2Uge1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHVibGljIHRyYWNrZXJVaVNlcnZpY2U6IEJpbGxUcmFja2VyVWlTZXJ2aWNlLFxyXG4gICAgICAgIEBPcHRpb25hbCgpIHB1YmxpYyBiaW5kaW5nRGF0YTogQmluZGluZ0RhdGEsXHJcbiAgICAgICAgQE9wdGlvbmFsKCkgcHVibGljIHZpZXdNb2RlbDogVmlld01vZGVsLFxyXG4gICAgICAgIEBPcHRpb25hbCgpIHB1YmxpYyBmcmFtZUNvbnRleHQ6IEZyYW1lQ29udGV4dCxcclxuICAgICkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaJk+W8gOWNleaNrui/vei4quW8ueeql1xyXG4gICAgICogQHBhcmFtIGFyZ3Mg5Y2V5o2uSWTmiJbogIXljZXmja7mn6Xor6Llj4LmlbBcclxuICAgICAqIEBwYXJhbSBtYXhpbWl6ZWQg5piv5ZCm5pyA5aSn5YyW5by556qXXHJcbiAgICAgKiBAcGFyYW0gbW9kYWxPcHRpb25zIOW8ueeql+mFjee9rlxyXG4gICAgICogQHBhcmFtIGdyYXBoT3B0aW9ucyDljZXmja7ov73ouKrlm77phY3nva5cclxuICAgICAqIEBwYXJhbSBncmlkT3B0aW9ucyDljZXmja7ov73ouKrmlbDmja7ooajphY3nva5cclxuICAgICAqIEByZXR1cm5zIGJpbGxUcmFja2VyQ29tcG9uZW50IOWNleaNrui/vei4que7hOS7tiBAdHlwZSB7IE9ic2VydmFibGU8QmlsbFRyYWNrZXJDb21wb25lbnQ+IH0gXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvcGVuRGlhbG9nKGFyZ3M6IHN0cmluZyB8IEdldEJpbGxzSW5mb0FyZ3MsIG1heGltaXplZD86IGJvb2xlYW4sIG1vZGFsT3B0aW9ucz86IE1vZGFsT3B0aW9ucywgZ3JhcGhPcHRpb25zPzogQmlsbFRyYWNrZXJHcmFwaE9wdGlvbnMsIGdyaWRPcHRpb25zPzogQmlsbFRyYWNrZXJHcmlkT3B0aW9ucyk6IE9ic2VydmFibGU8QmlsbFRyYWNrZXJDb21wb25lbnQ+IHtcclxuICAgICAgICBpZiAodHlwZW9mIGFyZ3MgPT0gXCJzdHJpbmdcIiAmJiBjYW5KU09OUGFyc2UoYXJncyBhcyBzdHJpbmcpKSB7XHJcbiAgICAgICAgICAgIGFyZ3MgPSBKU09OLnBhcnNlKGFyZ3MgYXMgc3RyaW5nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcmdzID0gYXJncyBhcyBzdHJpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1heGltaXplZCA9IG1heGltaXplZCBhcyBhbnkgPT09IFwiXCIgfHwgbWF4aW1pemVkID09IG51bGwgPyB1bmRlZmluZWQgOiBtYXhpbWl6ZWQ7XHJcbiAgICAgICAgbW9kYWxPcHRpb25zID0gbW9kYWxPcHRpb25zIGFzIGFueSA9PT0gXCJcIiB8fCBtb2RhbE9wdGlvbnMgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG1vZGFsT3B0aW9ucztcclxuICAgICAgICBncmFwaE9wdGlvbnMgPSBncmFwaE9wdGlvbnMgYXMgYW55ID09PSBcIlwiIHx8IGdyYXBoT3B0aW9ucyA9PSBudWxsID8gdW5kZWZpbmVkIDogZ3JhcGhPcHRpb25zO1xyXG4gICAgICAgIGdyaWRPcHRpb25zID0gZ3JpZE9wdGlvbnMgYXMgYW55ID09PSBcIlwiIHx8IGdyaWRPcHRpb25zID09IG51bGwgPyB1bmRlZmluZWQgOiBncmlkT3B0aW9ucztcclxuXHJcbiAgICAgICAgY29uc3QgYXJneiA9IG5ldyBHZXRCaWxsc0luZm9BcmdzKCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgYXJnei5iaWxsRGF0YUlkID0gYXJncztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcmd6LkxvYWRGcm9tSnNvbk9iamVjdChhcmdzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnRyYWNrZXJVaVNlcnZpY2Uub3BlbkRlZmF1bHRCaWxsVHJhY2tlckRpYWxvZyhhcmd6LCBtYXhpbWl6ZWQsIG1vZGFsT3B0aW9ucywgZ3JhcGhPcHRpb25zLCBncmlkT3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmiZPlvIDljZXmja7ov73ouKpBcHBcclxuICAgICAqIEBwYXJhbSBhcmdzIOWNleaNrklk5oiW6ICF5Y2V5o2u5p+l6K+i5Y+C5pWwXHJcbiAgICAgKiBAcGFyYW0gZ3JhcGhPcHRpb25zIOWNleaNrui/vei4quWbvumFjee9rlxyXG4gICAgICogQHBhcmFtIGdyaWRPcHRpb25zIOWNleaNrui/vei4quaVsOaNruihqOmFjee9rlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb3BlbkFwcChhcmdzOiBzdHJpbmcgfCBHZXRCaWxsc0luZm9BcmdzLCBncmFwaE9wdGlvbnM/OiBCaWxsVHJhY2tlckdyYXBoT3B0aW9ucywgZ3JpZE9wdGlvbnM/OiBCaWxsVHJhY2tlckdyaWRPcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzID09IFwic3RyaW5nXCIgJiYgY2FuSlNPTlBhcnNlKGFyZ3MgYXMgc3RyaW5nKSkge1xyXG4gICAgICAgICAgICBhcmdzID0gSlNPTi5wYXJzZShhcmdzIGFzIHN0cmluZyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXJncyA9IGFyZ3MgYXMgc3RyaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBncmFwaE9wdGlvbnMgPSBncmFwaE9wdGlvbnMgYXMgYW55ID09PSBcIlwiIHx8IGdyYXBoT3B0aW9ucyA9PSBudWxsID8gdW5kZWZpbmVkIDogZ3JhcGhPcHRpb25zO1xyXG4gICAgICAgIGdyaWRPcHRpb25zID0gZ3JpZE9wdGlvbnMgYXMgYW55ID09PSBcIlwiIHx8IGdyaWRPcHRpb25zID09IG51bGwgPyB1bmRlZmluZWQgOiBncmlkT3B0aW9ucztcclxuXHJcbiAgICAgICAgY29uc3QgYXJneiA9IG5ldyBHZXRCaWxsc0luZm9BcmdzKCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgYXJnei5iaWxsRGF0YUlkID0gYXJncztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcmd6LkxvYWRGcm9tSnNvbk9iamVjdChhcmdzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudHJhY2tlclVpU2VydmljZS5vcGVuRGVmYXVsdEJpbGxUcmFja2VyQXBwKGFyZ3osIGdyYXBoT3B0aW9ucywgZ3JpZE9wdGlvbnMpO1xyXG4gICAgfVxyXG59Il19