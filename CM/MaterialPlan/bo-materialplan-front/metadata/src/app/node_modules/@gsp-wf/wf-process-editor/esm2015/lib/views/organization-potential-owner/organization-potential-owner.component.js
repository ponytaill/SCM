/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, HostBinding, Output, EventEmitter, Input, ViewChild, TemplateRef } from '@angular/core';
import { ActionOrganizationScope, ActionScope, OrganizationPotentialOwner } from './actionOrganizationScope';
export class OrganizationPotentialOwnerComponent {
    constructor() {
        this.cls = 'farris-main-area flex-column';
        this.closeModal = new EventEmitter();
        this.submitModal = new EventEmitter();
        this.modalConfig = {
            title: '选项设置',
            width: 425,
            height: 360,
            showButtons: true
        };
        this.organizationLevelCollection = [{
                value: 'GLOBAL',
                text: '全员',
                orgId: 'global',
            }, {
                value: 'UNIT',
                text: '本单位',
                orgId: 'currentUnit'
            }, {
                value: 'DEPARTMENT',
                text: '本部门',
                orgId: 'currentDepartment'
            }];
        this.actionCollection = [{
                value: ActionScope.AddSignBehind, name: '加签'
            }, {
                value: ActionScope.AddSignFront, name: '征询'
            }, {
                value: ActionScope.Transfer, name: '移交'
            }, {
                value: ActionScope.Notify, name: '知会'
            }];
        this.enable = false;
        this.organizationLevel = this.organizationLevelCollection[0].value;
        this.action = this.actionCollection[0].value;
        this.includeChildren = false;
        this.actionName = (/**
         * @return {?}
         */
        () => {
            return this.actionCollection.find((/**
             * @param {?} a
             * @return {?}
             */
            a => a.value === this.action)).name;
        });
    }
    /**
     * @param {?} v
     * @return {?}
     */
    set value(v) {
        this.action = v.action;
        if (this.action === this.actionCollection[2].value) {
            if (v.enable === null || v.enable === undefined) {
                this.enable = true;
            }
            else {
                this.enable = v.enable;
            }
        }
        else {
            this.enable = v.enable;
        }
        if (v.scope) {
            this.organizationLevel = v.scope.organizationLevel;
            this.includeChildren = v.scope.includeChildren;
        }
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @return {?}
     */
    clickOK() {
        /** @type {?} */
        const scope = new ActionOrganizationScope();
        scope.enable = this.enable;
        scope.action = this.action;
        if (scope.enable && this.organizationLevel !== this.organizationLevelCollection[0].value) {
            /** @type {?} */
            const potential = new OrganizationPotentialOwner();
            potential.actionScope = this.action;
            potential.organizationLevel = (/** @type {?} */ (this.organizationLevel));
            potential.organizationId = this.organizationLevelCollection.find((/**
             * @param {?} o
             * @return {?}
             */
            o => o.value === this.organizationLevel)).orgId;
            potential.organizationName = this.organizationLevelCollection.find((/**
             * @param {?} o
             * @return {?}
             */
            o => o.value === this.organizationLevel)).text;
            potential.includeChildren = this.includeChildren;
            potential.tag = 'variable';
            scope.scope = potential;
        }
        /** @type {?} */
        const object = { value: scope, parameters: null };
        this.submitModal.emit(object);
    }
    /**
     * @return {?}
     */
    clickCancel() {
        this.closeModal.emit();
    }
    /**
     * @param {?} event
     * @return {?}
     */
    valueChange(event) {
        switch (event.value) {
            case this.organizationLevelCollection[0].value:
                this.includeChildren = false;
                break;
            case this.organizationLevelCollection[1].value:
                this.includeChildren = true;
                break;
            case this.organizationLevelCollection[2].value:
                this.includeChildren = false;
                break;
        }
    }
}
OrganizationPotentialOwnerComponent.decorators = [
    { type: Component, args: [{
                selector: 'app-organization-potential-owner',
                template: "<div class=\"f-page\">\r\n  <div class=\"f-utils-fill-flex-column farris-split-section m-2 h-100\">\r\n    <section class=\"f-utils-fill-flex-column h-100\">\r\n      <div class=\"f-section-header pt-2 mx-2\">\r\n        <div class=\"f-title\">\r\n          <h4 class=\"f-title-text\">{{actionName()+'\u9009\u9879'}}</h4>\r\n        </div>\r\n      </div>\r\n      <div class=\"f-utils-fill-flex-column h-100\">\r\n        <div class=\"farris-form form-inline farris-form-inline\">\r\n          <div class=\"col-12 farris-group-auto my-3 pr-5\">\r\n            <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\">\r\n                <label class=\"col-form-label\">\r\n                  <span class=\"farris-label-text\">\u662F\u5426\u542F\u7528</span>\r\n                </label>\r\n                <div class=\"farris-input-wrap ml-1\">\r\n                  <farris-switch [(ngModel)]=\"enable\" name=\"enable\"></farris-switch>\r\n                  <div class=\"farris-feedback valid-feedback\"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-12 farris-group-auto mt-4 pr-5\">\r\n            <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\">\r\n                <label class=\"col-form-label\">\r\n                  <span class=\"farris-label-text\">{{actionName()+'\u8303\u56F4'}}</span>\r\n                </label>\r\n                <div class=\"farris-input-wrap ml-1 pr-5\">\r\n                  <farris-combo-list [panelHeight]=\"100\" [(ngModel)]=\"organizationLevel\" name=\"actionScope\" [idField]=\"'value'\"\r\n                    [textField]=\"'text'\" [valueField]=\"'value'\" [data]=\"organizationLevelCollection\"\r\n                    (valueChange)=\"valueChange($event)\" [readonly]=\"enable===false\">\r\n                  </farris-combo-list>\r\n                  <div class=\"farris-feedback valid-feedback\"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"organizationLevel===organizationLevelCollection[2].value\" class=\"col-12 farris-group-auto my-3 pr-5\">\r\n            <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\">\r\n                <label class=\"col-form-label\">\r\n                  <span class=\"farris-label-text\">\u5305\u542B\u4E0B\u7EA7</span>\r\n                </label>\r\n                <div class=\"farris-input-wrap ml-1\">\r\n                  <farris-switch [(ngModel)]=\"includeChildren\" name=\"includeChildren\" [editable]=\"enable===true\"></farris-switch>\r\n                  <div class=\"farris-feedback valid-feedback\"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #iconSelectFooter>\r\n  <button type=\"button\" class=\"btn btn-primary btn-sm mx-2\" (click)=\"clickOK()\">\u786E\u5B9A</button>\r\n  <button type=\"button\" class=\"btn btn-secondary btn-sm mx-2\" (click)=\"clickCancel()\">\u53D6\u6D88</button>\r\n</ng-template>\r\n",
                styles: [".title-content{color:#000;display:inline-flex;align-items:center;line-height:1.375rem;position:relative;overflow:hidden;padding:0 0 0 1rem;min-width:390px}.title-content ::before{content:'';width:.25rem;height:1.125rem;background:#59a1ff;border-radius:1px;position:absolute;top:50%;left:0;margin-top:-.5625rem}.title-text{font-size:1rem;line-height:1.375rem;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-bottom:0;margin-right:10px}.title-line{flex-grow:1;border-bottom:1px dashed rgba(0,0,0,.1)}"]
            }] }
];
/** @nocollapse */
OrganizationPotentialOwnerComponent.ctorParameters = () => [];
OrganizationPotentialOwnerComponent.propDecorators = {
    cls: [{ type: HostBinding, args: ['class',] }],
    closeModal: [{ type: Output }],
    submitModal: [{ type: Output }],
    value: [{ type: Input }],
    modalFooter: [{ type: ViewChild, args: ['iconSelectFooter',] }]
};
if (false) {
    /** @type {?} */
    OrganizationPotentialOwnerComponent.prototype.cls;
    /** @type {?} */
    OrganizationPotentialOwnerComponent.prototype.closeModal;
    /** @type {?} */
    OrganizationPotentialOwnerComponent.prototype.submitModal;
    /** @type {?} */
    OrganizationPotentialOwnerComponent.prototype.modalFooter;
    /** @type {?} */
    OrganizationPotentialOwnerComponent.prototype.modalConfig;
    /** @type {?} */
    OrganizationPotentialOwnerComponent.prototype.organizationLevelCollection;
    /** @type {?} */
    OrganizationPotentialOwnerComponent.prototype.actionCollection;
    /** @type {?} */
    OrganizationPotentialOwnerComponent.prototype.enable;
    /** @type {?} */
    OrganizationPotentialOwnerComponent.prototype.organizationLevel;
    /** @type {?} */
    OrganizationPotentialOwnerComponent.prototype.action;
    /** @type {?} */
    OrganizationPotentialOwnerComponent.prototype.includeChildren;
    /** @type {?} */
    OrganizationPotentialOwnerComponent.prototype.actionName;
}
export class OrganizationPotentialOwnerConverter {
    constructor() { }
    /**
     * @param {?} data
     * @return {?}
     */
    convertTo(data) {
        if (data.action === ActionScope.Transfer && (data.enable === null || data.enable === undefined)) {
            return '（已设置）';
        }
        else {
            if (data.enable) {
                return '（已设置）';
            }
            else {
                return '（未设置）';
            }
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3JnYW5pemF0aW9uLXBvdGVudGlhbC1vd25lci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3NwLXdmL3dmLXByb2Nlc3MtZWRpdG9yLyIsInNvdXJjZXMiOlsibGliL3ZpZXdzL29yZ2FuaXphdGlvbi1wb3RlbnRpYWwtb3duZXIvb3JnYW5pemF0aW9uLXBvdGVudGlhbC1vd25lci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsV0FBVyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFcEgsT0FBTyxFQUFFLHVCQUF1QixFQUFFLFdBQVcsRUFBRSwwQkFBMEIsRUFBcUIsTUFBTSwyQkFBMkIsQ0FBQztBQU9oSSxNQUFNLE9BQU8sbUNBQW1DO0lBMkQ5QztRQXpEQSxRQUFHLEdBQUcsOEJBQThCLENBQUM7UUFFM0IsZUFBVSxHQUFHLElBQUksWUFBWSxFQUFPLENBQUM7UUFDckMsZ0JBQVcsR0FBRyxJQUFJLFlBQVksRUFBTyxDQUFDO1FBcUJoRCxnQkFBVyxHQUFHO1lBQ1osS0FBSyxFQUFFLE1BQU07WUFDYixLQUFLLEVBQUUsR0FBRztZQUNWLE1BQU0sRUFBRSxHQUFHO1lBQ1gsV0FBVyxFQUFFLElBQUk7U0FDbEIsQ0FBQztRQUNGLGdDQUEyQixHQUFHLENBQUM7Z0JBQzdCLEtBQUssRUFBRSxRQUFRO2dCQUNmLElBQUksRUFBRSxJQUFJO2dCQUNWLEtBQUssRUFBRSxRQUFRO2FBQ2hCLEVBQUU7Z0JBQ0QsS0FBSyxFQUFFLE1BQU07Z0JBQ2IsSUFBSSxFQUFFLEtBQUs7Z0JBQ1gsS0FBSyxFQUFFLGFBQWE7YUFDckIsRUFBRTtnQkFDRCxLQUFLLEVBQUUsWUFBWTtnQkFDbkIsSUFBSSxFQUFFLEtBQUs7Z0JBQ1gsS0FBSyxFQUFFLG1CQUFtQjthQUN6QixDQUFDLENBQUM7UUFDTCxx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a0RBQ3FDOztJQUVyQyx5REFBK0M7O0lBQy9DLDBEQUFnRDs7SUFvQmhELDBEQUE2RDs7SUFDN0QsMERBS0U7O0lBQ0YsMEVBWUs7O0lBQ0wsK0RBUUM7O0lBQ0QscURBQWU7O0lBQ2YsZ0VBQThEOztJQUM5RCxxREFBd0M7O0lBQ3hDLDhEQUF3Qjs7SUF3Q3hCLHlEQUVDOztBQUVILE1BQU0sT0FBTyxtQ0FBbUM7SUFDOUMsZ0JBQWdCLENBQUM7Ozs7O0lBRWpCLFNBQVMsQ0FBQyxJQUE2QjtRQUNyQyxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssV0FBVyxDQUFDLFFBQVEsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssU0FBUyxDQUFDLEVBQUU7WUFDL0YsT0FBTyxPQUFPLENBQUM7U0FDaEI7YUFBTTtZQUNMLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFDYixPQUFPLE9BQU8sQ0FBQzthQUNsQjtpQkFBTTtnQkFDTCxPQUFPLE9BQU8sQ0FBQzthQUNoQjtTQUNGO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIEhvc3RCaW5kaW5nLCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIFZpZXdDaGlsZCwgVGVtcGxhdGVSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgVHlwZUNvbnZlcnRlciB9IGZyb20gJ0BmYXJyaXMvdWktcHJvcGVydHktcGFuZWwnO1xyXG5pbXBvcnQgeyBBY3Rpb25Pcmdhbml6YXRpb25TY29wZSwgQWN0aW9uU2NvcGUsIE9yZ2FuaXphdGlvblBvdGVudGlhbE93bmVyLCBPcmdhbml6YXRpb25MZXZlbCB9IGZyb20gJy4vYWN0aW9uT3JnYW5pemF0aW9uU2NvcGUnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdhcHAtb3JnYW5pemF0aW9uLXBvdGVudGlhbC1vd25lcicsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL29yZ2FuaXphdGlvbi1wb3RlbnRpYWwtb3duZXIuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL29yZ2FuaXphdGlvbi1wb3RlbnRpYWwtb3duZXIuY29tcG9uZW50LnNjc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgT3JnYW5pemF0aW9uUG90ZW50aWFsT3duZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG4gIEBIb3N0QmluZGluZygnY2xhc3MnKVxyXG4gIGNscyA9ICdmYXJyaXMtbWFpbi1hcmVhIGZsZXgtY29sdW1uJztcclxuXHJcbiAgQE91dHB1dCgpIGNsb3NlTW9kYWwgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICBAT3V0cHV0KCkgc3VibWl0TW9kYWwgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuXHJcbiAgQElucHV0KClcclxuICBzZXQgdmFsdWUodjogQWN0aW9uT3JnYW5pemF0aW9uU2NvcGUpIHtcclxuICAgIHRoaXMuYWN0aW9uID0gdi5hY3Rpb247XHJcbiAgICBpZiAodGhpcy5hY3Rpb24gPT09IHRoaXMuYWN0aW9uQ29sbGVjdGlvblsyXS52YWx1ZSkge1xyXG4gICAgICBpZiAodi5lbmFibGUgPT09IG51bGwgfHwgdi5lbmFibGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHRoaXMuZW5hYmxlID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmVuYWJsZSA9IHYuZW5hYmxlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVuYWJsZSA9IHYuZW5hYmxlO1xyXG4gICAgfVxyXG4gICAgaWYgKHYuc2NvcGUpIHtcclxuICAgICAgdGhpcy5vcmdhbml6YXRpb25MZXZlbCA9IHYuc2NvcGUub3JnYW5pemF0aW9uTGV2ZWw7XHJcbiAgICAgIHRoaXMuaW5jbHVkZUNoaWxkcmVuID0gdi5zY29wZS5pbmNsdWRlQ2hpbGRyZW47XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBAVmlld0NoaWxkKCdpY29uU2VsZWN0Rm9vdGVyJykgbW9kYWxGb290ZXI6IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgbW9kYWxDb25maWcgPSB7XHJcbiAgICB0aXRsZTogJ+mAiemhueiuvue9ricsXHJcbiAgICB3aWR0aDogNDI1LFxyXG4gICAgaGVpZ2h0OiAzNjAsXHJcbiAgICBzaG93QnV0dG9uczogdHJ1ZVxyXG4gIH07XHJcbiAgb3JnYW5pemF0aW9uTGV2ZWxDb2xsZWN0aW9uID0gW3tcclxuICAgIHZhbHVlOiAnR0xPQkFMJyxcclxuICAgIHRleHQ6ICflhajlkZgnLFxyXG4gICAgb3JnSWQ6ICdnbG9iYWwnLFxyXG4gIH0sIHtcclxuICAgIHZhbHVlOiAnVU5JVCcsXHJcbiAgICB0ZXh0OiAn5pys5Y2V5L2NJyxcclxuICAgIG9yZ0lkOiAnY3VycmVudFVuaXQnXHJcbiAgfSwge1xyXG4gICAgdmFsdWU6ICdERVBBUlRNRU5UJyxcclxuICAgIHRleHQ6ICfmnKzpg6jpl6gnLFxyXG4gICAgb3JnSWQ6ICdjdXJyZW50RGVwYXJ0bWVudCdcclxuICAgIH1dO1xyXG4gIGFjdGlvbkNvbGxlY3Rpb24gPSBbe1xyXG4gICAgICB2YWx1ZTogQWN0aW9uU2NvcGUuQWRkU2lnbkJlaGluZCwgbmFtZTogJ+WKoOetvidcclxuICB9LCB7XHJcbiAgICAgIHZhbHVlOiBBY3Rpb25TY29wZS5BZGRTaWduRnJvbnQsIG5hbWU6ICflvoHor6InXHJcbiAgfSwge1xyXG4gICAgICB2YWx1ZTogQWN0aW9uU2NvcGUuVHJhbnNmZXIsIG5hbWU6ICfnp7vkuqQnXHJcbiAgfSwge1xyXG4gICAgdmFsdWU6IEFjdGlvblNjb3BlLk5vdGlmeSwgbmFtZTogJ+efpeS8midcclxufV07XHJcbiAgZW5hYmxlID0gZmFsc2U7XHJcbiAgb3JnYW5pemF0aW9uTGV2ZWwgPSB0aGlzLm9yZ2FuaXphdGlvbkxldmVsQ29sbGVjdGlvblswXS52YWx1ZTtcclxuICBhY3Rpb24gPSB0aGlzLmFjdGlvbkNvbGxlY3Rpb25bMF0udmFsdWU7XHJcbiAgaW5jbHVkZUNoaWxkcmVuID0gZmFsc2U7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gIH1cclxuXHJcbiAgY2xpY2tPSygpIHtcclxuICAgIGNvbnN0IHNjb3BlID0gbmV3IEFjdGlvbk9yZ2FuaXphdGlvblNjb3BlKCk7XHJcbiAgICBzY29wZS5lbmFibGUgPSB0aGlzLmVuYWJsZTtcclxuICAgIHNjb3BlLmFjdGlvbiA9IHRoaXMuYWN0aW9uO1xyXG4gICAgaWYgKHNjb3BlLmVuYWJsZSAmJiB0aGlzLm9yZ2FuaXphdGlvbkxldmVsICE9PSB0aGlzLm9yZ2FuaXphdGlvbkxldmVsQ29sbGVjdGlvblswXS52YWx1ZSkge1xyXG4gICAgICBjb25zdCBwb3RlbnRpYWwgPSBuZXcgT3JnYW5pemF0aW9uUG90ZW50aWFsT3duZXIoKTtcclxuICAgICAgcG90ZW50aWFsLmFjdGlvblNjb3BlID0gdGhpcy5hY3Rpb247XHJcbiAgICAgIHBvdGVudGlhbC5vcmdhbml6YXRpb25MZXZlbCA9IHRoaXMub3JnYW5pemF0aW9uTGV2ZWwgYXMgT3JnYW5pemF0aW9uTGV2ZWw7XHJcbiAgICAgIHBvdGVudGlhbC5vcmdhbml6YXRpb25JZCA9IHRoaXMub3JnYW5pemF0aW9uTGV2ZWxDb2xsZWN0aW9uLmZpbmQobyA9PiBvLnZhbHVlID09PSB0aGlzLm9yZ2FuaXphdGlvbkxldmVsKS5vcmdJZDtcclxuICAgICAgcG90ZW50aWFsLm9yZ2FuaXphdGlvbk5hbWUgPSB0aGlzLm9yZ2FuaXphdGlvbkxldmVsQ29sbGVjdGlvbi5maW5kKG8gPT4gby52YWx1ZSA9PT0gdGhpcy5vcmdhbml6YXRpb25MZXZlbCkudGV4dDtcclxuICAgICAgcG90ZW50aWFsLmluY2x1ZGVDaGlsZHJlbiA9IHRoaXMuaW5jbHVkZUNoaWxkcmVuO1xyXG4gICAgICBwb3RlbnRpYWwudGFnID0gJ3ZhcmlhYmxlJztcclxuICAgICAgc2NvcGUuc2NvcGUgPSBwb3RlbnRpYWw7XHJcbiAgICB9XHJcbiAgICBjb25zdCBvYmplY3QgPSB7IHZhbHVlOiBzY29wZSwgcGFyYW1ldGVyczogbnVsbCB9O1xyXG4gICAgdGhpcy5zdWJtaXRNb2RhbC5lbWl0KG9iamVjdCk7XHJcbiAgfVxyXG4gIGNsaWNrQ2FuY2VsKCkge1xyXG4gICAgdGhpcy5jbG9zZU1vZGFsLmVtaXQoKTtcclxuICB9XHJcbiAgdmFsdWVDaGFuZ2UoZXZlbnQ6IGFueSkge1xyXG4gICAgc3dpdGNoIChldmVudC52YWx1ZSkge1xyXG4gICAgICBjYXNlIHRoaXMub3JnYW5pemF0aW9uTGV2ZWxDb2xsZWN0aW9uWzBdLnZhbHVlOlxyXG4gICAgICAgIHRoaXMuaW5jbHVkZUNoaWxkcmVuID0gZmFsc2U7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgdGhpcy5vcmdhbml6YXRpb25MZXZlbENvbGxlY3Rpb25bMV0udmFsdWU6XHJcbiAgICAgICAgdGhpcy5pbmNsdWRlQ2hpbGRyZW4gPSB0cnVlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIHRoaXMub3JnYW5pemF0aW9uTGV2ZWxDb2xsZWN0aW9uWzJdLnZhbHVlOlxyXG4gICAgICAgIHRoaXMuaW5jbHVkZUNoaWxkcmVuID0gZmFsc2U7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGFjdGlvbk5hbWUgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5hY3Rpb25Db2xsZWN0aW9uLmZpbmQoYSA9PiBhLnZhbHVlID09PSB0aGlzLmFjdGlvbikubmFtZTtcclxuICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIE9yZ2FuaXphdGlvblBvdGVudGlhbE93bmVyQ29udmVydGVyIGltcGxlbWVudHMgVHlwZUNvbnZlcnRlciB7XHJcbiAgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgY29udmVydFRvKGRhdGE6IEFjdGlvbk9yZ2FuaXphdGlvblNjb3BlKTogc3RyaW5nIHtcclxuICAgIGlmIChkYXRhLmFjdGlvbiA9PT0gQWN0aW9uU2NvcGUuVHJhbnNmZXIgJiYgKGRhdGEuZW5hYmxlID09PSBudWxsIHx8IGRhdGEuZW5hYmxlID09PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgIHJldHVybiAn77yI5bey6K6+572u77yJJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChkYXRhLmVuYWJsZSkge1xyXG4gICAgICAgICAgcmV0dXJuICfvvIjlt7Lorr7nva7vvIknO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiAn77yI5pyq6K6+572u77yJJztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=