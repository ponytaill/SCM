import { Injectable } from '@angular/core';
/**
 * 过滤条件服务
 * @scope FormModule
 */
class FilterService {
    /**
     * 移除包含特殊值的过滤条件
     * @todo：假定filters为字符串，待设计时支持数组参数后一起调整
     */
    stripFiltersWithSpecialValue(filters, specialValues) {
        if (!filters || !specialValues) {
            return filters;
        }
        const filterArray = JSON.parse(filters);
        const strippedFilterArray = filterArray.filter((filter) => {
            const filterValue = this.getFilterValue(filter);
            return specialValues.indexOf(filterValue) === -1;
        });
        return JSON.stringify(strippedFilterArray);
    }
    /**
     * 获取过滤条件的值
     * @todo：没有Filter接口定义，目前产品部大小写不一致。
     */
    getFilterValue(filter) {
        return filter.Value || filter.value;
    }
}
FilterService.decorators = [
    { type: Injectable }
];
export { FilterService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyLXNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL2NvbW1hbmQtc2VydmljZXMvIiwic291cmNlcyI6WyJsaWIvZmlsdGVyLXNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUzQzs7O0dBR0c7QUFDSCxNQUNNLGFBQWE7SUFFakI7OztPQUdHO0lBQ0ksNEJBQTRCLENBQUMsT0FBZSxFQUFFLGFBQXFCO1FBQ3hFLElBQUksQ0FBQyxPQUFPLElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDOUIsT0FBTyxPQUFPLENBQUM7U0FDaEI7UUFFRCxNQUFNLFdBQVcsR0FBVSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQy9DLE1BQU0sbUJBQW1CLEdBQUcsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQVcsRUFBRSxFQUFFO1lBQzdELE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDaEQsT0FBTyxhQUFhLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ25ELENBQUMsQ0FBQyxDQUFDO1FBRUgsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLG1CQUFtQixDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVEOzs7T0FHRztJQUNLLGNBQWMsQ0FBQyxNQUFXO1FBQ2hDLE9BQU8sTUFBTSxDQUFDLEtBQUssSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ3RDLENBQUM7OztZQTNCRixVQUFVOztBQThCWCxPQUFPLEVBQUUsYUFBYSxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbi8qKlxuICog6L+H5ruk5p2h5Lu25pyN5YqhXG4gKiBAc2NvcGUgRm9ybU1vZHVsZVxuICovXG5ASW5qZWN0YWJsZSgpXG5jbGFzcyBGaWx0ZXJTZXJ2aWNlIHtcblxuICAvKipcbiAgICog56e76Zmk5YyF5ZCr54m55q6K5YC855qE6L+H5ruk5p2h5Lu2XG4gICAqIEB0b2Rv77ya5YGH5a6aZmlsdGVyc+S4uuWtl+espuS4su+8jOW+heiuvuiuoeaXtuaUr+aMgeaVsOe7hOWPguaVsOWQjuS4gOi1t+iwg+aVtFxuICAgKi9cbiAgcHVibGljIHN0cmlwRmlsdGVyc1dpdGhTcGVjaWFsVmFsdWUoZmlsdGVyczogc3RyaW5nLCBzcGVjaWFsVmFsdWVzOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmICghZmlsdGVycyB8fCAhc3BlY2lhbFZhbHVlcykge1xuICAgICAgcmV0dXJuIGZpbHRlcnM7XG4gICAgfVxuXG4gICAgY29uc3QgZmlsdGVyQXJyYXk6IGFueVtdID0gSlNPTi5wYXJzZShmaWx0ZXJzKTtcbiAgICBjb25zdCBzdHJpcHBlZEZpbHRlckFycmF5ID0gZmlsdGVyQXJyYXkuZmlsdGVyKChmaWx0ZXI6IGFueSkgPT4ge1xuICAgICAgY29uc3QgZmlsdGVyVmFsdWUgPSB0aGlzLmdldEZpbHRlclZhbHVlKGZpbHRlcik7XG4gICAgICByZXR1cm4gc3BlY2lhbFZhbHVlcy5pbmRleE9mKGZpbHRlclZhbHVlKSA9PT0gLTE7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoc3RyaXBwZWRGaWx0ZXJBcnJheSk7XG4gIH1cblxuICAvKipcbiAgICog6I635Y+W6L+H5ruk5p2h5Lu255qE5YC8XG4gICAqIEB0b2Rv77ya5rKh5pyJRmlsdGVy5o6l5Y+j5a6a5LmJ77yM55uu5YmN5Lqn5ZOB6YOo5aSn5bCP5YaZ5LiN5LiA6Ie044CCXG4gICAqL1xuICBwcml2YXRlIGdldEZpbHRlclZhbHVlKGZpbHRlcjogYW55KSB7XG4gICAgcmV0dXJuIGZpbHRlci5WYWx1ZSB8fCBmaWx0ZXIudmFsdWU7XG4gIH1cbn1cblxuZXhwb3J0IHsgRmlsdGVyU2VydmljZSB9O1xuIl19