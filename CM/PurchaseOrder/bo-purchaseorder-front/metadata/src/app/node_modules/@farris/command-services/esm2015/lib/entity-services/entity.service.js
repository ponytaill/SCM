import { Injectable } from '@angular/core';
import { FrameContext } from '@farris/devkit';
import { EntityTraversingService } from './entity-traversing.service';
import { EntityManipulationService } from './entity-manipulation.service';
import { EntityAggregationService } from './entity-aggregation.service';
/**
 * 实体服务
 * @scope FrameComponent
 */
class EntityService {
    constructor(frameContext) {
        this.frameContext = frameContext;
        const injector = this.frameContext.injector;
        this.traversingService = injector.get(EntityTraversingService);
        this.manipulationService = injector.get(EntityManipulationService);
        this.aggregationService = injector.get(EntityAggregationService);
    }
    /**
     * 获取path对应的属性值
     */
    getPropValue(path) {
        return this.traversingService.getPropValue(path);
    }
    /**
     * 设置path对应的属性值
     */
    setPropValue(path, value) {
        return this.manipulationService.setPropValue(path, value);
    }
    /**
     * 设置path对应的Entity数据
     */
    getEntityData(path) {
        return this.traversingService.getEntityData(path);
    }
    /**
     * 设置path对应的EntityList数据
     */
    getEntityListData(path) {
        return this.traversingService.getEntityListData(path);
    }
    /**
     * 获取path对应EntityList记录数
     */
    count(path) {
        return this.aggregationService.count(path);
    }
    /**
     * 获取path对应属性的合计值
     */
    sum(path) {
        return this.aggregationService.sum(path);
    }
    /**
     * 获取path对应属性的平均值
     */
    avg(path) {
        return this.aggregationService.avg(path);
    }
    /**
     * 获取path对应属性的最大值
     */
    max(path) {
        return this.aggregationService.max(path);
    }
    /**
     * 获取path对应属性的最小值
     */
    min(path) {
        return this.aggregationService.min(path);
    }
}
EntityService.decorators = [
    { type: Injectable }
];
/** @nocollapse */
EntityService.ctorParameters = () => [
    { type: FrameContext }
];
export { EntityService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW50aXR5LnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL2NvbW1hbmQtc2VydmljZXMvIiwic291cmNlcyI6WyJsaWIvZW50aXR5LXNlcnZpY2VzL2VudGl0eS5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzlDLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQ3RFLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQzFFLE9BQU8sRUFBRSx3QkFBd0IsRUFBQyxNQUFNLDhCQUE4QixDQUFDO0FBRXZFOzs7R0FHRztBQUNILE1BQ00sYUFBYTtJQVFqQixZQUFvQixZQUEwQjtRQUExQixpQkFBWSxHQUFaLFlBQVksQ0FBYztRQUM1QyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQztRQUM1QyxJQUFJLENBQUMsaUJBQWlCLEdBQUssUUFBUSxDQUFDLEdBQUcsQ0FBMEIsdUJBQXVCLENBQUMsQ0FBQztRQUMxRixJQUFJLENBQUMsbUJBQW1CLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBNEIseUJBQXlCLENBQUMsQ0FBQztRQUM5RixJQUFJLENBQUMsa0JBQWtCLEdBQUksUUFBUSxDQUFDLEdBQUcsQ0FBMkIsd0JBQXdCLENBQUMsQ0FBQztJQUM5RixDQUFDO0lBRUQ7O09BRUc7SUFDSSxZQUFZLENBQUMsSUFBYztRQUNoQyxPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUVEOztPQUVHO0lBQ0ksWUFBWSxDQUFDLElBQWMsRUFBRSxLQUFVO1FBQzVDLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUVEOztPQUVHO0lBQ0ksYUFBYSxDQUFDLElBQWM7UUFDakMsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFRDs7T0FFRztJQUNJLGlCQUFpQixDQUFDLElBQWM7UUFDckMsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVEOztPQUVHO0lBQ0ksS0FBSyxDQUFDLElBQWM7UUFDekIsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRDs7T0FFRztJQUNJLEdBQUcsQ0FBQyxJQUFjO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQ7O09BRUc7SUFDSSxHQUFHLENBQUMsSUFBYztRQUN2QixPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQUVEOztPQUVHO0lBQ0ksR0FBRyxDQUFDLElBQWM7UUFDdkIsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRDs7T0FFRztJQUNJLEdBQUcsQ0FBQyxJQUFjO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMzQyxDQUFDOzs7WUE3RUYsVUFBVTs7OztZQVRGLFlBQVk7O0FBeUZyQixPQUFPLEVBQUUsYUFBYSxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGcmFtZUNvbnRleHQgfSBmcm9tICdAZmFycmlzL2RldmtpdCc7XG5pbXBvcnQgeyBFbnRpdHlUcmF2ZXJzaW5nU2VydmljZSB9IGZyb20gJy4vZW50aXR5LXRyYXZlcnNpbmcuc2VydmljZSc7XG5pbXBvcnQgeyBFbnRpdHlNYW5pcHVsYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi9lbnRpdHktbWFuaXB1bGF0aW9uLnNlcnZpY2UnO1xuaW1wb3J0IHsgRW50aXR5QWdncmVnYXRpb25TZXJ2aWNlfSBmcm9tICcuL2VudGl0eS1hZ2dyZWdhdGlvbi5zZXJ2aWNlJztcblxuLyoqXG4gKiDlrp7kvZPmnI3liqFcbiAqIEBzY29wZSBGcmFtZUNvbXBvbmVudFxuICovXG5ASW5qZWN0YWJsZSgpXG5jbGFzcyBFbnRpdHlTZXJ2aWNlIHtcblxuICBwcml2YXRlIHRyYXZlcnNpbmdTZXJ2aWNlOiBFbnRpdHlUcmF2ZXJzaW5nU2VydmljZTtcblxuICBwcml2YXRlIG1hbmlwdWxhdGlvblNlcnZpY2U6IEVudGl0eU1hbmlwdWxhdGlvblNlcnZpY2U7XG5cbiAgcHJpdmF0ZSBhZ2dyZWdhdGlvblNlcnZpY2U6IEVudGl0eUFnZ3JlZ2F0aW9uU2VydmljZTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGZyYW1lQ29udGV4dDogRnJhbWVDb250ZXh0KSB7XG4gICAgY29uc3QgaW5qZWN0b3IgPSB0aGlzLmZyYW1lQ29udGV4dC5pbmplY3RvcjtcbiAgICB0aGlzLnRyYXZlcnNpbmdTZXJ2aWNlICAgPSBpbmplY3Rvci5nZXQ8RW50aXR5VHJhdmVyc2luZ1NlcnZpY2U+KEVudGl0eVRyYXZlcnNpbmdTZXJ2aWNlKTtcbiAgICB0aGlzLm1hbmlwdWxhdGlvblNlcnZpY2UgPSBpbmplY3Rvci5nZXQ8RW50aXR5TWFuaXB1bGF0aW9uU2VydmljZT4oRW50aXR5TWFuaXB1bGF0aW9uU2VydmljZSk7XG4gICAgdGhpcy5hZ2dyZWdhdGlvblNlcnZpY2UgID0gaW5qZWN0b3IuZ2V0PEVudGl0eUFnZ3JlZ2F0aW9uU2VydmljZT4oRW50aXR5QWdncmVnYXRpb25TZXJ2aWNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5ZwYXRo5a+55bqU55qE5bGe5oCn5YC8XG4gICAqL1xuICBwdWJsaWMgZ2V0UHJvcFZhbHVlKHBhdGg6IHN0cmluZ1tdKTogYW55IHtcbiAgICByZXR1cm4gdGhpcy50cmF2ZXJzaW5nU2VydmljZS5nZXRQcm9wVmFsdWUocGF0aCk7XG4gIH1cblxuICAvKipcbiAgICog6K6+572ucGF0aOWvueW6lOeahOWxnuaAp+WAvFxuICAgKi9cbiAgcHVibGljIHNldFByb3BWYWx1ZShwYXRoOiBzdHJpbmdbXSwgdmFsdWU6IGFueSk6IHZvaWQge1xuICAgIHJldHVybiB0aGlzLm1hbmlwdWxhdGlvblNlcnZpY2Uuc2V0UHJvcFZhbHVlKHBhdGgsIHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDorr7nva5wYXRo5a+55bqU55qERW50aXR55pWw5o2uXG4gICAqL1xuICBwdWJsaWMgZ2V0RW50aXR5RGF0YShwYXRoOiBzdHJpbmdbXSk6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMudHJhdmVyc2luZ1NlcnZpY2UuZ2V0RW50aXR5RGF0YShwYXRoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDorr7nva5wYXRo5a+55bqU55qERW50aXR5TGlzdOaVsOaNrlxuICAgKi9cbiAgcHVibGljIGdldEVudGl0eUxpc3REYXRhKHBhdGg6IHN0cmluZ1tdKTogYW55IHtcbiAgICByZXR1cm4gdGhpcy50cmF2ZXJzaW5nU2VydmljZS5nZXRFbnRpdHlMaXN0RGF0YShwYXRoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5ZwYXRo5a+55bqURW50aXR5TGlzdOiusOW9leaVsFxuICAgKi9cbiAgcHVibGljIGNvdW50KHBhdGg6IHN0cmluZ1tdKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGlvblNlcnZpY2UuY291bnQocGF0aCk7XG4gIH1cblxuICAvKipcbiAgICog6I635Y+WcGF0aOWvueW6lOWxnuaAp+eahOWQiOiuoeWAvFxuICAgKi9cbiAgcHVibGljIHN1bShwYXRoOiBzdHJpbmdbXSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuYWdncmVnYXRpb25TZXJ2aWNlLnN1bShwYXRoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5ZwYXRo5a+55bqU5bGe5oCn55qE5bmz5Z2H5YC8XG4gICAqL1xuICBwdWJsaWMgYXZnKHBhdGg6IHN0cmluZ1tdKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGlvblNlcnZpY2UuYXZnKHBhdGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPlnBhdGjlr7nlupTlsZ7mgKfnmoTmnIDlpKflgLxcbiAgICovXG4gIHB1YmxpYyBtYXgocGF0aDogc3RyaW5nW10pOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0aW9uU2VydmljZS5tYXgocGF0aCk7XG4gIH1cblxuICAvKipcbiAgICog6I635Y+WcGF0aOWvueW6lOWxnuaAp+eahOacgOWwj+WAvFxuICAgKi9cbiAgcHVibGljIG1pbihwYXRoOiBzdHJpbmdbXSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuYWdncmVnYXRpb25TZXJ2aWNlLm1pbihwYXRoKTtcbiAgfVxufVxuXG5leHBvcnQgeyBFbnRpdHlTZXJ2aWNlIH07XG4iXX0=