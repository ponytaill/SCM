import { of } from 'rxjs';
import { isObservable } from '../../utils/index';
/**
 * 任务节点
 */
var TaskNode = /** @class */ (function () {
    /**
     * 构造函数
     */
    function TaskNode(name, func) {
        this.name = name;
        this.func = func;
    }
    /**
     * 执行任务函数
     */
    TaskNode.prototype.execute = function (context) {
        var result = this.func(context);
        var result$ = isObservable(result) ? result : of(result);
        return result$;
    };
    return TaskNode;
}());
export { TaskNode };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFza19ub2RlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGZhcnJpcy9tb2JpbGUtZGV2a2l0LyIsInNvdXJjZXMiOlsibGliL2NvbW1hbmQvZmxvdy90YXNrX25vZGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFjLEVBQUUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUV0QyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFRakQ7O0dBRUc7QUFDSDtJQVlFOztPQUVHO0lBQ0gsa0JBQVksSUFBWSxFQUFFLElBQWM7UUFDdEMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDbkIsQ0FBQztJQUVEOztPQUVHO0lBQ0gsMEJBQU8sR0FBUCxVQUFRLE9BQXVCO1FBQzdCLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDbEMsSUFBTSxPQUFPLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMzRCxPQUFPLE9BQU8sQ0FBQztJQUNqQixDQUFDO0lBQ0gsZUFBQztBQUFELENBQUMsQUE1QkQsSUE0QkM7QUFFRCxPQUFPLEVBQVksUUFBUSxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBDb21tYW5kQ29udGV4dCB9IGZyb20gJy4uL2NvbW1hbmRfY29udGV4dCc7XHJcbmltcG9ydCB7IGlzT2JzZXJ2YWJsZSB9IGZyb20gJy4uLy4uL3V0aWxzL2luZGV4JztcclxuXHJcbi8qKlxyXG4gKiDku7vliqHlh73mlbBcclxuICovXHJcbnR5cGUgVGFza0Z1bmMgPSAoY29udGV4dDogQ29tbWFuZENvbnRleHQpID0+IGFueTtcclxuXHJcblxyXG4vKipcclxuICog5Lu75Yqh6IqC54K5XHJcbiAqL1xyXG5jbGFzcyBUYXNrTm9kZSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIOS7u+WKoeWQjeensFxyXG4gICAqL1xyXG4gIG5hbWU6IHN0cmluZztcclxuXHJcbiAgLyoqXHJcbiAgICog5Lu75Yqh5Ye95pWwXHJcbiAgICovXHJcbiAgZnVuYzogVGFza0Z1bmM7XHJcblxyXG4gIC8qKlxyXG4gICAqIOaehOmAoOWHveaVsFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgZnVuYzogVGFza0Z1bmMpIHtcclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLmZ1bmMgPSBmdW5jO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5omn6KGM5Lu75Yqh5Ye95pWwXHJcbiAgICovXHJcbiAgZXhlY3V0ZShjb250ZXh0OiBDb21tYW5kQ29udGV4dCk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmZ1bmMoY29udGV4dCk7XHJcbiAgICBjb25zdCByZXN1bHQkID0gaXNPYnNlcnZhYmxlKHJlc3VsdCkgPyByZXN1bHQgOiBvZihyZXN1bHQpO1xyXG4gICAgcmV0dXJuIHJlc3VsdCQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBUYXNrRnVuYywgVGFza05vZGUgfTtcclxuIl19