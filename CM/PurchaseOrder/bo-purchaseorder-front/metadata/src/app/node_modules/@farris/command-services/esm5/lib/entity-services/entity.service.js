import { Injectable } from '@angular/core';
import { FrameContext } from '@farris/devkit';
import { EntityTraversingService } from './entity-traversing.service';
import { EntityManipulationService } from './entity-manipulation.service';
import { EntityAggregationService } from './entity-aggregation.service';
/**
 * 实体服务
 * @scope FrameComponent
 */
var EntityService = /** @class */ (function () {
    function EntityService(frameContext) {
        this.frameContext = frameContext;
        var injector = this.frameContext.injector;
        this.traversingService = injector.get(EntityTraversingService);
        this.manipulationService = injector.get(EntityManipulationService);
        this.aggregationService = injector.get(EntityAggregationService);
    }
    /**
     * 获取path对应的属性值
     */
    EntityService.prototype.getPropValue = function (path) {
        return this.traversingService.getPropValue(path);
    };
    /**
     * 设置path对应的属性值
     */
    EntityService.prototype.setPropValue = function (path, value) {
        return this.manipulationService.setPropValue(path, value);
    };
    /**
     * 设置path对应的Entity数据
     */
    EntityService.prototype.getEntityData = function (path) {
        return this.traversingService.getEntityData(path);
    };
    /**
     * 设置path对应的EntityList数据
     */
    EntityService.prototype.getEntityListData = function (path) {
        return this.traversingService.getEntityListData(path);
    };
    /**
     * 获取path对应EntityList记录数
     */
    EntityService.prototype.count = function (path) {
        return this.aggregationService.count(path);
    };
    /**
     * 获取path对应属性的合计值
     */
    EntityService.prototype.sum = function (path) {
        return this.aggregationService.sum(path);
    };
    /**
     * 获取path对应属性的平均值
     */
    EntityService.prototype.avg = function (path) {
        return this.aggregationService.avg(path);
    };
    /**
     * 获取path对应属性的最大值
     */
    EntityService.prototype.max = function (path) {
        return this.aggregationService.max(path);
    };
    /**
     * 获取path对应属性的最小值
     */
    EntityService.prototype.min = function (path) {
        return this.aggregationService.min(path);
    };
    EntityService.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    EntityService.ctorParameters = function () { return [
        { type: FrameContext }
    ]; };
    return EntityService;
}());
export { EntityService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW50aXR5LnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL2NvbW1hbmQtc2VydmljZXMvIiwic291cmNlcyI6WyJsaWIvZW50aXR5LXNlcnZpY2VzL2VudGl0eS5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzlDLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQ3RFLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQzFFLE9BQU8sRUFBRSx3QkFBd0IsRUFBQyxNQUFNLDhCQUE4QixDQUFDO0FBRXZFOzs7R0FHRztBQUNIO0lBU0UsdUJBQW9CLFlBQTBCO1FBQTFCLGlCQUFZLEdBQVosWUFBWSxDQUFjO1FBQzVDLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDO1FBQzVDLElBQUksQ0FBQyxpQkFBaUIsR0FBSyxRQUFRLENBQUMsR0FBRyxDQUEwQix1QkFBdUIsQ0FBQyxDQUFDO1FBQzFGLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUE0Qix5QkFBeUIsQ0FBQyxDQUFDO1FBQzlGLElBQUksQ0FBQyxrQkFBa0IsR0FBSSxRQUFRLENBQUMsR0FBRyxDQUEyQix3QkFBd0IsQ0FBQyxDQUFDO0lBQzlGLENBQUM7SUFFRDs7T0FFRztJQUNJLG9DQUFZLEdBQW5CLFVBQW9CLElBQWM7UUFDaEMsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFRDs7T0FFRztJQUNJLG9DQUFZLEdBQW5CLFVBQW9CLElBQWMsRUFBRSxLQUFVO1FBQzVDLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUVEOztPQUVHO0lBQ0kscUNBQWEsR0FBcEIsVUFBcUIsSUFBYztRQUNqQyxPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUVEOztPQUVHO0lBQ0kseUNBQWlCLEdBQXhCLFVBQXlCLElBQWM7UUFDckMsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVEOztPQUVHO0lBQ0ksNkJBQUssR0FBWixVQUFhLElBQWM7UUFDekIsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRDs7T0FFRztJQUNJLDJCQUFHLEdBQVYsVUFBVyxJQUFjO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQ7O09BRUc7SUFDSSwyQkFBRyxHQUFWLFVBQVcsSUFBYztRQUN2QixPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQUVEOztPQUVHO0lBQ0ksMkJBQUcsR0FBVixVQUFXLElBQWM7UUFDdkIsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRDs7T0FFRztJQUNJLDJCQUFHLEdBQVYsVUFBVyxJQUFjO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMzQyxDQUFDOztnQkE3RUYsVUFBVTs7OztnQkFURixZQUFZOztJQXVGckIsb0JBQUM7Q0FBQSxBQTlFRCxJQThFQztBQUVELE9BQU8sRUFBRSxhQUFhLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZyYW1lQ29udGV4dCB9IGZyb20gJ0BmYXJyaXMvZGV2a2l0JztcbmltcG9ydCB7IEVudGl0eVRyYXZlcnNpbmdTZXJ2aWNlIH0gZnJvbSAnLi9lbnRpdHktdHJhdmVyc2luZy5zZXJ2aWNlJztcbmltcG9ydCB7IEVudGl0eU1hbmlwdWxhdGlvblNlcnZpY2UgfSBmcm9tICcuL2VudGl0eS1tYW5pcHVsYXRpb24uc2VydmljZSc7XG5pbXBvcnQgeyBFbnRpdHlBZ2dyZWdhdGlvblNlcnZpY2V9IGZyb20gJy4vZW50aXR5LWFnZ3JlZ2F0aW9uLnNlcnZpY2UnO1xuXG4vKipcbiAqIOWunuS9k+acjeWKoVxuICogQHNjb3BlIEZyYW1lQ29tcG9uZW50XG4gKi9cbkBJbmplY3RhYmxlKClcbmNsYXNzIEVudGl0eVNlcnZpY2Uge1xuXG4gIHByaXZhdGUgdHJhdmVyc2luZ1NlcnZpY2U6IEVudGl0eVRyYXZlcnNpbmdTZXJ2aWNlO1xuXG4gIHByaXZhdGUgbWFuaXB1bGF0aW9uU2VydmljZTogRW50aXR5TWFuaXB1bGF0aW9uU2VydmljZTtcblxuICBwcml2YXRlIGFnZ3JlZ2F0aW9uU2VydmljZTogRW50aXR5QWdncmVnYXRpb25TZXJ2aWNlO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZnJhbWVDb250ZXh0OiBGcmFtZUNvbnRleHQpIHtcbiAgICBjb25zdCBpbmplY3RvciA9IHRoaXMuZnJhbWVDb250ZXh0LmluamVjdG9yO1xuICAgIHRoaXMudHJhdmVyc2luZ1NlcnZpY2UgICA9IGluamVjdG9yLmdldDxFbnRpdHlUcmF2ZXJzaW5nU2VydmljZT4oRW50aXR5VHJhdmVyc2luZ1NlcnZpY2UpO1xuICAgIHRoaXMubWFuaXB1bGF0aW9uU2VydmljZSA9IGluamVjdG9yLmdldDxFbnRpdHlNYW5pcHVsYXRpb25TZXJ2aWNlPihFbnRpdHlNYW5pcHVsYXRpb25TZXJ2aWNlKTtcbiAgICB0aGlzLmFnZ3JlZ2F0aW9uU2VydmljZSAgPSBpbmplY3Rvci5nZXQ8RW50aXR5QWdncmVnYXRpb25TZXJ2aWNlPihFbnRpdHlBZ2dyZWdhdGlvblNlcnZpY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPlnBhdGjlr7nlupTnmoTlsZ7mgKflgLxcbiAgICovXG4gIHB1YmxpYyBnZXRQcm9wVmFsdWUocGF0aDogc3RyaW5nW10pOiBhbnkge1xuICAgIHJldHVybiB0aGlzLnRyYXZlcnNpbmdTZXJ2aWNlLmdldFByb3BWYWx1ZShwYXRoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDorr7nva5wYXRo5a+55bqU55qE5bGe5oCn5YC8XG4gICAqL1xuICBwdWJsaWMgc2V0UHJvcFZhbHVlKHBhdGg6IHN0cmluZ1tdLCB2YWx1ZTogYW55KTogdm9pZCB7XG4gICAgcmV0dXJuIHRoaXMubWFuaXB1bGF0aW9uU2VydmljZS5zZXRQcm9wVmFsdWUocGF0aCwgdmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIOiuvue9rnBhdGjlr7nlupTnmoRFbnRpdHnmlbDmja5cbiAgICovXG4gIHB1YmxpYyBnZXRFbnRpdHlEYXRhKHBhdGg6IHN0cmluZ1tdKTogYW55IHtcbiAgICByZXR1cm4gdGhpcy50cmF2ZXJzaW5nU2VydmljZS5nZXRFbnRpdHlEYXRhKHBhdGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIOiuvue9rnBhdGjlr7nlupTnmoRFbnRpdHlMaXN05pWw5o2uXG4gICAqL1xuICBwdWJsaWMgZ2V0RW50aXR5TGlzdERhdGEocGF0aDogc3RyaW5nW10pOiBhbnkge1xuICAgIHJldHVybiB0aGlzLnRyYXZlcnNpbmdTZXJ2aWNlLmdldEVudGl0eUxpc3REYXRhKHBhdGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPlnBhdGjlr7nlupRFbnRpdHlMaXN06K6w5b2V5pWwXG4gICAqL1xuICBwdWJsaWMgY291bnQocGF0aDogc3RyaW5nW10pOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0aW9uU2VydmljZS5jb3VudChwYXRoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5ZwYXRo5a+55bqU5bGe5oCn55qE5ZCI6K6h5YC8XG4gICAqL1xuICBwdWJsaWMgc3VtKHBhdGg6IHN0cmluZ1tdKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGlvblNlcnZpY2Uuc3VtKHBhdGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPlnBhdGjlr7nlupTlsZ7mgKfnmoTlubPlnYflgLxcbiAgICovXG4gIHB1YmxpYyBhdmcocGF0aDogc3RyaW5nW10pOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmFnZ3JlZ2F0aW9uU2VydmljZS5hdmcocGF0aCk7XG4gIH1cblxuICAvKipcbiAgICog6I635Y+WcGF0aOWvueW6lOWxnuaAp+eahOacgOWkp+WAvFxuICAgKi9cbiAgcHVibGljIG1heChwYXRoOiBzdHJpbmdbXSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuYWdncmVnYXRpb25TZXJ2aWNlLm1heChwYXRoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5ZwYXRo5a+55bqU5bGe5oCn55qE5pyA5bCP5YC8XG4gICAqL1xuICBwdWJsaWMgbWluKHBhdGg6IHN0cmluZ1tdKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdGlvblNlcnZpY2UubWluKHBhdGgpO1xuICB9XG59XG5cbmV4cG9ydCB7IEVudGl0eVNlcnZpY2UgfTtcbiJdfQ==