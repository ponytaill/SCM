{"version":3,"file":"gsp-wf-wf-task-handler.umd.js.map","sources":["node_modules/tslib/tslib.es6.js","ng://@gsp-wf/wf-task-handler/lib/service/task.service.ts","ng://@gsp-wf/wf-task-handler/lib/entity/task-action.ts","ng://@gsp-wf/wf-task-handler/lib/service/i18n/en.ts","ng://@gsp-wf/wf-task-handler/lib/service/i18n/zh-cht.ts","ng://@gsp-wf/wf-task-handler/lib/service/i18n/zh-chs.ts","ng://@gsp-wf/wf-task-handler/lib/service/i18n/index.ts","ng://@gsp-wf/wf-task-handler/lib/service/i18n/i18n.service.ts","ng://@gsp-wf/wf-task-handler/lib/entity/task-entity.ts","ng://@gsp-wf/wf-task-handler/lib/entity/complete-context.ts","ng://@gsp-wf/wf-task-handler/lib/entity/complete-response.ts","ng://@gsp-wf/wf-task-handler/lib/entity/task-center-config.ts","ng://@gsp-wf/wf-task-handler/lib/entity/workitem-execute-param.ts","ng://@gsp-wf/wf-task-handler/lib/entity/user.ts","ng://@gsp-wf/wf-task-handler/lib/entity/urge-handle.ts","ng://@gsp-wf/wf-task-handler/lib/entity/batchVerifysigned.ts","ng://@gsp-wf/wf-task-handler/lib/entity/wfContext.ts","ng://@gsp-wf/wf-task-handler/lib/components/urge-handle/urge-handle.component.ts","ng://@gsp-wf/wf-task-handler/lib/entity/base-payload.ts","ng://@gsp-wf/wf-task-handler/lib/entity/add-sign.ts","ng://@gsp-wf/wf-task-handler/lib/components/task-execute/task-execute.component.ts","ng://@gsp-wf/wf-task-handler/lib/entity/start-process-payload.ts","ng://@gsp-wf/wf-task-handler/lib/entity/postMessage.ts","ng://@gsp-wf/wf-task-handler/lib/entity/process-cache.ts","ng://@gsp-wf/wf-task-handler/lib/submit/process-selector/process-selector.component.ts","ng://@gsp-wf/wf-task-handler/lib/wf-task-handler.service.ts","ng://@gsp-wf/wf-task-handler/lib/service/i18n/translate.pipe.ts","ng://@gsp-wf/wf-task-handler/lib/components/task-assigninfo/task-assigninfo.component.ts","ng://@gsp-wf/wf-task-handler/lib/components/assignee-info/assignee-info.component.ts","ng://@gsp-wf/wf-task-handler/lib/throttleTime/throttleClickDirective.ts","ng://@gsp-wf/wf-task-handler/lib/entity/attachment.ts","ng://@gsp-wf/wf-task-handler/lib/entity/comment.ts","ng://@gsp-wf/wf-task-handler/lib/components/task-comment/task-comment.component.ts","ng://@gsp-wf/wf-task-handler/lib/wf-task-handler.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { Observable, forkJoin } from 'rxjs';\r\nimport { AssignParameter } from '../entity/complete-response';\r\nimport { CompleteContext } from '../entity/complete-context';\r\nimport { BatchVerifySignedContext } from '../entity/batchVerifysigned';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { CancelSubmitPayload, StartProcessPayload } from '../entity/start-process-payload';\r\nimport { PostMessage } from '../entity/postMessage';\r\nimport { FileDeleteEntity, FileUploadEntity, GspDocUploadEntity } from '../entity/attachment';\r\nimport { WorkItemExecuteParam } from '../entity/workitem-execute-param';\r\nimport { UrgeHandleContext, UrgeHandleSimulateContext } from '../entity/urge-handle';\r\nimport { AddSignPayload } from '../entity/add-sign';\r\n\r\n@Injectable()\r\nexport class TaskService {\r\n\r\n    constructor(\r\n        private httpSvc: HttpService,\r\n        private message: MessagerService,\r\n    ) { }\r\n\r\n    getUsersByIds(ids: string[]): Observable<any> {\r\n        var pathUrl = '/api/runtime/sys/v1.0/users';\r\n        return forkJoin(ids.map(id => this.httpSvc.get(pathUrl + `/${id}` + `?mode=0002`)));\r\n    }\r\n    /**\r\n     * è·åå·¥ä½é¡¹æä½åè¡¨\r\n     */\r\n    getWorkItemActions(workItemId: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/${workItemId}/actions`;\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * æ§è¡å®¡æ¹æä½\r\n     * @param context æ§è¡å®¡æ¹ä¸ä¸æ\r\n     */\r\n    complete(context: CompleteContext): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/complete`;\r\n        return this.httpSvc.post(url, context);\r\n    }\r\n\r\n    /**\r\n     * æ§è¡å®¡æ¹é¢è§£æ\r\n     * @param context æ§è¡å®¡æ¹ä¸ä¸æ\r\n     */\r\n    completeSimulate(context: CompleteContext): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/complete-simulation`;\r\n        return this.httpSvc.post(url, context);\r\n    }\r\n\r\n    /**\r\n     * è·åè·³è½¬æ´»å¨ä¿¡æ¯\r\n     * @param workItemId å·¥ä½é¡¹Id\r\n     * @param action å¨ä½ç¼å·\r\n     */\r\n    getDestinationScope(workItemId: string, action: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/${workItemId}/nextNodes/${action}`;\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * æ ¹æ®èç¹IDè·åæå®åä¸èçç»æ\r\n     * @param workItemId\r\n     * @param nodeId è¯´æï¼nodeIds=[\"node1\",\"node2\",Â·Â·Â·]\r\n     * @returns ææ´¾ä¿¡æ¯çæ°ç» re: FlowNodeInfo[]\r\n     */\r\n    getSimulationAssigneeInfo(workItemId: string, nodeId: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/${workItemId}/simulation-assigneeInfo?nodeIds=[${nodeId}]`;\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * æ§è¡å¾è¯¢ãç¥ä¼\r\n     * @param context ä¸ä¸æ\r\n     */\r\n    addSign(context: any): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/counterSignAdd`;\r\n        return this.httpSvc.post(url, context);\r\n    }\r\n\r\n    /**\r\n     * å·²é\r\n     * @param context åæ°\r\n     */\r\n    readTask(context: WorkItemExecuteParam): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/read`;\r\n        return this.httpSvc.post(url, context);\r\n    }\r\n\r\n    /**\r\n     * æ¥è¯¢åæ®ä¿¡æ¯\r\n     * @param workItemId å·¥ä½é¡¹Id\r\n     */\r\n    getAppInfo(workItemId: string): Observable<any> {\r\n        const formParUrl = `/api/runtime/wf/v1.0/workItems/${workItemId}/formInfo`;\r\n        return this.httpSvc.get(formParUrl);\r\n    }\r\n\r\n    /**\r\n     * è·åææ´¾ä¿¡æ¯\r\n     * @param taskId å·¥ä½é¡¹Id\r\n     * æ­¤æ¥å£åªè¿åä¸ä¸ªAssignInfoç±»åºåååçä¿¡æ¯ï¼ä¸æ¯å¤ä¸ª\r\n     */\r\n    getAssigneeInfo(taskId: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/${taskId}/assigneeInfo`;\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * è·åå ç­¾ç§»äº¤èå´è®¾ç½®\r\n     * @param workItemId\r\n     * @param actionCode\r\n     */\r\n    getOrganizationScope(workItemId: string, actionCode: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/${workItemId}/organizationScope/${actionCode}`;\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * æ ¹æ®æµç¨å®ä¾IDåä»»å¡ç¶æåçä»»å¡\r\n     * @param procInstId æµç¨å®ä¾id\r\n     * @param state ä»»å¡ç¶æ 2æ5\r\n     */\r\n    getTaskByProcInstId(procInstId: string, state: number): Observable<any> {\r\n        const url = `/api/runtime/task/v1.0/tasks/processInstanceId?procInstId=${procInstId}&state=${state}`;\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * æ ¹æ®workitemIDè·åä»»å¡å®ä½\r\n     * @param workItemId\r\n     */\r\n    getTaskByWorkItemId(workItemId: string): Observable<any> {\r\n        const url = `/api/runtime/task/v1.0/tasks/sourceId/${workItemId}`;\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * æ ¹æ®å·¥ä½é¡¹IDææ´¾ä»»å¡\r\n     * @param assigneesPa ææ´¾åæ°\r\n     */\r\n    assignNextUsersByWorkItemId(assigneesPa: AssignParameter): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/assignUser`;\r\n        return this.httpSvc.post(url, assigneesPa);\r\n    }\r\n\r\n    /**\r\n     * åå\r\n     * @param workItemId task id\r\n     * @param comment comment\r\n     */\r\n    retrieve(context: { workItemId: string, comment?: string }): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/retrieve`;\r\n        return this.httpSvc.post(url, context);\r\n    }\r\n\r\n    /**\r\n     * ä»»å¡ç§»äº¤\r\n     * @param taskId å·¥ä½é¡¹Id\r\n     * @param targetUId ç®æ ç¨æ·Id\r\n     */\r\n    transfer(transferContext: any): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/transfer`;\r\n        return this.httpSvc.post(url, transferContext);\r\n    }\r\n\r\n    /**\r\n     * ä»»å¡è¯è®º\r\n     * @param taskId å·¥ä½é¡¹Id\r\n     * @param targetUId ç®æ ç¨æ·Id\r\n     */\r\n    comment(commentContext: any): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/comment`;\r\n        return this.httpSvc.post(url, commentContext);\r\n    }\r\n\r\n    /**\r\n     * é¢ç¨ä»»å¡\r\n     * @param taskId å·¥ä½é¡¹Id\r\n     */\r\n    claim(taskId: string, comment: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/claim`;\r\n        const options = {\r\n            workItemId: taskId,\r\n            comment: comment\r\n        };\r\n        return this.httpSvc.post(url, options);\r\n    }\r\n\r\n    /**\r\n     * åæ¶é¢ç¨\r\n     * @param taskId ä»»å¡Id\r\n     */\r\n    unClaim(taskId: string, comment: string): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/unclaim`;\r\n        const options = {\r\n            workItemId: taskId,\r\n            comment: comment\r\n        };\r\n        return this.httpSvc.post(url, options);\r\n    }\r\n\r\n    /**\r\n     * æ¥éæç¤º\r\n     * @param error\r\n     */\r\n    error(error: any) {\r\n        if (error && error.error && error.error.Message) {\r\n            var message = error.error.Message;\r\n            this.message.warning(message);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * å¯å¨æµç¨æ¥å£\r\n     * @param payload APIæéçä¸ä¸æåæ°\r\n     */\r\n    startProcess(payload: StartProcessPayload): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/processInstances/startProcess`;\r\n        return this.httpSvc.post(url, payload);\r\n    }\r\n\r\n    /**\r\n     * å¯å¨æµç¨é¢è§£æ\r\n     * @param payload APIæéçä¸ä¸æåæ°\r\n     */\r\n    startProcessSimulate(payload: StartProcessPayload): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/processInstances/startProcess-simulation`;\r\n        return this.httpSvc.post(url, payload);\r\n    }\r\n\r\n    /**\r\n     * åæ¶æäº¤\r\n     * @param param åæ°\r\n     */\r\n    cancelSubmit(param: CancelSubmitPayload): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/processInstances/cancelSubmit`;\r\n        return this.httpSvc.post(url, param);\r\n    }\r\n\r\n    static newId() {\r\n        const S4 = () => (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n        return (S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4());\r\n    }\r\n\r\n\r\n    getCommentList(): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/commonComments`;\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    addComment(): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/commonComments`;\r\n        return this.httpSvc.post(url, {});\r\n    }\r\n\r\n    /**\r\n       * è·åä»»å¡ä¸­å¿éç½®é¡¹\r\n       * @param code éç½®é¡¹çCode\r\n       */\r\n    getTaskCenterConfigByCode(code: string, ownerType?: string, ownerId?: string): Observable<any> {\r\n        let url = `/api/runtime/task/v1.0/task-center-setting/code?code=${code}`;\r\n        ownerType && (url += `&ownerType=${ownerType}`);\r\n        ownerId && (url += `&ownerId=${ownerId}`);\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * æ·»å ç¨æ·çº§å«èªå®ä¹éç½®\r\n     * @param code éç½®é¡¹ç¼å·\r\n     */\r\n    addTaskCenterConfig(code: string, currentValue: string): Observable<any> {\r\n        let url = `/api/runtime/task/v1.0/task-center-setting/add?configCode=${code}&currentValue=${currentValue}`;\r\n        return this.httpSvc.post(url, null);\r\n    }\r\n\r\n    /**\r\n     * è·åå¨é¨ç¨æ·çº§å«éç½®\r\n     * @returns\r\n     */\r\n    getAllUserConfig(): Observable<any> {\r\n        let url = `/api/runtime/task/v1.0/task-center-setting/all`;\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * çæ­£ä¸ä¼ éä»¶\r\n     * @param files\r\n     */\r\n    uploadAttachment(files: FileUploadEntity): Observable<any> {\r\n        let url = `/api/runtime/dfs/v1.0/doc/commit`;\r\n        return this.httpSvc.put(url, files);\r\n    }\r\n\r\n    /**\r\n     * å é¤éä»¶\r\n     * @param fileDeleteEntity\r\n     */\r\n    deleteAttachment(fileDeleteEntity: FileDeleteEntity): Observable<any> {\r\n        let url = `/api/runtime/dfs/v1.0/doc`;\r\n        return this.httpSvc.delete(url, fileDeleteEntity);\r\n    }\r\n\r\n    /**\r\n     * ç­¾åå¾çï¼éä»¶ç¸å³\r\n     */\r\n    uploadSignature(gspDocUploadEntity: GspDocUploadEntity): Observable<any> {\r\n        let url = `/api/runtime/dfs/v1.0/doc`;\r\n        let header = this.httpSvc.setHeader({\r\n            body: gspDocUploadEntity,\r\n            responseType: 'text'\r\n        })\r\n        return this.httpSvc.request('Post', url, header);\r\n    }\r\n\r\n    /**\r\n     * åå»ºåç \r\n     */\r\n    createNM() {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            const r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * è·åå½åç¨æ·ä¿¡æ¯\r\n     */\r\n    getUserInfo(): Observable<any> {\r\n        let url = `/api/runtime/sys/v1.0/userinfos?infoType=user`;\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * è·åç¨æ·ææç­¾å\r\n     */\r\n    getUserSign(userId: string): Observable<any> {\r\n        let url = `/api/runtime/dfs/v1.0/formdoc/fileinfo/form?formid=${userId}&rootid=taskcentersignature`;\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n\r\n    /**\r\n     * è§£ææä»¶ç±»åï¼ç»åºç¼©ç¥å¾\r\n     * @param attachmentInfo\r\n     */\r\n    createItem(attachmentInfo: any) {\r\n        var pos = attachmentInfo.fileName.lastIndexOf(\".\");\r\n        var type = attachmentInfo.fileName.substring(pos + 1);\r\n        type = (type == '' ? 'Default' : type.toLowerCase());\r\n        var docLib = 'doc-docx-htm-html-js-pdf-ppt-pptx-rar-zip-txt-xls-xlsx';\r\n        var videoLib = 'wav-aif-aiff-au-mp1-mp2-mp3-ra-rm-ram-mid-rmi';\r\n        var audioLib = 'avi-rm-rmvb-mpeg-mpg-dat-mov-qt-asf-wm-mp4';\r\n        var imgLib = 'webp-baibmp-dupcx-tif-gif-jpeg-tga-exif-fpx-svg-psd-cdr-pcd-dxf-ufo-eps-ai-png-hdri-raw-wmf-flic-emf-ico-jpg';\r\n        if (docLib.indexOf(type) >= 0) {\r\n            type = type.toLowerCase();\r\n        } else if (videoLib.indexOf(type) >= 0) {\r\n            type = 'video';\r\n        } else if (audioLib.indexOf(type) >= 0) {\r\n            type = 'audio';\r\n        } else if (imgLib.indexOf(type) >= 0) {\r\n            type = 'picture';\r\n        } else {\r\n            type = 'default';\r\n        }\r\n        return type;\r\n    }\r\n\r\n    /**\r\n     * æ³¨åä¸»é¢ï¼å¹¶è·åå½åä¸»é¢å¯ä¸æ è¯token\r\n     * @param subjectCode ä¸»é¢ç¼ç ï¼éå¯ä¸æ è¯ï¼tokenä¸ºå¯ä¸æ è¯\r\n     * @param token ä¸»é¢å¯ä¸æ è¯ã\r\n     * @returns ä¸»é¢çå¯ä¸æ è¯ã\r\n     */\r\n    subjectRegister(subjectCode: string, token: string) {\r\n        return (window as any).gspframeworkService.rtf.broadcast.subjectRegister(subjectCode, { funcId: token });\r\n    }\r\n\r\n    /**\r\n     * éè¿æä¸ªtokenåéæ¶æ¯\r\n     * @param subjectToken ä¸»é¢å¯ä¸çtokenæ è¯\r\n     * @param message è¦åéçæ¶æ¯\r\n     */\r\n    subjectNotify(subjectToken: string, message: any) {\r\n        (window as any).gspframeworkService.rtf.broadcast.notify(subjectToken, message);\r\n    }\r\n\r\n    /**\r\n     * æ·»å è§å¯èï¼å¹¶çå¬æ¶æ¯\r\n     * @param subjectToken ä¸»é¢token\r\n     * @param observerToken å½åçå¬ä¸»é¢çè§å¯èå¯ä¸æ è¯tokenãæ­¤å¤åºå®\r\n     * @param handler çå¬å°æ¶æ¯åæ§è¡çå¨ä½\r\n     */\r\n    subjectResponse(subjectToken: string, observerToken: string, handler: (value: any) => void) {\r\n        (window as any).gspframeworkService.rtf.broadcast.response(subjectToken, observerToken, handler);\r\n    }\r\n\r\n    /**\r\n     * è·åå¬åæ¨¡æç»æ\r\n     * @param context åæ°\r\n     * @returns\r\n     */\r\n    urgeHandleSimulate(context: UrgeHandleSimulateContext): Observable<any> {\r\n        let url = `/api/runtime/wf/v1.0/processInstances/getUrgeHandleInfo`;\r\n        return this.httpSvc.post(url, context);\r\n    }\r\n\r\n    /**\r\n     * æ§è¡å¬å\r\n     * @param context åæ°\r\n     * @returns\r\n     */\r\n    urgeHandle(context: UrgeHandleContext): Observable<any> {\r\n        let url = `/api/runtime/wf/v1.0/processInstances/urgeHandle`;\r\n        return this.httpSvc.post(url, context);\r\n    }\r\n\r\n    /**æ¹éæ°å­ç­¾å\r\n     * @param context åæ°\r\n     */\r\n    batchVerifySigned(context: BatchVerifySignedContext): Observable<any> {\r\n        const url = `/api/runtime/wf/v1.0/workItems/batchVerifySigned`;\r\n        return this.httpSvc.post(url, context);\r\n    }\r\n\r\n    /**\r\n     * è·åç¨æ·å¸®å©åç«¯éç½®\r\n     * @returns \r\n     */\r\n    getWfUserHelpConfig(): Observable<any> {\r\n        const url = `/platform/runtime/wf/web/wf-user-help/config.json?v=` + new Date().getTime();\r\n        return this.httpSvc.get(url);\r\n    }\r\n\r\n    /**\r\n     * è·åå ç­¾éç½®\r\n     */\r\n    getAdhocConfig(workItemId: string): Observable<any> {\r\n        let url = `/api/runtime/wf/v1.0/workItems/${workItemId}/adhocConfig/AddSignBehind`;\r\n        return this.httpSvc.get(url);\r\n    }\r\n    /**\r\n     * å ç­¾æäº¤\r\n     */\r\n    adhocAssignee(payload: AddSignPayload) {\r\n        let url = `/api/runtime/wf/v1.0/workItems/adhocAssignee`;\r\n        return this.httpSvc.post(url, payload);\r\n    }\r\n    /**\r\n     * åæ¶å¾è¯¢\r\n     */\r\n    cancelConsult(payload: WorkItemExecuteParam) {\r\n        let url = `/api/runtime/wf/v1.0/workItems/cancelConsult`;\r\n        return this.httpSvc.post(url, payload);\r\n    }\r\n}\r\n","/**\r\n * ä¸å¡å¨ä½åæ°\r\n */\r\nexport class ActionParameter {\r\n    /**\r\n     * åæ°ç¼å·\r\n     */\r\n    code: string;\r\n    /**\r\n     * åæ°å¼\r\n     */\r\n    value: string;\r\n}\r\n/**\r\n * ä»»å¡å¨ä½å®ä¹\r\n */\r\nexport class TaskActionDef {\r\n    /**\r\n     * id\r\n     */\r\n    id: string;\r\n    /**\r\n     * å¨ä½ç¼å·\r\n     */\r\n    code: string;\r\n    /**\r\n     * å¨ä½æ¾ç¤ºåç§°\r\n     */\r\n    name: string;\r\n    /**\r\n     * å¨ä½å®ç°\r\n     */\r\n    impl: string;\r\n    /**\r\n     * æ¯å¦æ¹éæä½\r\n     */\r\n    isBatchAction: boolean;\r\n    /**\r\n     * æ¯å¦æ¯èæ¥æä½\r\n     */\r\n    isHyperlinkAction: boolean;\r\n    /**\r\n     * æ¯å¦ä¸»æä½\r\n     */\r\n    isPrimaryAction: boolean;\r\n    /**\r\n     * å¨ä½æåºå·\r\n     */\r\n    sortOrder: number;\r\n    /**\r\n     * ç±»åid\r\n     */\r\n    typeId: string;\r\n    /**\r\n     * åäºä»¶\r\n     */\r\n    preEvents?: ActionEvent[];\r\n    /**\r\n     * åäºä»¶\r\n     */\r\n    postEvents?: ActionEvent[];\r\n}\r\n/**\r\n * ä»»å¡å¨ä½å®ä¹\r\n */\r\nexport class TaskAction extends TaskActionDef {\r\n    /**\r\n     * ä»»å¡å¨ä½å®ä¹ç¼å·\r\n     */\r\n    code: string;\r\n    /**\r\n     * åæ°åè¡¨\r\n     */\r\n    parameters: ActionParameter[];\r\n}\r\n\r\nexport class ActionEvent {\r\n    /**\r\n     * ID\r\n     */\r\n    id: string;\r\n    /**\r\n     * ä»»å¡åç±»\r\n     */\r\n    taskCategoryId: string;\r\n    /**\r\n     * å¨ä½ç¼å·\r\n     */\r\n    actionCode: string;\r\n    /**\r\n     * å®ç°\r\n     */\r\n    eventImpl: string;\r\n    /**\r\n     * æåº\r\n     */\r\n    sortOrder: number;\r\n    /**\r\n     * ç»ç«¯ï¼webï¼app\r\n     */\r\n    terminal: string;\r\n    /**\r\n     * ç±»åï¼Pre,Post\r\n     */\r\n    type: string;\r\n    /**\r\n     * æ¯å¦ä¸ºæ¹éæ©å±\r\n     */\r\n    batch: boolean;\r\n}\r\n","export const en = {\r\n  static: {\r\n    assignee: {\r\n      title: 'Select Operator',\r\n      noAssignee: 'Please select at least one approver.',\r\n      successAssign: 'Operate successfully.',\r\n    },\r\n    transfer: {\r\n      title: 'Select transfer person',\r\n      selectHandover: 'Please select transfer persons.',\r\n      successTransfer: 'Transfer successfully.'\r\n    },\r\n    comment: {\r\n      successComment: 'Comment success.'\r\n    },\r\n    columnName: {\r\n      name: 'Name',\r\n      code: 'Code',\r\n      department: 'Department',\r\n    },\r\n    title: 'Approval confirmation',\r\n    inputLabel: 'Approval comments',\r\n    inputHolder: 'Please enter an approval opinion',\r\n    selectActivity: 'Please select approve note',\r\n    addSignee: 'Add signee',\r\n    footOk: 'OK',\r\n    footCancel: 'Cancel',\r\n    selectUser: 'Select User',\r\n    hideComment: 'Hide comment',\r\n  },\r\n  cueWords: {\r\n    successClaim: 'Claim successfully.',\r\n    successUnClaim: 'Cancel to claim successfully.',\r\n    successRetrieve: 'Retrieve successfully.',\r\n    successPass: 'Approved successfully.',\r\n    successBack: 'Dismissed successfully.',\r\n    successRefuse: 'Veto successfully.',\r\n    success: 'Operate successfully.',\r\n    inputOpinion: 'Please input your opinion',\r\n    selectNode: 'Please select target nodes',\r\n    select: 'Please select',\r\n    processor: 'processor',\r\n    attachmentsRequired: 'Please upload the attachment',\r\n    assignUser: 'Assign user'\r\n  },\r\n  task: {\r\n    selectPlaceholder: 'Please select',\r\n    passComment: 'Pass',\r\n    processAlone: 'Please handle it separately',\r\n    urgeText: 'Receiver',\r\n    backNodeText: 'Back node',\r\n    selectProcessor: 'Please select the user',\r\n    notFoundBill: 'This document cannot be processed on the computer. Please try to process it on the mobile terminal',\r\n    nextNodeText: 'Next node',\r\n    assignText: 'Assign to',\r\n    noUser: 'No one',\r\n    title: 'Handle Task',\r\n    noTask: 'There is no task.',\r\n    commentTooLong: 'Comment is too long',\r\n    activityName: 'processor',\r\n    receiver: 'receiver',\r\n    urgeComment: \"Please input your comment\",\r\n    noUrgeUsers: \"There is no user to urge handle\",\r\n    noUrgeSubject: \"no urge subject\",\r\n    noUrgeContent: \"no urge content\",\r\n    person: \" people\",\r\n    addSign: \"Add sign\",\r\n  },\r\n  startProcess: {\r\n    selectProcess: 'Please select process',\r\n    title: 'Select process',\r\n    selectNode: 'Please select next node',\r\n    submitSuccess: 'Start process successfully',\r\n    submitFailed: 'Start process failed',\r\n    cancelSubmitSuccess: 'Cancel submit successfully',\r\n    cancelSubmitFailed: 'Cancel submit failed',\r\n    dataIdIsNull: 'Please select a data',\r\n    dataIdIsEmpty: 'Please select a data',\r\n    bizDefKeyIsNull: 'Biz definition key is null',\r\n    success: 'Success',\r\n    row: '',\r\n    failed: ', failed',\r\n    node: 'node, ',\r\n    noUser: 'no suitable handler was found'\r\n  },\r\n  batchSubmit: {\r\n    row: '',\r\n    success: 'Success',\r\n    error: 'Error',\r\n    failed: 'Failed',\r\n    validationFailed: 'Signature verification failed',\r\n    single: 'Failed tasks please process it singly'\r\n  },\r\n  batchStartProcess: {\r\n    row: '<br/>',\r\n    success: 'Success',\r\n    error: 'Error',\r\n    failed: 'Failed',\r\n    single: 'Failed tasks please process it singly'\r\n  },\r\n  comment: {\r\n    static: {\r\n      title: 'Approval comments',\r\n      add: 'Add',\r\n      delete: 'Delete',\r\n      save: 'Save',\r\n      cancel: 'Cancel',\r\n      content: 'Content',\r\n      order: 'Order',\r\n      inputLabel: 'Comments',\r\n      manage: 'Comments management',\r\n      attachmentUpload: 'Attachment',\r\n      repeatFile: 'Contains repeat files:',\r\n      type: 'Type',\r\n      operate: 'Operate',\r\n      confirm: 'Confirm',\r\n      clickToAdd: 'Click to add',\r\n      public: 'public',\r\n      private: 'private',\r\n      messageSubject: 'message subject',\r\n      messageContent: 'message content'\r\n    },\r\n    attachment: {\r\n      tips: 'click to upload attachments'\r\n    },\r\n    signature: {\r\n      title: 'Signature',\r\n      reset: 'Reset',\r\n      ok: 'OK',\r\n      sign: 'Sign, ',\r\n      upload: 'Upload',\r\n      tips: 'click to sign or upload a picture',\r\n      dialogTitle: 'Signature',\r\n      note1: '',\r\n      note2: 'or',\r\n      note3: '',\r\n      disable: 'disable signature'\r\n    }\r\n  },\r\n  addSign: {\r\n    allowSignToSign: 'Allow',\r\n    multiInstanceType: 'Multi instance type',\r\n    parallel: 'parallel',\r\n    preempt: 'preempt',\r\n    sequential: 'sequential'\r\n  },\r\n  backWardConfig: {\r\n    allowResubmitToThisNode:',resubmit to this node'\r\n  }\r\n};\r\n","export const zh_CHT = {\r\n  static: {\r\n    assignee: {\r\n      title: 'è«é¸æç¨æ¶',\r\n      noAssignee: 'è«é¸æè¾¦çäººå¡',\r\n      successAssign: 'æä½æå',\r\n    },\r\n    transfer: {\r\n      title: 'è«é¸æç¨æ¶',\r\n      selectHandover: 'è«é¸æç¨æ¶',\r\n      successTransfer: 'ä»»åç§»äº¤æå'\r\n    },\r\n    columnName: {\r\n      name: 'åç¨±',\r\n      code: 'ç·¨è',\r\n      department: 'çµç¹ä¿¡æ¯',\r\n    },\r\n    comment: {\r\n      successComment: 'ä»»åè©è«æå'\r\n    },\r\n    title: 'å¯©æ¹ç¢ºèª',\r\n    inputLabel: 'å¯©æ¹æè¦',\r\n    inputHolder: 'è«è¼¸å¥å¯©æ¹æè¦',\r\n    selectActivity: 'ä¸ä¸ç°ç¯',\r\n    addSignee: 'å ç°½äººå¡',\r\n    footOk: 'ç¢ºå®',\r\n    footCancel: 'åæ¶',\r\n    selectUser: 'é¸æç¨æ¶',\r\n    hideComment: 'æè¦é±è',\r\n  },\r\n  cueWords: {\r\n    successClaim: 'é ç¨æå',\r\n    successUnClaim: 'åæ¶é ç¨æå',\r\n    successRetrieve: 'ä»»åååæå',\r\n    successPass: 'å¯©æ¹éé',\r\n    successBack: 'é§åæå',\r\n    successRefuse: 'å¦æ±ºæå',\r\n    success: 'æä½æå',\r\n    inputOpinion: 'è«è¼¸å¥å¯©æ¹æè¦',\r\n    selectNode: 'è«é¸æä¸ä¸ç°ç¯',\r\n    select: 'è«é¸æ',\r\n    processor: 'è¾¦çäºº',\r\n    attachmentsRequired: 'è«ä¸å³éä»¶',\r\n    assignUser: 'ææ´¾'\r\n  },\r\n  task: {\r\n    selectPlaceholder: 'è«é¸æ',\r\n    passComment: 'éé',\r\n    processAlone: 'è«å®ç¨èç',\r\n    urgeText: 'æ¥æ¶äººå',\r\n    backNodeText: 'é§åç¯é»',\r\n    selectProcessor: 'è«é¸æè¾¦çäººå¡',\r\n    notFoundBill: 'è©²å®æä¸æ¯æå¨é»è¦ç«¯è¾¦çï¼è«åè©¦å»ç§»åç«¯é²è¡è¾¦ç',\r\n    nextNodeText: 'ä¸ä¸ç°ç¯',\r\n    assignText: 'è¾¦çäººå¡',\r\n    noUser: 'ç¡',\r\n    title: 'ä»»åè¾¦ç',\r\n    noTask: 'æªæ¾å°å°æçä»»å',\r\n    commentTooLong: 'å¯©æ¹æè¦è¶é·',\r\n    activityName: 'è¾¦çäººå¡',\r\n    receiver: \"æ¥æ¶äººå¡\",\r\n    urgeComment: \"è«è¼¸å¥å¬è¾¦ä¿¡æ¯\",\r\n    noUrgeUsers: \"æ²æç¬¦åæ¢ä»¶çå¬è¾¦ç¨æ¶\",\r\n    noUrgeSubject: \"æ¶æ¯ä¸»é¡æªéç½®\",\r\n    noUrgeContent: \"æ¶æ¯å§å®¹æªéç½®\",\r\n    person: \"äººå\",\r\n    addSign: \"å ç­¾\",\r\n  },\r\n  startProcess: {\r\n    selectProcess: 'è«é¸ææµç¨',\r\n    title: 'é¸ææµç¨',\r\n    selectNode: 'è«é¸æä¸ä¸ç°ç¯',\r\n    submitSuccess: 'æäº¤å¯©æ¹æå',\r\n    submitFailed: 'æäº¤å¯©æ¹å¤±æ',\r\n    cancelSubmitSuccess: 'åæ¶æäº¤æå',\r\n    cancelSubmitFailed: 'åæ¶æäº¤å¤±æ',\r\n    dataIdIsNull: 'è«é¸æä¸æ¢æ¸æ',\r\n    dataIdIsEmpty: 'è«é¸æä¸æ¢æ¸æ',\r\n    bizDefKeyIsNull: 'æµç¨åé¡IDä¸è½çºç©º',\r\n    success: 'åæ¶æå',\r\n    row: 'æ¢<br/>',\r\n    failed: 'åæ¶å¤±æ',\r\n    node: 'ç¯é»ï¼',\r\n    noUser: 'æ²ææ¾å°åé©çè¾¦çäºº'\r\n  },\r\n  batchSubmit: {\r\n    row: 'æ¢ï¼<br/>',\r\n    success: 'è¾¦çæå',\r\n    error: 'è¾¦çå¤±æ',\r\n    failed: 'éè¦äº¤äº',\r\n    single: 'å¤±æçä»»åè«å®ç¨èç'\r\n  },\r\n  batchStartProcess: {\r\n    row: 'æ¢ï¼<br/>',\r\n    success: 'æäº¤æå',\r\n    error: 'æäº¤å¤±æ',\r\n    failed: 'éè¦äº¤äº',\r\n    validationFailed: 'é©ç°½å¤±æ',\r\n    single: 'å¤±æçå®æè«å®ç¨èç'\r\n  },\r\n  comment: {\r\n    static: {\r\n      title: 'å¸¸ç¨æè¦ç®¡ç',\r\n      add: 'æ°å¢',\r\n      delete: 'åªé¤',\r\n      save: 'ä¿å­',\r\n      cancel: 'åæ¶',\r\n      content: 'å¸¸ç¨æè¦',\r\n      order: 'é åº',\r\n      inputLabel: 'å¸¸ç¨æè¦',\r\n      manage: 'æè¦ç®¡ç',\r\n      attachmentUpload: 'éä»¶',\r\n      repeatFile: 'åå«éå¾©æä»¶ï¼',\r\n      type: 'é¡å¥',\r\n      operate: 'æä½',\r\n      confirm: 'ç¢ºèª',\r\n      clickToAdd: 'æ°å¢å¸¸ç¨æè¦',\r\n      public: 'å¬æ',\r\n      private: 'åäºº',\r\n      messageSubject: 'æ¶æ¯ä¸»é¡',\r\n      messageContent: 'æ¶æ¯å§å®¹'\r\n    },\r\n    attachment: {\r\n      tips: 'é»æä¸å³éä»¶'\r\n    },\r\n    signature: {\r\n      title: 'ç°½å',\r\n      reset: 'æ¸ç©º',\r\n      ok: 'ç¢ºå®',\r\n      sign: 'æå¯«ç°½åï¼',\r\n      upload: 'ä¸å³åç',\r\n      tips: 'é»æè¨­ç½®ç°½å',\r\n      dialogTitle: 'é»å­ç°½å',\r\n      note1: 'é»å­ç°½åå¯',\r\n      note2: 'ä¹å¯éé',\r\n      note3: 'é²è¡è¨­ç½®',\r\n      disable: 'ä¸åç¨ç°½å'\r\n    }\r\n  },\r\n  addSign: {\r\n    allowSignToSign: 'åè¨±å',\r\n    multiInstanceType: 'å¤äººå¯©æ¹æ¹å¼',\r\n    parallel: 'ä¸¦è¡æç°½',\r\n    preempt: 'ä»»æäººèç',\r\n    sequential: 'æé åºä¾æ¬¡èç'\r\n  },\r\n  backWardConfig: {\r\n    allowResubmitToThisNode:'ååæ¬¡æäº¤æ¶ç´æ¥åå°æ¬èç¹'\r\n  }\r\n};\r\n","export const zh_CHS = {\r\n  static: {\r\n    assignee: {\r\n      title: 'è¯·éæ©ç¨æ·',\r\n      noAssignee: 'è¯·éæ©åçäººå',\r\n      successAssign: 'æä½æå',\r\n    },\r\n    transfer: {\r\n      title: 'è¯·éæ©ç¨æ·',\r\n      selectHandover: 'è¯·éæ©ç¨æ·',\r\n      successTransfer: 'ä»»å¡ç§»äº¤æå'\r\n    },\r\n    columnName: {\r\n      name: 'åç§°',\r\n      code: 'ç¼å·',\r\n      department: 'ç»ç»ä¿¡æ¯',\r\n    },\r\n    comment: {\r\n      successComment: 'ä»»å¡è¯è®ºæå'\r\n    },\r\n    title: 'å®¡æ¹ç¡®è®¤',\r\n    inputLabel: 'å®¡æ¹æè§',\r\n    inputHolder: 'è¯·è¾å¥å®¡æ¹æè§',\r\n    selectActivity: 'ä¸ä¸ç¯è',\r\n    footOk: 'ç¡®å®',\r\n    footCancel: 'åæ¶',\r\n    selectUser: 'éæ©ç¨æ·',\r\n    hideComment: 'æè§éè',\r\n  },\r\n  cueWords: {\r\n    successClaim: 'é¢ç¨æå',\r\n    successUnClaim: 'åæ¶é¢ç¨æå',\r\n    successRetrieve: 'ä»»å¡ååæå',\r\n    successPass: 'å®¡æ¹éè¿',\r\n    successBack: 'é©³åæå',\r\n    successRefuse: 'å¦å³æå',\r\n    success: 'æä½æå',\r\n    inputOpinion: 'è¯·è¾å¥å®¡æ¹æè§',\r\n    selectNode: 'è¯·éæ©ä¸ä¸ç¯è',\r\n    select: 'è¯·éæ©',\r\n    processor: 'åçäºº',\r\n    attachmentsRequired: 'è¯·ä¸ä¼ éä»¶',\r\n    assignUser: 'ææ´¾'\r\n  },\r\n  task: {\r\n    selectPlaceholder: 'è¯·éæ©',\r\n    passComment: 'éè¿',\r\n    processAlone: 'è¯·åç¬å¤ç',\r\n    urgeText: 'æ¥æ¶äººå',\r\n    backNodeText: 'é©³åèç¹',\r\n    selectProcessor: 'è¯·éæ©åçäººå',\r\n    notFoundBill: 'è¯¥åæ®ä¸æ¯æå¨çµèç«¯åçï¼è¯·å°è¯å»ç§»å¨ç«¯è¿è¡åç',\r\n    nextNodeText: 'ä¸ä¸ç¯è',\r\n    assignText: 'åçäººå',\r\n    noUser: 'æ ',\r\n    title: 'ä»»å¡åç',\r\n    noTask: 'æªæ¾å°å¯¹åºçä»»å¡',\r\n    commentTooLong: 'å®¡æ¹æè§è¶é¿',\r\n    activityName: 'åçäººå',\r\n    receiver: \"æ¥æ¶äººå\",\r\n    urgeComment: \"è¯·è¾å¥å¬åä¿¡æ¯\",\r\n    noUrgeUsers: \"æ²¡æç¬¦åæ¡ä»¶çå¬åç¨æ·\",\r\n    noUrgeSubject: \"æ¶æ¯ä¸»é¢æªéç½®\",\r\n    noUrgeContent: \"æ¶æ¯åå®¹æªéç½®\",\r\n    person: \"äººå\",\r\n    addSign: \"å ç­¾\",\r\n  },\r\n  startProcess: {\r\n    selectProcess: 'è¯·éæ©æµç¨',\r\n    title: 'éæ©æµç¨',\r\n    selectNode: 'è¯·éæ©ä¸ä¸ç¯è',\r\n    submitSuccess: 'æäº¤å®¡æ¹æå',\r\n    submitFailed: 'æäº¤å®¡æ¹å¤±è´¥',\r\n    cancelSubmitSuccess: 'åæ¶æäº¤æå',\r\n    cancelSubmitFailed: 'åæ¶æäº¤å¤±è´¥',\r\n    dataIdIsNull: 'è¯·éæ©ä¸æ¡æ°æ®',\r\n    dataIdIsEmpty: 'è¯·éæ©ä¸æ¡æ°æ®',\r\n    bizDefKeyIsNull: 'æµç¨åç±»IDä¸è½ä¸ºç©º',\r\n    success: 'åæ¶æå',\r\n    row: 'æ¡<br/>',\r\n    failed: 'åæ¶å¤±è´¥',\r\n    node: 'èç¹ï¼',\r\n    noUser: 'æ²¡ææ¾å°åéçåçäºº'\r\n  },\r\n  batchSubmit: {\r\n    row: 'æ¡ï¼<br/>',\r\n    success: 'åçæå',\r\n    error: 'åçå¤±è´¥',\r\n    failed: 'éè¦äº¤äº',\r\n    single: 'å¤±è´¥çä»»å¡è¯·åç¬å¤ç'\r\n  },\r\n  batchStartProcess: {\r\n    row: 'æ¡ï¼<br/>',\r\n    success: 'æäº¤æå',\r\n    error: 'æäº¤å¤±è´¥',\r\n    failed: 'éè¦äº¤äº',\r\n    validationFailed: 'éªç­¾å¤±è´¥',\r\n    single: 'å¤±è´¥çåæ®è¯·åç¬å¤ç'\r\n  },\r\n  comment: {\r\n    static: {\r\n      title: 'å¸¸ç¨æè§ç®¡ç',\r\n      add: 'æ°å¢',\r\n      delete: 'å é¤',\r\n      save: 'ä¿å­',\r\n      cancel: 'åæ¶',\r\n      content: 'å¸¸ç¨æè§',\r\n      order: 'é¡ºåº',\r\n      inputLabel: 'å¸¸ç¨æè§',\r\n      manage: 'æè§ç®¡ç',\r\n      attachmentUpload: 'éä»¶',\r\n      repeatFile: 'åå«éå¤æä»¶ï¼',\r\n      type: 'ç±»å«',\r\n      operate: 'æä½',\r\n      confirm: 'ç¡®è®¤',\r\n      clickToAdd: 'æ°å¢å¸¸ç¨æè§',\r\n      public: 'å¬æ',\r\n      private: 'ä¸ªäºº',\r\n      messageSubject: 'æ¶æ¯ä¸»é¢',\r\n      messageContent: 'æ¶æ¯åå®¹'\r\n    },\r\n    attachment: {\r\n      tips: 'ç¹å»ä¸ä¼ éä»¶'\r\n    },\r\n    signature: {\r\n      title: 'ç­¾å',\r\n      reset: 'æ¸ç©º',\r\n      ok: 'ç¡®å®',\r\n      sign: 'æåç­¾åï¼',\r\n      upload: 'ä¸ä¼ å¾ç',\r\n      tips: 'ç¹å»è®¾ç½®ç­¾å',\r\n      dialogTitle: 'çµå­ç­¾å',\r\n      note1: 'çµå­ç­¾åå¯',\r\n      note2: 'ä¹å¯éè¿',\r\n      note3: 'è¿è¡è®¾ç½®',\r\n      disable: 'ä¸å¯ç¨ç­¾å'\r\n    }\r\n  },\r\n  addSign: {\r\n    allowSignToSign: 'åè®¸å',\r\n    multiInstanceType: 'å¤äººå®¡æ¹æ¹å¼',\r\n    parallel: 'å¹¶è¡ä¼ç­¾',\r\n    preempt: 'ä»»æäººå¤ç',\r\n    sequential: 'æé¡ºåºä¾æ¬¡å¤ç'\r\n  },\r\n  backWardConfig: {\r\n    allowResubmitToThisNode:'ååæ¬¡æäº¤æ¶ç´æ¥åå°æ¬èç¹'\r\n  }\r\n};\r\n","import { en } from './en';\r\nimport { zh_CHT } from './zh-cht';\r\nimport { zh_CHS } from './zh-chs';\r\n\r\nexport const translate = {\r\n    'zh-CHS': zh_CHS,\r\n    'en': en,\r\n    'zh-CHT': zh_CHT\r\n};\r\n","import { Pipe, PipeTransform, Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { translate } from './index';\r\n\r\n@Injectable()\r\nexport class I18nService {\r\n    defaultLang: string;\r\n    langData: any;\r\n    constructor() {\r\n        this.defaultLang = localStorage.getItem('languageCode');\r\n        if (!this.defaultLang) {\r\n            this.langData = translate['zh-CHS'];\r\n        } else {\r\n            this.langData = translate[this.defaultLang];\r\n        }\r\n    }\r\n\r\n    getValue(name: string): any {\r\n        if (!name) {\r\n            return '';\r\n        }\r\n        let resultVal = '';\r\n        if (name.indexOf('.') === -1) {\r\n            resultVal = this.langData[name];\r\n        } else {\r\n            resultVal = name.split('.').reduce((obj, key) => {\r\n                if (obj) {\r\n                    return obj[key];\r\n                } else {\r\n                    return null;\r\n                }\r\n            }, this.langData);\r\n        }\r\n        return resultVal;\r\n    }\r\n}\r\n","import { TaskAction, ActionParameter } from './task-action';\r\n\r\n/**\r\n * ä»»å¡ç¶æ\r\n */\r\nexport enum TaskState {\r\n    /**\r\n     * å¾å\r\n     */\r\n    todo = 2,\r\n    /**\r\n     * å·²å\r\n     */\r\n    done = 5,\r\n}\r\n/**\r\n * ä»»å¡å®ä½å®ä¹\r\n */\r\nexport class TaskEntity {\r\n\r\n    id: string;\r\n\r\n    name: string;\r\n\r\n    categoryId: string;\r\n\r\n    state: TaskState;\r\n\r\n    startTime: Date;\r\n\r\n    endTime?: Date;\r\n\r\n    dueDate?: string;\r\n\r\n    targetDate?: string;\r\n\r\n    owner: string;\r\n\r\n    executor: string;\r\n\r\n    sourceId: string;\r\n\r\n    description: string;\r\n\r\n    taskType: number;\r\n\r\n    priority: number;\r\n\r\n    submitter: string;\r\n\r\n    processInstanceId: string;\r\n\r\n    fStr1: string;\r\n    fStr2: string;\r\n    fStr3: string;\r\n    fStr4: string;\r\n    fStr5: string;\r\n    fStr6: string;\r\n    fStr7: string;\r\n    fStr8: string;\r\n\r\n    fTime1?: Date;\r\n    fTime2?: Date;\r\n    fTime3?: Date;\r\n    fTime4?: Date;\r\n\r\n    fDec1: number;\r\n    fDec2: number;\r\n    fDec3: number;\r\n    fDec4: number;\r\n\r\n    fText1: string;\r\n    fText2: string;\r\n    fText3: string;\r\n    fText4: string;\r\n\r\n    actions: TaskAction[];\r\n    refBizId: string;\r\n    conclusionValue: string;\r\n}\r\n","import { FlowNodeInfo } from './start-process-payload';\r\n\r\nexport class CompleteContext {\r\n\r\n    workItemId: string;\r\n\r\n    conclusionValue: string;\r\n\r\n    comment: string;\r\n\r\n    signAssignees: string[];\r\n\r\n    nextFlowNodes: FlowNodeInfo[];\r\n\r\n    addendum: Addendum;\r\n\r\n    verifySigned?: VerifySigned;\r\n\r\n    dynamicBackWardRule: string;\r\n}\r\n\r\nexport class Addendum {\r\n\r\n    signature: string;\r\n\r\n    attachment: string;\r\n}\r\n\r\nexport class VerifySigned {\r\n\r\n    certBase64Info: string;\r\n\r\n    msg: string[];\r\n\r\n    signedmsg: string;\r\n\r\n    useCase: string;\r\n}\r\n","import { OrganizationScope } from './organization-scope';\r\nimport { User } from './user';\r\nimport { FlowNodeInfo } from './start-process-payload';\r\nimport { ProcessDefinition } from './execution-response';\r\nimport { Addendum } from './complete-context';\r\n\r\n/**\r\n * æå®åä¸èä¿¡æ¯ï¼éè¦æå®åä¸èçæ´»å¨ãå¾æå®ç¨æ·åè¡¨\r\n */\r\nexport class AssigneeInfo {\r\n\r\n    /**\r\n     * å·¥ä½é¡¹ID\r\n     */\r\n    workItemId: string;\r\n\r\n    /**\r\n     * åä¸èåè¡¨\r\n     */\r\n    assigneeIds: string[];\r\n\r\n    /**\r\n     * åä¸èç¨æ·åè¡¨\r\n     */\r\n    assigneeUsers: User[];\r\n\r\n    /**\r\n     * æ¯å¦åè®¸ææ´¾\r\n     */\r\n    selectAssignee: boolean;\r\n\r\n    /**\r\n     * æ¯å¦å¤é\r\n     */\r\n    multiSelect: boolean;\r\n\r\n    /**\r\n     * æ¯å¦åè®¸å¨åææ´¾\r\n     */\r\n    allowGlobalAssign: boolean;\r\n\r\n    /**\r\n     * ææ´¾èå´\r\n     */\r\n    organizationScope: OrganizationScope[];\r\n}\r\n\r\n/**\r\n * æ ¹æ®æµç¨æå®ä¸ä¸æ­¥åä¸èåæ°\r\n */\r\nexport class AssignParameter {\r\n\r\n    workItemId: string;\r\n\r\n    assigneeIds: string[];\r\n\r\n    comment: string;\r\n\r\n    addendum?: Addendum;\r\n}\r\n\r\n\r\n/**\r\n * å®æå·¥ä½é¡¹è¿åç»æ\r\n */\r\nexport class CompleteResponse {\r\n\r\n    dataId: string;\r\n\r\n    needInteraction: boolean;\r\n\r\n    nextAssigneeInfos: AssigneeInfo[];\r\n\r\n    procInstId: string;\r\n\r\n    nextFlowNodes: FlowNodeInfo[];//æäº¤åå¹¶è¡çæåµ\r\n\r\n    procDefs: ProcessDefinition[];\r\n}\r\n\r\n","/**\r\n * ä»»å¡ä¸­å¿éç½®\r\n */\r\nexport class TaskCenterConfig {\r\n\r\n    id: string;\r\n\r\n    configCode: string;\r\n\r\n    configName: string;\r\n\r\n    configNote: string;\r\n\r\n    defaultValue: string;\r\n\r\n    currentValue: string;\r\n\r\n    displayText: string;\r\n\r\n    ownerId: string;\r\n\r\n    ownerType: string;\r\n\r\n    creator: string;\r\n\r\n    createTime: string;\r\n\r\n    lastModifier: string;\r\n\r\n    lastModifiedTime: string;\r\n\r\n}\r\n\r\n/**\r\n * ä»»å¡ä¸­å¿èªå®ä¹éç½®é¡¹Code\r\n */\r\nexport enum ConfigCode {\r\n\r\n    If_Show_Submit_Dialog = 'If_Show_Submit_Dialog',\r\n\r\n    Info_After_Submit = 'Info_After_Submit',\r\n\r\n    Info_After_Cancel_Submit = 'Info_After_Cancel_Submit',\r\n\r\n    If_Use_Sign_By_Default = 'If_Use_Sign_By_Default',\r\n\r\n    If_Show_Attachment = 'If_Show_Attachment',\r\n\r\n    If_Show_Signature = 'If_Show_Signature',\r\n\r\n    Default_Approval_Comment = 'Default_Approval_Comment',\r\n\r\n    If_Store_Comment = 'If_Store_Comment',\r\n\r\n    User_Help_Type = 'User_Help_Type',\r\n\r\n    If_Can_Edit_Signature = 'If_Can_Edit_Signature'\r\n}\r\n\r\n/**\r\n * éç½®é¡¹çæçº§å«\r\n */\r\nexport enum OwnerType {\r\n\r\n    User = 'user',//ç¨æ·çº§\r\n\r\n    Category = 'category',//ä»»å¡åç±»çº§å«\r\n\r\n    BizDefKey = 'bizdefkey',//æµç¨åç±»çº§å«\r\n\r\n    All = 'all',//å¨å±çº§å«\r\n}","import { Addendum } from \"./complete-context\";\r\n\r\n/**\r\n * ä»»å¡åçåæ°\r\n */\r\nexport class WorkItemExecuteParam {\r\n\r\n    workItemId: string;\r\n\r\n    comment: string;\r\n\r\n    addendum: Addendum;\r\n\r\n    hideComment?: boolean;\r\n}\r\n\r\n/**\r\n * å ç­¾ãå¾è¯¢ãç¥ä¼åæ°\r\n */\r\nexport class CounterSignParam extends WorkItemExecuteParam {\r\n\r\n    action: string;//AddSignFrontãAddSignBehindãNotify\r\n\r\n    assignees: string[];\r\n\r\n}","export class User {\r\n\r\n    id: string;\r\n\r\n    code?: string;\r\n\r\n    name: string;\r\n\r\n    note?: string;\r\n\r\n    orgId?: string;\r\n\r\n    orgCode?: string;\r\n\r\n    orgName?: string;\r\n\r\n    orgNamePath?: string;//ç»ç»å¨è·¯å¾\r\n\r\n    orderNum?: number\r\n}","import {User} from \"./user\";\r\n\r\n/**\r\n * å¬åæ¨¡ææ¥å£è¯·æ±body\r\n */\r\nexport class UrgeHandleSimulateContext {\r\n\r\n  procInstId: string;\r\n\r\n}\r\n\r\n/**\r\n * å¬åæ¨¡æè¿åå®ä½\r\n */\r\nexport class UrgeHandleResponse {\r\n\r\n  urgeUsers: UrgeUser[];\r\n\r\n}\r\n\r\n/**\r\n * å¬åç¨æ·è¿åå®ä½\r\n */\r\nexport class UrgeUser extends User {\r\n\r\n  urgeInfos: UrgeInfo[];\r\n\r\n  anonymousText: string;\r\n\r\n  sendTypes: string;\r\n\r\n}\r\n\r\n/**\r\n * æ§è¡å¬åè¯·æ±body\r\n */\r\nexport class UrgeHandleContext {\r\n\r\n  procInstId: string;\r\n\r\n  urgeUsers: UrgeUser[];\r\n\r\n  urgeMessageSubject: string;\r\n\r\n  urgeMessageContent: string;\r\n\r\n  addReminder: boolean;\r\n\r\n}\r\n\r\nexport class UrgeInfo {\r\n\r\n  workItemId: string;\r\n\r\n  activityInstanceId: string;\r\n\r\n  sendTypes: string;\r\n\r\n  urgeMessageSubject: string;\r\n\r\n  urgeMessageContent: string;\r\n\r\n  addReminder: boolean;\r\n\r\n  subjectEditable: boolean;\r\n\r\n  contentEditable: boolean;\r\n}\r\n","export class BatchVerifySignedContext {\r\n\r\n  verifySigned: VerifySigned;\r\n\r\n}\r\nexport class VerifySigned {\r\n\r\n  certBase64Info: string;\r\n\r\n  msg: string[];\r\n\r\n  signedmsg: string;\r\n\r\n  useCase: string;\r\n\r\n}\r\n","/**\r\n * å·¥ä½æµä¸ä¸æ\r\n */\r\nexport class WfContext {\r\n\r\n    processCategoryId: string;\r\n    \r\n}","import { Component, Input, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'urge-handle',\r\n  templateUrl: './urge-handle.component.html',\r\n  styleUrls: ['./urge-handle.component.css', '../task-execute/task-execute.component.css']\r\n})\r\nexport class UrgeHandleComponent implements OnInit {\r\n\r\n  @Input() placeholder = '';\r\n  @Input() showMessageSubject = false;// æ¯å¦æ¾ç¤ºæ¶æ¯ä¸»é¢\r\n  @Input() textAreaHeight: number;//æå­æ¡çé«åº¦\r\n  @Input() urgeMessageSubject: string; // æ¶æ¯ä¸»é¢ææ¬\r\n  @Input() urgeMessageContent: string; // æ¶æ¯åå®¹ææ¬\r\n  @Input() subjectEditable: boolean = false; // æ¶æ¯ä¸»é¢æ¯å¦å¯ç¼è¾\r\n  @Input() contentEditable: boolean = false; // æ¶æ¯åå®¹æ¯å¦å¯ç¼è¾\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { Addendum } from \"./complete-context\";\r\n\r\n/**\r\n * æ§è¡åççåºç¡payload\r\n */\r\nexport class BasePayload {\r\n\r\n    id?: string;\r\n    /**\r\n     å·¥ä½é¡¹Id\r\n     */\r\n    workItemId: string;\r\n    /**\r\n     å¤æ³¨çè¨\r\n     */\r\n    comment: string;\r\n    /**\r\n     * éå½ä¿¡æ¯ï¼å«ç­¾åãéä»¶ï¼\r\n     */\r\n    addendum: Addendum;\r\n    /**\r\n     å®¡æ¹ç»è®ºå¼\r\n     */\r\n    conclusionValue: string;\r\n\r\n}","import { BasePayload } from \"./base-payload\";\r\nimport { OrganizationScope } from \"./organization-scope\";\r\n\r\n/**\r\n * å ç­¾æ¨¡ææ¥å£è¿å\r\n */\r\nexport class AddSignSimulateResponse {\r\n    /**\r\n     * ç»ç»\r\n     */\r\n    organization: OrganizationScope;\r\n    /**\r\n     * å¤äººä¼ç­¾æ¹å¼\r\n     */\r\n    multiInstanceType: MultiInstanceType;\r\n    /**\r\n     * æ¯å¦åè®¸åå ç­¾\r\n     */\r\n    showSignToSign: boolean;\r\n}\r\n\r\n/**\r\n *  å¤äººä¼ç­¾æ¹å¼\r\n */\r\nexport enum MultiInstanceType {\r\n    /**\r\n     * æ¢å \r\n     */\r\n    Preempt = 'Preempt',\r\n    /**\r\n     * å¹¶è¡\r\n     */\r\n    Parallel = 'Parallel',\r\n    /**\r\n     * ä¸²è¡\r\n     */\r\n    Sequential = 'Sequential'\r\n\r\n}\r\n\r\n/**\r\n * å ç­¾æäº¤çpayload\r\n */\r\nexport class AddSignPayload extends BasePayload {\r\n\r\n    /**\r\n     * å ç­¾æ¹å¼ï¼åå ç­¾ãåå ç­¾ãå¹¶å ç­¾ï¼å½åä¼ç­¾ï¼ãå¾è¯¢/åå\r\n     */\r\n    actionCode: string;\r\n\r\n    /**\r\n     * å¤äººä¼ç­¾æ¹å¼ï¼æ¢å  Preemptãå¹¶è¡ä¼ç­¾ Parallelãä¸²è¡ä¼ç­¾Sequential\r\n     */\r\n    multiInstanceType: string;\r\n\r\n    /**\r\n     * ä¼ç­¾ç­ç¥ï¼å¨åéè¿allPassãä¸äººéè¿onePass\r\n     */\r\n    counterSignRule: string;\r\n\r\n    /**\r\n     * åçè§å\r\n     * allææç¨æ·é½åç\r\n     * complianceç¬¦åè§åå¾ä¸æµè½¬\r\n     */\r\n    completedRule: string;\r\n\r\n    /**\r\n     * å ç­¾äººå\r\n     */\r\n    signAssignees: string[];\r\n\r\n    /**\r\n     * å ç­¾èç¹åç§°\r\n     */\r\n    activityName: string;\r\n\r\n    /**\r\n     * åè®¸åå ç­¾\r\n     */\r\n    allowSignToSign: boolean;\r\n\r\n\r\n}","import {\r\n  Component,\r\n  OnInit,\r\n  ViewChild,\r\n  TemplateRef,\r\n  HostBinding,\r\n  Injector,\r\n  AfterViewInit,\r\n  ChangeDetectorRef,\r\n  Input\r\n} from '@angular/core';\r\nimport { Addendum, VerifySigned, CompleteContext } from '../../entity/complete-context';\r\nimport { TaskService } from '../../service/task.service';\r\nimport { SysFarrisLookupComponent } from '@gsp-sys/sysmgr-ui';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { I18nService } from '../../service/i18n/i18n.service';\r\nimport { CompleteResponse, AssignParameter, AssigneeInfo } from '../../entity/complete-response';\r\nimport { Observable, BehaviorSubject, Subject } from 'rxjs';\r\nimport { TaskAction } from '../../entity/task-action';\r\nimport { WfTaskHandlerService } from '../../wf-task-handler.service';\r\nimport { TaskEntity } from '../../entity/task-entity';\r\nimport { SubmitResult, ActionBaseImplComponent, ActionEvent, TaskEventResult, TaskEventContext, ActionOrigin } from '@gsp-wf/task-impl-api';\r\nimport { LoadingService } from '@farris/ui-loading';\r\nimport { OrganizationScope } from '../../entity/organization-scope';\r\nimport { FlowNodeInfo, Assignee } from '../../entity/start-process-payload';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { AssignInfoHelpEntity } from '../../entity/assignInfoHelp';\r\nimport { SimulateResponse } from '../../entity/simulate-response';\r\nimport { BillMethodConfig, FormEventMessage } from '../../entity/formAction';\r\nimport { ConfigCode, TaskCenterConfig, OwnerType } from '../../entity/task-center-config';\r\nimport { CounterSignParam, WorkItemExecuteParam } from '../../entity/workitem-execute-param';\r\nimport { UrgeHandleContext, UrgeHandleResponse, UrgeHandleSimulateContext } from '../../entity/urge-handle';\r\nimport { BatchVerifySignedContext } from '../../entity/batchVerifysigned';\r\nimport { WfContext } from '../../entity/wfContext';\r\nimport { UrgeHandleComponent } from \"../urge-handle/urge-handle.component\";\r\nimport { AddSignPayload, AddSignSimulateResponse, MultiInstanceType } from '../../entity/add-sign';\r\n\r\ndeclare var System: any;\r\ndeclare const gspCA: any;\r\n\r\n@Component({\r\n  selector: 'lib-task-execute',\r\n  templateUrl: './task-execute.component.html',\r\n  styleUrls: ['./task-execute.component.css'],\r\n})\r\nexport class TaskExecuteComponent extends ActionBaseImplComponent implements OnInit, AfterViewInit {\r\n\r\n  /**\r\n   * æ¶æ¯çå¬å¤çæ¹æ³\r\n   */\r\n  private static func = null;\r\n  task: TaskEntity;//å½åä»»å¡\r\n  workItemId: string; // å·¥ä½é¡¹ID\r\n  processInstanceId: string; // æµç¨å®ä¾ID\r\n  actionEntity = new TaskAction(); // å¨ä½å®ä½\r\n  comment = ''; // å®¡æ¹æè§\r\n  wfCacheComment: string;//ç¼å­çæè§\r\n  currentDefaultValue: string;//å½åå¨ä½çé»è®¤æè§\r\n\r\n  ifSelectNode = false; // æ¯å¦æ¾ç¤ºéæ©ä¸ä¸ç¯è\r\n  ifSelectUser = false; // æ¯å¦æ¾ç¤ºä¸ä¸ç¯èå¤çäºº\r\n  ifAssignUser = false; // æ¯å¦æ¾ç¤ºåçäººåæ¡\r\n  ifUrgeType = false; // æ¯å¦æ¾ç¤ºæ¥æ¶äººæ¡ï¼å¬åæ¶æ¯æ¥æ¶äººï¼\r\n  ifShowCommentToMySelf = false;// æ¯å¦æ¾ç¤ºå®¡æ¹è®°å½ä»èªå·±å¯è§\r\n\r\n  singleSelect = false; // ç¨æ·å¸®å©æ¯å¦åéï¼é»è®¤å¤é\r\n  selectTargetAble = false; // æ¯å¦åè®¸éæ©ä¸ä¸ç¯è\r\n  hideComment = false;//å®¡æ¹è®°å½ä»èªå·±å¯è§\r\n\r\n  filter = { notGetCurrentUser: true, notGetStopUser: true, orderField: 'order', withAllOrg: true, orgId: '' }; // ç³»ç»ç¨æ·å¸®å©æ¯å¦è¿æ»¤å½åäºº\r\n  selectedUsers: string[] = []; // ç¨æ·å¸®å©éæ©åçIdæ°ç»\r\n\r\n  selectedUserNgModule: string; // éæ©å¤çäººçplaceholder\r\n\r\n  @ViewChild('taskExecuteButtons') buttons: TemplateRef<any>; // ç¡®è®¤åæ¶æé®\r\n  @ViewChild(SysFarrisLookupComponent) sysUserHelp: SysFarrisLookupComponent; // ç³»ç»ç¨æ·å¸®å©\r\n  @ViewChild(UrgeHandleComponent) urgeHandleComponent: UrgeHandleComponent;\r\n\r\n  subject = new BehaviorSubject<SubmitResult>(null);\r\n  submitResult: SubmitResult = { result: true, isClose: true }; // å¨ä½æ§è¡å®æåè¿åçå®ä½ç»æ\r\n  bindingData: { id?: string, name?: string } = {}; // ç³»ç»å¸®å©å¤éæ¶ç¨å°\r\n\r\n  selectNodeText: string = this.i18nService.getValue('task.nextNodeText'); // ä¸ä¸ç¯èæ¾ç¤ºçæå­,\"ä¸ä¸ç¯è\"\r\n  selectUserText: string; // å¤çäººåæ¾ç¤ºæå­\r\n  commentPlaceHolder: string = this.i18nService.getValue('static.inputHolder');//å®¡æ¹æè§æ¡placeholder\r\n  showAttachment: boolean = true;//æ¯å¦æ¾ç¤ºéä»¶ä¸ä¼ \r\n  showSign: boolean = true;//æ¯å¦æ¾ç¤ºç­¾å\r\n  showCommonComment: boolean = true;//æ¯å¦æ¾ç¤ºå¸¸ç¨æè§\r\n  textAreaHeight: number = 84;//æå­æ¡çé«åº¦\r\n\r\n  nodePlaceholder: string; // éæ©ä¸ä¸ç¯èçplaceholder\r\n\r\n  selectedNodeId: string; // éæ©çä¸ä¸ç¯èIDï¼å¹¶è¡åæ¯æ¯ï¼éå·éå¼ç\r\n  destNodes: { id: string, name: string }[] = []; // åéä¸ä¸ç¯è\r\n\r\n  dialogHeight = 270; // å¼¹æ¡çé«åº¦\r\n  dialogHeightBase = 66;\r\n\r\n  addendum = new Addendum(); // éä»¶ãç­¾åä¿¡æ¯\r\n  groupIcon = '<i class=\"f-icon f-icon-lookup\"></i>';\r\n\r\n  assignInfos: AssignInfoHelpEntity[] = [{ // èç¹è¿åçææ´¾ä¿¡æ¯ï¼å¤ä¸ªï¼\r\n    selectedAssignees: [],\r\n    assigneeInfo: null,\r\n    assignees: [],\r\n    activityName: '',\r\n    dependency: '',\r\n    anonymous: false,\r\n    anonymousText: null,\r\n    resolved: false,\r\n  }];\r\n\r\n  response: SimulateResponse; // ä¿å­æ¨¡æå®¡æ¹åè¿åçåå®¹ï¼éæ©èç¹æ¶ä½¿ç¨\r\n  urgeHandleResponse: UrgeHandleResponse;//ä¿å­å¬åæ¨¡æåè¿åçåå®¹\r\n\r\n  formObject: any; // è¡¨åå¯¹è±¡\r\n  ifRegistered = false; // è¡¨åæ¯å¦æ³¨å\r\n  billMethodConfigs: BillMethodConfig[] = []; // è¡¨åå¨ä½éç½®åè¡¨\r\n  configList: TaskCenterConfig[] = []; //ä»»å¡ä¸­å¿éç½®é¡¹\r\n\r\n  verifySigned: VerifySigned = new VerifySigned(); // æ°å­éªç­¾åæ°\r\n  submitDisable: boolean = false; // æäº¤æé®æ¯å¦ç¦ç¨\r\n\r\n  //å ç­¾ä½¿ç¨\r\n  addSign = {\r\n    showSignToSign: false,\r\n    allowSignToSIgn: false,\r\n    showMultiInstanceType: false,\r\n    multiInstanceType: [\r\n      { value: 'Parallel', name: this.i18nService.getValue('addSign.parallel') },\r\n      { value: 'Sequential', name: this.i18nService.getValue('addSign.sequential') },\r\n      { value: 'Preempt', name: this.i18nService.getValue('addSign.preempt') },\r\n    ],\r\n    originMultiInstType: '',\r\n    curMultiInstType: MultiInstanceType.Parallel.toString()\r\n  }\r\n  //å¨æé©³åéç½®\r\n  showBackWardConfig = {\r\n    dynamicBackWardRuleAble: false,\r\n    enable: false,\r\n  }\r\n\r\n  /**\r\n   * ä»»å¡å¬åæ¶ä½¿ç¨\r\n   */\r\n  showUrgeMessageSubject: boolean = false; // æ¯å¦æ¾ç¤ºå¬åæ¶æ¯ä¸»é¢ï¼å¬åæ¶ä½¿ç¨ï¼\r\n  urgeMessageSubject: string; // å¬åæ¶æ¯ä¸»é¢ææ¬\r\n  urgeMessageContent: string; // å¬åæ¶æ¯åå®¹ææ¬\r\n  addReminder: boolean; // æ¯å¦æ¾ç¤ºå¬åäººæ¶æ¯\r\n  subjectEditable: boolean; // ä¸»é¢å¯ç¼è¾\r\n  contentEditable: boolean; // åå®¹å¯ç¼è¾\r\n\r\n  wfContext = new WfContext();//å·¥ä½æµä¸ä¸æ\r\n\r\n  @HostBinding('class') cls = '';\r\n\r\n  POST_MESSAGE_TARGET = window.document.location.origin;\r\n  private messageSubject;\r\n\r\n\r\n  constructor(\r\n    private taskService: TaskService,\r\n    private notify: NotifyService,\r\n    private i18nService: I18nService,\r\n    private handlerService: WfTaskHandlerService,\r\n    private loadingService: LoadingService,\r\n    private message: MessagerService,\r\n    private injector: Injector,\r\n    private cd: ChangeDetectorRef,\r\n  ) {\r\n    super();\r\n    // å¦æå­å¨æ¶æ¯çå¬ï¼åå æ\r\n    if (TaskExecuteComponent.func) {\r\n      window.removeEventListener('message', TaskExecuteComponent.func, false);\r\n    }\r\n    this.addMessageListener();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n  }\r\n\r\n  ngOnInit() {\r\n    const load = this.loadingService.show();\r\n    this.taskService.getAllUserConfig().subscribe((configList: TaskCenterConfig[]) => {\r\n      load.close();\r\n      this.configList = configList;\r\n      const comment = configList.find(c => c.configCode === ConfigCode.Default_Approval_Comment);\r\n      const if_store_comment = configList.find(c => c.configCode === ConfigCode.If_Store_Comment);\r\n      let passComment: string;\r\n      let backComment: string;\r\n      if (comment && comment.currentValue) {\r\n        passComment = JSON.parse(comment.currentValue).pass;\r\n        backComment = JSON.parse(comment.currentValue).back;\r\n        if (this.actionEntity.code === 'Pass') {\r\n          this.comment = passComment;\r\n        }\r\n        if (this.actionEntity.code === 'Back') {\r\n          this.comment = backComment;\r\n        }\r\n      }\r\n      if (if_store_comment && if_store_comment.currentValue === 'true') {\r\n        if (this.wfCacheComment) {\r\n          if (this.actionEntity.code == 'Back' && this.wfCacheComment == passComment) {\r\n          } else {\r\n            this.comment = this.wfCacheComment;\r\n          }\r\n        }\r\n      }\r\n    }, () => {\r\n      load.close();\r\n    })\r\n    // ä»ä»»å¡åççé¢æå¼æ¶ï¼ææ³¨åæå¡\r\n    if (this.origin === ActionOrigin.TaskForm) {\r\n      this.initFormEvent();\r\n\r\n      // è·åè¡¨åæä½éç½®\r\n      this.taskService.getAppInfo(this.workItemId).subscribe((re: any) => {\r\n        if (re && re.billMethodConfigs && re.billMethodConfigs.length) {\r\n          this.billMethodConfigs = re.billMethodConfigs;\r\n        }\r\n      });\r\n    }\r\n    let context = new UrgeHandleSimulateContext();\r\n    context.procInstId = this.processInstanceId;\r\n  }\r\n\r\n  private addMessageListener() {\r\n    window.addEventListener('message', this.eventHandler, false);\r\n    TaskExecuteComponent.func = this.eventHandler;\r\n  }\r\n\r\n  /**\r\n   * çå¬äºä»¶å¤ç\r\n   */\r\n  eventHandler = (event) => {\r\n    this.messageSubject.next(event);\r\n  }\r\n\r\n  /**\r\n   * éåç¶ç±»æ¹æ³\r\n   * @param task\r\n   */\r\n  setTask(task: TaskEntity) {\r\n    if (task) {\r\n      this.task = task;\r\n      this.workItemId = task.sourceId;\r\n      this.processInstanceId = task.processInstanceId;\r\n      this.wfContext.processCategoryId = task.categoryId;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * éåç¶ç±»æ¹æ³\r\n   * @param action\r\n   */\r\n  setAction(action: TaskAction) {\r\n    if (action) {\r\n      this.actionEntity = action;\r\n      if (this.task) {// åä¸ªãæ¹éé½setActionï¼åä¸ªææ§è¡æ¨¡æ\r\n        this.execute(this.actionEntity);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * åäºä»¶åå§åï¼å°æå¡æ³¨åå°windowä¸ï¼ä¾è¡¨åè°ç¨\r\n   * ä»»å¡åççé¢çwindowï¼è¡¨åçwindow.parent\r\n   */\r\n  private initFormEvent() {\r\n    // å®¡æ¹åäºä»¶\r\n    const actionToken = this.workItemId + 'action';\r\n    const subjectCode = 'FormSubjectCode';\r\n    (window as any).gspWfEventService = (window as any).gspWfEventService || {};\r\n    (window as any).gspWfEventService.register = (formObject: any) => {\r\n      this.taskService.subjectRegister(subjectCode, actionToken);\r\n      this.ifRegistered = true;\r\n      this.formObject = formObject;\r\n    };\r\n\r\n    (window as any).gspWfEventService.notify = (value: FormEventMessage) => {\r\n      if (this.ifRegistered) {\r\n        this.taskService.subjectNotify(actionToken, value);\r\n      } else {// è¡¨åä¸æ³¨åï¼ä¹å¯ç´æ¥è°ç¨notify\r\n        const simulateToken = this.workItemId + 'simulate';\r\n        this.taskService.subjectRegister(subjectCode, simulateToken);\r\n        this.taskService.subjectResponse(simulateToken, '', (value: FormEventMessage) => {\r\n          value && value.dataChanged && this.completeSimulate();\r\n        });\r\n        this.taskService.subjectNotify(simulateToken, value);\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ç¹å»æäº¤çæ¶åï¼æ§è¡è¡¨åçåäºä»¶\r\n   */\r\n  private beforeCompleteSubmit() {\r\n    const passPreActions = this.billMethodConfigs.filter(action => action.action === this.actionEntity.code && action.executionTime === 'Pre').sort((x, y) => x.sortOrder - y.sortOrder);\r\n    // å¦æè¡¨åæ³¨åäºäºä»¶\r\n    if (passPreActions && passPreActions.length) {\r\n      this.executeFormActions([...passPreActions]);\r\n    }\r\n    // æ²¡æå®ä¹ååäºä»¶ï¼ç´æ¥æäº¤\r\n    else {\r\n      this.completeSubmit();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param formActions è¡¨åä¸­è¦æ§è¡çå¨ä½\r\n   */\r\n  private executeFormActions(formActions: BillMethodConfig[]) {\r\n    if (formActions.length > 0) {\r\n      this.messageSubject = new Subject<any>();\r\n      this.messageSubject.subscribe((re: any) => {\r\n        console.log(re.data);\r\n        const data = re.data.data;\r\n        if (data.result === true) {\r\n          if (data.dataChanged === true) {// å¦æéè¦é¢è§£æï¼åé¢è§£æåç»§ç»­æ§è¡\r\n            this.completeSimulate().subscribe((r) => {\r\n              if (r) {// é¢è§£ææ­£ç¡®\r\n                this.executeFormActions(formActions);\r\n              } else {// é¢è§£æéè¯¯\r\n                this.subject.next({ result: false, isClose: false }); // ä»»å¡åççé¢ä¸å³é­\r\n              }\r\n            });\r\n          } else {// ä¸éè¦é¢è§£æï¼ç»§ç»­æ§è¡\r\n            this.executeFormActions(formActions);\r\n          }\r\n        } else {\r\n          this.subject.next({ result: false, isClose: false }); // ä»»å¡åççé¢ä¸å³é­\r\n          throw new Error('å®¡æ¹åè¡¨åæä½æ§è¡å¤±è´¥ï¼');\r\n        }\r\n      });\r\n      // æ§è¡è¡¨åå¨ä½\r\n      const formAction = formActions.shift();\r\n      this.sendMessage(this.workItemId, formAction);\r\n    } else {\r\n      this.completeSubmit();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * é¢è§£æ\r\n   * @param action\r\n   */\r\n  execute(action: TaskAction) {\r\n    switch (action.code) {\r\n      case 'AssignUser': // ææ´¾ åç¬åæ°\r\n        this.assignSimulate();\r\n        break;\r\n      case 'Claim': // é¢ç¨\r\n        this.showAttachment = false;\r\n        break;\r\n      case 'Unclaim': // åæ¶é¢ç¨\r\n        break;\r\n      case 'Retrieve': // åå\r\n        break;\r\n      case 'Transfer': // ç§»äº¤ åç¬åæ°\r\n        this.transferSimulate();\r\n        break;\r\n      case 'AddSign': // å ç­¾\r\n        this.addSignSimulate();\r\n        break;\r\n      case 'AddSignFront': // å¾è¯¢\r\n        this.addSignFrontSimulate();\r\n        break;\r\n      case 'Notify': //ç¥ä¼\r\n        this.notifySimulate();\r\n        break;\r\n      case 'Refuse': // å¦å³\r\n        break;\r\n      case 'Obsolete': // ä½åº\r\n        break;\r\n      case 'Comment': // è¯è®º\r\n        break;\r\n      case 'ReadTask': // å·²é\r\n        this.ifShowCommentToMySelf = true;\r\n        this.dialogHeight = 340;\r\n        break;\r\n      case 'UrgeHandle'://å¬å\r\n        this.urgeHandleSimulate();\r\n        break;\r\n      case 'CancelConsult'://åæ¶å¾è¯¢\r\n        break;\r\n      default: // éè¿ é©³å éæ°æäº¤ å¶ä»èªå®ä¹çå¨ä½\r\n        this.completeSimulate();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * çæ­£å°æäº¤\r\n   * éåç¶ç±»æ¹æ³\r\n   */\r\n  submit(): Observable<SubmitResult> {\r\n    switch (this.actionEntity.code) {\r\n      case 'AssignUser': // ææ´¾ åç¬åæ°\r\n        this.assignSubmit();\r\n        break;\r\n      case 'Claim': // é¢ç¨\r\n        this.claimSubmit();\r\n        break;\r\n      case 'Unclaim': // åæ¶é¢ç¨\r\n        this.unClaimSubmit();\r\n        break;\r\n      case 'Retrieve': // åå\r\n        this.retrieveSubmit();\r\n        break;\r\n      case 'Transfer': // ç§»äº¤ åç¬åæ°\r\n        this.transferSubmit();\r\n        break;\r\n      case 'AddSign': // å ç­¾\r\n        this.addSignSubmit();\r\n        break;\r\n      case 'AddSignFront': // å¾è¯¢\r\n        this.addSignFrontSubmit();\r\n        break;\r\n      case 'Comment': // è¯è®º\r\n        this.commentSubmit();\r\n        break;\r\n      case 'Notify': //ç¥ä¼\r\n        this.notifySubmit();\r\n        break;\r\n      case 'ReadTask': // å·²é\r\n        this.readSubmit();\r\n        break;\r\n      case 'UrgeHandle'://å¬å\r\n        this.urgeHandleSubmit();\r\n        break;\r\n      case 'CancelConsult'://åæ¶å¾è¯¢\r\n        this.cancelConsultSubmit();\r\n        break;\r\n      default: // éè¿ é©³å å¦å³ ä½åº éæ°æäº¤ å¶ä»èªå®ä¹å¨ä½\r\n        this.beforeCompleteSubmit();\r\n    }\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  /**\r\n   * æ¹éåç\r\n   * @param tasks æ¹éä»»å¡åè¡¨\r\n   */\r\n  batchSubmit(tasks: TaskEntity[]): Observable<SubmitResult> {\r\n    let filterNum = 0;\r\n    const subject = new BehaviorSubject<SubmitResult>(null);\r\n    const successSubmit: SubmitResult = { result: true, isClose: true };\r\n    if ((this.actionEntity.code === 'Back' || this.actionEntity.code === 'Refuse') && !this.comment) {// æ¹éæè§æ¯å¦å¿å¡«ä¸æ¯ææ ¹æ®å®¡æ¹é¡¹éç½®æä½ï¼æ¹éé©³åæè§å¿å¡«\r\n      this.notify.warning(this.i18nService.getValue('cueWords.inputOpinion'));\r\n      subject.next({ result: false, isClose: false });\r\n    } else if (this.comment.length > 300) {\r\n      this.notify.warning(this.i18nService.getValue('task.commentTooLong'));\r\n      subject.next({ result: false, isClose: false });\r\n    } else {\r\n      const noActionTasks = tasks.filter(t => t.actions.findIndex(a => a.code === this.actionEntity.code) === -1);\r\n      if (noActionTasks && noActionTasks.length > 0) {\r\n        for (const a of noActionTasks) {\r\n          filterNum++;\r\n          if (filterNum === tasks.length) {\r\n            subject.next(successSubmit);\r\n            this.showBatchSubmitInfo(0, filterNum, 0, 0);\r\n          }\r\n        }\r\n      }\r\n      let actTasks = tasks.filter(t => t.actions.some(a => a.code === this.actionEntity.code));\r\n      if (actTasks && actTasks.length > 0) {\r\n        this.executeBatchEvent([...this.actionEntity.preEvents.filter(e => e.batch)], actTasks, this.actionEntity, (re: TaskEventResult) => {\r\n          if (re && re.result) {\r\n            if (re.passTasks) {\r\n              const backTasks = actTasks.filter(t => re.passTasks.findIndex(id => id === t.id) === -1);\r\n              if (backTasks && backTasks.length > 0) {\r\n                for (const t of backTasks) {\r\n                  filterNum++;\r\n                  if (filterNum === tasks.length) {\r\n                    subject.next(successSubmit);\r\n                    this.showBatchSubmitInfo(0, filterNum, 0, 0);\r\n                  }\r\n                }\r\n              }\r\n              actTasks = actTasks.filter(t => re.passTasks.findIndex(id => id === t.id) > -1);\r\n            }\r\n            if (actTasks.length > 0) {\r\n              const batchVerifySignedcontext = new BatchVerifySignedContext();\r\n              this.batchverifySubmit(actTasks, filterNum, batchVerifySignedcontext).subscribe((r: any) => {\r\n                if (r && r.successSubmit && r.successSubmit.result) {\r\n                  this.executeBatchEvent([...this.actionEntity.postEvents.filter(e => e.batch)], r.successHandleTasks, this.actionEntity, () => {\r\n                    subject.next(r.successSubmit);\r\n                  }, { result: true, passTasks: r.successHandleTasks.map(t => t.id) });\r\n                }\r\n              });\r\n            }\r\n          } else {\r\n            subject.next({ result: false, isClose: false });\r\n          }\r\n        }, { result: true, passTasks: actTasks.map(t => t.id) });\r\n      }\r\n    }\r\n    return subject.asObservable();\r\n  }\r\n\r\n\r\n  private batchverifySubmit(tasks: TaskEntity[], filterNum: number = 0, batchVerifySignedcontext: BatchVerifySignedContext): Observable<any> {\r\n    const subject = new Subject();\r\n    const verifyTasks = tasks.filter(t => {\r\n      const action = t.actions.find(a => a.code === this.actionEntity.code);\r\n      if (!action) {\r\n        return false;\r\n      } else {\r\n        if (action.parameters.some(p => p.code === 'CertificationNecessary' && p.value === 'true')) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      }\r\n    });\r\n    const verifyTasksNum = verifyTasks.length;\r\n    if (verifyTasks.length > 0) {\r\n      const that = this;\r\n      if (\r\n        (window as any).gspframeworkService &&\r\n        (window as any).gspframeworkService.rtf\r\n      ) {\r\n        (window as any).gspframeworkService.rtf.caEvent.on(\r\n          (window as any).gspframeworkService.rtf.caEvent.signedMsgOverToken(),\r\n          'signedMsgOver',\r\n          function signMsgOver(signedData) {\r\n            if (signedData && signedData[0] === 'true' && signedData.length > 0) {\r\n              // è¯ä¹¦å¯¹è±¡\r\n              const cert = gspCA.getCurCert();\r\n              // éªç­¾åæ°\r\n              that.verifySigned = {\r\n                // è¦éªè¯çè¯ä¹¦base64ç¼ç çå­ç¬¦æµ(certkey)\r\n                certBase64Info: gspCA.getCertBase64(cert),\r\n                // ç­¾ååä¿¡æ¯\r\n                msg: ['BatchDigitalSignature'],\r\n                // è¦ç­¾ååä¿¡æ¯\r\n                signedmsg: signedData[1][0],\r\n                // ç¨æ·ä½¿ç¨åºæ¯ï¼ç®åæªä½¿ç¨ï¼å¯ä»¥ä¸ºç©º\r\n                useCase: null,\r\n              };\r\n              batchVerifySignedcontext.verifySigned = that.verifySigned;\r\n              that.taskService.batchVerifySigned(batchVerifySignedcontext).subscribe(() => {\r\n                const verifyTasksNum = 0;\r\n                that.batchComplete(tasks, filterNum, verifyTasksNum).subscribe(re => {\r\n                  subject.next(re);\r\n                });\r\n              }, (error) => {\r\n                const otherTasks = tasks.filter(t => verifyTasks.findIndex(task => task.id === t.id) === -1);\r\n                that.batchComplete(otherTasks, filterNum, verifyTasksNum).subscribe(re => {\r\n                  subject.next(re);\r\n                });\r\n              });\r\n            } else {\r\n              that.notify.error(signedData[1]);\r\n              subject.next({ successSubmit: { result: false, isClose: false }, successHandleTasks: new Array() });\r\n            }\r\n          }\r\n        );\r\n      }\r\n      const msg = ['BatchDigitalSignature'];\r\n      gspCA.getSignedMsg(msg);\r\n    } else {\r\n      this.batchComplete(tasks, filterNum, verifyTasksNum).subscribe(re => {\r\n        subject.next(re);\r\n      });\r\n    }\r\n    return subject.asObservable();\r\n  }\r\n\r\n  private batchComplete(tasks: TaskEntity[], filterNum: number = 0, verifyTasksNum: number): Observable<any> {\r\n    const subject = new Subject<any>();\r\n    let successNum = 0;\r\n    let failedNum = 0;\r\n    let errorNum = 0;\r\n    const successSubmit: SubmitResult = { result: true, isClose: true };\r\n    const successHandleTasks = new Array();\r\n\r\n    const load = this.loadingService.show();\r\n    for (const task of tasks) {\r\n      const context = new CompleteContext();\r\n      context.workItemId = task.sourceId;\r\n      context.conclusionValue = this.actionEntity.code;\r\n      context.comment = this.comment;\r\n      context.addendum = this.addendum;\r\n      this.taskService.completeSimulate(context).subscribe((response: SimulateResponse) => {\r\n        if (response && response.needInteraction === true) {// éè¦äº¤äº\r\n          failedNum++;\r\n          if (successNum + failedNum + errorNum === tasks.length) {\r\n            load.close();\r\n            subject.next({ successSubmit, successHandleTasks });\r\n            this.showBatchSubmitInfo(successNum, failedNum + filterNum, errorNum, verifyTasksNum);\r\n          }\r\n        } else {// ä¸éè¦äº¤äº\r\n          this.taskService.complete(context).subscribe(() => {// æ§è¡æå\r\n            successNum++;\r\n            successHandleTasks.push(task);\r\n            if (successNum + failedNum + errorNum === tasks.length) {\r\n              load.close();\r\n              subject.next({ successSubmit, successHandleTasks });\r\n              this.showBatchSubmitInfo(successNum, failedNum + filterNum, errorNum, verifyTasksNum);\r\n            }\r\n          }, () => {// æ§è¡æ¥é\r\n            errorNum++;\r\n            if (successNum + failedNum + errorNum === tasks.length) {\r\n              load.close();\r\n              subject.next({ successSubmit, successHandleTasks });\r\n              this.showBatchSubmitInfo(successNum, failedNum + filterNum, errorNum, verifyTasksNum);\r\n            }\r\n          });\r\n        }\r\n      }, () => {// ä»»å¡æ¨¡æè¯·æ±æ¥é\r\n        errorNum++;\r\n        if (successNum + failedNum + errorNum === tasks.length) {\r\n          load.close();\r\n          subject.next({ successSubmit, successHandleTasks });\r\n          this.showBatchSubmitInfo(successNum, failedNum + filterNum, errorNum, verifyTasksNum);\r\n        }\r\n      });\r\n    }\r\n    return subject.asObservable();\r\n  }\r\n\r\n  /**\r\n   * æ¹éæäº¤æç¤ºä¿¡æ¯\r\n   * @param successNum æåæ¡æ°\r\n   * @param failedNum éè¦äº¤äºçæ¡æ°\r\n   * @param errorNum æ§è¡æ¥éçæ¡æ°\r\n   * @param verifyTasksNum éè¦æ°å­ç­¾åçæ¡æ°\r\n   */\r\n  private showBatchSubmitInfo(successNum: number, failedNum: number, errorNum: number, verifyTasksNum: number) {\r\n    let message = '';\r\n    if (successNum && !failedNum && !errorNum && !verifyTasksNum) {// æ¹éå¨é¨æå\r\n      this.notify.success(this.i18nService.getValue('cueWords.success'));\r\n    } else {// éå¨é¨æå\r\n      successNum && (message += this.i18nService.getValue('batchSubmit.success') + `ã${successNum}ã` + this.i18nService.getValue('batchSubmit.row'));\r\n      errorNum && (message += this.i18nService.getValue('batchSubmit.error') + `ã${errorNum}ã` + this.i18nService.getValue('batchSubmit.row'));\r\n      failedNum && (message += this.i18nService.getValue('batchSubmit.failed') + `ã${failedNum}ã` + this.i18nService.getValue('batchSubmit.row'));\r\n      verifyTasksNum && (message += this.i18nService.getValue('batchSubmit.validationFailed') + `ã${verifyTasksNum}ã` + this.i18nService.getValue('batchSubmit.row'));\r\n      message += this.i18nService.getValue('batchSubmit.single');\r\n      this.message.show('warning', message, { safeHtml: false });\r\n    }\r\n  }\r\n\r\n  private executeBatchEvent(events: ActionEvent[], entities: Array<TaskEntity>, action: TaskAction, handler: any, result?: TaskEventResult) {\r\n    if (this.injector) {\r\n      if (events && events.length > 0 && entities && entities.length > 0) {\r\n        const event = events.shift();\r\n        const url = event.eventImpl.split('#')[0];\r\n        const func = event.eventImpl.split('#')[1];\r\n        System.import(url + '?v=' + new Date().getTime().toString())\r\n          .then((moduleFactories: any) => {\r\n            const moduleFactory: any = Object.values(moduleFactories)[0];\r\n            const moduleRef = moduleFactory.create(this.injector);\r\n            const context: TaskEventContext = {\r\n              action,\r\n              taskList: entities,\r\n              origin: 'TaskCenter',\r\n              preEventResult: result\r\n            };\r\n            moduleRef.instance[func].apply(moduleRef.instance, [context]).subscribe((re: TaskEventResult) => {\r\n              if (re && re.result) {\r\n                this.executeBatchEvent(events, entities, action, handler, re);\r\n              } else {\r\n                handler(re);\r\n              }\r\n            });\r\n          });\r\n      } else {\r\n        handler(result);\r\n      }\r\n    } else {\r\n      handler(result);\r\n    }\r\n  }\r\n\r\n\r\n  private assignSimulate() {\r\n    this.showAttachment = false;\r\n    this.ifAssignUser = true;\r\n    this.dialogHeight += this.dialogHeightBase;\r\n    this.taskService.getAssigneeInfo(this.workItemId).subscribe((info: FlowNodeInfo) => {\r\n      this.assignInfos = [{\r\n        selectedAssignees: info.selectedAssignees,\r\n        assigneeInfo: info.assigneeInfo,\r\n        assignees: info.selectedAssignees.map(user => { return { id: user.id, name: user.name }; }),\r\n        activityName: info.activityDefinitionName,\r\n        dependency: info.dependency,\r\n        anonymous: info.anonymous,\r\n        anonymousText: info.anonymousText,\r\n        resolved: info.resolved,\r\n      }];\r\n    }, (error) => {\r\n      this.taskService.error(error);\r\n    });\r\n  }\r\n\r\n  private transferSimulate() {// ç§»äº¤\r\n    this.ifSelectUser = true;\r\n    this.selectUserText = this.actionEntity.name + this.i18nService.getValue('task.person');\r\n    this.singleSelect = true;\r\n    this.dialogHeight += this.dialogHeightBase;\r\n    this.getOrganizationScope();\r\n\r\n  }\r\n\r\n  private addSignFrontSimulate() {// å¾è¯¢\r\n    this.ifSelectUser = true;\r\n    this.selectUserText = this.actionEntity.name + this.i18nService.getValue('task.person');\r\n    this.dialogHeight += this.dialogHeightBase;\r\n    this.getOrganizationScope();\r\n\r\n  }\r\n\r\n  private addSignSimulate() {// å ç­¾\r\n    this.ifSelectUser = true;\r\n    this.selectUserText = this.actionEntity.name + this.i18nService.getValue('task.person');\r\n    this.dialogHeight += this.dialogHeightBase * 2;\r\n    const load = this.loadingService.show();\r\n    this.taskService.getAdhocConfig(this.workItemId).subscribe((response: AddSignSimulateResponse) => {\r\n      load.close();\r\n      this.addSign.showSignToSign = response.showSignToSign;\r\n      this.addSign.originMultiInstType = response.multiInstanceType;\r\n      if (response.organization) {\r\n        this.filter.orgId = response.organization.id;\r\n        this.filter.withAllOrg = response.organization.includeChildren;\r\n      }\r\n    }, error => {\r\n      load.close();\r\n      this.taskService.error(error);\r\n    })\r\n  }\r\n\r\n  private notifySimulate() {//ç¥ä¼\r\n    this.ifSelectUser = true;\r\n    this.selectUserText = this.actionEntity.name + this.i18nService.getValue('task.person');\r\n    this.dialogHeight += this.dialogHeightBase;\r\n    this.singleSelect = false;\r\n    this.getOrganizationScope();\r\n  }\r\n\r\n  private getOrganizationScope() {\r\n    const load = this.loadingService.show();\r\n    this.taskService.getOrganizationScope(this.workItemId, this.actionEntity.code).subscribe((orgList: OrganizationScope[]) => {\r\n      load.close();\r\n      if (orgList.length) {// å¨åä¼è¿åç©ºæ°ç»\r\n        this.filter.orgId = orgList[0].id;\r\n        this.filter.withAllOrg = orgList[0].includeChildren;\r\n      }\r\n    }, error => {\r\n      load.close();\r\n      this.taskService.error(error);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * å¬åæ¨¡æ\r\n   */\r\n  private urgeHandleSimulate() {\r\n    this.ifSelectNode = false;\r\n    this.ifSelectUser = false;\r\n    this.ifAssignUser = false;\r\n    this.ifUrgeType = true;\r\n    this.commentPlaceHolder = this.i18nService.getValue('task.urgeComment');\r\n    this.showCommonComment = false;\r\n    this.showAttachment = false;\r\n    this.showUrgeMessageSubject = true;\r\n    this.showSign = false;\r\n    this.dialogHeight += this.dialogHeightBase * 2;\r\n    const load = this.loadingService.show();\r\n    let context = new UrgeHandleSimulateContext();\r\n    context.procInstId = this.processInstanceId;\r\n    this.taskService.urgeHandleSimulate(context).subscribe((re: UrgeHandleResponse) => {\r\n      load.close();\r\n      this.urgeHandleResponse = re;\r\n      if (re && re.urgeUsers && re.urgeUsers.length) {\r\n        this.urgeMessageSubject = re.urgeUsers[0].urgeInfos[0].urgeMessageSubject;\r\n        this.urgeMessageContent = re.urgeUsers[0].urgeInfos[0].urgeMessageContent;\r\n        this.subjectEditable = re.urgeUsers[0].urgeInfos[0].subjectEditable;\r\n        this.contentEditable = re.urgeUsers[0].urgeInfos[0].contentEditable;\r\n        this.addReminder = re.urgeUsers[0].urgeInfos[0].addReminder;\r\n        let urgeUsers = re.urgeUsers;\r\n        let assignInfo = new AssigneeInfo();\r\n        urgeUsers.forEach(user => {\r\n          if (user.anonymousText) {\r\n            user.name = user.anonymousText;\r\n            user.code = '';\r\n            user.orgName = '';\r\n          }\r\n        })\r\n        assignInfo.assigneeUsers = urgeUsers;\r\n        assignInfo.selectAssignee = urgeUsers.length > 1 ? true : false;\r\n        assignInfo.multiSelect = true;\r\n        this.assignInfos[0].assigneeInfo = assignInfo;\r\n        this.assignInfos[0].assignees = urgeUsers.length == 1 ? urgeUsers : [];\r\n      } else {\r\n        this.notify.warning(this.i18nService.getValue('task.noUrgeUsers'));\r\n      }\r\n    }, error => {\r\n      load.close();\r\n      this.taskService.error(error);\r\n    })\r\n\r\n  }\r\n\r\n  /**\r\n   * é¢è§£æ\r\n   * éè¿ãé©³åãéæ°æäº¤ãå¶ä»èªå®ä¹å¨ä½\r\n   */\r\n  private completeSimulate(): Observable<any> {\r\n    const subject = new Subject();\r\n    this.ifSelectNode = true;\r\n    this.ifAssignUser = true;\r\n    this.dialogHeight += this.dialogHeightBase * 2;\r\n\r\n    if (this.actionEntity.parameters && this.actionEntity.parameters.length) {// æ¯å¦åè®¸å ç­¾\r\n      this.actionEntity.parameters.forEach((p) => {\r\n        if (p.code === 'AddSignBehindAble' && p.value === 'true') {\r\n          this.ifSelectUser = true;\r\n          this.selectUserText = this.i18nService.getValue('task.addSign') + this.i18nService.getValue('task.person');\r\n          this.dialogHeight += this.dialogHeightBase;\r\n          const load = this.loadingService.show();\r\n          //è·åå ç­¾èå´\r\n          this.taskService.getOrganizationScope(this.workItemId, 'AddSignBehind').subscribe((orgList: OrganizationScope[]) => {\r\n            load.close();\r\n            if (orgList.length) {// å¨åä¼è¿åç©ºæ°ç»\r\n              this.filter.orgId = orgList[0].id;\r\n              this.filter.withAllOrg = orgList[0].includeChildren;\r\n            }\r\n          }, error => {\r\n            this.taskService.error(error);\r\n          });\r\n        }\r\n      });\r\n    }\r\n    if (this.actionEntity.code === 'Back') {\r\n      this.selectNodeText = this.i18nService.getValue('task.backNodeText');\r\n    }\r\n\r\n    const context = new CompleteContext();\r\n    context.workItemId = this.workItemId;\r\n    context.conclusionValue = this.actionEntity.code;\r\n\r\n    const load = this.loadingService.show();\r\n    this.taskService.completeSimulate(context).subscribe((response: SimulateResponse) => {\r\n      load.close();\r\n      this.clearSimulateResult();\r\n      this.response = response;\r\n      this.showBackWardConfig.dynamicBackWardRuleAble = response.dynamicBackWardRuleAble;\r\n      if (!response.simulationPaths.length) {// æ¨¡æè¿åè·¯å¾ä¸ºç©ºæ¶\r\n        this.ifSelectNode = false;\r\n        this.ifAssignUser = false;\r\n      } else {// æ¨¡æè¿åäºè·¯å¾\r\n        this.destNodes = response.simulationPaths && response.simulationPaths.map(path => ({\r\n          id: path.nodeInfoList.map(node => node.activityDefinitionId).join('ï¼'),\r\n          name: path.nodeInfoList.map(node => node.activityDefinitionName).join('ï¼')\r\n        }));\r\n        // å¤çé»è®¤åæ¯ï¼æ é»è®¤åæ¯è¿å-1\r\n        const defaultIndex = response.simulationPaths.findIndex(a => a.default);\r\n        if (defaultIndex > -1) {\r\n          this.selectedNodeId = this.destNodes[defaultIndex].id;\r\n          this.nodePlaceholder = this.destNodes[defaultIndex].name.indexOf('ï¼') > -1 ? response.simulationPaths[defaultIndex].name : this.destNodes[defaultIndex].name;\r\n          this.setAssignInfo(response.simulationPaths[defaultIndex].nodeInfoList);\r\n        } else {\r\n          this.nodePlaceholder = this.i18nService.getValue('task.selectPlaceholder');\r\n        }\r\n      }\r\n      subject.next(true);\r\n    }, error => {\r\n      load.close();\r\n      subject.next(false);\r\n      this.taskService.error(error);\r\n    });\r\n    return subject.asObservable();\r\n  }\r\n\r\n  /**\r\n   * æ¸ç©ºé¢è§£æç»æ\r\n   */\r\n  private clearSimulateResult() {\r\n    this.assignInfos = [{// éæ°é¢è§£ææ¶æ¸ç©º\r\n      selectedAssignees: [],\r\n      assigneeInfo: null,\r\n      assignees: [],\r\n      activityName: '',\r\n      dependency: '',\r\n      anonymous: false,\r\n      anonymousText: '',\r\n      resolved: false,\r\n    }];\r\n    this.destNodes = []; // éæ°é¢è§£ææ¶æ¸ç©º\r\n    this.nodePlaceholder = '';\r\n    this.selectedNodeId = '';\r\n  }\r\n  /**\r\n   * è®¾ç½®å½åææ´¾ä¿¡æ¯å¸®å©åæ°\r\n   */\r\n  private setAssignInfo(nodeInfoList: FlowNodeInfo[]) {\r\n    this.assignInfos = [];\r\n    this.selectedNodeId.split('ï¼').forEach(nodeId => {\r\n      const node = nodeInfoList.find(node => node.activityDefinitionId === nodeId);\r\n      if (node) {\r\n        this.assignInfos.push({\r\n          selectedAssignees: node.selectedAssignees,\r\n          assigneeInfo: node.assigneeInfo,\r\n          assignees: node.selectedAssignees.map(user => { return { id: user.id, name: user.name }; }),\r\n          activityName: node.activityDefinitionName,\r\n          dependency: node.dependency,\r\n          anonymous: node.anonymous,\r\n          anonymousText: node.anonymousText,\r\n          resolved: node.resolved,\r\n        });\r\n      } else {\r\n        this.assignInfos.push({\r\n          selectedAssignees: [],\r\n          assigneeInfo: null,\r\n          assignees: [],\r\n          activityName: '',\r\n          dependency: '',\r\n          anonymous: false,\r\n          anonymousText: '',\r\n          resolved: false,\r\n        });\r\n      }\r\n    });\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * ç¹å»ç¡®å®åæ¹æ³\r\n   */\r\n  private assignSubmit() {\r\n    if (this.comment.length > 300) {\r\n      this.notify.warning(this.i18nService.getValue('task.commentTooLong'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else if (!this.assignInfos[0].assignees.length) {\r\n      this.notify.warning(this.i18nService.getValue('static.assignee.noAssignee'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else {\r\n      const context: AssignParameter = {\r\n        workItemId: this.workItemId,\r\n        assigneeIds: this.assignInfos[0].assignees.map(user => user.id),\r\n        comment: this.comment,\r\n        addendum: this.addendum\r\n      };\r\n      this.taskService.assignNextUsersByWorkItemId(context).subscribe(() => {\r\n        this.notify.success(this.i18nService.getValue('static.assignee.successAssign'));\r\n        this.subject.next(this.submitResult);\r\n      }, (error) => {\r\n        this.subject.next({ result: false, isClose: false });\r\n        this.taskService.error(error);\r\n      });\r\n    }\r\n  }\r\n\r\n  private claimSubmit() {\r\n    if (this.comment.length > 300) {\r\n      this.notify.warning(this.i18nService.getValue('task.commentTooLong'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else {\r\n      this.taskService.claim(this.workItemId, this.comment).subscribe(() => {\r\n        this.notify.success(this.i18nService.getValue('cueWords.successClaim')),\r\n          this.submitResult.isClose = false;\r\n        this.subject.next(this.submitResult);\r\n      }, (error) => {\r\n        this.subject.next({ result: false, isClose: false });\r\n        this.taskService.error(error);\r\n      });\r\n    }\r\n  }\r\n\r\n  private unClaimSubmit() {\r\n    if (this.comment.length > 300) {\r\n      this.notify.warning(this.i18nService.getValue('task.commentTooLong'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else {\r\n      this.taskService.unClaim(this.workItemId, this.comment).subscribe(() => {\r\n        this.notify.success(this.i18nService.getValue('cueWords.successUnClaim')),\r\n          this.subject.next(this.submitResult);\r\n      }, (error) => {\r\n        this.subject.next({ result: false, isClose: false });\r\n        this.taskService.error(error);\r\n      });\r\n    }\r\n  }\r\n\r\n  private retrieveSubmit() {\r\n    if (this.comment.length > 300) {\r\n      this.notify.warning(this.i18nService.getValue('task.commentTooLong'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else {\r\n      const retrieveContext = {\r\n        workItemId: this.workItemId,\r\n        comment: this.comment\r\n      };\r\n      this.taskService.retrieve(retrieveContext).subscribe(() => {\r\n        this.notify.success(this.i18nService.getValue('cueWords.successRetrieve'));\r\n        this.subject.next(this.submitResult);\r\n      }, (error) => {\r\n        this.subject.next({ result: false, isClose: false });\r\n        this.taskService.error(error);\r\n      });\r\n    }\r\n  }\r\n\r\n  private transferSubmit() {\r\n    if (this.comment.length > 300) {\r\n      this.notify.warning(this.i18nService.getValue('task.commentTooLong'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else if (this.selectedUsers.length === 0) {\r\n      this.notify.warning(this.i18nService.getValue('task.selectPlaceholder') + this.selectUserText);\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else {\r\n      const context = {\r\n        workItemId: this.workItemId,\r\n        assignee: this.selectedUsers[0],\r\n        comment: this.comment,\r\n        addendum: this.addendum\r\n      };\r\n      this.submitDisable = true; // ç¦ç¨æäº¤æé®\r\n      this.taskService.transfer(context).subscribe(() => {\r\n        this.notify.success(this.i18nService.getValue('static.transfer.successTransfer'));\r\n        this.subject.next(this.submitResult);\r\n      }, (error) => {\r\n        this.subject.next({ result: false, isClose: false });\r\n        this.taskService.error(error);\r\n      });\r\n    }\r\n  }\r\n\r\n  private commentSubmit() { // è¯è®º\r\n    if (!this.comment || this.comment.length === 0) {\r\n      this.notify.warning(this.i18nService.getValue('cueWords.inputOpinion'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else if (this.comment.length > 300) {\r\n      this.notify.warning(this.i18nService.getValue('task.commentTooLong'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else {\r\n      const context = {\r\n        workItemId: this.workItemId,\r\n        comment: this.comment,\r\n        addendum: this.addendum\r\n      };\r\n      this.taskService.comment(context).subscribe(() => {\r\n        this.notify.success(this.i18nService.getValue('static.comment.successComment'));\r\n        this.submitResult.isClose = false;\r\n        this.subject.next(this.submitResult);\r\n      }, (error) => {\r\n        this.subject.next({ result: false, isClose: false });\r\n        this.taskService.error(error);\r\n      });\r\n      this.comment = '';\r\n    }\r\n  }\r\n\r\n  private addSignFrontSubmit() {\r\n    if (this.comment.length > 300) {\r\n      this.notify.warning(this.i18nService.getValue('task.commentTooLong'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else if (this.selectedUsers.length === 0) {\r\n      this.notify.warning(this.i18nService.getValue('task.selectPlaceholder') + this.selectUserText);\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else {\r\n      const context = {\r\n        workItemId: this.workItemId,\r\n        action: this.actionEntity.code,\r\n        assignees: this.selectedUsers,\r\n        comment: this.comment,\r\n        addendum: this.addendum\r\n      };\r\n      this.submitDisable = true; // ç¦ç¨æäº¤æé®\r\n      this.taskService.addSign(context).subscribe(() => {\r\n        this.notify.success(this.i18nService.getValue('cueWords.success'));\r\n        this.subject.next(this.submitResult);\r\n      }, (error) => {\r\n        this.subject.next({ result: false, isClose: false });\r\n        this.taskService.error(error);\r\n      });\r\n    }\r\n  }\r\n\r\n  private addSignSubmit() {// å ç­¾æäº¤\r\n    if (this.comment.length > 300) {\r\n      this.notify.warning(this.i18nService.getValue('task.commentTooLong'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else if (this.selectedUsers.length === 0) {\r\n      this.notify.warning(this.i18nService.getValue('task.selectPlaceholder') + this.selectUserText);\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else {\r\n      let payload: AddSignPayload = {\r\n        workItemId: this.workItemId,\r\n        comment: this.comment,\r\n        conclusionValue: \"Pass\",\r\n        signAssignees: this.selectedUsers,\r\n        actionCode: \"AddSignBehind\",\r\n        multiInstanceType: this.addSign.showMultiInstanceType ? this.addSign.curMultiInstType : this.addSign.originMultiInstType,\r\n        counterSignRule: 'allPass',\r\n        completedRule: 'all',\r\n        allowSignToSign: this.addSign.allowSignToSIgn,\r\n        activityName: '',\r\n        addendum: this.addendum\r\n      };\r\n\r\n      const load = this.loadingService.show();\r\n      this.taskService.adhocAssignee(payload).subscribe(re => {\r\n        this.notify.success(this.i18nService.getValue('cueWords.success'));\r\n        this.subject.next({ result: true, isClose: true });\r\n        load.close();\r\n      }, error => {\r\n        load.close();\r\n        this.subject.next({ result: false, isClose: false });\r\n        this.taskService.error(error);\r\n      })\r\n\r\n    }\r\n\r\n  }\r\n\r\n  private readSubmit() {//å·²éæäº¤\r\n    if (this.comment.length > 300) {\r\n      this.notify.warning(this.i18nService.getValue('task.commentTooLong'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else {\r\n      const context: WorkItemExecuteParam = {\r\n        workItemId: this.workItemId,\r\n        comment: this.comment,\r\n        addendum: this.addendum,\r\n        hideComment: this.hideComment\r\n      }\r\n      this.taskService.readTask(context).subscribe(() => {\r\n        this.notify.success(this.i18nService.getValue('cueWords.success'));\r\n        this.subject.next({ result: true, isClose: true });\r\n      }, error => {\r\n        this.taskService.error(error);\r\n        this.subject.next({ result: false, isClose: false });\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  private notifySubmit() {//ç¥ä¼æäº¤\r\n    if (this.comment.length > 300) {\r\n      this.notify.warning(this.i18nService.getValue('task.commentTooLong'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else if (this.selectedUsers.length === 0) {\r\n      this.notify.warning(this.i18nService.getValue('task.selectPlaceholder') + this.selectUserText);\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else {\r\n      const context: CounterSignParam = {\r\n        workItemId: this.workItemId,\r\n        comment: this.comment,\r\n        addendum: this.addendum,\r\n        action: this.actionEntity.code,\r\n        assignees: this.selectedUsers,\r\n      };\r\n      this.taskService.addSign(context).subscribe(() => {\r\n        this.notify.success(this.i18nService.getValue('cueWords.success'));\r\n        this.subject.next({ result: true, isClose: false });\r\n      }, (error) => {\r\n        this.subject.next({ result: false, isClose: false });\r\n        this.taskService.error(error);\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * å¬åæäº¤\r\n   */\r\n  private urgeHandleSubmit() {\r\n    if (this.comment.length > 300) {\r\n      this.notify.warning(this.i18nService.getValue('task.commentTooLong'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else if (!this.urgeHandleResponse.urgeUsers || !this.urgeHandleResponse.urgeUsers.length) {//æ²¡æç¬¦åæ¡ä»¶çå¬åç¨æ·\r\n      this.notify.warning(this.i18nService.getValue('task.noUrgeUsers'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else if (!this.assignInfos[0].assignees.length) {//æ²¡æéäºº\r\n      this.notify.warning(this.i18nService.getValue('task.selectPlaceholder') + this.i18nService.getValue('task.receiver'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else if (!this.urgeHandleComponent.urgeMessageSubject) {\r\n      this.notify.warning(this.i18nService.getValue('task.noUrgeSubject'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else if (!this.urgeHandleComponent.urgeMessageContent) {\r\n      this.notify.warning(this.i18nService.getValue('task.noUrgeContent'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else {\r\n      let context = new UrgeHandleContext();\r\n      context.procInstId = this.processInstanceId;\r\n      context.urgeUsers = this.urgeHandleResponse.urgeUsers.filter(a => this.assignInfos[0].assignees.some(b => b.id == a.id));\r\n      context.urgeMessageSubject = this.urgeHandleComponent.urgeMessageSubject;\r\n      context.urgeMessageContent = this.urgeHandleComponent.urgeMessageContent;\r\n      context.addReminder = this.addReminder;\r\n      const load = this.loadingService.show();\r\n      this.taskService.urgeHandle(context).subscribe(re => {\r\n        this.notify.success(this.i18nService.getValue('cueWords.success'));\r\n        this.subject.next({ result: true, isClose: false });\r\n        load.close();\r\n      }, error => {\r\n        load.close();\r\n        this.subject.next({ result: false, isClose: false });\r\n        this.taskService.error(error);\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * åæ¶å¾è¯¢æäº¤\r\n   */\r\n  private cancelConsultSubmit() {\r\n    let context = new WorkItemExecuteParam();\r\n    context.workItemId = this.workItemId;\r\n    context.comment = this.comment;\r\n    context.addendum = this.addendum;\r\n    const load = this.loadingService.show();\r\n    this.taskService.cancelConsult(context).subscribe(() => {\r\n      load.close();\r\n      this.notify.success(this.i18nService.getValue('cueWords.success'));\r\n      this.subject.next({ result: true, isClose: false });\r\n    }, error => {\r\n      load.close();\r\n      this.subject.next({ result: false, isClose: false });\r\n      this.taskService.error(error);\r\n    })\r\n\r\n  }\r\n\r\n  private completeSubmit() {// éè¿ãé©³åãå¶ä»ç¬¬ä¸æ¹å¨ä½\r\n    const context: CompleteContext = {\r\n      workItemId: this.workItemId,\r\n      conclusionValue: this.actionEntity.code,\r\n      comment: this.comment,\r\n      signAssignees: this.selectedUsers,\r\n      nextFlowNodes: [],\r\n      addendum: this.addendum,\r\n      //å¨æé©³åè§å\r\n      dynamicBackWardRule: this.showBackWardConfig.dynamicBackWardRuleAble ? (this.showBackWardConfig.enable ? 'backToThisNode' : 'sequence') : ''\r\n    };\r\n\r\n    if (context.signAssignees.length || !this.response || !this.response.simulationPaths.length) {// å ç­¾ or ä»¿çè¿åä¸ºç©ºï¼ç´æ¥å¾ä¸èµ°\r\n      this.completeTask(context);\r\n    } else {\r\n      if (this.selectedNodeId) {// å ç­¾æ¶ï¼éæ©ä¸ä¸ç¯èè¢«ç¦ç¨ï¼destNodeIdä¸ºundefined\r\n        const nextFlowNodes: FlowNodeInfo[] = [];\r\n        const nodes: string[] = this.selectedNodeId.split('ï¼');\r\n        for (let i = 0; i < nodes.length; i++) {\r\n          const nextFlowNode: FlowNodeInfo = {\r\n            activityDefinitionId: nodes[i],\r\n            activityDefinitionName: this.assignInfos[i].activityName,\r\n            dependency: this.assignInfos[i].dependency,\r\n            selectedAssignees: this.assignInfos[i].assigneeInfo ? this.assignInfos[i].assignees : [],\r\n            assigneeInfo: null,\r\n            resolved: false,\r\n            anonymous: this.assignInfos[i].anonymous,\r\n            anonymousText: this.assignInfos[i].anonymousText\r\n          };\r\n          //èç¹æ¾ä¸å°äººï¼ä¸å¼å¸¸æç¤ºæ¶ï¼å¹¶è¡ç½å³æä¸å¤ç\r\n          if (this.response && this.response.simulationPaths.length && !this.response.simulationPaths[0].id.startsWith('ParallelGateway')) {\r\n            if (nodes.length == 1 && nodes[i].startsWith('UserActivity') && this.assignInfos[i].resolved && !this.assignInfos[i].assigneeInfo && !this.assignInfos[i].selectedAssignees.length) {\r\n              const str = this.assignInfos[i].activityName + this.i18nService.getValue('startProcess.node') + this.i18nService.getValue('startProcess.noUser');\r\n              this.notify.warning(str);\r\n              this.subject.next({ result: false, isClose: false });\r\n              return;\r\n            }\r\n          }\r\n          nextFlowNodes.push(nextFlowNode);\r\n        }\r\n        context.nextFlowNodes = nextFlowNodes;\r\n      }\r\n\r\n      if (this.destNodes.length > 1 && context.nextFlowNodes.length <= 0) {// ç¨æ·æ²¡éæ©è·³è½¬èç¹ï¼ä¸åè®¸æäº¤\r\n        this.notify.warning(this.i18nService.getValue('cueWords.selectNode'));\r\n        this.subject.next({ result: false, isClose: false });\r\n      } else if (this.assignInfos.filter(info => info.assigneeInfo && info.assigneeInfo.selectAssignee && !info.assignees.length).length) {\r\n        this.notify.warning(this.i18nService.getValue('task.selectProcessor'));\r\n        this.subject.next({ result: false, isClose: false });\r\n      } else {\r\n        this.completeTask(context);\r\n      }\r\n    }\r\n  }\r\n\r\n  private completeTask(completeContext: CompleteContext) {\r\n    const attachmentNecessary = this.actionEntity.parameters.find(entity => entity.code === 'AttachmentNecessary');\r\n    const certificationNecessary = this.actionEntity.parameters.find(entity => entity.code === 'CertificationNecessary');\r\n    const commentNecessary = this.actionEntity.parameters.find(entity => entity.code === 'CommentNecessary');\r\n    if (attachmentNecessary && attachmentNecessary.value === 'true' && (!completeContext.addendum.attachment || completeContext.addendum.attachment === '[]')) {\r\n      this.notify.warning(this.i18nService.getValue('cueWords.attachmentsRequired'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else if (commentNecessary && commentNecessary.value === 'true' && !completeContext.comment) {\r\n      this.notify.warning(this.i18nService.getValue('cueWords.inputOpinion'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else if (this.comment.length > 300) {\r\n      this.notify.warning(this.i18nService.getValue('task.commentTooLong'));\r\n      this.subject.next({ result: false, isClose: false });\r\n    } else {\r\n      if (certificationNecessary && certificationNecessary.value === 'true') {\r\n        this.verifySignature(() => {\r\n          completeContext.verifySigned = this.verifySigned;\r\n          this.taskComplete(completeContext);\r\n        });\r\n        const msg = [this.workItemId];\r\n        gspCA.getSignedMsg(msg);\r\n      } else {\r\n        this.taskComplete(completeContext);\r\n      }\r\n    }\r\n  }\r\n\r\n  private executeFormActionsAfterCompleteTask(hander: any) {\r\n    const postActions = this.billMethodConfigs.filter(action => action.action === this.actionEntity.code && action.executionTime === 'Post').sort((x, y) => x.sortOrder - y.sortOrder);\r\n    // å¦æè¡¨åæ³¨åäºäºä»¶\r\n    if (this.ifRegistered && this.formObject && postActions.length) {\r\n      this.executePostFormActions(postActions, hander);\r\n    } else {\r\n      hander();\r\n    }\r\n  }\r\n\r\n  private executePostFormActions(formActions: BillMethodConfig[], hander: any) {\r\n    if (formActions.length > 0) {\r\n      this.messageSubject = new Subject<any>();\r\n      this.messageSubject.subscribe((re: any) => {\r\n        console.log(re.data);\r\n        const data = re.data.data;\r\n        if (data.result === true) {\r\n          this.executePostFormActions(formActions, hander);\r\n        } else {\r\n          this.subject.next({ result: false, isClose: false }); // ä»»å¡åççé¢ä¸å³é­\r\n          throw new Error('å®¡æ¹åè¡¨åæä½æ§è¡å¤±è´¥ï¼');\r\n        }\r\n      });\r\n      // æ§è¡è¡¨åå¨ä½\r\n      const formAction = formActions.shift();\r\n      this.sendMessage(this.workItemId, formAction);\r\n    } else {\r\n      hander();\r\n    }\r\n  }\r\n\r\n  //å¸®å©éäººå\r\n  afterConfirmForTransfer(data: Assignee[]) {\r\n    if (data && data.length) {\r\n      this.selectedUsers = data.map(user => user.id);\r\n      this.selectedUserNgModule = data.map(user => user.name).join();\r\n    } else {\r\n      this.selectedUsers = [];\r\n    }\r\n    if (this.actionEntity.code == 'AddSign' && this.addSign.originMultiInstType == MultiInstanceType.Preempt.toString() && this.selectedUsers.length > 1) {\r\n      this.addSign.showMultiInstanceType = true;\r\n    } else {\r\n      this.addSign.showMultiInstanceType = false;\r\n    }\r\n  }\r\n\r\n  cancel(): Observable<SubmitResult> {\r\n    this.submitResult.isClose = false;\r\n    this.subject.next(this.submitResult);\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  getSubject() {\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  // ä¸ä¸ç¯èéæ©åäºä»¶\r\n  selectNodeChange(data: any) {\r\n    this.selectedNodeId = data && data.data && data.data.id;\r\n    if (this.response.simulationPaths[data.index].nodeInfoList.every(node => node.resolved === true)) {// å·²é¢è§£æåä¸è\r\n      this.setAssignInfo(this.response.simulationPaths[data.index].nodeInfoList);\r\n    } else {\r\n      const nodeIds = this.selectedNodeId.split('ï¼').map(node => `\"${node}\"`).join(); // æ³¨æä¸ä¸ªä¸­æéå·ä¸ä¸ªè±æéå·\r\n      const load = this.loadingService.show();\r\n      this.taskService.getSimulationAssigneeInfo(this.workItemId, nodeIds).subscribe((nodeInfoList: FlowNodeInfo[]) => {\r\n        load.close();\r\n        this.setAssignInfo(nodeInfoList);\r\n      }, error => {\r\n        load.close();\r\n        this.taskService.error(error);\r\n      });\r\n    }\r\n  }\r\n\r\n  // ä¸ä¸ç¯èæ¸ç©ºåäºä»¶\r\n  selectNodeClear() {\r\n    this.selectedNodeId = null;\r\n    this.assignInfos = [{\r\n      selectedAssignees: [],\r\n      assigneeInfo: null,\r\n      assignees: [],\r\n      activityName: '',\r\n      dependency: '',\r\n      anonymous: false,\r\n      anonymousText: '',\r\n      resolved: false,\r\n    }];\r\n  }\r\n\r\n  afterConfirmForAssign(data: Assignee[], index: number) {\r\n    this.assignInfos[index].assignees = data;\r\n  }\r\n\r\n  /**\r\n   * ä¸ä¼ éä»¶åäºä»¶\r\n   */\r\n  addAttachment(data: any) {\r\n    this.addendum.attachment = JSON.stringify(data);\r\n  }\r\n\r\n  /**\r\n   * æåç­¾ååäºä»¶\r\n   */\r\n  addSignature(data: any) {\r\n    if (data) {\r\n      const signInfo = {\r\n        id: data,\r\n        waterMarking: null\r\n      };\r\n      this.addendum.signature = JSON.stringify(signInfo);\r\n    } else {\r\n      this.addendum.signature = '';\r\n    }\r\n  }\r\n\r\n  // ä»¥æå¡æ¹å¼æå¼ç»ä»¶æ¶ï¼å·¦å³å ä¸padding\r\n  addPadding() {\r\n    this.cls = 'f-utils-fill-flex-column h-100 px-4 py-2';\r\n  }\r\n\r\n\r\n  private sendMessage(workItemId: string, action: BillMethodConfig) {\r\n    if (this.iframe) {\r\n      const iframeWindow = this.iframe.nativeElement.contentWindow;\r\n      const message = {\r\n        target: workItemId,\r\n        data: {\r\n          command: action.method,\r\n          arguments: action.methodParameters\r\n        }\r\n      };\r\n      iframeWindow.postMessage(message, this.POST_MESSAGE_TARGET);\r\n    } else {\r\n      throw new Error('è¡¨åå°æªå è½½!');\r\n    }\r\n  }\r\n\r\n  // æäº¤å®¡æ¹åçæ°å­ç­¾ååéªç­¾\r\n  verifySignature(handler: any) {\r\n    const that = this;\r\n    if (\r\n      (window as any).gspframeworkService &&\r\n      (window as any).gspframeworkService.rtf\r\n    ) {\r\n      (window as any).gspframeworkService.rtf.caEvent.on(\r\n        (window as any).gspframeworkService.rtf.caEvent.signedMsgOverToken(),\r\n        'signedMsgOver',\r\n        function signMsgOver(signedData) {\r\n          if (signedData && signedData[0] === 'true' && signedData.length > 0) {\r\n            // è¯ä¹¦å¯¹è±¡\r\n            const cert = gspCA.getCurCert();\r\n            // éªç­¾åæ°\r\n            that.verifySigned = {\r\n              // è¦éªè¯çè¯ä¹¦base64ç¼ç çå­ç¬¦æµ(certkey)\r\n              certBase64Info: gspCA.getCertBase64(cert),\r\n              // ç­¾ååä¿¡æ¯\r\n              msg: [that.workItemId],\r\n              // è¦ç­¾ååä¿¡æ¯\r\n              signedmsg: signedData[1][0],\r\n              // ç¨æ·ä½¿ç¨åºæ¯ï¼ç®åæªä½¿ç¨ï¼å¯ä»¥ä¸ºç©º\r\n              useCase: null,\r\n            };\r\n            handler();\r\n          } else {\r\n            that.loadingService.close();\r\n            that.subject.next({ result: false, isClose: false });\r\n            that.notify.error(signedData[1]);\r\n            throw new Error(signedData[1]);\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  // éè¿ãé©³åãå¶ä»ç¬¬ä¸æ¹å¨ä½\r\n  taskComplete(completeContext: CompleteContext) {\r\n    this.taskService.complete(completeContext).subscribe((cr: CompleteResponse) => {\r\n      this.executeFormActionsAfterCompleteTask(() => {\r\n        if (cr.needInteraction) {// éè¿åææ´¾åºæ¯\r\n          if (this.origin == ActionOrigin.TaskCenter) {\r\n            this.subject.next({ result: true, isClose: false });\r\n          } else {\r\n            this.subject.next({ result: false, isClose: false });//å³æloading\r\n          }\r\n          this.notify.info(this.i18nService.getValue('cueWords.select')\r\n            + 'ã' + cr.nextFlowNodes[0].activityDefinitionName + 'ã'\r\n            + this.i18nService.getValue('cueWords.processor'));\r\n          let task = new TaskEntity();\r\n          let action = new TaskAction();\r\n          task.sourceId = cr.nextFlowNodes[0].assigneeInfo.workItemId;\r\n          action.code = 'AssignUser';\r\n          action.name = this.i18nService.getValue('cueWords.assignUser');\r\n          this.handlerService.execute(task, action).subscribe(re => {\r\n            if (re) {\r\n              this.subject.next({ result: true, isClose: true });\r\n            }\r\n          });\r\n        } else {\r\n          if (completeContext.conclusionValue === 'Pass') {\r\n            this.notify.success(this.i18nService.getValue('cueWords.successPass'));\r\n          } else if (completeContext.conclusionValue === 'Back') {\r\n            this.notify.success(this.i18nService.getValue('cueWords.successBack'));\r\n          } else {\r\n            this.notify.success(this.i18nService.getValue('cueWords.success'));\r\n          }\r\n          this.subject.next({ result: true, isClose: true });\r\n        }\r\n      });\r\n    }, (error) => {\r\n      this.subject.next({ result: false, isClose: false });\r\n      this.taskService.error(error);\r\n    }\r\n    );\r\n  }\r\n\r\n}\r\n","import { AssigneeInfo } from './complete-response';\r\nimport { User } from './user';\r\n\r\n/**\r\n * æäº¤å®¡æ¹ä¸ä¸æåæ°\r\n */\r\nexport class StartProcessPayload {\r\n\r\n    /**\r\n     * éæºçæçID æ æä¹\r\n     */\r\n    id: string;\r\n\r\n    /**\r\n     * æµç¨å®ä¹ID\r\n     */\r\n    processDefinitionId: string;\r\n\r\n    /**\r\n     * æµç¨å®ä¹Key\r\n     */\r\n    processDefinitionKey: string;\r\n\r\n    /**\r\n     * æµç¨åç±»ID\r\n     */\r\n    bizDefKey: string;\r\n\r\n    /**\r\n     * æ°æ®æ¨¡åIDï¼BEä¸çèç¹IDï¼\r\n     */\r\n    dataModelId: string;\r\n\r\n    /**\r\n     * åæ®åç \r\n     */\r\n    dataId: string;\r\n\r\n    /**\r\n     * æµç¨å®ä¾åç§°ï¼å¯ç©º\r\n     */\r\n    name: string;\r\n\r\n    /**\r\n     * æµç¨åèµ·äºº\r\n     */\r\n    startUserId: string;\r\n\r\n    /**\r\n     * ä¸ä¸ç¯è\r\n     */\r\n    nextFlowNodes: FlowNodeInfo[];\r\n\r\n    /**\r\n     * åæ°\r\n     */\r\n    variables: any;\r\n\r\n    /**\r\n     * æ¯å¦å¸¦è¿åå¼\r\n     */\r\n    withResponse: boolean;\r\n\r\n}\r\n\r\nexport class FlowNodeInfo {\r\n\r\n    activityDefinitionId: string;\r\n\r\n    activityDefinitionName: string;\r\n\r\n    dependency: string;//åç½®ä¾èµï¼æ§è¡æäº¤æ¶ä¼ ç»åç«¯\r\n\r\n    selectedAssignees: User[];\r\n\r\n    assigneeInfo: AssigneeInfo;\r\n\r\n    resolved: boolean;//åä¸èæ¯å¦è§£æ\r\n\r\n    anonymous: boolean;\r\n\r\n    anonymousText: string;\r\n\r\n}\r\n\r\nexport class Assignee {\r\n\r\n    id: string;\r\n\r\n    name: string;\r\n\r\n}\r\n\r\nexport class CancelSubmitPayload {\r\n\r\n    procInstId: string;//å¯ä»¥åç¬æ ¹æ®æµç¨å®ä¾IDåæ¶\r\n\r\n    dataId: string;//ä¹å¯ä»¥æ ¹æ®dataId+bizDefKeyåæ¶\r\n\r\n    bizDefKey: string;\r\n}\r\n","/**\r\n * è·¨iframeéä¿¡ï¼æ¶æ¯ç±»åæä¸¾ç±»\r\n */\r\nexport enum MessageType {\r\n\r\n    SubmitSuccess = 'SubmitSuccess',//æäº¤æåï¼è¦æ±iframeå¤å¼¹åºæç¤º\r\n\r\n    SubmitFailed = 'SubmitFailed',//æäº¤å¤±è´¥ï¼å¤±è´¥ä¿¡æ¯\r\n\r\n    InfoSelectProcess = 'InfoSelectProcess',//æç¤ºéæ©æµç¨\r\n\r\n    InfoSelectNode = 'InfoSelectNode',//æç¤ºéæ©èç¹\r\n\r\n    InfoSelectParticipant = 'InfoSelectParticipant',//æç¤ºéæ©åçäºº\r\n\r\n    Cancel = 'Cancel',//ç¹å»åæ¶ï¼iframeå¤å³é­å¼¹çª\r\n}\r\n\r\n/**\r\n * è·¨iframeéä¿¡ï¼æ¶æ¯ç±»\r\n */\r\nexport class PostMessage {\r\n\r\n    type: MessageType;\r\n\r\n    message: any;\r\n}","/**\r\n * æäº¤å®¡æ¹æ¶ï¼è®°ä¸éæ©çæµç¨\r\n */\r\nexport class StartProcessCache {\r\n\r\n    selectedProcessList: SelectedProcessItem[];\r\n\r\n}\r\n\r\n/**\r\n * æäº¤å®¡æ¹æ¶ï¼è®°ä¸éæ©çæµç¨\r\n */\r\nexport class SelectedProcessItem {\r\n\r\n    /**\r\n     * æµç¨åç±»id\r\n     */\r\n    processCategory: string;\r\n\r\n    /**\r\n     * æµç¨å®ä¹id\r\n     */\r\n    processDefinitionId: string;\r\n\r\n    /**\r\n     * æµç¨å®ä¹åç§°\r\n     */\r\n    processDefinitionName: string;\r\n\r\n    /**\r\n     * è®°å½æ¶é´\r\n     */\r\n    logTime: Date = new Date();\r\n\r\n    constructor(processCategoryId: string, processDefinitionId: string, processDefinitionName: string) {\r\n        this.processCategory = processCategoryId;\r\n        this.processDefinitionId = processDefinitionId;\r\n        this.processDefinitionName = processDefinitionName;\r\n        this.logTime = new Date();\r\n\r\n    }\r\n\r\n}","import { Component, OnInit, ViewChild, TemplateRef, Input, Injector } from '@angular/core';\r\nimport { TaskService } from '../../service/task.service';\r\nimport { StartProcessPayload, FlowNodeInfo, Assignee } from '../../entity/start-process-payload';\r\nimport { ExecutionResponse } from '../../entity/execution-response';\r\nimport { LoadingService } from '@farris/ui-loading'\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { I18nService } from '../../service/i18n/i18n.service';\r\nimport { ComboListComponent } from '@farris/ui-combo-list';\r\nimport { MessageType } from '../../entity/postMessage';\r\nimport { MessagerService } from '@farris/ui-messager'\r\nimport { SimulateResponse, SimulationPath } from '../../entity/simulate-response';\r\nimport { AssignInfoHelpEntity } from '../../entity/assignInfoHelp';\r\nimport { WfTaskHandlerService } from '../../wf-task-handler.service';\r\nimport { ConfigCode } from '../../entity/task-center-config';\r\nimport { WfContext } from '../../entity/wfContext';\r\nimport { TaskEntity } from '../../entity/task-entity';\r\nimport { TaskAction } from '../../entity/task-action';\r\nimport { SelectedProcessItem, StartProcessCache } from '../../entity/process-cache';\r\n\r\n@Component({\r\n  selector: 'lib-process-selector',\r\n  templateUrl: './process-selector.component.html',\r\n  styleUrls: ['../../components/task-execute/task-execute.component.css'],\r\n})\r\nexport class ProcessSelectorComponent implements OnInit {\r\n\r\n  // task center-uiä¸­start-process-menuä½¿ç¨äºæ­¤éæ©å¨ï¼æé æ¹æ³æ¹å¨æ¶ï¼ééæ°ç¼è¯\r\n  constructor(\r\n    private taskService: TaskService,\r\n    private loadingService: LoadingService,\r\n    private notify: NotifyService,\r\n    private i18nService: I18nService,\r\n    private messager: MessagerService,\r\n    private injector: Injector,\r\n    private handlerService: WfTaskHandlerService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  destProcesses: { id: string, name: string }[] = [];//åéæµç¨\r\n  destNodes: { id: string, name: string }[] = [];//åéä¸ä¸ç¯è\r\n  response: SimulateResponse;//ä¿å­æ¨¡ææµç¨åè¿åçåå®¹ï¼éæ©èç¹æ¶ä½¿ç¨\r\n  assignInfos: AssignInfoHelpEntity[] =\r\n    [{\r\n      selectedAssignees: [],\r\n      assigneeInfo: null,\r\n      assignees: [],\r\n      activityName: '',\r\n      dependency: '',\r\n      anonymous: false,\r\n      anonymousText: null,\r\n      resolved: false,\r\n    }];//èç¹è¿åçææ´¾ä¿¡æ¯ï¼å¤ä¸ªï¼\r\n\r\n  selectedProcessId: string;//éæ©çæµç¨å®ä¹ID\r\n  selectedNodeId: string; //éæ©çä¸ä¸ç¯èIDï¼åç»­ç¯èidçæ¼æ¥\r\n  payload = new StartProcessPayload;//ä¿å­è¡¨åä¸ä¼ æ¥çpayload\r\n  subject = new Subject();//è¿åbool\r\n  subjectWithResponse = new Subject<any>();//è¿åæµç¨ä¸ä¸æ\r\n  subjectCancel = new Subject();//ç¹å»åæ¶åçsubject\r\n  submitDisable: boolean = false;//æäº¤æé®æ¯å¦ç¦ç¨\r\n  _dataId: string;\r\n  _bizDefKey: string;\r\n  showButtons: boolean = false;\r\n  curLanguage: string = localStorage.getItem('languageCode') || 'zh-CHS';//ç³»ç»å½åè¯­è¨\r\n  nodePlaceholder: string;//ä¸ä¸ç¯èçplaceholder\r\n  processPlaceholder: string;//éæ©æµç¨çplaceholder\r\n  wfContext = new WfContext();//å·¥ä½æµä¸ä¸æ\r\n\r\n  @ViewChild('nodeCombo') nodeCombo: ComboListComponent\r\n  @ViewChild('buttons') buttons: TemplateRef<any>;//ç¡®è®¤åæ¶æé®\r\n  @Input() openFromIframe: boolean = false;//æ¯å¦ä»iframeæå¼ï¼åºç¨IDPæäº¤å®¡æ¹éæ\r\n\r\n  @Input()\r\n  set dataId(dataId: string) {\r\n    if (!dataId) {\r\n      throw new Error(\"dataIdä¸ºç©º\");\r\n    }\r\n    this._dataId = dataId;\r\n  }\r\n\r\n  @Input()\r\n  set bizDefKey(bizDefKey: string) {\r\n    if (!bizDefKey) {\r\n      throw new Error(\"æµç¨åç±»idä¸ºç©º\");\r\n    }\r\n    this.showButtons = true;\r\n    this._bizDefKey = bizDefKey;\r\n    var payload = new StartProcessPayload();\r\n    payload.dataId = this._dataId;\r\n    payload.bizDefKey = this._bizDefKey;\r\n    this.setParam(payload);\r\n  }\r\n\r\n  setParam(param: StartProcessPayload): Observable<any> {\r\n    let subject = new Subject<any>();\r\n    if (!param) { return; }\r\n    this.payload.id = param.id;\r\n    this.payload.processDefinitionId = param.processDefinitionId;\r\n    this.payload.processDefinitionKey = param.processDefinitionKey;\r\n    this.payload.bizDefKey = param.bizDefKey;\r\n    this.payload.dataModelId = param.dataModelId;\r\n    this.payload.dataId = param.dataId;\r\n    this.payload.name = param.name;\r\n    this.payload.startUserId = param.startUserId;\r\n    this.payload.nextFlowNodes = [];\r\n    this.wfContext.processCategoryId = param.bizDefKey;\r\n    this.startProcessSimulate(this.payload, subject);\r\n    return subject.asObservable();\r\n  }\r\n\r\n  startProcessSimulate(payload: StartProcessPayload, subject: Subject<any>) {\r\n    const load = this.loadingService.show();\r\n    this.taskService.startProcessSimulate(payload).subscribe((response: SimulateResponse) => {\r\n      load.close();\r\n      subject.next(true);\r\n      this.response = response;\r\n      this.destProcesses = response.procDefs.map(process => ({ id: process.procDefId, name: process.procDefName + `(v${process.version}.0)` }));//å¢å æµç¨ççæ¬ä¿¡æ¯\r\n      if (this.destProcesses.length === 1) {//åªæä¸ä¸ªåéæµç¨æ¶\r\n        this.selectedProcessId = this.destProcesses[0].id;\r\n        this.setNextNode(response);\r\n        this.processPlaceholder = this.destProcesses[0].name;\r\n      } else {//å¤ä¸ªæµç¨æ¶ï¼åä¸ä¸æ¬¡éæ©ç\r\n        const selectedProcessId = this.getSelectedProcessCache(this.payload.bizDefKey);\r\n        if (selectedProcessId && this.destProcesses.findIndex(p => p.id === selectedProcessId.processDefinitionId) > -1) {\r\n          this.getDestNodes(selectedProcessId.processDefinitionId);\r\n          this.processPlaceholder = selectedProcessId.processDefinitionName;\r\n        } else {\r\n          this.processPlaceholder = this.i18nService.getValue('task.selectPlaceholder');\r\n        }\r\n      }\r\n    }, error => {\r\n      load.close();\r\n      subject.error(error);\r\n      this.taskService.error(error);\r\n    })\r\n  }\r\n\r\n  /**\r\n   * éæ©æä¸ªæµç¨å\r\n   * @param data\r\n   */\r\n  selectProcessChange(data: any) {\r\n    this.nodeCombo.onClear();\r\n    this.getDestNodes(data.data.id);\r\n  }\r\n\r\n  /**\r\n   * æ ¹æ®éæ©çæµç¨å®ä¹idè·åä¸ä¸ç¯èä¿¡æ¯\r\n   * @param selectedProcessId \r\n   */\r\n  private getDestNodes(selectedProcessId: string) {\r\n    this.selectedProcessId = selectedProcessId;\r\n    this.destNodes = [];\r\n    this.nodePlaceholder = '';\r\n    this.clearAssignInfos();\r\n\r\n    var payload = new StartProcessPayload();\r\n    payload.processDefinitionId = this.selectedProcessId;\r\n    payload.dataId = this.payload.dataId;\r\n\r\n    const load = this.loadingService.show();\r\n    this.taskService.startProcessSimulate(payload).subscribe((response: SimulateResponse) => {\r\n      load.close();\r\n      this.response = response;\r\n      this.setNextNode(response);\r\n    }, error => {\r\n      load.close();\r\n      this.taskService.error(error);\r\n    })\r\n  }\r\n\r\n  /**\r\n   * éæ©èç¹åäºä»¶\r\n   */\r\n  selectNodeChange(data: any) {\r\n    this.clearAssignInfos();\r\n    this.selectedNodeId = data.data.id;\r\n    const nodeNames = data.data.name.split('ï¼');\r\n\r\n    if (this.response.simulationPaths[data.index].nodeInfoList.every(node => node.resolved === true)) {//å·²é¢è§£æåä¸è\r\n      this.setAssignInfo(this.response.simulationPaths[data.index]);\r\n    } else {//æªé¢è§£æåä¸è\r\n      let payload = new StartProcessPayload();\r\n      payload.processDefinitionId = this.selectedProcessId;\r\n      payload.dataId = this.payload.dataId;\r\n      payload.nextFlowNodes = [];\r\n\r\n      this.selectedNodeId.split('ï¼').forEach((nodeId, index) => {\r\n        let nextFlowNode = new FlowNodeInfo();\r\n        nextFlowNode.activityDefinitionId = nodeId;\r\n        nextFlowNode.activityDefinitionName = nodeNames[index];\r\n        payload.nextFlowNodes.push(nextFlowNode);\r\n      });\r\n\r\n      const load = this.loadingService.show();\r\n      this.taskService.startProcessSimulate(payload).subscribe((response: SimulateResponse) => {\r\n        load.close();\r\n        this.setAssignInfo(response.simulationPaths[0]);//éæ©çä¸ä¸ç¯èåºè¯¥å¨åä¸æ¡è·¯å¾ä¸ï¼æåsimulationPaths[0]\r\n      }, error => {\r\n        load.close();\r\n        this.taskService.error(error);\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n * å®ç°çæ­£çæäº¤\r\n */\r\n  startProcessSubmit() {\r\n    if (!this.selectedProcessId) {\r\n      this.openFromIframe ? this.messager.warning(this.i18nService.getValue('startProcess.selectProcess')) :\r\n        this.notify.warning(this.i18nService.getValue('startProcess.selectProcess'));\r\n      return;\r\n    }\r\n    if (!this.selectedNodeId) {\r\n      this.openFromIframe ? this.messager.warning(this.i18nService.getValue('startProcess.selectNode')) :\r\n        this.notify.warning(this.i18nService.getValue('startProcess.selectNode'));\r\n      return;\r\n    }\r\n    if (this.assignInfos.filter(info => (info.assigneeInfo || info.selectedAssignees.length) && !info.assignees.length).length) {//ç©ºåä¸èç­ç¥æ¶ï¼ä¸æç¤ºéäºº\r\n      this.openFromIframe ? this.messager.warning(this.i18nService.getValue('task.selectProcessor')) :\r\n        this.notify.warning(this.i18nService.getValue('task.selectProcessor'));\r\n      return;\r\n    }\r\n\r\n    const nodes: string[] = this.selectedNodeId.split('ï¼');\r\n    for (let i = 0; i < nodes.length; i++) {\r\n      let nextFlowNode: FlowNodeInfo = {\r\n        activityDefinitionId: nodes[i],\r\n        activityDefinitionName: this.assignInfos[i].activityName,\r\n        dependency: this.assignInfos[i].dependency,\r\n        selectedAssignees: this.assignInfos[i].assigneeInfo ? this.assignInfos[i].assignees : [],\r\n        assigneeInfo: null,\r\n        resolved: false,\r\n        anonymous: false,\r\n        anonymousText: ''\r\n      }\r\n      //èç¹æ¾ä¸å°äººï¼ä¸å¼å¸¸æç¤ºï¼åç«¯æ§å¶ä½ï¼ä¸åè®¸èµ°æäº¤è¯·æ±ï¼æä»¶äºå¡é®é¢ï¼ãå¹¶è¡åºæ¯ä¸æä¸å¤ç\r\n      if (this.response && this.response.simulationPaths.length && !this.response.simulationPaths[0].id.startsWith('ParallelGateway')) {\r\n        if (nodes.length == 1 && nodes[i].startsWith('UserActivity') && this.assignInfos[i].resolved && !this.assignInfos[i].assigneeInfo && !this.assignInfos[i].selectedAssignees.length) {\r\n          const str = this.assignInfos[i].activityName + this.i18nService.getValue('startProcess.node') + this.i18nService.getValue('startProcess.noUser');\r\n          this.openFromIframe ? this.messager.warning(str) : this.notify.warning(str);\r\n          return;\r\n        }\r\n      }\r\n      this.payload.nextFlowNodes.push(nextFlowNode);\r\n    }\r\n    this.payload.processDefinitionId = this.selectedProcessId;\r\n    this.submitDisable = true;\r\n    const load = this.loadingService.show();\r\n    this.taskService.startProcess(this.payload).subscribe((response: ExecutionResponse) => {\r\n      load.close();\r\n      this.submitDisable = false;\r\n      this.subject.next(true);\r\n      this.subjectWithResponse.next(response);\r\n      let messageAfterSubmit = this.i18nService.getValue('startProcess.submitSuccess');\r\n      if (this.openFromIframe) {\r\n        (window.parent as any).gspWfService.eventHandler({ data: { type: MessageType.SubmitSuccess, message: messageAfterSubmit } });\r\n      } else {\r\n        this.handlerService.handleSubmitMessage(ConfigCode.Info_After_Submit, this.payload.bizDefKey);\r\n      }\r\n      if (!this.openFromIframe && response.needInteraction) {//æäº¤å®¡æ¹åéè¦ææ´¾åºæ¯\r\n        this.notify.info(this.i18nService.getValue('cueWords.select')\r\n          + response.nextFlowNodes[0].activityDefinitionName\r\n          + this.i18nService.getValue('cueWords.processor'));\r\n        let task = new TaskEntity();\r\n        let action = new TaskAction();\r\n        task.sourceId = response.nextFlowNodes[0].assigneeInfo.workItemId;\r\n        action.code = 'AssignUser';\r\n        action.name = this.i18nService.getValue('cueWords.assignUser');\r\n        this.handlerService.execute(task, action).subscribe(re => { });\r\n      }\r\n      this.setSelectedProcessCache();\r\n    }, (error) => {\r\n      load.close();\r\n      this.payload.nextFlowNodes = [];\r\n      this.submitDisable = false;\r\n      this.subject.next(false);//å·²ç»æäººç¨äºè¿ä¸ªsubjectï¼æäº¤å¤±è´¥çè¯è¿åfalse by fangpengfei@20210324\r\n      this.taskService.error(error);\r\n    })\r\n  }\r\n\r\n  /**\r\n   * éæ©æµç¨æ¸ç©º\r\n   */\r\n  selectProcessClear() {\r\n    this.selectedProcessId = '';\r\n    this.destNodes = [];\r\n    this.nodePlaceholder = '';\r\n    this.selectedNodeId = '';\r\n    this.clearAssignInfos();\r\n    this.response = null;\r\n  }\r\n\r\n  /**\r\n   * éæ©èç¹æ¸ç©º\r\n   */\r\n  selectNodeClear() {\r\n    this.selectedNodeId = '';\r\n    this.clearAssignInfos();\r\n  }\r\n\r\n  /**\r\n   * ç¨æ·å¸®å©éäºº\r\n   */\r\n  afterConfirm(data: Assignee[], index: number) {\r\n    this.assignInfos[index].assignees = data;\r\n  }\r\n\r\n  /**\r\n   * å¼¹æ¡ç¹å»åæ¶\r\n   */\r\n  cancel() {\r\n    if (this.openFromIframe) {\r\n      (window.parent as any).gspWfService.eventHandler({ data: { type: MessageType.Cancel, message: '' } });\r\n    } else {\r\n      this.subjectCancel.next(false);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * è·åæäº¤å®¡æ¹åè¿åå¼ï¼boolåï¼å¼å®¹åå²ï¼\r\n   */\r\n  getSubject() {\r\n    return this.subject.asObservable();\r\n  }\r\n  /**\r\n   * è·åæäº¤å®¡æ¹åè¿åå¼ï¼å®ä½åï¼å¸¦æµç¨ä¸ä¸æï¼\r\n   */\r\n  getSubjectWithResponse() {\r\n    return this.subjectWithResponse.asObservable();\r\n  }\r\n  /**\r\n   * ç¹å»åæ¶åçsubjectï¼å³é­çªå£ä½¿ç¨\r\n   * @returns\r\n   */\r\n  getSubjectCancel() {\r\n    return this.subjectCancel.asObservable();\r\n  }\r\n\r\n  /**\r\n   * è®¾ç½®ä¸ä¸ç¯è\r\n   */\r\n  private setNextNode(response: SimulateResponse) {\r\n    this.destNodes = response.simulationPaths && response.simulationPaths.map(path => ({\r\n      id: path.nodeInfoList.map(node => node.activityDefinitionId).join('ï¼'),\r\n      name: path.nodeInfoList.map(node => node.activityDefinitionName).join('ï¼')\r\n    }));\r\n    //å¤çé»è®¤åæ¯ï¼æ é»è®¤åæ¯è¿å-1\r\n    const defaultIndex = response.simulationPaths.findIndex(a => a.default);\r\n    if (defaultIndex > -1) {\r\n      this.selectedNodeId = this.destNodes[defaultIndex].id;\r\n      this.nodePlaceholder = this.destNodes[defaultIndex].name.indexOf('ï¼') > -1 ? response.simulationPaths[defaultIndex].name : this.destNodes[defaultIndex].name;\r\n      this.setAssignInfo(response.simulationPaths[defaultIndex]);\r\n    } else {\r\n      this.nodePlaceholder = this.i18nService.getValue('task.selectPlaceholder');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * è®¾ç½®å½åææ´¾ä¿¡æ¯å¸®å©åæ°\r\n   */\r\n  private setAssignInfo(simulationPaths: SimulationPath) {\r\n    this.assignInfos = [];\r\n    this.selectedNodeId.split('ï¼').forEach(nodeId => {\r\n      const node = simulationPaths.nodeInfoList.find(node => node.activityDefinitionId === nodeId);\r\n      if (node) {\r\n        this.assignInfos.push({\r\n          selectedAssignees: node.selectedAssignees,\r\n          assigneeInfo: node.assigneeInfo,\r\n          assignees: node.selectedAssignees.map(user => { return { id: user.id, name: user.name } }),\r\n          activityName: node.activityDefinitionName,\r\n          dependency: node.dependency,\r\n          anonymous: node.anonymous,\r\n          anonymousText: node.anonymousText,\r\n          resolved: node.resolved\r\n        })\r\n      } else {\r\n        this.assignInfos.push({\r\n          selectedAssignees: [],\r\n          assigneeInfo: null,\r\n          assignees: [],\r\n          activityName: '',\r\n          dependency: '',\r\n          anonymous: false,\r\n          anonymousText: '',\r\n          resolved: false,\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * æ¸ç©ºå½åææ´¾ä¿¡æ¯å¸®å©åæ°\r\n   */\r\n  private clearAssignInfos() {\r\n    this.assignInfos = [{\r\n      selectedAssignees: [],\r\n      assigneeInfo: null,\r\n      assignees: [],\r\n      activityName: '',\r\n      dependency: '',\r\n      anonymous: false,\r\n      anonymousText: '',\r\n      resolved: false,\r\n    }];\r\n  }\r\n\r\n  /**\r\n   * è·åæµè§å¨ç¼å­ï¼ä¸æ¬¡æµç¨éæ©çç»æ\r\n   */\r\n  private getSelectedProcessCache(processCategoryId: string) {\r\n    let browserCache = JSON.parse(localStorage.getItem(\"gspWfStartProcess\")) as StartProcessCache;\r\n    if (browserCache && browserCache.selectedProcessList) {\r\n      return browserCache.selectedProcessList.find(a => a.processCategory == processCategoryId);\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  /**\r\n   * æµè§å¨ç¼å­è®°ä¸æµç¨éæ©çç»æ\r\n   */\r\n  private setSelectedProcessCache() {\r\n    const processCategoryId = this.payload.bizDefKey;\r\n    const processDefinitionId = this.payload.processDefinitionId;\r\n    let process = this.destProcesses.find(a => a.id == processDefinitionId);\r\n    const processDefinitionName = process && process.name;\r\n\r\n    let browserCache = JSON.parse(localStorage.getItem(\"gspWfStartProcess\")) as StartProcessCache;\r\n    if (browserCache && browserCache.selectedProcessList) {\r\n      let selectedProcessList = browserCache.selectedProcessList;\r\n      if (selectedProcessList.findIndex(a => a.processCategory == processCategoryId) > -1) {\r\n        selectedProcessList.map(item => {\r\n          if (item.processCategory == processCategoryId) {\r\n            item.processDefinitionId = processDefinitionId;\r\n            item.processDefinitionName = processDefinitionName;\r\n            item.logTime = new Date();\r\n          }\r\n        });\r\n        browserCache.selectedProcessList = selectedProcessList;\r\n        localStorage.setItem(\"gspWfStartProcess\", JSON.stringify(browserCache));\r\n      } else {\r\n        let item = new SelectedProcessItem(processCategoryId, processDefinitionId, processDefinitionName);\r\n        selectedProcessList.push(item);\r\n        browserCache.selectedProcessList = selectedProcessList;\r\n        localStorage.setItem(\"gspWfStartProcess\", JSON.stringify(browserCache));\r\n      }\r\n    } else {\r\n      let browserCache = new StartProcessCache();\r\n      let selectedProcessList = [];\r\n      let item = new SelectedProcessItem(processCategoryId, processDefinitionId, processDefinitionName);\r\n      selectedProcessList.push(item);\r\n      browserCache.selectedProcessList = selectedProcessList;\r\n      localStorage.setItem(\"gspWfStartProcess\", JSON.stringify(browserCache));\r\n\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import { Injectable, Injector, ComponentFactoryResolver, ApplicationRef } from '@angular/core';\r\nimport { WfApprovalLogsService } from '@gsp-wf/wf-approval-logs'\r\nimport { ForecastProcessPayload, WFFlowchartService } from '@gsp-wf/ui-flowchart';\r\nimport { BsModalService, ModalOptions } from '@farris/ui-modal';\r\nimport { Observable, Subject, of } from 'rxjs';\r\nimport { TaskService } from './service/task.service';\r\nimport { TaskAction } from './entity/task-action';\r\nimport { AssigneeInfo } from './entity/complete-response';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { I18nService } from './service/i18n/i18n.service';\r\nimport { FrameworkService, AppOptions } from '@gsp-sys/rtf-common';\r\nimport { BizFormResult, FormParameter } from './entity/bizform';\r\nimport { TaskEntity } from './entity/task-entity';\r\nimport { TaskExecuteComponent } from './components/task-execute/task-execute.component';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { StartProcessPayload, CancelSubmitPayload } from './entity/start-process-payload';\r\nimport { ProcessSelectorComponent } from './submit/process-selector/process-selector.component';\r\nimport { ExecutionResponse } from './entity/execution-response';\r\nimport { LoadingService } from '@farris/ui-loading';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { BatchCancelNumber, BatchSubmitNumber } from './entity/batchNumber';\r\nimport { SimulateResponse } from './entity/simulate-response';\r\nimport { ConfigCode, OwnerType } from './entity/task-center-config';\r\n\r\n@Injectable()\r\nexport class WfTaskHandlerService {\r\n\r\n  subject = new Subject<any>();\r\n  private loading: LoadingService;\r\n  private message: MessagerService;\r\n  private curLanguage: string = localStorage.getItem('languageCode') || 'zh-CHS';//ç³»ç»å½åè¯­è¨\r\n  private batchSubmitNum: BatchSubmitNumber = {//æ¹éæäº¤æ°é\r\n    successNum: 0,\r\n    failedNum: 0,\r\n    errorNum: 0,\r\n  };\r\n  private batchCancelNum: BatchCancelNumber = {//æ¹éåæ¶æäº¤æ°é\r\n    successNum: 0,\r\n    errorNum: 0\r\n  }\r\n\r\n  constructor(\r\n    private logService: WfApprovalLogsService,\r\n    private flowchartService: WFFlowchartService,\r\n    private injector: Injector,\r\n    private resolver: ComponentFactoryResolver,\r\n    private modalService: BsModalService,\r\n    private taskService: TaskService,\r\n    private notify: NotifyService,\r\n    private i18nService: I18nService,\r\n    private frameworkService: FrameworkService,\r\n    private appRef: ApplicationRef,\r\n  ) {\r\n    this.loading = this.injector.get(LoadingService);\r\n    this.message = this.injector.get(MessagerService);\r\n  }\r\n\r\n  /**\r\n   * å¤çåæ¡ä»»å¡\r\n   * @param entity ä»»å¡å®ä½\r\n   * @param action ä»»å¡å¨ä½\r\n   */\r\n  execute(task: TaskEntity, action: TaskAction): Observable<any> {\r\n    switch (action.code) {\r\n      case 'ViewBizLog'://å®¡æ¹æ¥å¿\r\n        this.logService.showByDataId(task.refBizId);\r\n        break;\r\n      case 'ViewFlowChart'://æ¥çæµç¨\r\n        this.flowchartService.viewFlowChart(task.processInstanceId);\r\n        break;\r\n      case 'ViewExecuteForm':// èæ¥åæ®\r\n        this.openApp(task, action);\r\n        break;\r\n      default: //åçç±»ä»»å¡\r\n        this.complete(task, action);\r\n    }\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  assignByInfo(assigneeInfo: AssigneeInfo, openFromIframe: boolean): Observable<any> {\r\n    const assignSubject = new Subject<any>();\r\n    return assignSubject.asObservable();\r\n  }\r\n\r\n  private complete(task: TaskEntity, action: TaskAction) {\r\n    const compFactory = this.resolver.resolveComponentFactory(TaskExecuteComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.setTask(task);\r\n    compRef.instance.setAction(action);\r\n    compRef.instance.addPadding();\r\n    const modalConfig: ModalOptions = {\r\n      title: action.name ? action.name : this.i18nService.getValue('task.title'),\r\n      width: 550,\r\n      height: compRef.instance.dialogHeight,\r\n      showButtons: true,\r\n      buttons: compRef.instance.buttons\r\n    };\r\n    const dialog = this.modalService.show(compRef, modalConfig);\r\n    compRef.instance.getSubject().subscribe(re => {\r\n      re && re.result && this.subject.next(true);\r\n      re && re.result && dialog.close();\r\n    })\r\n  }\r\n\r\n  /**\r\n   * æå¼å®¡æ¹èæ¥çé¢\r\n   * @param entity ä»»å¡å®ä½\r\n   * @param action å¨ä½å®ä½\r\n   */\r\n  openApp(entity: TaskEntity, action: TaskAction) {\r\n    const taskId = entity.sourceId;\r\n    const getFormInfoLoading = this.loading.show();\r\n    this.taskService.getAppInfo(taskId).subscribe((formInfo: BizFormResult) => {\r\n      getFormInfoLoading.close();\r\n\r\n      if (!formInfo) {\r\n        this.notify.info(this.i18nService.getValue('task.notFoundBill'));\r\n        return;\r\n      }\r\n      const options: AppOptions = {\r\n        appType: 'menu',\r\n        funcId: '',\r\n        appId: '',\r\n        appEntrance: '',\r\n        tabId: taskId,\r\n        isNewTab: true\r\n      };\r\n      // ä¼ å·¥ä½æµä¸ä¸æåæ°\r\n      const parameters = new Map<string, any>();\r\n      // åè½èåæåµ\r\n      if (formInfo.appId) {\r\n        // é»è®¤èæ¥å®¡æ¹çé¢\r\n        if (formInfo.formType === '1') {//è¡¨ååµæµç¨\r\n          parameters.set('workItemId', taskId);\r\n          parameters.set('procInstId', action.parameters[0].value);\r\n          parameters.set('taskState', entity.state);\r\n          parameters.set('isAssign', entity.actions.some(action => action.code === 'AssignUser'));\r\n          formInfo.parameters.forEach((item: FormParameter) =>\r\n            parameters.set(item.code, item.value)\r\n          );\r\n          options.funcId = formInfo.appId;\r\n        } else {//æµç¨åµè¡¨å\r\n          options.funcId = 'WF0120';\r\n          parameters.set('taskId', entity.id);\r\n          parameters.set('taskState', entity.state);\r\n        }\r\n      } else if (formInfo.url) {//è¡¨åæ ¼å¼\r\n        options.funcId = 'WF0120';\r\n        parameters.set('taskId', entity.id);\r\n        parameters.set('taskState', entity.state);\r\n      } else {\r\n        this.notify.info(this.i18nService.getValue('task.notFoundBill'));\r\n        return;\r\n      }\r\n      options.entityParams = parameters;\r\n      options.queryStringParams = parameters;//å¼å®¹IDPè¡¨å\r\n      const openMenuLoading = this.loading.show();\r\n      this.frameworkService.openMenu$(options).subscribe(() => {\r\n        openMenuLoading.close();\r\n      });\r\n    }, error => {\r\n      getFormInfoLoading.close();\r\n      this.taskService.error(error);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * è¿åå¨ä½åè¡¨ï¼è¡¨ååµæµç¨ç¨å°\r\n   * @param workItemId \r\n   */\r\n  refreshActions(workItemId: string): Observable<any> {\r\n    return this.taskService.getWorkItemActions(workItemId).pipe(\r\n      switchMap((actionList: any[]) => {\r\n        return of(actionList.filter(action =>\r\n          action.code !== 'ViewBizLog' &&\r\n          action.code !== 'ViewFlowChart' &&\r\n          action.code !== 'ViewExecuteForm'\r\n        ));\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * æ ¹æ®æµç¨å®ä¾IDåå¨ä½Codeåçä»»å¡ï¼ææªç¨å° by fangpengfei@2020.06.22ï¼\r\n   * @param procInstId æµç¨å®ä¾ID\r\n   * @param state ä»»å¡ç¶æ\r\n   * @param actionCode å¨ä½Code\r\n   */\r\n  executeByProcInstId(procInstId: string, state: number, actionCode: string): Observable<any> {\r\n    var action = new TaskAction();\r\n    action.code = actionCode;\r\n    const subject = new Subject();\r\n    this.taskService.getTaskByProcInstId(procInstId, state).subscribe((task: TaskEntity) => {\r\n      if (task) {\r\n        this.execute(task, action).subscribe(re => {\r\n          subject.next(re);\r\n        })\r\n      } else {\r\n        this.notify.info(this.i18nService.getValue('task.noTask'));\r\n      }\r\n    })\r\n    return subject.asObservable();\r\n  }\r\n\r\n  /**\r\n   * æ ¹æ®workItemId åçä»»å¡\r\n   * @param workItemId å·¥ä½é¡¹ID\r\n   * @param action å¨ä½å®ä½\r\n   */\r\n  executeByWorkItemId(workItemId: string, action: TaskAction): Observable<any> {\r\n    let task = new TaskEntity();\r\n    task.sourceId = workItemId;\r\n    return this.execute(task, action);\r\n  }\r\n\r\n  /**\r\n   * æäº¤å®¡æ¹\r\n   * @param payload ä¸ä¸æåæ°\r\n   * @returns subject trueï¼æäº¤æåï¼falseï¼æäº¤å¤±è´¥ \r\n   */\r\n  startProcess(payload: StartProcessPayload): Observable<any> {\r\n    const subject = new Subject();\r\n    const configLoad = this.loading.show();\r\n    this.taskService.getTaskCenterConfigByCode(ConfigCode.If_Show_Submit_Dialog, OwnerType.BizDefKey, payload.bizDefKey).subscribe(re => {\r\n      configLoad.close();\r\n      if (re && re.currentValue === 'false') {//èªå®ä¹æ éå¼¹æ¡\r\n        const simulateLoad = this.loading.show();\r\n        this.taskService.startProcessSimulate(payload).subscribe((response: SimulateResponse) => {//é¢è§£æ\r\n          simulateLoad.close();\r\n          if (!response || response.needInteraction === false) {//é¢è§£ææ éäº¤äº\r\n            const executeLoad = this.loading.show();\r\n            this.taskService.startProcess(payload).subscribe((response: ExecutionResponse) => {//æ§è¡\r\n              executeLoad.close();\r\n              subject.next(response);\r\n              this.handleSubmitMessage(ConfigCode.Info_After_Submit, payload.bizDefKey);\r\n            }, error => {//æ§è¡æ¥é\r\n              executeLoad.close();\r\n              subject.next(null);\r\n              this.taskService.error(error);\r\n            });\r\n          } else {//é¢è§£æéè¦äº¤äº\r\n            this.showStartProcessDialog(payload).subscribe(re => {\r\n              subject.next(re);\r\n            });\r\n          }\r\n        }, error => {//é¢è§£ææ¥é\r\n          simulateLoad.close();\r\n          subject.next(null);\r\n          this.taskService.error(error);\r\n        })\r\n      } else {//æ æ¯å¦å¼¹æ¡éç½®\r\n        this.showStartProcessDialog(payload).subscribe(re => {\r\n          subject.next(re);\r\n        });\r\n      }\r\n    }, error => {//è·åéç½®åºé\r\n      configLoad.close();\r\n      this.taskService.error(error);\r\n    })\r\n    return subject.asObservable();\r\n  }\r\n\r\n  /**\r\n   * æäº¤å®¡æ¹å¼¹æ¡\r\n   * @param payload åæ°\r\n   * @param withResponse æ¯å¦å¸¦è¿åå¼\r\n   */\r\n  private showStartProcessDialog(payload: StartProcessPayload): Observable<any> {\r\n    const subject = new Subject();\r\n    const compFactory = this.resolver.resolveComponentFactory(ProcessSelectorComponent);\r\n    const compRef = compFactory.create(this.injector);\r\n    compRef.instance.setParam(payload).subscribe(() => {\r\n      const modalConfig: ModalOptions = {\r\n        title: this.i18nService.getValue('startProcess.title'),\r\n        width: 520,\r\n        height: 338,\r\n        showButtons: true,\r\n        buttons: compRef.instance.buttons\r\n      };\r\n      const dialog = this.modalService.show(compRef, modalConfig);\r\n      if (payload.withResponse === true) {//åé¨ä½¿ç¨\r\n        compRef.instance.getSubjectWithResponse().subscribe(re => {\r\n          subject.next(re);\r\n          dialog.close();\r\n        });\r\n        compRef.instance.getSubjectCancel().subscribe(() => {\r\n          dialog.close();\r\n        });\r\n      } else {//å·²æä¸å¡ç»è°ç¨\r\n        compRef.instance.getSubject().subscribe(re => {\r\n          subject.next(re);\r\n          dialog.close();\r\n        });\r\n        compRef.instance.getSubjectCancel().subscribe(re => {\r\n          subject.next(re);\r\n          dialog.close();\r\n        });\r\n      }\r\n    });\r\n    return subject.asObservable();\r\n  }\r\n\r\n  /**\r\n   * åæ¶æäº¤\r\n   * @payload payload åæ°\r\n   */\r\n  cancelSubmit(payload: CancelSubmitPayload): Observable<any> {\r\n    const subject = new Subject();\r\n    const load = this.loading.show();\r\n    this.taskService.cancelSubmit(payload).subscribe(() => {\r\n      load.close();\r\n      subject.next(true);\r\n      this.handleSubmitMessage(ConfigCode.Info_After_Cancel_Submit, payload.bizDefKey);\r\n    }, error => {\r\n      load.close();\r\n      subject.error(false);\r\n      this.taskService.error(error);\r\n    })\r\n    return subject.asObservable();\r\n  }\r\n\r\n  /**\r\n   * æäº¤å®¡æ¹\r\n   * @param dataId è¡¨åid\r\n   * @param bizDefKey å¥å£åæ®id\r\n   * @param options èªå®ä¹éç½®\r\n   */\r\n  submitWithBizDefKey(dataId: string, bizDefKey: string): Observable<any> {\r\n    if (!dataId) {\r\n      this.notify.warning(this.i18nService.getValue('startProcess.dataIdIsNull'));\r\n      return;\r\n    }\r\n    if (!bizDefKey) {\r\n      this.message.error(this.i18nService.getValue('startProcess.bizDefKeyIsNull'));\r\n      return;\r\n    }\r\n\r\n    var payload = new StartProcessPayload();\r\n    payload.dataId = dataId;\r\n    payload.bizDefKey = bizDefKey;\r\n    payload.withResponse = true;\r\n\r\n    return this.startProcess(payload);\r\n  }\r\n\r\n  /**\r\n   * åæ¶æäº¤å®¡æ¹\r\n   * @param dataId è¡¨åid\r\n   * @param bizDefKey å¥å£åæ®id\r\n   * @param options èªå®ä¹éç½®\r\n   */\r\n  cancelSubmitWithDataId(dataId: string, bizDefKey: string): Observable<any> {\r\n    if (!dataId) {\r\n      this.notify.warning(this.i18nService.getValue('startProcess.dataIdIsNull'));\r\n      return;\r\n    }\r\n    if (!bizDefKey) {\r\n      this.message.error(this.i18nService.getValue('startProcess.bizDefKeyIsNull'));\r\n      return;\r\n    }\r\n    var cancelSubmitPayload = new CancelSubmitPayload();\r\n    cancelSubmitPayload.dataId = dataId;\r\n    cancelSubmitPayload.bizDefKey = bizDefKey;\r\n    return this.cancelSubmit(cancelSubmitPayload);\r\n  }\r\n\r\n  /**\r\n   * æ¹éæäº¤å®¡æ¹\r\n   * @param dataIds è¡¨åIDéå\r\n   * @param bizDefKey å¥å£åæ®id\r\n   */\r\n  batchSubmitWithBizDefKey(dataIds: string[], bizDefKey: string): Observable<any> {\r\n    if (!dataIds || !dataIds.length) {\r\n      this.notify.warning(this.i18nService.getValue('startProcess.dataIdIsEmpty'));\r\n      return;\r\n    }\r\n    if (!bizDefKey) {\r\n      this.message.error(this.i18nService.getValue('startProcess.bizDefKeyIsNull'));\r\n      return;\r\n    }\r\n    if (dataIds.length === 1) {\r\n      var startPayload = new StartProcessPayload()\r\n      startPayload.bizDefKey = bizDefKey;\r\n      startPayload.dataId = dataIds[0];\r\n      return this.startProcess(startPayload);\r\n    }\r\n\r\n    const subject = new Subject();\r\n    const load = this.loading.show();\r\n    this.batchSubmitNum.successNum = 0;\r\n    this.batchSubmitNum.failedNum = 0;\r\n    this.batchSubmitNum.errorNum = 0;\r\n    this.batchSubmitHelpFunction([...dataIds], bizDefKey, () => {\r\n      load.close();\r\n      subject.next(true);\r\n    });\r\n    return subject.asObservable();\r\n  }\r\n\r\n  /**\r\n   * æ¹éæäº¤å®¡æ¹è¾å©å½æ°\r\n   */\r\n  private batchSubmitHelpFunction(dataIds: string[], bizDefKey: string, handler: Function) {\r\n    if (dataIds && dataIds.length > 0) {\r\n      const dataId = dataIds.shift();//å¼ç¨ç±»åè½¬æ¢\r\n      let startPayload = new StartProcessPayload()\r\n      startPayload.bizDefKey = bizDefKey;\r\n      startPayload.dataId = dataId;\r\n      startPayload.variables = { simulate: true };\r\n      this.taskService.startProcess(startPayload).subscribe((response: ExecutionResponse) => {\r\n        if (response.needInteraction) {//éè¦äº¤äº\r\n          this.batchSubmitNum.failedNum++;\r\n          this.batchSubmitHelpFunction(dataIds, bizDefKey, handler);\r\n        } else {//ä¸éè¦äº¤äº\r\n          startPayload.variables = { simulate: false };\r\n          this.taskService.startProcess(startPayload).subscribe((response: ExecutionResponse) => {\r\n            this.batchSubmitNum.successNum++;\r\n            this.batchSubmitHelpFunction(dataIds, bizDefKey, handler);\r\n          }, () => {//å®éæäº¤æ¥é\r\n            this.batchSubmitNum.errorNum++;\r\n            this.batchSubmitHelpFunction(dataIds, bizDefKey, handler);\r\n          })\r\n        }\r\n      }, () => {//æ¨¡ææäº¤æ¥é\r\n        this.batchSubmitNum.errorNum++;\r\n        this.batchSubmitHelpFunction(dataIds, bizDefKey, handler);\r\n      })\r\n    } else {//æ¹éæ§è¡å®æ¯\r\n      this.showBatchSubmitInfo(this.batchSubmitNum, bizDefKey);\r\n      handler();//æ§è¡åè°å½æ°\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * æ¹éåæ¶æäº¤å®¡æ¹\r\n   * @param dataIds è¡¨åIDéå\r\n   * @param bizDefKey å¥å£åæ®id\r\n   */\r\n  batchCancelSubmitWithDataId(dataIds: string[], bizDefKey: string): Observable<any> {\r\n    if (!dataIds || !dataIds.length) {\r\n      this.notify.warning(this.i18nService.getValue('startProcess.dataIdIsEmpty'));\r\n      return;\r\n    }\r\n    if (!bizDefKey) {\r\n      this.message.error(this.i18nService.getValue('startProcess.bizDefKeyIsNull'));\r\n      return;\r\n    }\r\n    if (dataIds.length === 1) {\r\n      return this.cancelSubmitWithDataId(dataIds[0], bizDefKey);\r\n    }\r\n    const subject = new Subject();\r\n    const load = this.loading.show();\r\n    this.batchCancelNum.successNum = 0;\r\n    this.batchCancelNum.errorNum = 0;\r\n    this.batchCancelHelpFunction([...dataIds], bizDefKey, () => {\r\n      load.close();\r\n      subject.next(true);\r\n    });\r\n    return subject.asObservable();\r\n  }\r\n\r\n  /**\r\n   * æ¹éåæ¶è¾å©å½æ°\r\n   */\r\n  private batchCancelHelpFunction(dataIds: string[], bizDefKey: string, handler: Function) {\r\n    if (dataIds && dataIds.length) {\r\n      const dataId = dataIds.shift();//å¼ç¨ç±»åè½¬æ¢\r\n      let cancelPayload = new CancelSubmitPayload();\r\n      cancelPayload.dataId = dataId;\r\n      cancelPayload.bizDefKey = bizDefKey;\r\n      this.taskService.cancelSubmit(cancelPayload).subscribe(() => {//åæ¶æå\r\n        this.batchCancelNum.successNum++;\r\n        this.batchCancelHelpFunction(dataIds, bizDefKey, handler);\r\n      }, () => {//åæ¶å¤±è´¥\r\n        this.batchCancelNum.errorNum++;\r\n        this.batchCancelHelpFunction(dataIds, bizDefKey, handler);\r\n      })\r\n    } else {\r\n      this.showBatchCancelSubmitInfo(this.batchCancelNum, bizDefKey);\r\n      handler();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * å­è¡¨æäº¤å®¡æ¹\r\n   * @param parentDataId ä¸»è¡¨id\r\n   * @param childDataId å­è¡¨id\r\n   * @param bizDefKey å¥å£åæ®id\r\n   */\r\n  childSubmit(parentDataId: string, childDataId: string, bizDefKey: string): Observable<any> {\r\n    if (!parentDataId || !childDataId) {\r\n      this.notify.warning(this.i18nService.getValue('startProcess.dataIdIsNull'));\r\n      return;\r\n    }\r\n    if (!bizDefKey) {\r\n      this.message.error(this.i18nService.getValue('startProcess.bizDefKeyIsNull'));\r\n      return;\r\n    }\r\n    var startProcessPayload = new StartProcessPayload();\r\n    startProcessPayload.dataId = `${parentDataId},${childDataId}`;\r\n    startProcessPayload.bizDefKey = bizDefKey;\r\n    return this.startProcess(startProcessPayload);\r\n  }\r\n\r\n  /**\r\n   * å­è¡¨åæ¶æäº¤å®¡æ¹\r\n   * @param parentDataId ä¸»è¡¨id\r\n   * @param childDataId å­è¡¨id\r\n   * @param bizDefKey å¥å£åæ®id\r\n   */\r\n  childCancelSubmit(parentDataId: string, childDataId: string, bizDefKey: string): Observable<any> {\r\n    if (!parentDataId || !childDataId) {\r\n      this.notify.warning(this.i18nService.getValue('startProcess.dataIdIsNull'));\r\n      return;\r\n    }\r\n    if (!bizDefKey) {\r\n      this.message.error(this.i18nService.getValue('startProcess.bizDefKeyIsNull'));\r\n      return;\r\n    }\r\n    var cancelSubmitPayload = new CancelSubmitPayload();\r\n    cancelSubmitPayload.dataId = `${parentDataId},${childDataId}`;\r\n    cancelSubmitPayload.bizDefKey = bizDefKey;\r\n    return this.cancelSubmit(cancelSubmitPayload);\r\n  }\r\n\r\n  /**\r\n   * å­è¡¨æ¹éæäº¤å®¡æ¹\r\n   * @param parentDataId ä¸»è¡¨id\r\n   * @param childDataIds å­è¡¨idéå\r\n   * @param bizDefKey å¥å£åæ®id\r\n   */\r\n  childBatchSubmit(parentDataId: string, childDataIds: string[], bizDefKey: string): Observable<any> {\r\n    if (!parentDataId || !childDataIds) {\r\n      this.notify.warning(this.i18nService.getValue('startProcess.dataIdIsNull'));\r\n      return;\r\n    }\r\n    if (!bizDefKey) {\r\n      this.message.error(this.i18nService.getValue('startProcess.bizDefKeyIsNull'));\r\n      return;\r\n    }\r\n    const dataIds = childDataIds.map(childDataId => `${parentDataId},${childDataId}`);\r\n    return this.batchSubmitWithBizDefKey(dataIds, bizDefKey);\r\n  }\r\n\r\n  /**\r\n   * å­è¡¨æ¹éåæ¶æäº¤å®¡æ¹\r\n   * @param parentDataId ä¸»è¡¨id\r\n   * @param childDataIds å­è¡¨idéå\r\n   * @param bizDefKey å¥å£åæ®id\r\n   */\r\n  childBatchCancelSubmit(parentDataId: string, childDataIds: string[], bizDefKey: string): Observable<any> {\r\n    if (!parentDataId || !childDataIds) {\r\n      this.notify.warning(this.i18nService.getValue('startProcess.dataIdIsNull'));\r\n      return;\r\n    }\r\n    if (!bizDefKey) {\r\n      this.message.error(this.i18nService.getValue('startProcess.bizDefKeyIsNull'));\r\n      return;\r\n    }\r\n    const dataIds = childDataIds.map(childDataId => `${parentDataId},${childDataId}`);\r\n    return this.batchCancelSubmitWithDataId(dataIds, bizDefKey);\r\n  }\r\n\r\n  /**\r\n * æ¹éæäº¤æç¤ºä¿¡æ¯\r\n * @param successNum æåæ¡æ°\r\n * @param failedNum éè¦äº¤äºçæ¡æ°\r\n * @param errorNum æ§è¡æ¥éçæ¡æ°\r\n */\r\n  private showBatchSubmitInfo(num: BatchSubmitNumber, bizDefKey: string) {\r\n    if (num.successNum && !num.failedNum && !num.errorNum) {//æ¹éå¨é¨æå\r\n      this.taskService.getTaskCenterConfigByCode(ConfigCode.Info_After_Submit, OwnerType.BizDefKey, bizDefKey).subscribe((config: any) => {\r\n        if (this.curLanguage === 'en') {\r\n          this.notify.success(JSON.parse(config.currentValue).en);\r\n        }\r\n        if (this.curLanguage === 'zh-CHS') {\r\n          this.notify.success(JSON.parse(config.currentValue).zh_CHS);\r\n        }\r\n      })\r\n    } else {//éå¨é¨æå\r\n      let message = '';\r\n      num.successNum && (message += this.i18nService.getValue('batchStartProcess.success') + `ã${num.successNum}ã` + this.i18nService.getValue('batchStartProcess.row'));\r\n      num.errorNum && (message += this.i18nService.getValue('batchStartProcess.error') + `ã${num.errorNum}ã` + this.i18nService.getValue('batchStartProcess.row'));\r\n      num.failedNum && (message += this.i18nService.getValue('batchStartProcess.failed') + `ã${num.failedNum}ã` + this.i18nService.getValue('batchStartProcess.row'));\r\n      message += this.i18nService.getValue('batchStartProcess.single');\r\n      this.message.show('warning', message, { safeHtml: false });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * æ¹éåæ¶æäº¤æç¤ºä¿¡æ¯\r\n   */\r\n  private showBatchCancelSubmitInfo(num: BatchCancelNumber, bizDefKey: string) {\r\n    if (num.successNum && !num.errorNum) {//æ¹éå¨é¨æå\r\n      this.taskService.getTaskCenterConfigByCode(ConfigCode.Info_After_Cancel_Submit, OwnerType.BizDefKey, bizDefKey).subscribe((config: any) => {\r\n        if (this.curLanguage === 'en') {\r\n          this.notify.success(JSON.parse(config.currentValue).en);\r\n        }\r\n        if (this.curLanguage === 'zh-CHS') {\r\n          this.notify.success(JSON.parse(config.currentValue).zh_CHS);\r\n        }\r\n      })\r\n    } else {\r\n      let message = '';\r\n      num.successNum && (message += this.i18nService.getValue('startProcess.success') + `ã${num.successNum}ã` + this.i18nService.getValue('startProcess.row'));\r\n      num.errorNum && (message += this.i18nService.getValue('startProcess.failed') + `ã${num.errorNum}ã` + this.i18nService.getValue('startProcess.row'));\r\n      this.message.show('warning', message, { safeHtml: false });\r\n    }\r\n  }\r\n\r\n  handleSubmitMessage(code: string, ownerId: string) {\r\n    const load = this.loading.show();\r\n    this.taskService.getTaskCenterConfigByCode(code, OwnerType.BizDefKey, ownerId).subscribe(re => {\r\n      load.close();\r\n      if (re && re.currentValue) {\r\n        let message = '';\r\n        const currentValue = JSON.parse(re.currentValue);\r\n        this.curLanguage === 'zh-CHS' && (message = currentValue.zh_CHS);\r\n        this.curLanguage === 'en' && (message = currentValue.en);\r\n        this.curLanguage === 'zh-CHT' && (message = currentValue.zh_CHT);\r\n        this.notify.success(message);\r\n      } else {\r\n        code === ConfigCode.Info_After_Submit && this.notify.success(this.i18nService.getValue('startProcess.submitSuccess'));\r\n        code === ConfigCode.Info_After_Cancel_Submit && this.notify.success(this.i18nService.getValue('startProcess.cancelSubmitSuccess'));\r\n      }\r\n    }, error => {\r\n      load.close();\r\n      this.taskService.error(error);\r\n    })\r\n  }\r\n\r\n  /**\r\n   * è¡¨åä¸è§¦åæµç¨é¢è§£ææä½\r\n   * å·²å°è£ä¸ºè¡¨åçå½ä»¤æä½\r\n   */\r\n  processSimulate(): Observable<any> {\r\n    const subject = new Subject();\r\n    const gspWfEventService = (window as any).parent.gspWfEventService;\r\n    gspWfEventService.simulate(() => {\r\n      subject.next(true);\r\n    });\r\n    return subject.asObservable();\r\n  }\r\n\r\n  /**\r\n   * æ ¹æ®åæ®idæ¥çæµç¨å¾\r\n   * å·²å°è£ä¸ºè¡¨åå½ä»¤åæä½\r\n   */\r\n  viewFlowChartByDataId(dataId: string) {\r\n    if (dataId) {\r\n      this.flowchartService.viewFlowChartByDataId(dataId);\r\n    } else {\r\n      console.error(\"æ¥çæµç¨å¾ï¼è¡¨åidä¸ºç©º\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * æ¥çæµç¨å¾ï¼æ°ï¼æ¯æé¢è§ï¼\r\n   * å·²å°è£ä¸ºè¡¨åå½ä»¤åæä½\r\n   * @param bizDefKey æµç¨åç±»id\r\n   * @param dataId è¡¨åæ°æ®id\r\n   */\r\n  viewFlowChartWithForecast(bizDefKey: string, dataId: string) {\r\n    let payload = new ForecastProcessPayload();\r\n    payload.bizDefKey = bizDefKey;\r\n    payload.dataId = dataId;\r\n    this.flowchartService.viewProcess(payload);\r\n  }\r\n\r\n\r\n\r\n}\r\n","import { Pipe, PipeTransform, Optional } from '@angular/core';\r\nimport { I18nService } from './i18n.service';\r\n\r\n@Pipe({ name: 'translate' })\r\nexport class TranslatePipe implements PipeTransform {\r\n    constructor(@Optional() public i18nService: I18nService) { }\r\n    transform(name: any, defaultVal = ''): any {\r\n        if (this.i18nService) {\r\n            const r = this.i18nService.getValue(name);\r\n            return r ? r : defaultVal;\r\n        } else {\r\n            return defaultVal;\r\n        }\r\n    }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'lib-task-assigninfo',\r\n  templateUrl: './task-assigninfo.component.html',\r\n  styleUrls: ['./task-assigninfo.component.css']\r\n})\r\n\r\n/**\r\n * ç»ä»¶å·²å¼ç¨\r\n */\r\nexport class TaskAssigninfoComponent implements OnInit {\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, Output, ViewChild, TemplateRef, EventEmitter, ElementRef, AfterViewInit, ChangeDetectorRef, Injector } from '@angular/core';\r\nimport { AssigneeInfo } from '../../entity/complete-response';\r\nimport { I18nService } from '../../service/i18n/i18n.service';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { DataTableComponent } from '@farris/ui-datatable';\r\nimport { SysFarrisLookupComponent } from '@gsp-sys/sysmgr-ui';\r\nimport { NotifyService } from '@farris/ui-notify';\r\nimport { User } from '../../entity/user';\r\nimport { Assignee } from '../../entity/start-process-payload';\r\nimport { TaskService } from '../../service/task.service';\r\nimport { WfContext } from '../../entity/wfContext';\r\n\r\ndeclare let System: any;\r\n\r\n@Component({\r\n  selector: 'lib-assignee-info',\r\n  templateUrl: './assignee-info.component.html',\r\n  styleUrls: ['../task-execute/task-execute.component.css'],\r\n})\r\nexport class AssigneeInfoComponent implements OnInit, AfterViewInit {\r\n\r\n  bindingData: { id?: string, name?: string } = {};//ç³»ç»å¸®å©å¤éæ¶ç¨å°\r\n  myHelpBindingData: { id?: string, name?: string } = {};//èªå·±çå¸®å©å¤éæ¶ç¨å°\r\n  assignUserNgModule: string;\r\n  _assigneeInfo: AssigneeInfo;\r\n  _selectedAssignees: User[];//å·²ç»éä¸­çææ´¾äºº\r\n  assignees: Assignee[] = [];//è¿åéä¸­äººçIDæ°ç»\r\n  searchAssignUserList = [];//éå¨åææ´¾çç¨æ·æ°æ®ï¼æç´¢ç¨\r\n  anonymous = false; // æ¯å¦å¿å\r\n  anonymousText = ''; // å¿åæ¾ç¤ºææ¬\r\n\r\n  @Input() disabled: boolean = false;//åçäººåè¾å¥æ¡æ¯å¦ç¦ç¨\r\n  @Input() placeholder: string;\r\n  @Input() singleSelect: boolean;\r\n  @Input() filter = { notGetCurrentUser: false, notGetStopUser: true, orderField: \"order\", withAllOrg: true, orgId: '' }\r\n  @Input() ifShowBlank: boolean = true;//åçäººä¸ºç©ºæ¶ï¼æ¯å¦æ¾ç¤ºéäººæ¡\r\n  @Input() openFromIframe: boolean = false;//æ¯å¦ä»iframeæå¼ï¼åºç¨IDPæäº¤å®¡æ¹éæ\r\n  @Input() activityName: string;//èç¹åç§°\r\n  @Input() allowGlobalAssign: boolean;//æ¯å¦å¨åææ´¾\r\n  @Input() wfContext: WfContext;//å·¥ä½æµä¸ä¸æ\r\n\r\n  @ViewChild('allUserDialog') myUserHelp: DialogComponent;\r\n  @ViewChild('taskExecuteButtons') buttons: TemplateRef<any>;//ç¡®è®¤åæ¶æé®\r\n  @ViewChild('allUserTable') myUserHelpTable: DataTableComponent;\r\n  @ViewChild('allUserTable', { read: ElementRef }) dataTableEle: ElementRef;//ä¸ºdatatableå¢å é«åº¦\r\n\r\n  @ViewChild(SysFarrisLookupComponent) sysUserHelp: SysFarrisLookupComponent;//ç³»ç»ç¨æ·å¸®å©\r\n  @ViewChild('sysUserHelp', { read: ElementRef }) sysUserHelpEle: ElementRef; //ç³»ç»ç¨æ·å¸®å©DOMåç´ \r\n  @ViewChild('allUserDialog', { read: ElementRef }) myUserHelpEle: ElementRef;//èªå·±çå¸®å©DOMåç´ \r\n\r\n  @Output() afterConfirm = new EventEmitter<Assignee[]>();\r\n  groupIcon = '<i class=\"f-icon f-icon-plus-circle\" style=\"color: #2B87FF\"></i>';\r\n  extendUserHelp: boolean = false;//ç¨æ·å¸®å©æ¯å¦æ©å±\r\n  extendUserHelpUrl: string;//æ©å±å¸®å©çurl\r\n\r\n  columns = [\r\n    { title: this.i18nService.getValue('static.columnName.code'), field: 'Code', width: 80 },\r\n    { title: this.i18nService.getValue('static.columnName.name'), field: 'Name', width: 90 },\r\n    { title: this.i18nService.getValue('static.columnName.department'), field: 'OrgName', width: 180 }\r\n  ];\r\n\r\n  originAssignUserList: {//éå¨åææ´¾çç¨æ·æ°æ®\r\n    ID: string,\r\n    Code: string,\r\n    Name: string,\r\n    OrgId: string,\r\n    OrgName: string\r\n  }[];\r\n\r\n  constructor(\r\n    private i18nService: I18nService,\r\n    private notify: NotifyService,\r\n    private cd: ChangeDetectorRef,\r\n    private taskService: TaskService,\r\n    private injector: Injector\r\n  ) {\r\n    //æ¯å¦ä½¿ç¨farrisç¨æ·å¸®å©\r\n    this.taskService.getWfUserHelpConfig().subscribe((re: any) => {\r\n      if (re && re.userHelpConfig && re.userHelpConfig.isExtend == 'true') {\r\n        this.extendUserHelp = true;\r\n        this.extendUserHelpUrl = re.userHelpConfig.url + '?v=' + new Date().getTime().toString();\r\n      }\r\n    }, error => {\r\n      console.error(error);\r\n    })\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    // ä¸ºdata tableå¢å é«åº¦\r\n    let ele = this.dataTableEle.nativeElement as HTMLElement;\r\n    let body = ele && ele.querySelector('div.farris-datatable-container > div > div.farris-table-scorllable-body') as HTMLElement;\r\n    body && (body.style.height = '290px');\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  @Input()\r\n  set assigneeInfo(info: AssigneeInfo) {\r\n    this.disabled = false;\r\n    this.placeholder = null;//æ¸ç©º\r\n    this.assignUserNgModule = null;//æ¸ç©º\r\n    this._assigneeInfo = info;//å¯ä»¥ä¼ null\r\n    if (!this._assigneeInfo) {\r\n      this.disabled = true;\r\n    } else {\r\n      if (this._assigneeInfo.selectAssignee) {\r\n        this.disabled = false;\r\n        this.placeholder = this.i18nService.getValue('task.selectPlaceholder');//è¯·éæ©\r\n      } else {\r\n        this.disabled = true;\r\n        if (this._assigneeInfo.assigneeUsers && this._assigneeInfo.assigneeUsers.length) {\r\n          this.placeholder = this.anonymous ? this.anonymousText : this._assigneeInfo.assigneeUsers.map(user => user.name).join();//è§£æäººå\r\n        } else {\r\n          this.placeholder = this.i18nService.getValue('task.noUser');//æ \r\n        }\r\n      }\r\n      this.singleSelect = !this._assigneeInfo.multiSelect;\r\n      this.allowGlobalAssign = this._assigneeInfo.allowGlobalAssign;\r\n      if (this._assigneeInfo.organizationScope && this._assigneeInfo.organizationScope.length) {\r\n        const orgList = this._assigneeInfo.organizationScope[0];\r\n        this.filter.orgId = orgList.id;\r\n        this.filter.withAllOrg = orgList.includeChildren;\r\n      }\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  set setAnonymous(anonymous: boolean) {\r\n    this.anonymous = anonymous;\r\n  }\r\n\r\n  @Input()\r\n  set setAnonymousText(anonymousText: string) {\r\n    this.anonymousText = anonymousText;\r\n  }\r\n\r\n  /**\r\n   * å·²éä¸­çäººï¼å¸®å©ä¸å¯ç¨ï¼\r\n   */\r\n  @Input()\r\n  set selectedAssignees(selectedAssignees: User[]) {\r\n    !this._assigneeInfo && (this.placeholder = null);\r\n    this._selectedAssignees = selectedAssignees;\r\n    selectedAssignees.length && (this.placeholder = this.anonymous ? this.anonymousText : selectedAssignees.map(user => user.name).join());\r\n  }\r\n\r\n  /**\r\n   * éæ©åä¸è\r\n   */\r\n  clickAssignUser() {\r\n    if (this.extendUserHelp && !this.openFromIframe) {\r\n      this.showExtendUserHelp();\r\n    } else {\r\n      this.showSysUserHelp();\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * å è½½æ©å±å¸®å©\r\n   */\r\n  private showExtendUserHelp() {\r\n    System.import(this.extendUserHelpUrl).then((moduleFactories: any) => {\r\n      const moduleFactory: any = Object.values(moduleFactories)[0];\r\n      const moduleRef = moduleFactory.create(this.injector);\r\n      let context = {\r\n        singleSelect: this.singleSelect,\r\n        allowGlobalAssign: this.allowGlobalAssign,\r\n        assigneeUsers: this._assigneeInfo && this._assigneeInfo.assigneeUsers && this._assigneeInfo.assigneeUsers.length ? this._assigneeInfo.assigneeUsers : [],\r\n        filter: this.filter,\r\n        selectedUsers: this.assignees,\r\n        wfContext: this.wfContext\r\n      }\r\n      moduleRef.instance.showHelp(context).subscribe(re => {\r\n        let userList = re.userList;\r\n        if (userList && userList.length) {\r\n          this.assignees = userList.map(user => { return { id: user.id, name: user.name } });\r\n          this.assignUserNgModule = this.assignees.map(user => user.name).join();\r\n        } else {\r\n          this.assignees = [];\r\n          this.assignUserNgModule = '';\r\n        }\r\n        this.afterConfirm.emit(this.assignees);\r\n        this.cd.detectChanges();\r\n      }, error => {\r\n        console.error(error);\r\n      });\r\n    }, error => {\r\n      console.error(error);\r\n    });\r\n  }\r\n\r\n  showSysUserHelp() {\r\n    if (this._assigneeInfo && this._assigneeInfo.assigneeUsers && this._assigneeInfo.assigneeUsers.length) {\r\n      this.getAssignUsersByIds();\r\n      this.myUserHelp.show();\r\n      setTimeout(() => {\r\n        this.cd.detectChanges();//éæ°é¢è§£æå\r\n        this.openFromIframe && this.openMyUserHelpOutIframe();\r\n      }, 100);\r\n    } else if (this.allowGlobalAssign) {\r\n      //éä¸­çäººä¿æéä¸­\r\n      this.bindingData = { id: this.assignees.map(a => a.id).join(), name: this.assignees.map(a => a.name).join() };\r\n      this.sysUserHelp.showHelp();\r\n      setTimeout(() => {\r\n        this.cd.detectChanges();//éæ°é¢è§£æå\r\n        this.openFromIframe && this.beforeOpenSysUserHelpOutIframe();\r\n      }, 100);\r\n    }\r\n\r\n  }\r\n\r\n  //èªå·±çç¨æ·å¸®å©å¨iframeå¤æå¼\r\n  private openMyUserHelpOutIframe() {\r\n    var myUserHelpDialog = this.myUserHelpEle.nativeElement as HTMLElement;\r\n    top.document.body.append(myUserHelpDialog);//å¼¹å°é¡¶çº§windowä¸ï¼ä¸ç¨å è½½farrisæ ·å¼\r\n\r\n    //æå¸®å©çé»è²é®ç½©å»æ\r\n    var backdrop = window.document.querySelector(\"body > bs-modal-backdrop\");\r\n    backdrop.remove();\r\n\r\n    var secondDiv = (myUserHelpDialog.firstChild as HTMLElement).firstChild as HTMLElement;//farris-dialogä¸çç¬¬äºçº§div\r\n    secondDiv.style.width = '850px';\r\n    secondDiv.style.height = '520px';\r\n    secondDiv.style.marginLeft = '-425px';\r\n    secondDiv.style.marginTop = '-260px';\r\n  }\r\n\r\n  private beforeOpenSysUserHelpOutIframe() {\r\n    this.sysUserHelp.farrisLookUp.dialog.reSize({ width: 850, height: 520 });\r\n    const sysUserHelpDialog = this.sysUserHelp.farrisLookUp.dialog.el.nativeElement as HTMLElement;\r\n    sysUserHelpDialog.parentElement.removeChild(sysUserHelpDialog);\r\n    this.sysUserHelp.farrisLookUp.draggable = false;\r\n    this.sysUserHelp.farrisLookUp.resizable = false;\r\n    this.sysUserHelp.farrisLookUp.showMaxButton = false;\r\n    this.sysUserHelp.farrisLookUp.dialogOpened.subscribe(() => {\r\n      setTimeout(() => {//å¦åä¸é¢çquerySelectorä¼æ¾ä¸å°\r\n        this.openSysUserHelpOutIframe();\r\n      }, 200)\r\n    });\r\n  }\r\n\r\n  //ç³»ç»ç¨æ·å¸®å©å¨iframeå¤æå¼\r\n  private openSysUserHelpOutIframe() {\r\n    var sysUserHelpDialog = this.sysUserHelp.farrisLookUp.dialog.el.nativeElement as HTMLElement;\r\n    this.sysUserHelp.farrisLookUp.dialog.reSize({ width: 850, height: 520 });\r\n    top.document.body.append(sysUserHelpDialog);\r\n  }\r\n\r\n  //ç³»ç»ç¨æ·å¸®å©éäºº\r\n  afterUsersSelect(data: any) {\r\n    if (data) {\r\n      data = this.singleSelect ? [data] : data;\r\n      this.assignees = data.map(user => { return { id: user.id, name: user.name } });\r\n      this.assignUserNgModule = data.map(user => user.name).join();\r\n      this.afterConfirm.emit(this.assignees);\r\n      this.cd.detectChanges();\r\n    }\r\n  }\r\n\r\n  //æ ¹æ®assigneeInfo.assigneeIdsè·åææ´¾äººcodeãnameç­ä¿¡æ¯\r\n  getAssignUsersByIds() {\r\n    this.originAssignUserList = this._assigneeInfo.assigneeUsers.map(user => {\r\n      return {\r\n        ID: user.id,\r\n        Name: user.name,\r\n        Code: user.code,\r\n        OrgId: user.orgId,\r\n        OrgName: user.orgNamePath\r\n      };\r\n    }),\r\n      this.searchAssignUserList = this.originAssignUserList;\r\n  }\r\n\r\n  //éå¨åææ´¾æç´¢\r\n  myUserHelpSearch(event) {\r\n    if (event.value) {\r\n      const value = event.value;\r\n      this.searchAssignUserList = this.originAssignUserList.filter(user =>\r\n        (user.Name) && user.Name.includes(value) ||\r\n        (user.Code) && user.Code.includes(value)\r\n      );\r\n    } else {\r\n      this.getAssignUsersByIds();\r\n    }\r\n  }\r\n\r\n  //éå¨åææ´¾éäºº\r\n  myUserHelpAfterSelect() {\r\n    if (this.myUserHelpTable.selections === undefined) {\r\n      this.notify.warning(this.i18nService.getValue('static.assignee.noAssignee'));\r\n      return;\r\n    }\r\n    const selectedUsers = this.singleSelect ? [this.myUserHelpTable.selections] : this.myUserHelpTable.selections;\r\n    this.assignUserNgModule = selectedUsers.map(user => user.Name).join();\r\n    this.assignees = selectedUsers.map(user => { return { id: user.ID, name: user.Name } });\r\n    this.afterConfirm.emit(this.assignees);\r\n    this.cd.detectChanges();\r\n    this.myUserHelp.close();\r\n  }\r\n\r\n  //éå¨åææ´¾ç¹å»åæ¶åäºä»¶\r\n  myUserHelpCancel() {\r\n    this.myUserHelp.close();\r\n  }\r\n\r\n  //æ¸é¤\r\n  assignUserClear() {\r\n    this.assignees = [];\r\n    this.assignUserNgModule = null;\r\n    this.afterConfirm.emit([]);\r\n    this.bindingData = {};\r\n  }\r\n\r\n}\r\n","import { Directive, EventEmitter, HostListener, OnInit, Output, OnDestroy } from '@angular/core';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { throttleTime } from 'rxjs/operators';\r\n/**\r\n * ç¹å»èæµå¨ï¼é¿åè¿ç»­ç¹å»\r\n */\r\n@Directive({\r\n  selector: '[directive-throttle]'\r\n})\r\nexport class ThrottleClickDirective implements OnInit, OnDestroy {\r\n  // ä¸å®çæ¶é´ååªæ§è¡ç¬¬ä¸ä¸ªäºä»¶\r\n  private THROTTLE_TIME: number = 2000;\r\n  private subject = new Subject<MouseEvent>();\r\n  private click: Subscription;\r\n  // äºä»¶æ¹æ³\r\n  @Output() throttleClick = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n    const result = this.subject.pipe(\r\n      throttleTime(this.THROTTLE_TIME)\r\n    );\r\n    this.click = result.subscribe(e => {\r\n      this.throttleClick.emit(e)\r\n    })\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.click.unsubscribe();\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  onClick(evt: MouseEvent) {\r\n    this.subject.next(evt);\r\n  }\r\n}","\r\n/**\r\n * æ§è¡ä¸ä¼ éä»¶å®ä½\r\n */\r\nexport class FileUploadEntity {\r\n\r\n    rootId: string;\r\n\r\n    metadataIdList: string[];\r\n}\r\n\r\n/**\r\n * æ§è¡å é¤éä»¶æéå®ä½\r\n */\r\nexport class FileDeleteEntity {\r\n\r\n    rootId: String;\r\n\r\n    metadataId: String;\r\n\r\n    mode: String;\r\n}\r\n\r\nexport class GspDocUploadEntity {\r\n\r\n    filePath: string;\r\n\r\n    metadata: GspDocMetadata;\r\n\r\n    fileContent: string;\r\n\r\n    mode: string;\r\n}\r\n\r\nexport class GspDocMetadata {\r\n\r\n    id: string;\r\n\r\n    fileName: string;\r\n\r\n    rootId: string;\r\n\r\n    docType: string;\r\n}","import { TaskService } from \"../service/task.service\";\r\n\r\nexport class CommonComment {\r\n    id: string;\r\n    userId?: string;\r\n    message: string;\r\n    sortOrder?: number;\r\n    static newEntity(): CommonComment {\r\n        return {\r\n            id: TaskService.newId(),\r\n            message: ''\r\n        };\r\n    }\r\n}\r\n","import { Component, OnInit, Input, ViewChild, forwardRef, Output, EventEmitter, TemplateRef } from '@angular/core';\r\nimport { DialogComponent } from '@farris/ui-dialog';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { FDropdownDirective } from '@farris/ui-dropdown';\r\nimport { UploadDialogService } from '@gsp-svc/formdoc-upload';\r\nimport { MessagerService } from '@farris/ui-messager';\r\nimport { FileDeleteEntity, FileUploadEntity, GspDocMetadata, GspDocUploadEntity } from '../../entity/attachment';\r\nimport { SignHereComponent } from '@gsp-wf/wf-sign';\r\nimport { AvatarComponent } from '@farris/ui-avatar';\r\nimport { DownloadService } from '@gsp-svc/file-load';\r\nimport { TaskService } from '../../service/task.service';\r\nimport { CommonComment } from '../../entity/comment';\r\nimport { forkJoin, Observable, of } from 'rxjs';\r\nimport { HttpService } from '@ecp-caf/caf-common';\r\nimport { DataColumn, DatagridComponent } from '@farris/ui-datagrid';\r\nimport { I18nService } from '../../service/i18n/i18n.service';\r\nimport { EditorTypes } from '@farris/ui-datagrid-editors';\r\nimport { LoadingService } from '@farris/ui-loading';\r\nimport { ConfigCode, TaskCenterConfig } from '../../entity/task-center-config';\r\nimport { NotifyService } from '@farris/ui-notify';\r\n\r\n@Component({\r\n  selector: 'wf-comment',\r\n  templateUrl: './task-comment.component.html',\r\n  styleUrls: ['./task-comment.component.scss'],\r\n  providers: [{\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => TaskCommentComponent),\r\n    multi: true\r\n  },]\r\n})\r\nexport class TaskCommentComponent implements OnInit, ControlValueAccessor {\r\n\r\n  @Input() showAttachment: boolean = true;//æ¯å¦æ¾ç¤ºéä»¶ä¸ä¼ ï¼ç»ä»¶æ§å¶\r\n  @Input() showSign: boolean = true;//æ¯å¦æ¾ç¤ºç­¾åï¼ç»ä»¶æ§å¶ï¼ä¸åå¨ä½å¯è½ä¼ä¸æ¾ç¤ºï¼\r\n  @Input() showCommonComment = true;//æ¯å¦æ¾ç¤ºå¸¸ç¨æè§\r\n  @Input() comment: string;\r\n  @Input() placeholder = '';\r\n  @Input() processInstanceId: string;\r\n  @Input() textAreaHeight: number = 120;//æå­æ¡çé«åº¦\r\n\r\n  @Input()\r\n  set TaskCenterConfig(configList: TaskCenterConfig[]) {\r\n    const attachment = configList.find(a => a.configCode == ConfigCode.If_Show_Attachment);\r\n    const sign = configList.find(a => a.configCode == ConfigCode.If_Show_Signature);\r\n    const enableSign = configList.find(a => a.configCode == ConfigCode.If_Use_Sign_By_Default);\r\n    const editSign = configList.find(a => a.configCode === ConfigCode.If_Can_Edit_Signature);\r\n    if ((window as any).gspframeworkService.common) {\r\n      this.curUserId = (window as any).gspframeworkService.common.userInfos.get().userId;\r\n    } else {\r\n      this.curUserId = (window as any).parent.gspframeworkService.common.userInfos.get().userId;\r\n    }\r\n    attachment && attachment.currentValue === 'true' && (this.ifShowAttachment = true);\r\n    sign && sign.currentValue === 'true' && (this.ifShowSign = true);\r\n    enableSign && enableSign.currentValue === 'false' && (this.ifEnableSign = false);\r\n    editSign && editSign.currentValue === 'false' && (this.ifCanEditSign = false);\r\n    if (this.ifShowSign && this.ifEnableSign) {\r\n      this.getUserSign(this.curUserId);\r\n    }\r\n  }\r\n\r\n  @Output() attachment = new EventEmitter();//éä»¶\r\n  @Output() signature = new EventEmitter();//ä¸ä¼ ç­¾åä¹åï¼åéç­¾åid\r\n  @ViewChild('commentDialog') commentDialog: DialogComponent;//å¸¸ç¨æè§ç®¡ç\r\n  @ViewChild('signDialog') signDialog: DialogComponent;//æåç­¾åå¼¹æ¡\r\n  @ViewChild('dropdownEl') dropDownEl: FDropdownDirective;//è§£å³éæ©æè§åï¼ä¸æèåæ æ³æ¶æçé®é¢\r\n  @ViewChild('wfSignHere') signaturePad: SignHereComponent;//æåç­¾åç»ä»¶\r\n  @ViewChild('farrisAvatar') farrisAvatar: AvatarComponent;//å¤´åç»ä»¶ï¼ç¨ä½ç­¾åå¾çä¸ä¼ \r\n  @ViewChild('dataGrid') dataGrid: DatagridComponent;\r\n  @ViewChild('commentTypeCell') commentTypeCell: TemplateRef<any>;//å¸¸ç¨æè§ç±»å«æ¨¡æ¿\r\n  @ViewChild('commentOperateCell') commentOperateCell: TemplateRef<any>;//å¸¸ç¨æè§å é¤\r\n\r\n  private _value = '';\r\n  attachmentList: any[] = [];\r\n  ifShowAttachment: boolean = false;//ä»»å¡ä¸­å¿éç½®ï¼æ¯å¦æ¾ç¤ºéä»¶ä¸ä¼ \r\n  ifShowSign: boolean = false;//ä»»å¡ä¸­å¿éç½®ï¼æ¯å¦æ¾ç¤ºæåç­¾å\r\n  curUserId: string;//å½åç¨æ·id\r\n  signatureImage: string;//ç­¾åå¾ççbase64å¼\r\n  tmpSignatureImage: string;//ä¸´æ¶ä¿å­ä¸ä¼ çå¾ç\r\n  downloadService = new DownloadService();\r\n  ifUseSign: boolean = false;//æ¯å¦ä½¿ç¨æå\r\n  ifUseImg: boolean = true;//æ¯å¦ä½¿ç¨ä¸ä¼ å¾ç\r\n  ifEnableSign: boolean = true;//æ¯å¦é»è®¤å¯ç¨ç­¾å\r\n  ifUploadImg: boolean = false;//æ¯å¦ä¸ä¼ è¿å¾ç\r\n  ifCanEditSign: boolean = true;//æ¯å¦åè®¸ç¼è¾ç­¾å\r\n  originSignId: string;//åå§çç­¾åid\r\n\r\n  commentList: CommonComment[] = [];\r\n  originCommentList: CommonComment[] = [];\r\n\r\n  commentColumns: DataColumn[] = [];\r\n\r\n  set value(v) {\r\n    if (this._value !== v) {\r\n      this._value = v;\r\n      this.onModelChange(v);\r\n    }\r\n\r\n  }\r\n  get value() {\r\n    return this._value;\r\n  }\r\n\r\n  onModelChange = (obj: any) => { };\r\n  onModelTouched = (obj: any) => { };\r\n\r\n  constructor(\r\n    private taskService: TaskService,\r\n    private httpSvc: HttpService,\r\n    private uploadDialog: UploadDialogService,\r\n    private messageService: MessagerService,\r\n    private i18nService: I18nService,\r\n    private loadingService: LoadingService,\r\n    private notify: NotifyService,\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.commentColumns = [{\r\n      field: 'message',\r\n      width: 100,\r\n      title: this.i18nService.getValue('comment.static.content'),\r\n      editor: { type: EditorTypes.TEXTBOX, options: {} },\r\n    }, {\r\n      field: 'userId',\r\n      width: 20,\r\n      title: this.i18nService.getValue('comment.static.type'),\r\n      template: this.commentTypeCell\r\n    }, {\r\n      field: 'operate',\r\n      width: 20,\r\n      title: this.i18nService.getValue('comment.static.operate'),\r\n      template: this.commentOperateCell\r\n    }];\r\n    // è·åå¸¸ç¨æè§åè¡¨\r\n    this.loadComments();\r\n  }\r\n\r\n  onEditComment() {\r\n    this.dropDownEl.close();\r\n    this.commentDialog.show();\r\n  }\r\n\r\n  loadComments() {\r\n    this.taskService.getCommentList().subscribe((data: any[]) => {\r\n      this.commentList = data;\r\n      this.originCommentList = [...data];\r\n    });\r\n  }\r\n\r\n  /**\r\n   * ControlValueAccessorå¿é¡»å®ç°çæ¹æ³\r\n   */\r\n  writeValue(value: string) {\r\n    if (value !== this.value) {\r\n      this.value = value;\r\n    }\r\n  }\r\n\r\n  registerOnChange(fn) {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn) {\r\n    this.onModelTouched = fn;\r\n  }\r\n\r\n  /**\r\n   * éæ©ä¸æ¡å¸¸ç¨æè§åäºä»¶\r\n   */\r\n  buttonClick(data: any) {\r\n    this.dropDownEl.close();\r\n    this.value = data;\r\n  }\r\n\r\n  /**\r\n   * ä¸ä¼ éä»¶\r\n   */\r\n  uploadAttachment() {\r\n    let isRepeat = false;\r\n    this.uploadDialog.uploadFile(this.processInstanceId, 'wf_attachment').then(re => {\r\n      for (let i of (re as any[])) {\r\n        isRepeat = false;\r\n        for (let attach of this.attachmentList) {\r\n          if (attach.fileName === i.fileName) {\r\n            this.messageService.info('åå«éå¤æä»¶' + i.fileName);\r\n            isRepeat = true;\r\n            break;\r\n          }\r\n        }\r\n        if (!isRepeat) {\r\n          this.attachmentList.push(i);\r\n        }\r\n      }\r\n      this.attachment.emit(this.attachmentList);\r\n      //æ§è¡ä¸ä¼ éä»¶\r\n      let files = new FileUploadEntity();\r\n      files.rootId = \"wf_attachment\";\r\n      files.metadataIdList = [];\r\n      this.attachmentList.forEach(a => {\r\n        files.metadataIdList.push(a.metadataId);\r\n      })\r\n      files.metadataIdList.length && this.taskService.uploadAttachment(files).subscribe(() => { });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * å é¤éä»¶\r\n   */\r\n  attachmentDelete(attachment) {\r\n    var gspDocDeleteEntity: FileDeleteEntity = {\r\n      rootId: \"wf_attachment\",\r\n      metadataId: attachment.metadataId,\r\n      mode: \"Formal\"\r\n    }\r\n    let index = this.attachmentList.indexOf(attachment);\r\n    if (index > -1) {\r\n      this.attachmentList.splice(index, 1);\r\n    }\r\n    this.attachment.emit(this.attachmentList);\r\n    this.taskService.deleteAttachment(gspDocDeleteEntity).subscribe(() => { });\r\n  }\r\n\r\n  /**\r\n   * è·åä¸åæ ¼å¼éä»¶çç¼©ç¥å¾\r\n   */\r\n  imageUrl(attachmentInfo) {\r\n    const url = '/platform/runtime/wf/webapp/mobiletaskcenter/assets/accessory/';\r\n    return url + this.taskService.createItem(attachmentInfo) + '.svg';\r\n  }\r\n\r\n  /**\r\n   * å±ç¤ºæåç­¾ådialog\r\n   */\r\n  showSignDialog() {\r\n    this.signDialog.show();\r\n    if (!this.ifEnableSign) {\r\n      this.getUserSign(this.curUserId);\r\n    }\r\n  }\r\n\r\n  /**\r\n * ç¹å»å é¤ç­¾å\r\n */\r\n  clickToDeleteImage() {\r\n    this.signatureImage = '';\r\n    this.signature.emit(null);\r\n    const load = this.loadingService.show();\r\n    this.taskService.addTaskCenterConfig(ConfigCode.If_Use_Sign_By_Default, 'false').subscribe(re => {\r\n      load.close();\r\n    }, () => {\r\n      load.close();\r\n    })\r\n  }\r\n\r\n  clickToUseSign() {\r\n    this.ifUseImg = false;\r\n    this.ifUseSign = true;\r\n    const canvas: any = this.signaturePad.canvasDiv.nativeElement.querySelector('canvas');\r\n    canvas.height = 252;\r\n    canvas.width = 665;\r\n  }\r\n\r\n  clickToUploadImg() {\r\n    this.farrisAvatar.onClick();\r\n  }\r\n\r\n  clickToConfirm() {\r\n    let image: any;\r\n    if (this.signaturePad && this.signaturePad.isDraw) {//å¦æç­¾è¿å\r\n      image = this.signaturePad.confirm();\r\n    } else if (this.ifUploadImg) {//å¦æä¸ä¼ è¿å¾ç\r\n      image = this.tmpSignatureImage;\r\n    }\r\n    if (image) {\r\n      this.uploadSignatureImg(image);\r\n    } else {\r\n      if (this.tmpSignatureImage) {\r\n        this.signatureImage = this.tmpSignatureImage;\r\n        this.signature.emit(this.originSignId);\r\n        if (!this.ifEnableSign) {\r\n          const load = this.loadingService.show();\r\n          this.taskService.addTaskCenterConfig(ConfigCode.If_Use_Sign_By_Default, 'true').subscribe(re => {\r\n            load.close();\r\n          }, () => {\r\n            load.close();\r\n          })\r\n        }\r\n      }\r\n      this.signDialog.close();\r\n    }\r\n  }\r\n\r\n  clickToReset() {\r\n    this.ifUseSign = false;\r\n    this.ifUseImg = true;\r\n    this.signatureImage = '';\r\n    this.tmpSignatureImage = '';\r\n    this.signature.emit('');\r\n  }\r\n\r\n  clickToCancel() {\r\n    this.signDialog.close();\r\n  }\r\n\r\n  /**\r\n   * ä¸ä¼ å¾çåäºä»¶\r\n   * event.base64 æ¯å¾çä¿¡æ¯,event.nameæ¯å¸¦åç¼çå¾çåï¼event.typeå¦image/jpeg\r\n   */\r\n  imgChange(event: any) {\r\n    this.ifUseImg = true;\r\n    this.ifUseSign = false;\r\n    this.ifUploadImg = true;\r\n    const image = event.base64;\r\n    this.tmpSignatureImage = image;\r\n    this.signatureImage = image;\r\n  }\r\n\r\n  private uploadSignatureImg(image: any) {\r\n    var uploadSignature = new GspDocUploadEntity();\r\n    uploadSignature.fileContent = image.split(',')[1];\r\n    uploadSignature.filePath = this.curUserId;\r\n    uploadSignature.mode = \"Formal\";\r\n    uploadSignature.metadata = new GspDocMetadata();\r\n    uploadSignature.metadata.id = this.taskService.createNM();\r\n    uploadSignature.metadata.fileName = this.taskService.createNM() + \".png\";\r\n    uploadSignature.metadata.rootId = \"taskcentersignature\";\r\n    uploadSignature.metadata.docType = \"png\";\r\n    const load = this.loadingService.show();\r\n    this.taskService.uploadSignature(uploadSignature).subscribe(signId => {\r\n      load.close();\r\n      this.originSignId = signId;\r\n      this.signature.emit(signId);\r\n      this.signatureImage = image;\r\n      this.signDialog.close();\r\n    }, error => {\r\n      load.close();\r\n      this.messageService.error('ä¸ä¼ ç­¾åå¤±è´¥');\r\n    });\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * è·åç¨æ·çæè¿ä¸æ¬¡ç­¾å\r\n   */\r\n  private getUserSign(userId: string) {\r\n    const load = this.loadingService.show();\r\n    this.taskService.getUserSign(userId).subscribe(result => {\r\n      load.close();\r\n      if (result && result.length) {\r\n        var sign;\r\n        if (result.length == 1) {\r\n          sign = result[0];\r\n        } else {\r\n          const list = result.filter(a => a && a.lastModifiedTime);\r\n          sign = list.reduce(function (a, b) {\r\n            return a.lastModifiedTime > b.lastModifiedTime ? a : b;\r\n          })\r\n        }\r\n        this.signature.emit(sign.id);\r\n        this.signatureImage = this.downloadService.getDownloadUrl(sign.id, 'taskcentersignature');\r\n        this.tmpSignatureImage = this.signatureImage;\r\n      }\r\n    }, error => {\r\n      console.error(error);\r\n      load.close();\r\n    })\r\n  }\r\n\r\n  /**\r\n   * æ°å¢ä¸æ¡å¸¸ç¨æè§\r\n   */\r\n  add() {\r\n    const newEntity = CommonComment.newEntity();\r\n    newEntity.sortOrder = this.commentList.length + 1;\r\n    this.commentList = this.commentList.concat(newEntity);\r\n  }\r\n\r\n  /**\r\n   * å é¤ä¸æ¡æè§ data.rowData\r\n   */\r\n  clickToDeleteComment(data: any) {\r\n    if (data.rowData.userId !== '*') {\r\n      this.commentList = this.commentList.filter(c => c.id != data.rowData.id)\r\n      this.dataGrid.loadData(this.commentList);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * å¸¸ç¨æè§ä¿å­\r\n   */\r\n  save() {\r\n    this.dataGrid.endCellEdit();\r\n    this.httpSave().subscribe(r => {\r\n      this.loadComments();\r\n      this.commentDialog.close();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * è°ç¨æ¥å£æ§è¡æ°å¢å é¤ãä¿®æ¹\r\n   */\r\n  private httpSave(): Observable<any> {\r\n    const url = `/api/runtime/wf/v1.0/commonComments`;\r\n    const originCommentIds = this.originCommentList.filter(o => o.userId !== '*').map(d => d.id);\r\n    //å é¤ç\r\n    const deleteIds = originCommentIds.filter(id => this.commentList.findIndex(c => c.id === id) < 0);\r\n\r\n    return forkJoin(deleteIds.map(id => this.httpSvc.delete(url + `/${id}`, null))\r\n      .concat(this.commentList.map(add => this.httpSvc.post(url, add))));\r\n  }\r\n\r\n  /**\r\n * webç«¯æå¼éä»¶é¢è§\r\n */\r\n  attachmentPreview(metadataId) {\r\n    const options = {\r\n      appType: \"app\",\r\n      funcId: \"\",\r\n      tabName: \"ææ¡£å¨çº¿é¢è§\",\r\n      appId: \"6ccb476b-f2ba-df8f-6f47-d37d100c56e2\",\r\n      appEntrance: \"docviewertab\",\r\n      tabId: new Date().getTime(),\r\n      entityParams: {\r\n        metadataIdList: [metadataId],\r\n        rootId: \"wf_attachment\",\r\n        metadataId: null,\r\n        viewOptions: {\r\n          showHeader: true,\r\n          showPaging: true,\r\n          showThumbnails: true,\r\n          showDownload: true,\r\n          showSearch: true,\r\n          showZoom: true,\r\n          showPrint: true,\r\n          showSecondaryToolBar: true,\r\n        },\r\n      },\r\n    };\r\n    (window as any).gspframeworkService.rtf.func.openMenu(options);\r\n  }\r\n\r\n  /**\r\n   * ç³»ç»é¢ç½®çä¸åè®¸ç¼è¾å é¤\r\n   * @param data data.rowDataä¸ºå®ä½æ°æ®\r\n   * @returns\r\n   */\r\n  beforeEdit = (data: any) => {\r\n    if (data.rowData.userId == '*') {\r\n      return of(false);\r\n    }\r\n    return of(true);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { DataTableModule } from '@farris/ui-datatable';\r\nimport { FarrisDialogModule } from '@farris/ui-dialog';\r\nimport { PaginationModule } from '@farris/ui-pagination';\r\nimport { NotifyModule } from '@farris/ui-notify';\r\nimport { ComboListModule } from '@farris/ui-combo-list';\r\nimport { MessagerModule } from '@farris/ui-messager';\r\nimport { LoadingModule } from '@farris/ui-loading';\r\nimport { InputGroupModule } from '@farris/ui-input-group';\r\nimport { DatagridModule } from '@farris/ui-datagrid';\r\nimport { DatagridEditorsModule, EditorProviders } from '@farris/ui-datagrid-editors';\r\nimport { FarrisFormsModule } from '@farris/ui-forms';\r\nimport { SwitchModule } from '@farris/ui-switch';\r\n\r\nimport { WfApprovalLogsModule } from '@gsp-wf/wf-approval-logs';\r\nimport { UiFlowchartModule } from '@gsp-wf/ui-flowchart'\r\nimport { TaskImplApiModule } from '@gsp-wf/task-impl-api';\r\nimport { AvatarModule } from '@farris/ui-avatar';\r\nimport { FDropdownDirectiveTypeModule } from '@farris/ui-dropdown';\r\nimport { WfSignModule } from '@gsp-wf/wf-sign';\r\n\r\nimport { SysManagerUIModule } from '@gsp-sys/sysmgr-ui';\r\nimport { CommonSharedModule } from '@gsp-sys/rtf-common';\r\nimport { SessionService, HttpService, CacheService } from '@ecp-caf/caf-common';\r\nimport { FrameworkService, FrmEventBus, FuncsService } from '@gsp-sys/rtf-common';\r\n\r\nimport { TaskService } from './service/task.service';\r\nimport { TranslatePipe } from './service/i18n/translate.pipe';\r\nimport { I18nService } from './service/i18n/i18n.service';\r\nimport { WfTaskHandlerService } from './wf-task-handler.service';\r\nimport { TaskExecuteComponent } from './components/task-execute/task-execute.component'\r\nimport { TaskAssigninfoComponent } from './components/task-assigninfo/task-assigninfo.component';\r\nimport { ProcessSelectorComponent } from './submit/process-selector/process-selector.component';\r\nimport { AssigneeInfoComponent } from './components/assignee-info/assignee-info.component';\r\nimport { ThrottleClickDirective } from './throttleTime/throttleClickDirective';\r\nimport { TaskCommentComponent } from './components/task-comment/task-comment.component';\r\nimport { UrgeHandleComponent } from './components/urge-handle/urge-handle.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TranslatePipe,\r\n    TaskExecuteComponent,\r\n    TaskAssigninfoComponent,\r\n    ProcessSelectorComponent,\r\n    AssigneeInfoComponent,\r\n    ThrottleClickDirective,\r\n    TaskCommentComponent,\r\n    UrgeHandleComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    DataTableModule,\r\n    FarrisDialogModule,\r\n    PaginationModule,\r\n    NotifyModule,\r\n    ComboListModule,\r\n    SysManagerUIModule,//ç¨æ·å¸®å©\r\n    WfApprovalLogsModule,\r\n    UiFlowchartModule,\r\n    CommonSharedModule,\r\n    LoadingModule,\r\n    TaskImplApiModule,\r\n    MessagerModule,\r\n    InputGroupModule,\r\n    WfSignModule,//æåç­¾å\r\n    AvatarModule,//ç­¾åä¸ä¼ å¾ç\r\n    FDropdownDirectiveTypeModule,//ä¸æèå\r\n    DatagridModule,//å¸¸ç¨æè§ç®¡çfarrisè¡¨æ ¼\r\n    DatagridEditorsModule,\r\n    DatagridModule.forRoot([\r\n      ...EditorProviders\r\n    ]),\r\n    FarrisFormsModule,\r\n    SwitchModule\r\n  ],\r\n  providers: [\r\n    TaskService,\r\n    I18nService,\r\n    WfTaskHandlerService,\r\n    FrameworkService,//æ¡æ¶æ²¡æä¾module\r\n    SessionService,\r\n    HttpService,\r\n    CacheService,\r\n    FrmEventBus,\r\n    FuncsService,\r\n  ],\r\n  exports: [\r\n    TaskExecuteComponent,\r\n    TaskAssigninfoComponent,\r\n    ProcessSelectorComponent\r\n  ],\r\n  entryComponents: [\r\n    TaskExecuteComponent,\r\n    TaskAssigninfoComponent,\r\n    ProcessSelectorComponent,\r\n  ]\r\n})\r\nexport class WfTaskHandlerModule { }\r\n"],"names":["forkJoin","Injectable","HttpService","MessagerService","tslib_1.__extends","Component","Input","BehaviorSubject","ActionOrigin","Subject","tslib_1.__values","NotifyService","LoadingService","Injector","ChangeDetectorRef","ViewChild","SysFarrisLookupComponent","HostBinding","ActionBaseImplComponent","switchMap","of","ForecastProcessPayload","WfApprovalLogsService","WFFlowchartService","ComponentFactoryResolver","BsModalService","FrameworkService","ApplicationRef","Pipe","Optional","EventEmitter","ElementRef","Output","throttleTime","Directive","HostListener","DownloadService","EditorTypes","NG_VALUE_ACCESSOR","forwardRef","UploadDialogService","NgModule","CommonModule","FormsModule","DataTableModule","FarrisDialogModule","PaginationModule","NotifyModule","ComboListModule","SysManagerUIModule","WfApprovalLogsModule","UiFlowchartModule","CommonSharedModule","LoadingModule","TaskImplApiModule","MessagerModule","InputGroupModule","WfSignModule","AvatarModule","FDropdownDirectiveTypeModule","DatagridModule","DatagridEditorsModule","EditorProviders","FarrisFormsModule","SwitchModule","SessionService","CacheService","FrmEventBus","FuncsService"],"mappings":"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"}
