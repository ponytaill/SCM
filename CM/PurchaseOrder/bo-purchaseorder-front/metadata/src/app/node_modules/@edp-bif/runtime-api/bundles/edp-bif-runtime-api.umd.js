(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('mxgraph'), require('@ngx-translate/core'), require('@angular/common'), require('@angular/common/http'), require('@ecp-caf/caf-common'), require('@farris/ui-draggable'), require('@farris/ui-text'), require('@farris/ui-section'), require('@farris/ui-dialog'), require('@farris/ui-datagrid'), require('rxjs/operators'), require('@gsp-sys/rtf-common'), require('@edp-bif/common-api'), require('@farris/ui-loading'), require('@farris/ui-modal'), require('@farris/ui-notify'), require('@angular/forms'), require('rxjs'), require('@edp-aif/runtime-api'), require('@edp-aif/common-api'), require('@farris/ui-messager'), require('@farris/devkit'), require('@farris/command-services'), require('@angular/core')) :
    typeof define === 'function' && define.amd ? define('@edp-bif/runtime-api', ['exports', 'mxgraph', '@ngx-translate/core', '@angular/common', '@angular/common/http', '@ecp-caf/caf-common', '@farris/ui-draggable', '@farris/ui-text', '@farris/ui-section', '@farris/ui-dialog', '@farris/ui-datagrid', 'rxjs/operators', '@gsp-sys/rtf-common', '@edp-bif/common-api', '@farris/ui-loading', '@farris/ui-modal', '@farris/ui-notify', '@angular/forms', 'rxjs', '@edp-aif/runtime-api', '@edp-aif/common-api', '@farris/ui-messager', '@farris/devkit', '@farris/command-services', '@angular/core'], factory) :
    (factory((global['edp-bif'] = global['edp-bif'] || {}, global['edp-bif']['runtime-api'] = {}),global.mxgraphFactory,global.core,global.ng.common,global.ng.common.http,global.cafCommon,global.uiDraggable,global.uiText,global.uiSection,global.uiDialog,global.uiDatagrid,global.rxjs.operators,global.rtfCommon,global.commonApi,global.uiLoading,global.uiModal,global.uiNotify,global.ng.forms,global.rxjs,global.runtimeApi,global.commonApi$1,global.uiMessager,global.devkit,global.commandServices,global.ng.core));
}(this, (function (exports,mxgraphFactory,core,common,http,cafCommon,uiDraggable,uiText,uiSection,uiDialog,uiDatagrid,operators,rtfCommon,commonApi,uiLoading,uiModal,uiNotify,forms,rxjs,runtimeApi,commonApi$1,uiMessager,devkit,commandServices,core$1) { 'use strict';

    mxgraphFactory = mxgraphFactory && mxgraphFactory.hasOwnProperty('default') ? mxgraphFactory['default'] : mxgraphFactory;

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ref/mxgraph/mxgraphFactory.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    window['mxBasePath'] = window['mxBasePath'] || "/platform/runtime/common/web/@edp-pmf/mxgraph";
    window['mxLoadResources'] = window['mxLoadResources'] || undefined;
    window['mxForceIncludes'] = window['mxForceIncludes'] || undefined;
    window['mxResourceExtension'] = window['mxResourceExtension'] || undefined;
    window['mxLoadStylesheets'] = window['mxLoadStylesheets'] || undefined;
    window['imageBasePath'] = window['imageBasePath'] || undefined;
    window['mxLanguage'] = window['mxLanguage'] || undefined;
    window['mxDefaultLanguage'] = window['mxDefaultLanguage'] || undefined;
    window['mxLanguages'] = window['mxLanguages'] || undefined;
    // declare global {
    //     var mxBasePath;
    //     var mxLoadResources;
    //     var mxForceIncludes;
    //     var mxResourceExtension;
    //     var mxLoadStylesheets;
    //     var mxBasePath;
    //     var imageBasePath;
    //     var mxLanguage;
    //     var mxDefaultLanguage;
    //     var mxLanguages;
    // }
    // declare const require:any;
    // const mxgraphFactory = require("/platform/common/web/mxgraph/build.js");
    /** @type {?} */
    var mxgraph = mxgraphFactory({});

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ref/mxgraph/Editor.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * Editor
     * @type {?}
     */
    var mxDefaultKeyHandlerType = mxgraph.mxDefaultKeyHandler;
    /** @type {?} */
    var mxDefaultPopupMenuType = mxgraph.mxDefaultPopupMenu;
    /** @type {?} */
    var mxDefaultToolbarType = mxgraph.mxDefaultToolbar;
    /** @type {?} */
    var mxEditorType = mxgraph.mxEditor;

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ref/mxgraph/Handler.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * Handler
     * @type {?}
     */
    var mxCellHighlightType = mxgraph.mxCellHighlight;
    /** @type {?} */
    var mxCellMarkerType = mxgraph.mxCellMarker;
    /** @type {?} */
    var mxCellTrackerType = mxgraph.mxCellTracker;
    /** @type {?} */
    var mxConnectionHandlerType = mxgraph.mxConnectionHandler;
    /** @type {?} */
    var mxConstraintHandlerType = mxgraph.mxConstraintHandler;
    /** @type {?} */
    var mxEdgeHandlerType = mxgraph.mxEdgeHandler;
    /** @type {?} */
    var mxEdgeSegmentHandlerType = mxgraph.mxEdgeSegmentHandler;
    /** @type {?} */
    var mxElbowEdgeHandlerType = mxgraph.mxElbowEdgeHandler;
    /** @type {?} */
    var mxGraphHandlerType = mxgraph.mxGraphHandler;
    /** @type {?} */
    var mxHandleType = mxgraph.mxHandle;
    /** @type {?} */
    var mxKeyHandlerType = mxgraph.mxKeyHandler;
    /** @type {?} */
    var mxPanningHandlerType = mxgraph.mxPanningHandler;
    /** @type {?} */
    var mxPopupMenuHandlerType = mxgraph.mxPopupMenuHandler;
    /** @type {?} */
    var mxRubberbandType = mxgraph.mxRubberband;
    /** @type {?} */
    var mxSelectionCellsHandlerType = mxgraph.mxSelectionCellsHandler;
    /** @type {?} */
    var mxTooltipHandlerType = mxgraph.mxTooltipHandler;
    /** @type {?} */
    var mxVertexHandlerType = mxgraph.mxVertexHandler;

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ref/mxgraph/IO.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * IO
     * @type {?}
     */
    var mxCellCodecType = mxgraph.mxCellCodec;
    /** @type {?} */
    var mxChildChangeCodecType = mxgraph.mxChildChangeCodec;
    /** @type {?} */
    var mxDefaultKeyHandlerCodecType = mxgraph.mxDefaultKeyHandlerCodec;
    /** @type {?} */
    var mxDefaultPopupMenuCodecType = mxgraph.mxDefaultPopupMenuCodec;
    /** @type {?} */
    var mxDefaultToolbarCodecType = mxgraph.mxDefaultToolbarCodec;
    /** @type {?} */
    var mxEditorCodecType = mxgraph.mxEditorCodec;
    /** @type {?} */
    var mxGenericChangeCodecType = mxgraph.mxGenericChangeCodec;
    /** @type {?} */
    var mxGraphCodecType = mxgraph.mxGraphCodec;
    /** @type {?} */
    var mxGraphViewCodecType = mxgraph.mxGraphViewCodec;
    /** @type {?} */
    var mxModelCodecType = mxgraph.mxModelCodec;
    /** @type {?} */
    var mxObjectCodecType = mxgraph.mxObjectCodec;
    /** @type {?} */
    var mxRootChangeCodecType = mxgraph.mxRootChangeCodec;
    /** @type {?} */
    var mxStylesheetCodecType = mxgraph.mxStylesheetCodec;
    /** @type {?} */
    var mxTerminalChangeCodecType = mxgraph.mxTerminalChangeCodec;

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ref/mxgraph/Layout.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * Layout
     * @type {?}
     */
    var mxCircleLayoutType = mxgraph.mxCircleLayout;
    /** @type {?} */
    var mxCompactTreeLayoutType = mxgraph.mxCompactTreeLayout;
    /** @type {?} */
    var mxCompositeLayoutType = mxgraph.mxCompositeLayout;
    /** @type {?} */
    var mxEdgeLabelLayoutType = mxgraph.mxEdgeLabelLayout;
    /** @type {?} */
    var mxFastOrganicLayoutType = mxgraph.mxFastOrganicLayout;
    /** @type {?} */
    var mxGraphLayoutType = mxgraph.mxGraphLayout;
    /** @type {?} */
    var mxParallelEdgeLayoutType = mxgraph.mxParallelEdgeLayout;
    /** @type {?} */
    var mxPartitionLayoutType = mxgraph.mxPartitionLayout;
    /** @type {?} */
    var mxRadialTreeLayoutType = mxgraph.mxRadialTreeLayout;
    /** @type {?} */
    var mxStackLayoutType = mxgraph.mxStackLayout;
    /**
     * Layout Hierarchical
     * @type {?}
     */
    var mxHierarchicalLayoutType = mxgraph.mxHierarchicalLayout;
    /** @type {?} */
    var mxSwimlaneLayoutType = mxgraph.mxSwimlaneLayout;
    /**
     * Layout Hierarchical Model
     * @type {?}
     */
    var mxGraphAbstractHierarchyCellType = mxgraph.mxGraphAbstractHierarchyCell;
    /** @type {?} */
    var mxGraphHierarchyEdgeType = mxgraph.mxGraphHierarchyEdge;
    /** @type {?} */
    var mxGraphHierarchyModelType = mxgraph.mxGraphHierarchyModel;
    /** @type {?} */
    var mxGraphHierarchyNodeType = mxgraph.mxGraphHierarchyNode;
    /** @type {?} */
    var mxSwimlaneModelType = mxgraph.mxSwimlaneModel;
    /**
     * Layout Hierarchical Stage
     * @type {?}
     */
    var mxCoordinateAssignmentType = mxgraph.mxCoordinateAssignment;
    /** @type {?} */
    var mxHierarchicalLayoutStageType = mxgraph.mxHierarchicalLayoutStage;
    /** @type {?} */
    var mxMedianHybridCrossingReductionType = mxgraph.mxMedianHybridCrossingReduction;
    /** @type {?} */
    var mxMinimumCycleRemoverType = mxgraph.mxMinimumCycleRemover;
    /** @type {?} */
    var mxSwimlaneOrderingType = mxgraph.mxSwimlaneOrdering;

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ref/mxgraph/Model.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * Model
     * @type {?}
     */
    var mxCellType = mxgraph.mxCell;
    /** @type {?} */
    var mxCellPathType = mxgraph.mxCellPath;
    /** @type {?} */
    var mxGeometryType = mxgraph.mxGeometry;
    /** @type {?} */
    var mxGraphModelType = mxgraph.mxGraphModel;

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ref/mxgraph/Others.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * Others
     * @type {?}
     */
    var renderingHintType = mxgraph.renderingHint;

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ref/mxgraph/Shape.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * Shape
     * @type {?}
     */
    var mxActorType = mxgraph.mxActor;
    /** @type {?} */
    var mxArrowType = mxgraph.mxArrow;
    /** @type {?} */
    var mxArrowConnectorType = mxgraph.mxArrowConnector;
    /** @type {?} */
    var mxCloudType = mxgraph.mxCloud;
    /** @type {?} */
    var mxConnectorType = mxgraph.mxConnector;
    /** @type {?} */
    var mxCylinderType = mxgraph.mxCylinder;
    /** @type {?} */
    var mxDoubleEllipseType = mxgraph.mxDoubleEllipse;
    /** @type {?} */
    var mxEllipseType = mxgraph.mxEllipse;
    /** @type {?} */
    var mxHexagonType = mxgraph.mxHexagon;
    /** @type {?} */
    var mxImageShapeType = mxgraph.mxImageShape;
    /** @type {?} */
    var mxLabelType = mxgraph.mxLabel;
    /** @type {?} */
    var mxLineType = mxgraph.mxLine;
    /** @type {?} */
    var mxMarkerType = mxgraph.mxMarker;
    /** @type {?} */
    var mxPolylineType = mxgraph.mxPolyline;
    /** @type {?} */
    var mxRectangleShapeType = mxgraph.mxRectangleShape;
    /** @type {?} */
    var mxRhombusType = mxgraph.mxRhombus;
    /** @type {?} */
    var mxShapeType = mxgraph.mxShape;
    /** @type {?} */
    var mxStencilType = mxgraph.mxStencil;
    /** @type {?} */
    var mxStencilRegistryType = mxgraph.mxStencilRegistry;
    /** @type {?} */
    var mxSwimlaneType = mxgraph.mxSwimlane;
    /** @type {?} */
    var mxTextType = mxgraph.mxText;
    /** @type {?} */
    var mxTriangleType = mxgraph.mxTriangle;

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ref/mxgraph/Util.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * Util
     * @type {?}
     */
    var mxAbstractCanvas2DType = mxgraph.mxAbstractCanvas2D;
    /** @type {?} */
    var mxAnimationType = mxgraph.mxAnimation;
    /** @type {?} */
    var mxAutoSaveManagerType = mxgraph.mxAutoSaveManager;
    /** @type {?} */
    var mxClipboardType = mxgraph.mxClipboard;
    /** @type {?} */
    var mxConstantsType = mxgraph.mxConstants;
    /** @type {?} */
    var mxDictionaryType = mxgraph.mxDictionary;
    /** @type {?} */
    var mxDivResizerType = mxgraph.mxDivResizer;
    /** @type {?} */
    var mxDragSourceType = mxgraph.mxDragSource;
    /** @type {?} */
    var mxEffectsType = mxgraph.mxEffects;
    /** @type {?} */
    var mxEventType = mxgraph.mxEvent;
    /** @type {?} */
    var mxEventObjectType = mxgraph.mxEventObject;
    /** @type {?} */
    var mxEventSourceType = mxgraph.mxEventSource;
    /** @type {?} */
    var mxFormType = mxgraph.mxForm;
    /** @type {?} */
    var mxGuideType = mxgraph.mxGuide;
    /** @type {?} */
    var mxImageType = mxgraph.mxImage;
    /** @type {?} */
    var mxImageBundleType = mxgraph.mxImageBundle;
    /** @type {?} */
    var mxImageExportType = mxgraph.mxImageExport;
    /** @type {?} */
    var mxLogType = mxgraph.mxLog;
    /** @type {?} */
    var mxMorphingType = mxgraph.mxMorphing;
    /** @type {?} */
    var mxMouseEventType = mxgraph.mxMouseEvent;
    /** @type {?} */
    var mxObjectIdentityType = mxgraph.mxObjectIdentity;
    /** @type {?} */
    var mxPanningManagerType = mxgraph.mxPanningManager;
    /** @type {?} */
    var mxPointType = mxgraph.mxPoint;
    /** @type {?} */
    var mxPopupMenuType = mxgraph.mxPopupMenu;
    /** @type {?} */
    var mxRectangleType = mxgraph.mxRectangle;
    /** @type {?} */
    var mxResourcesType = mxgraph.mxResources;
    /** @type {?} */
    var mxSvgCanvas2DType = mxgraph.mxSvgCanvas2D;
    /** @type {?} */
    var mxToolbarType = mxgraph.mxToolbar;
    /** @type {?} */
    var mxUndoableEditType = mxgraph.mxUndoableEdit;
    /** @type {?} */
    var mxUndoManagerType = mxgraph.mxUndoManager;
    /** @type {?} */
    var mxUrlConverterType = mxgraph.mxUrlConverter;
    /** @type {?} */
    var mxUtilsType = mxgraph.mxUtils;
    /** @type {?} */
    var mxVmlCanvas2DType = mxgraph.mxVmlCanvas2D;
    /** @type {?} */
    var mxWindowType = mxgraph.mxWindow;
    /** @type {?} */
    var mxXmlCanvas2DType = mxgraph.mxXmlCanvas2D;
    /** @type {?} */
    var mxXmlRequestType = mxgraph.mxXmlRequest;

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ref/mxgraph/View.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * View
     * @type {?}
     */
    var mxCellEditorType = mxgraph.mxCellEditor;
    /** @type {?} */
    var mxCellOverlayType = mxgraph.mxCellOverlay;
    /** @type {?} */
    var mxCellRendererType = mxgraph.mxCellRenderer;
    /** @type {?} */
    var mxCellStateType = mxgraph.mxCellState;
    /** @type {?} */
    var mxCellStatePreviewType = mxgraph.mxCellStatePreview;
    /** @type {?} */
    var mxConnectionConstraintType = mxgraph.mxConnectionConstraint;
    /** @type {?} */
    var mxEdgeStyleType = mxgraph.mxEdgeStyle;
    /** @type {?} */
    var mxGraphType = mxgraph.mxGraph;
    /** @type {?} */
    var mxGraphSelectionModelType = mxgraph.mxGraphSelectionModel;
    /** @type {?} */
    var mxGraphViewType = mxgraph.mxGraphView;
    /** @type {?} */
    var mxLayoutManagerType = mxgraph.mxLayoutManager;
    /** @type {?} */
    var mxMultiplicityType = mxgraph.mxMultiplicity;
    /** @type {?} */
    var mxOutlineType = mxgraph.mxOutline;
    /** @type {?} */
    var mxPerimeterType = mxgraph.mxPerimeter;
    /** @type {?} */
    var mxPrintPreviewType = mxgraph.mxPrintPreview;
    /** @type {?} */
    var mxStyleRegistryType = mxgraph.mxStyleRegistry;
    /** @type {?} */
    var mxStylesheetType = mxgraph.mxStylesheet;
    /** @type {?} */
    var mxSwimlaneManagerType = mxgraph.mxSwimlaneManager;
    /** @type {?} */
    var mxTemporaryCellStatesType = mxgraph.mxTemporaryCellStates;

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ref/mxgraph/mxClient.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * mxClient
     * @type {?}
     */
    var mxClientType = mxgraph.mxClient;

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ref/mxgraph/mxgraph-types.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    (function (MxGraphNS) {
    })(exports.MxGraphNS || (exports.MxGraphNS = {}));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ref/mxgraph/index.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/ref/index.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
    /* global Reflect, Promise */
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b)
                if (Object.prototype.hasOwnProperty.call(b, p))
                    d[p] = b[p]; };
        return extendStatics(d, b);
    };
    function __extends(d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }
    var __assign = function () {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s)
                    if (Object.prototype.hasOwnProperty.call(s, p))
                        t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };
    function __values(o) {
        var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
        if (m)
            return m.call(o);
        if (o && typeof o.length === "number")
            return {
                next: function () {
                    if (o && i >= o.length)
                        o = void 0;
                    return { value: o && o[i++], done: !o };
                }
            };
        throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    }
    function __read(o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m)
            return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
                ar.push(r.value);
        }
        catch (error) {
            e = { error: error };
        }
        finally {
            try {
                if (r && !r.done && (m = i["return"]))
                    m.call(i);
            }
            finally {
                if (e)
                    throw e.error;
            }
        }
        return ar;
    }
    /** @deprecated */
    function __spread() {
        for (var ar = [], i = 0; i < arguments.length; i++)
            ar = ar.concat(__read(arguments[i]));
        return ar;
    }

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/data/BillData.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillData = /** @class */ (function (_super) {
        __extends(BillData, _super);
        function BillData() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        BillData.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.name = null;
                this.value = null;
            };
        /**
         * @return {?}
         */
        BillData.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "name", this.name);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "value", this.value);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        BillData.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.name = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "name");
                this.value = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "value");
            };
        return BillData;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/data/index.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/form-rest/ManualCreationMode.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {string} */
    var ManualCreationMode = {
        Push: "Push",
        Pull: "Pull",
        SpecificPush: "SpecificPush",
        SpecificPull: "SpecificPull",
    };

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/form-rest/FormBillCreationProcessExecutorArgs.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FormBillCreationProcessExecutorArgs = /** @class */ (function (_super) {
        __extends(FormBillCreationProcessExecutorArgs, _super);
        function FormBillCreationProcessExecutorArgs() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        FormBillCreationProcessExecutorArgs.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.billCreationProcessId = null;
                this.creationRuleInstanceId = null;
            };
        /**
         * @return {?}
         */
        FormBillCreationProcessExecutorArgs.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "billCreationProcessId", this.billCreationProcessId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "creationRuleInstanceId", this.creationRuleInstanceId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "manualCreationMode", this.manualCreationMode);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        FormBillCreationProcessExecutorArgs.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.billCreationProcessId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "billCreationProcessId");
                this.creationRuleInstanceId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "creationRuleInstanceId");
                this.manualCreationMode = ManualCreationMode[commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "creationRuleInstanceId")];
            };
        return FormBillCreationProcessExecutorArgs;
    }(runtimeApi.FormCreationRuleExecutorArgs));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/form-rest/FormGetBillCreationProcessEntityExArgs.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FormGetBillCreationProcessEntityExArgs = /** @class */ (function (_super) {
        __extends(FormGetBillCreationProcessEntityExArgs, _super);
        function FormGetBillCreationProcessEntityExArgs() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        FormGetBillCreationProcessEntityExArgs.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.upBillVoId = null;
                this.downBillVoId = null;
                this.manualCreationMode = null;
            };
        /**
         * @return {?}
         */
        FormGetBillCreationProcessEntityExArgs.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "upBillVoId", this.upBillVoId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "downBillVoId", this.downBillVoId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "manualCreationMode", this.manualCreationMode);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        FormGetBillCreationProcessEntityExArgs.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.upBillVoId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "upBillVoId");
                this.downBillVoId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "downBillVoId");
                this.manualCreationMode = ManualCreationMode[commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "manualCreationMode")];
            };
        return FormGetBillCreationProcessEntityExArgs;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/form-rest/FormGetBillCreationProcessEntityExResult.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FormGetBillCreationProcessEntityExResult = /** @class */ (function (_super) {
        __extends(FormGetBillCreationProcessEntityExResult, _super);
        function FormGetBillCreationProcessEntityExResult() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        FormGetBillCreationProcessEntityExResult.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.billCreationProcessEntityExes = new Array();
            };
        /**
         * @return {?}
         */
        FormGetBillCreationProcessEntityExResult.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "billCreationProcessEntityExes", this.billCreationProcessEntityExes);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        FormGetBillCreationProcessEntityExResult.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.billCreationProcessEntityExes = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsList(obj, "billCreationProcessEntityExes", commonApi.RtSlimBillCreationProcessEntityEx);
            };
        return FormGetBillCreationProcessEntityExResult;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/form-rest/GeneralTextIdWithDataId.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GeneralTextIdWithDataId = /** @class */ (function (_super) {
        __extends(GeneralTextIdWithDataId, _super);
        function GeneralTextIdWithDataId() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        GeneralTextIdWithDataId.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.generalTextId = null;
                this.dataId = null;
            };
        /**
         * @return {?}
         */
        GeneralTextIdWithDataId.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "generalTextId", this.generalTextId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "dataId", this.dataId);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        GeneralTextIdWithDataId.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.generalTextId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "generalTextId");
                this.dataId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "dataId");
            };
        return GeneralTextIdWithDataId;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/form-rest/index.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/BillDetailInfo.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillDetailInfo = /** @class */ (function (_super) {
        __extends(BillDetailInfo, _super);
        function BillDetailInfo() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.detailIds = [];
            return _this;
        }
        /**
         * @protected
         * @return {?}
         */
        BillDetailInfo.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.detailCode = null;
                this.detailIds = [];
            };
        /**
         * @return {?}
         */
        BillDetailInfo.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "detailCode", this.detailCode);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "detailIds", commonApi$1.BpmnModelJsonHelper.StringListToJson(this.detailIds));
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        BillDetailInfo.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.detailCode = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "detailCode");
                this.detailIds = commonApi$1.BpmnModelJsonHelper.StringListFromJson(commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "detailIds"));
            };
        return BillDetailInfo;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/BillItemInfo.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillItemInfo = /** @class */ (function (_super) {
        __extends(BillItemInfo, _super);
        function BillItemInfo() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.billDetailInfos = [];
            return _this;
        }
        /**
         * @protected
         * @return {?}
         */
        BillItemInfo.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.itemId = null;
                this.billDetailInfos = [];
            };
        /**
         * @return {?}
         */
        BillItemInfo.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "itemId", this.itemId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "billDetailInfos", this.billDetailInfos);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        BillItemInfo.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.itemId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "itemId");
                this.billDetailInfos = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsList(obj, "billDetailInfos", BillDetailInfo);
            };
        return BillItemInfo;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/BillChildInfo.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillChildInfo = /** @class */ (function (_super) {
        __extends(BillChildInfo, _super);
        function BillChildInfo() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.billItemInfos = [];
            return _this;
        }
        /**
         * @protected
         * @return {?}
         */
        BillChildInfo.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.itemCode = null;
                this.billItemInfos = [];
            };
        /**
         * @return {?}
         */
        BillChildInfo.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "itemCode", this.itemCode);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "billItemInfos", this.billItemInfos);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        BillChildInfo.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.itemCode = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "itemCode");
                this.billItemInfos = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsList(obj, "billItemInfos", BillItemInfo);
            };
        return BillChildInfo;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/TrackingMappingAssociation.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var TrackingMappingAssociation = /** @class */ (function (_super) {
        __extends(TrackingMappingAssociation, _super);
        function TrackingMappingAssociation() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        TrackingMappingAssociation.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.upBillTableCodePath = null;
                this.upBillDataIdPath = null;
                this.downBillTableCodePath = null;
                this.downBillDataIdPath = null;
            };
        /**
         * @return {?}
         */
        TrackingMappingAssociation.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "upBillTableCodePath", this.upBillTableCodePath);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "upBillDataIdPath", this.upBillDataIdPath);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "downBillTableCodePath", this.downBillTableCodePath);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "downBillDataIdPath", this.downBillDataIdPath);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        TrackingMappingAssociation.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.upBillTableCodePath = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "upBillTableCodePath");
                this.upBillDataIdPath = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "upBillDataIdPath");
                this.downBillTableCodePath = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "downBillTableCodePath");
                this.downBillDataIdPath = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "downBillDataIdPath");
            };
        return TrackingMappingAssociation;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/BillDataInfo.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillDataInfo = /** @class */ (function (_super) {
        __extends(BillDataInfo, _super);
        function BillDataInfo() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.billChildInfos = [];
            return _this;
        }
        /**
         * @protected
         * @return {?}
         */
        BillDataInfo.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.dataId = null;
                this.caption = null;
                this.summary = null;
                this.canContinueTracking = false;
                this.trackingMappingAssociations = null;
                this.billChildInfos = [];
                this.curYear = null;
            };
        /**
         * @return {?}
         */
        BillDataInfo.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "dataId", this.dataId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "caption", this.caption);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "summary", this.summary);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "canContinueTracking", this.canContinueTracking);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "trackingMappingAssociations", this.trackingMappingAssociations);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "billChildInfos", this.billChildInfos);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "curYear", this.curYear);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        BillDataInfo.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.dataId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "dataId");
                this.caption = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "caption");
                this.summary = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "summary");
                this.canContinueTracking = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsBoolean(obj, "canContinueTracking");
                this.trackingMappingAssociations = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsList(obj, "trackingMappingAssociations", TrackingMappingAssociation);
                this.billChildInfos = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsList(obj, "billChildInfos", BillChildInfo);
                this.curYear = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "curYear");
            };
        return BillDataInfo;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/BillInfo.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillInfo = /** @class */ (function (_super) {
        __extends(BillInfo, _super);
        function BillInfo() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.billDataInfos = [];
            _this.jointQueryMode = commonApi.JointQueryMode.DEFAULT;
            return _this;
        }
        /**
         * @protected
         * @return {?}
         */
        BillInfo.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.billTrackingSettings = null;
                this.schemaId = null;
                this.suCode = null;
                this.documentTypeId = null;
                this.bizKind = null;
                this.bizType = null;
                this.billDataInfos = [];
                this.jointQueryMode = commonApi.JointQueryMode.DEFAULT;
                this.jointQueryParameters = null;
                this.trackingSourceType = null;
            };
        /**
         * @return {?}
         */
        BillInfo.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "billTrackingSettings", this.billTrackingSettings);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "schemaId", this.schemaId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "suCode", this.suCode);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "documentTypeId", this.documentTypeId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "bizKind", this.bizKind);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "bizType", this.bizType);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "billDataInfos", this.billDataInfos);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "jointQueryMode", this.jointQueryMode);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "jointQueryParameters", this.jointQueryParameters);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "trackingSourceType", this.trackingSourceType);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        BillInfo.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.billTrackingSettings = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "billTrackingSettings");
                this.schemaId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "schemaId");
                this.suCode = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "suCode");
                this.documentTypeId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "documentTypeId");
                this.bizKind = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "bizKind");
                this.bizType = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "bizType");
                this.billDataInfos = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsList(obj, "billDataInfos", BillDataInfo);
                this.jointQueryMode = commonApi.JointQueryMode[commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "jointQueryMode")];
                this.jointQueryParameters = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "jointQueryParameters");
                this.trackingSourceType = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "trackingSourceType");
            };
        return BillInfo;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/CanTrackingInfo.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * graphBillInfodata-servicebuild
     * @see { BillTrackerDataService }
     */
    var /**
     * graphBillInfodata-servicebuild
     * @see { BillTrackerDataService }
     */ CanTrackingInfo = /** @class */ (function (_super) {
        __extends(CanTrackingInfo, _super);
        function CanTrackingInfo() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.billChildInfos = [];
            _this.jointQueryMode = commonApi.JointQueryMode.DEFAULT;
            return _this;
        }
        /**
         * @protected
         * @return {?}
         */
        CanTrackingInfo.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.canUpTracking = false;
                this.canDownTracking = false;
                this.documentTypeId = null;
                this.bizKind = null;
                this.bizType = null;
                this.dataId = null;
                this.caption = null;
                this.summary = null;
                this.suCode = null;
                this.schemaId = null;
                this.billChildInfos = [];
                this.jointQueryMode = commonApi.JointQueryMode.DEFAULT;
                this.jointQueryParameters = null;
                this.trackingSourceType = null;
                this.curYear = null;
            };
        /**
         * @return {?}
         */
        CanTrackingInfo.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "canUpTracking", this.canUpTracking);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "canDownTracking", this.canDownTracking);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "documentTypeId", this.documentTypeId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "bizKind", this.bizKind);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "bizType", this.bizType);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "dataId", this.dataId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "caption", this.caption);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "summary", this.summary);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "suCode", this.suCode);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "schemaId", this.schemaId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "billChildInfos", this.billChildInfos);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "jointQueryMode", this.jointQueryMode);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "jointQueryParameters", this.jointQueryParameters);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "trackingSourceType", this.trackingSourceType);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "curYear", this.curYear);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        CanTrackingInfo.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.canUpTracking = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsBoolean(obj, "canUpTracking");
                this.canDownTracking = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsBoolean(obj, "canDownTracking");
                this.documentTypeId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "documentTypeId");
                this.bizKind = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "bizKind");
                this.bizType = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "bizType");
                this.dataId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "dataId");
                this.caption = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "caption");
                this.summary = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "summary");
                this.suCode = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "suCode");
                this.schemaId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "schemaId");
                this.billChildInfos = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsList(obj, "billChildInfos", BillChildInfo);
                this.jointQueryMode = commonApi.JointQueryMode[commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "jointQueryMode")];
                this.jointQueryParameters = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "jointQueryParameters");
                this.trackingSourceType = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "trackingSourceType");
                this.curYear = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "curYear");
            };
        return CanTrackingInfo;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/DownBillInfo.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var DownBillInfo = /** @class */ (function (_super) {
        __extends(DownBillInfo, _super);
        function DownBillInfo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return DownBillInfo;
    }(BillInfo));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/GetBillsInfoArgs.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GetBillsInfoArgs = /** @class */ (function (_super) {
        __extends(GetBillsInfoArgs, _super);
        function GetBillsInfoArgs() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.billChildInfos = [];
            return _this;
        }
        /**
         * @protected
         * @return {?}
         */
        GetBillsInfoArgs.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.documentTypeId = null;
                this.bizKind = null;
                this.bizType = null;
                this.billDataId = null;
                this.billChildInfos = [];
                this.curYear = null;
            };
        /**
         * @return {?}
         */
        GetBillsInfoArgs.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "documentTypeId", this.documentTypeId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "bizKind", this.bizKind);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "bizType", this.bizType);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "billDataId", this.billDataId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "billChildInfos", this.billChildInfos);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "curYear", this.curYear);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        GetBillsInfoArgs.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.documentTypeId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "documentTypeId");
                this.bizKind = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "bizKind");
                this.bizType = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "bizType");
                this.billDataId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "billDataId");
                this.billChildInfos = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsList(obj, "billChildInfos", BillChildInfo);
                this.curYear = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "curYear");
            };
        return GetBillsInfoArgs;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/GetDownBillsInfoArgs.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GetDownBillsInfoArgs = /** @class */ (function (_super) {
        __extends(GetDownBillsInfoArgs, _super);
        function GetDownBillsInfoArgs() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return GetDownBillsInfoArgs;
    }(GetBillsInfoArgs));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/GetUpBillsInfoArgs.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GetUpBillsInfoArgs = /** @class */ (function (_super) {
        __extends(GetUpBillsInfoArgs, _super);
        function GetUpBillsInfoArgs() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return GetUpBillsInfoArgs;
    }(GetBillsInfoArgs));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/TrackingHelper.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var TrackingHelper = /** @class */ (function () {
        function TrackingHelper() {
        }
        /**
         * @param {?} originalDownBillInfos
         * @param {?} downBillInfos
         * @return {?}
         */
        TrackingHelper.concatDownBillInfos = /**
         * @param {?} originalDownBillInfos
         * @param {?} downBillInfos
         * @return {?}
         */
            function (originalDownBillInfos, downBillInfos) {
                var e_1, _a, e_2, _b;
                if (originalDownBillInfos == null) {
                    originalDownBillInfos = new Array();
                }
                if (downBillInfos == null || downBillInfos.length == 0) {
                    return originalDownBillInfos;
                }
                /** @type {?} */
                var originalVoIds = new Array();
                originalDownBillInfos.forEach(( /**
                 * @param {?} info
                 * @return {?}
                 */function (info) { return originalVoIds.push(info.schemaId); }));
                try {
                    for (var downBillInfos_1 = __values(downBillInfos), downBillInfos_1_1 = downBillInfos_1.next(); !downBillInfos_1_1.done; downBillInfos_1_1 = downBillInfos_1.next()) {
                        var downBillInfo = downBillInfos_1_1.value;
                        //
                        if (originalVoIds.includes(downBillInfo.schemaId)) {
                            var _loop_1 = function (oldDownBillInfo) {
                                var e_3, _a, e_4, _b, e_5, _c, e_6, _d;
                                if (oldDownBillInfo.schemaId == downBillInfo.schemaId) {
                                    /** @type {?} */
                                    var oldBillDataInfos = oldDownBillInfo.billDataInfos;
                                    /** @type {?} */
                                    var dataIds_1 = new Array();
                                    oldBillDataInfos.forEach(( /**
                                     * @param {?} dataInfo
                                     * @return {?}
                                     */function (dataInfo) { return dataIds_1.push(dataInfo.dataId); }));
                                    try {
                                        for (var _e = __values(downBillInfo.billDataInfos), _f = _e.next(); !_f.done; _f = _e.next()) {
                                            var billDataInfo = _f.value;
                                            //
                                            if (dataIds_1.includes(billDataInfo.dataId)) {
                                                try {
                                                    for (var oldBillDataInfos_1 = __values(oldBillDataInfos), oldBillDataInfos_1_1 = oldBillDataInfos_1.next(); !oldBillDataInfos_1_1.done; oldBillDataInfos_1_1 = oldBillDataInfos_1.next()) {
                                                        var oldBillDataInfo = oldBillDataInfos_1_1.value;
                                                        if (oldBillDataInfo.dataId == billDataInfo.dataId) {
                                                            /** @type {?} */
                                                            var oldAssociations = oldBillDataInfo.trackingMappingAssociations;
                                                            try {
                                                                for (var _g = __values(billDataInfo.trackingMappingAssociations), _h = _g.next(); !_h.done; _h = _g.next()) {
                                                                    var association = _h.value;
                                                                    /** @type {?} */
                                                                    var i = 0;
                                                                    try {
                                                                        for (var oldAssociations_1 = __values(oldAssociations), oldAssociations_1_1 = oldAssociations_1.next(); !oldAssociations_1_1.done; oldAssociations_1_1 = oldAssociations_1.next()) {
                                                                            var association1 = oldAssociations_1_1.value;
                                                                            //
                                                                            if (!(association.downBillDataIdPath == association1.downBillDataIdPath) ||
                                                                                !(association.downBillTableCodePath == association1.downBillTableCodePath) ||
                                                                                !(association.upBillDataIdPath == association1.upBillDataIdPath) ||
                                                                                !(association.upBillTableCodePath == association1.upBillTableCodePath)) {
                                                                                i++;
                                                                            }
                                                                        }
                                                                    }
                                                                    catch (e_6_1) {
                                                                        e_6 = { error: e_6_1 };
                                                                    }
                                                                    finally {
                                                                        try {
                                                                            if (oldAssociations_1_1 && !oldAssociations_1_1.done && (_d = oldAssociations_1.return))
                                                                                _d.call(oldAssociations_1);
                                                                        }
                                                                        finally {
                                                                            if (e_6)
                                                                                throw e_6.error;
                                                                        }
                                                                    }
                                                                    if (i == oldAssociations.length) {
                                                                        oldAssociations.push(association);
                                                                    }
                                                                }
                                                            }
                                                            catch (e_5_1) {
                                                                e_5 = { error: e_5_1 };
                                                            }
                                                            finally {
                                                                try {
                                                                    if (_h && !_h.done && (_c = _g.return))
                                                                        _c.call(_g);
                                                                }
                                                                finally {
                                                                    if (e_5)
                                                                        throw e_5.error;
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                                catch (e_4_1) {
                                                    e_4 = { error: e_4_1 };
                                                }
                                                finally {
                                                    try {
                                                        if (oldBillDataInfos_1_1 && !oldBillDataInfos_1_1.done && (_b = oldBillDataInfos_1.return))
                                                            _b.call(oldBillDataInfos_1);
                                                    }
                                                    finally {
                                                        if (e_4)
                                                            throw e_4.error;
                                                    }
                                                }
                                            }
                                            else {
                                                oldBillDataInfos.push(billDataInfo);
                                            }
                                        }
                                    }
                                    catch (e_3_1) {
                                        e_3 = { error: e_3_1 };
                                    }
                                    finally {
                                        try {
                                            if (_f && !_f.done && (_a = _e.return))
                                                _a.call(_e);
                                        }
                                        finally {
                                            if (e_3)
                                                throw e_3.error;
                                        }
                                    }
                                }
                            };
                            try {
                                for (var originalDownBillInfos_1 = __values(originalDownBillInfos), originalDownBillInfos_1_1 = originalDownBillInfos_1.next(); !originalDownBillInfos_1_1.done; originalDownBillInfos_1_1 = originalDownBillInfos_1.next()) {
                                    var oldDownBillInfo = originalDownBillInfos_1_1.value;
                                    _loop_1(oldDownBillInfo);
                                }
                            }
                            catch (e_2_1) {
                                e_2 = { error: e_2_1 };
                            }
                            finally {
                                try {
                                    if (originalDownBillInfos_1_1 && !originalDownBillInfos_1_1.done && (_b = originalDownBillInfos_1.return))
                                        _b.call(originalDownBillInfos_1);
                                }
                                finally {
                                    if (e_2)
                                        throw e_2.error;
                                }
                            }
                        }
                        else {
                            originalVoIds.push(downBillInfo.schemaId);
                            originalDownBillInfos.push(downBillInfo);
                        }
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (downBillInfos_1_1 && !downBillInfos_1_1.done && (_a = downBillInfos_1.return))
                            _a.call(downBillInfos_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return originalDownBillInfos;
            };
        /**
         * @param {?} originalUpBillInfos
         * @param {?} upBillInfos
         * @return {?}
         */
        TrackingHelper.concatUpBillInfos = /**
         * @param {?} originalUpBillInfos
         * @param {?} upBillInfos
         * @return {?}
         */
            function (originalUpBillInfos, upBillInfos) {
                var e_7, _a, e_8, _b;
                if (originalUpBillInfos == null) {
                    originalUpBillInfos = new Array();
                }
                if (upBillInfos == null || upBillInfos.length == 0) {
                    return originalUpBillInfos;
                }
                /** @type {?} */
                var originalVoIds = new Array();
                originalUpBillInfos.forEach(( /**
                 * @param {?} info
                 * @return {?}
                 */function (info) {
                    originalVoIds.push(info.schemaId);
                }));
                try {
                    for (var upBillInfos_1 = __values(upBillInfos), upBillInfos_1_1 = upBillInfos_1.next(); !upBillInfos_1_1.done; upBillInfos_1_1 = upBillInfos_1.next()) {
                        var upBillInfo = upBillInfos_1_1.value;
                        //
                        if (originalVoIds.includes(upBillInfo.schemaId)) {
                            var _loop_2 = function (oldUpBillInfo) {
                                var e_9, _a, e_10, _b, e_11, _c, e_12, _d;
                                if (oldUpBillInfo.schemaId == upBillInfo.schemaId) {
                                    /** @type {?} */
                                    var oldBillDataInfos = oldUpBillInfo.billDataInfos;
                                    /** @type {?} */
                                    var dataIds_2 = new Array();
                                    oldBillDataInfos.forEach(( /**
                                     * @param {?} dataInfo
                                     * @return {?}
                                     */function (dataInfo) { return dataIds_2.push(dataInfo.dataId); }));
                                    try {
                                        for (var _e = __values(upBillInfo.billDataInfos), _f = _e.next(); !_f.done; _f = _e.next()) {
                                            var billDataInfo = _f.value;
                                            //
                                            if (dataIds_2.includes(billDataInfo.dataId)) {
                                                try {
                                                    for (var oldBillDataInfos_2 = __values(oldBillDataInfos), oldBillDataInfos_2_1 = oldBillDataInfos_2.next(); !oldBillDataInfos_2_1.done; oldBillDataInfos_2_1 = oldBillDataInfos_2.next()) {
                                                        var oldBillDataInfo = oldBillDataInfos_2_1.value;
                                                        if (oldBillDataInfo.dataId == billDataInfo.dataId) {
                                                            /** @type {?} */
                                                            var oldAssociations = oldBillDataInfo.trackingMappingAssociations;
                                                            try {
                                                                for (var _g = __values(billDataInfo.trackingMappingAssociations), _h = _g.next(); !_h.done; _h = _g.next()) {
                                                                    var association = _h.value;
                                                                    /** @type {?} */
                                                                    var i = 0;
                                                                    try {
                                                                        for (var oldAssociations_2 = __values(oldAssociations), oldAssociations_2_1 = oldAssociations_2.next(); !oldAssociations_2_1.done; oldAssociations_2_1 = oldAssociations_2.next()) {
                                                                            var association1 = oldAssociations_2_1.value;
                                                                            //
                                                                            if (!(association.downBillDataIdPath == association1.downBillDataIdPath) ||
                                                                                !(association.downBillTableCodePath == association1.downBillTableCodePath) ||
                                                                                !(association.upBillDataIdPath == association1.upBillDataIdPath) ||
                                                                                !(association.upBillTableCodePath == association1.upBillTableCodePath)) {
                                                                                i++;
                                                                            }
                                                                        }
                                                                    }
                                                                    catch (e_12_1) {
                                                                        e_12 = { error: e_12_1 };
                                                                    }
                                                                    finally {
                                                                        try {
                                                                            if (oldAssociations_2_1 && !oldAssociations_2_1.done && (_d = oldAssociations_2.return))
                                                                                _d.call(oldAssociations_2);
                                                                        }
                                                                        finally {
                                                                            if (e_12)
                                                                                throw e_12.error;
                                                                        }
                                                                    }
                                                                    if (i == oldAssociations.length) {
                                                                        oldAssociations.push(association);
                                                                    }
                                                                }
                                                            }
                                                            catch (e_11_1) {
                                                                e_11 = { error: e_11_1 };
                                                            }
                                                            finally {
                                                                try {
                                                                    if (_h && !_h.done && (_c = _g.return))
                                                                        _c.call(_g);
                                                                }
                                                                finally {
                                                                    if (e_11)
                                                                        throw e_11.error;
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                                catch (e_10_1) {
                                                    e_10 = { error: e_10_1 };
                                                }
                                                finally {
                                                    try {
                                                        if (oldBillDataInfos_2_1 && !oldBillDataInfos_2_1.done && (_b = oldBillDataInfos_2.return))
                                                            _b.call(oldBillDataInfos_2);
                                                    }
                                                    finally {
                                                        if (e_10)
                                                            throw e_10.error;
                                                    }
                                                }
                                            }
                                            else {
                                                oldBillDataInfos.push(billDataInfo);
                                            }
                                        }
                                    }
                                    catch (e_9_1) {
                                        e_9 = { error: e_9_1 };
                                    }
                                    finally {
                                        try {
                                            if (_f && !_f.done && (_a = _e.return))
                                                _a.call(_e);
                                        }
                                        finally {
                                            if (e_9)
                                                throw e_9.error;
                                        }
                                    }
                                }
                            };
                            try {
                                for (var originalUpBillInfos_1 = __values(originalUpBillInfos), originalUpBillInfos_1_1 = originalUpBillInfos_1.next(); !originalUpBillInfos_1_1.done; originalUpBillInfos_1_1 = originalUpBillInfos_1.next()) {
                                    var oldUpBillInfo = originalUpBillInfos_1_1.value;
                                    _loop_2(oldUpBillInfo);
                                }
                            }
                            catch (e_8_1) {
                                e_8 = { error: e_8_1 };
                            }
                            finally {
                                try {
                                    if (originalUpBillInfos_1_1 && !originalUpBillInfos_1_1.done && (_b = originalUpBillInfos_1.return))
                                        _b.call(originalUpBillInfos_1);
                                }
                                finally {
                                    if (e_8)
                                        throw e_8.error;
                                }
                            }
                        }
                        else {
                            originalVoIds.push(upBillInfo.schemaId);
                            originalUpBillInfos.push(upBillInfo);
                        }
                    }
                }
                catch (e_7_1) {
                    e_7 = { error: e_7_1 };
                }
                finally {
                    try {
                        if (upBillInfos_1_1 && !upBillInfos_1_1.done && (_a = upBillInfos_1.return))
                            _a.call(upBillInfos_1);
                    }
                    finally {
                        if (e_7)
                            throw e_7.error;
                    }
                }
                return originalUpBillInfos;
            };
        return TrackingHelper;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/UpBillInfo.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var UpBillInfo = /** @class */ (function (_super) {
        __extends(UpBillInfo, _super);
        function UpBillInfo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return UpBillInfo;
    }(BillInfo));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/typeToFormat.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {string} */
    var TypeToFormat = {
        DEFAULT: "DEFAULT",
        DATE: "DATE",
        DECIMAL: "DECIMAL",
        STRING: "STRING",
    };

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/FieldsWithOrder.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FieldsWithOrder = /** @class */ (function (_super) {
        __extends(FieldsWithOrder, _super);
        function FieldsWithOrder() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            /**
             * 
             */
            _this.typeToFormat = TypeToFormat.DEFAULT;
            return _this;
        }
        /**
         * @protected
         * @return {?}
         */
        FieldsWithOrder.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.order = 0;
                this.fieldName = null;
                this.fieldPath = null;
                this.name = null;
                this.customName = null;
                this.colI18nValues = null;
                this.typeToFormat = TypeToFormat.DEFAULT;
                this.formatInfo = null;
                this.version = 0;
            };
        /**
         * @return {?}
         */
        FieldsWithOrder.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "order", this.order);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "name", this.name);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "fieldName", this.fieldName);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "fieldPath", this.fieldPath);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "customName", this.customName);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "colI18nValues", this.colI18nValues);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "typeToFormat", this.typeToFormat);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "formatInfo", this.formatInfo);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "version", this.version);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        FieldsWithOrder.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.order = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsNumber(obj, "order");
                this.name = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "name");
                this.fieldName = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "fieldName");
                this.fieldPath = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "fieldPath");
                this.customName = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "customName");
                this.colI18nValues = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "colI18nValues");
                this.typeToFormat = TypeToFormat[commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "typeToFormat")];
                this.formatInfo = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "formatInfo");
                this.version = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsNumber(obj, "version");
            };
        return FieldsWithOrder;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/SummaryFieldsInfo.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SummaryFieldsInfo = /** @class */ (function (_super) {
        __extends(SummaryFieldsInfo, _super);
        function SummaryFieldsInfo() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.fields = [];
            _this.childFieldInfos = [];
            return _this;
        }
        /**
         * @protected
         * @return {?}
         */
        SummaryFieldsInfo.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.code = null;
                this.fields = [];
                this.childFieldInfos = [];
            };
        /**
         * @return {?}
         */
        SummaryFieldsInfo.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "code", this.code);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "fields", this.fields);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "childFieldInfos", this.childFieldInfos);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        SummaryFieldsInfo.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.code = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "code");
                this.fields = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsList(obj, "fields", FieldsWithOrder);
                this.childFieldInfos = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsList(obj, "childFieldInfos", SummaryFieldsInfo);
            };
        return SummaryFieldsInfo;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/FieldNameAndValue.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FieldNameAndValue = /** @class */ (function (_super) {
        __extends(FieldNameAndValue, _super);
        function FieldNameAndValue() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        FieldNameAndValue.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.name = null;
                this.value = null;
            };
        /**
         * @return {?}
         */
        FieldNameAndValue.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "name", this.name);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "value", this.value);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        FieldNameAndValue.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.name = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "name");
                this.value = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "value");
            };
        return FieldNameAndValue;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/DateTypeFormatInfo.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var DateTypeFormatInfo = /** @class */ (function (_super) {
        __extends(DateTypeFormatInfo, _super);
        function DateTypeFormatInfo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        DateTypeFormatInfo.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.displayFormat = null;
            };
        /**
         * @return {?}
         */
        DateTypeFormatInfo.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "displayFormat", this.displayFormat);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        DateTypeFormatInfo.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.displayFormat = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "displayFormat");
            };
        return DateTypeFormatInfo;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/ScaleMode.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {string} */
    var ScaleMode = {
        DEFAULT: "DEFAULT",
        NUMBER: "NUMBER",
        FIELD: "FIELD",
        EXPRESSION: "EXPRESSION",
    };

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/DecimalTypeFormatInfo.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var DecimalTypeFormatInfo = /** @class */ (function (_super) {
        __extends(DecimalTypeFormatInfo, _super);
        function DecimalTypeFormatInfo() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.scaleMode = ScaleMode.DEFAULT;
            return _this;
        }
        /**
         * @protected
         * @return {?}
         */
        DecimalTypeFormatInfo.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.scale = 0;
                this.scaleMode = ScaleMode.DEFAULT;
                this.fieldPath = null;
                this.version = 0;
            };
        /**
         * @return {?}
         */
        DecimalTypeFormatInfo.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "scale", this.scale);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "scale", this.scale);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "scaleMode", this.scaleMode);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "fieldPath", this.fieldPath);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "version", this.version);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        DecimalTypeFormatInfo.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.scale = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsNumber(obj, "scale");
                /** @type {?} */
                var scaleMode = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "scaleMode");
                this.scaleMode = scaleMode == null ? ScaleMode.DEFAULT : ScaleMode[scaleMode];
                this.fieldPath = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "fieldPath");
                this.version = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsNumber(obj, "version");
            };
        return DecimalTypeFormatInfo;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/typeToFormat.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {string} */
    var TypeToFormat$1 = {
        DEFAULT: "DEFAULT",
        DATE: "DATE",
        DECIMAL: "DECIMAL",
        STRING: "STRING",
    };

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/JointQueryParameterContent.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var JointQueryParameterContent = /** @class */ (function (_super) {
        __extends(JointQueryParameterContent, _super);
        function JointQueryParameterContent() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        JointQueryParameterContent.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.parameterCode = null;
            };
        /**
         * @return {?}
         */
        JointQueryParameterContent.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "parameterCode", this.parameterCode);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        JointQueryParameterContent.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.parameterCode = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "parameterCode");
            };
        return JointQueryParameterContent;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/ExpressionJointQueryParameterContent.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ExpressionJointQueryParameterContent = /** @class */ (function (_super) {
        __extends(ExpressionJointQueryParameterContent, _super);
        function ExpressionJointQueryParameterContent() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        ExpressionJointQueryParameterContent.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.expressionContent = null;
            };
        /**
         * @return {?}
         */
        ExpressionJointQueryParameterContent.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "expressionContent", this.expressionContent);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        ExpressionJointQueryParameterContent.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.expressionContent = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "expressionContent");
            };
        return ExpressionJointQueryParameterContent;
    }(JointQueryParameterContent));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/FieldJointQueryParameterContent.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FieldJointQueryParameterContent = /** @class */ (function (_super) {
        __extends(FieldJointQueryParameterContent, _super);
        function FieldJointQueryParameterContent() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        FieldJointQueryParameterContent.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.fieldContent = null;
            };
        /**
         * @return {?}
         */
        FieldJointQueryParameterContent.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "fieldContent", this.fieldContent);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        FieldJointQueryParameterContent.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.fieldContent = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "fieldContent");
            };
        return FieldJointQueryParameterContent;
    }(JointQueryParameterContent));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/JointQueryParameterMode.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {string} */
    var JointQueryParameterMode = {
        FIELD: "FIELD",
        EXPRESSION: "EXPRESSION",
        COMPONENT: "COMPONENT",
    };

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/JointQueryParameterResult.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var JointQueryParameterResult = /** @class */ (function (_super) {
        __extends(JointQueryParameterResult, _super);
        function JointQueryParameterResult() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        JointQueryParameterResult.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.code = null;
                this.value = null;
            };
        /**
         * @return {?}
         */
        JointQueryParameterResult.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "code", this.code);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "value", this.value);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        JointQueryParameterResult.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.code = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "code");
                this.value = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "value");
            };
        return JointQueryParameterResult;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/JointQueryParametersContent.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var JointQueryParametersContent = /** @class */ (function (_super) {
        __extends(JointQueryParametersContent, _super);
        function JointQueryParametersContent() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.jointQueryParameterMode = JointQueryParameterMode.FIELD;
            return _this;
        }
        /**
         * @protected
         * @return {?}
         */
        JointQueryParametersContent.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.jointQueryParameterMode = JointQueryParameterMode.FIELD;
                this.content = null;
            };
        /**
         * @return {?}
         */
        JointQueryParametersContent.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "jointQueryParameterMode", this.jointQueryParameterMode);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "content", this.content);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        JointQueryParametersContent.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.jointQueryParameterMode = JointQueryParameterMode[commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "jointQueryParameterMode")];
                this.content = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "content");
            };
        return JointQueryParametersContent;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/SimpleValueMappingInfo.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SimpleValueMappingInfo = /** @class */ (function (_super) {
        __extends(SimpleValueMappingInfo, _super);
        function SimpleValueMappingInfo() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        SimpleValueMappingInfo.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.displayValue = null;
                this.actualValue = null;
            };
        /**
         * @return {?}
         */
        SimpleValueMappingInfo.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "displayValue", this.displayValue);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "actualValue", this.actualValue);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        SimpleValueMappingInfo.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.displayValue = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "displayValue");
                this.actualValue = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "actualValue");
            };
        return SimpleValueMappingInfo;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/StringDisplayMode.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {string} */
    var StringDisplayMode = {
        SIMPLEVALUEMAPPING: "SIMPLEVALUEMAPPING",
    };

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/StringTypeFormatInfo.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StringTypeFormatInfo = /** @class */ (function (_super) {
        __extends(StringTypeFormatInfo, _super);
        function StringTypeFormatInfo() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.stringDisplayMode = StringDisplayMode.SIMPLEVALUEMAPPING;
            _this.simpleValueMappingInfos = [];
            return _this;
        }
        /**
         * @protected
         * @return {?}
         */
        StringTypeFormatInfo.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.stringDisplayMode = StringDisplayMode.SIMPLEVALUEMAPPING;
                this.simpleValueMappingInfos = [];
            };
        /**
         * @return {?}
         */
        StringTypeFormatInfo.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "stringDisplayMode", this.stringDisplayMode);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "simpleValueMappingInfos", this.simpleValueMappingInfos);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        StringTypeFormatInfo.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.stringDisplayMode = StringDisplayMode[commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "stringDisplayMode")];
                this.simpleValueMappingInfos = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsList(obj, "simpleValueMappingInfos", SimpleValueMappingInfo);
            };
        return StringTypeFormatInfo;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/index.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/index.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bif-manual-creation/config/bif-form-constants.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var BIF_UISTATE_KEY_OPEN_TYPE = "abdbaec8-0bbe-4894-acee-b8d493bc4e1c";
    /** @type {?} */
    var BIF_UISTATE_KEY_CREATION_RESULT = "5eb32009-1d86-43df-96c8-8d685aea4e66";

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bif-manual-creation/config/module.config.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ModuleConfig = /** @class */ (function () {
        function ModuleConfig() {
        }
        return ModuleConfig;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bif-manual-creation/config/selector-args-injector.config.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var SELECTOR_ARGS_INJECTOR = new core$1.InjectionToken("SELECTOR_ARGS_INJECTOR");
    /** @type {?} */
    var DEFAULT_SELECTOR_ARGS = {
        upBillVoId: null,
        downBillVoId: null,
        manaualCreationMode: null
    };

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bif-manual-creation/config/index.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bif-manual-creation/args/PushTaskArgs.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PushTaskArgs = /** @class */ (function (_super) {
        __extends(PushTaskArgs, _super);
        function PushTaskArgs() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        PushTaskArgs.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.suCode = null;
                this.creationRuleExecutorResult = null;
            };
        /**
         * @return {?}
         */
        PushTaskArgs.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "suCode", this.suCode);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "creationRuleExecutorResult", this.creationRuleExecutorResult);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        PushTaskArgs.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.suCode = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "suCode");
                this.creationRuleExecutorResult = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsJsonSerializable(obj, "creationRuleExecutorResult", runtimeApi.RpcCreationRuleExecutorResult);
            };
        return PushTaskArgs;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bif-manual-creation/args/GetEntityDatasArgs.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GetEntityDatasArgs = /** @class */ (function (_super) {
        __extends(GetEntityDatasArgs, _super);
        function GetEntityDatasArgs() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        GetEntityDatasArgs.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.voId = null;
                this.dataId = null;
                this.suCode = null;
            };
        /**
         * @return {?}
         */
        GetEntityDatasArgs.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "schemaId", this.voId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "dataId", this.dataId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "suCode", this.suCode);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        GetEntityDatasArgs.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.voId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "schemaId");
                this.dataId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "dataId");
                this.suCode = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "suCode");
            };
        return GetEntityDatasArgs;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bif-manual-creation/args/index.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bif-manual-creation/i18n/lang.resource.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var LANG_RESOURCES = {
        "zh-CHS": {
            "confirm": "",
            "cancel": "",
            "emptyResult": "",
            "selectUpstreamBill": "",
            "selectDownstreamBill": "",
            "selectCreationProcess": "",
            "processDesciption": "",
            "creationProcessSelector": "",
            "upstreamBillSelector": "",
            "creationExecutionError": "",
            "creationResultEmpty": "",
            "pushTaskCenterSuccess": "",
            "pushTaskCenterFailed": "",
        },
        "en": {
            "confirm": "confirm",
            "cancel": "cancel",
            "emptyResult": "The result is empty",
            "selectUpstreamBill": "Select upstream bill",
            "selectDownstreamBill": "Select downstream bill",
            "selectCreationProcess": "Select creation process",
            "processDesciption": "Desciption",
            "creationProcessSelector": "CreationRule Selector",
            "upstreamBillSelector": "Upstream Bill Selector",
            "creationExecutionError": "Creation Process Execution Error",
            "creationResultEmpty": "Creation result is empty",
            "pushTaskCenterSuccess": "Success to push data to task center",
            "pushTaskCenterFailed": "Failed to push data to task center",
        },
        "zh-CHT": {
            "confirm": "",
            "cancel": "",
            "emptyResult": "",
            "selectUpstreamBill": "",
            "selectDownstreamBill": "",
            "selectCreationProcess": "",
            "processDesciption": "",
            "creationProcessSelector": "",
            "upstreamBillSelector": "",
            "creationExecutionError": "",
            "creationResultEmpty": "",
            "pushTaskCenterSuccess": "",
            "pushTaskCenterFailed": "",
        }
    };

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bif-manual-creation/pipe/locale.pipe.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var LocalePipe = /** @class */ (function () {
        function LocalePipe(localeId) {
            this.langCode = localeId || "zh-CHS";
            this.lang = LANG_RESOURCES[this.langCode];
        }
        /**
         * @param {?} name
         * @return {?}
         */
        LocalePipe.prototype.transform = /**
         * @param {?} name
         * @return {?}
         */
            function (name) {
                return this.lang[name] || name;
            };
        LocalePipe.decorators = [
            { type: core$1.Pipe, args: [{ name: 'locale' },] }
        ];
        /** @nocollapse */
        LocalePipe.ctorParameters = function () {
            return [
                { type: String, decorators: [{ type: core$1.Inject, args: [core$1.LOCALE_ID,] }] }
            ];
        };
        return LocalePipe;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bif-manual-creation/service/bif-data.service.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BifDataService = /** @class */ (function () {
        function BifDataService(httpClient, repository, injector, cfr, loader, modal, messager, frameContext, localeId, runtimeFrameworkService, localePipe, httpService) {
            this.httpClient = httpClient;
            this.injector = injector;
            this.cfr = cfr;
            this.loader = loader;
            this.modal = modal;
            this.messager = messager;
            this.frameContext = frameContext;
            this.localeId = localeId;
            this.runtimeFrameworkService = runtimeFrameworkService;
            this.localePipe = localePipe;
            this.httpService = httpService;
            this.getBillCreationProcessEntityExByIdUrl = "/api/runtime/aif/v1.0/manualcreationbill/getbillcreationprocessentityex";
            this.getBillCreationProcessEntityExByIdMethod = "GET";
            this.getBillCreationProcessEntityExUrl = "/api/runtime/aif/v1.0/manualcreationbill/getbillcreationprocessentityexes";
            this.getBillCreationProcessEntityExMethod = "POST";
            this.executeBillCreationProcessUrl = "/api/runtime/aif/v1.0/manualcreationbill/executebillcreationprocess";
            this.executeBillCreationProcessMethod = "POST";
            this.formCreateUrl = "/api/runtime/aif/v1.0/form/create";
            this.formCreateMethod = "POST";
            this.formUpdateUrl = "/api/runtime/aif/v1.0/form/update";
            this.formUpdateMethod = "POST";
            this.generalTextUrl = "/api/runtime/aif/v1.0/generaltext";
            this.generalTextMethod = "GET";
            this.generalTextCreationMethod = "POST";
            this.pushTaskUrl = "/api/runtime/aif/v1.0/manualcreationbill/pushtask";
            this.pushTaskMethod = "POST";
            this.getEntityDatasUrl = "/api/runtime/aif/v1.0/manualcreationbill/getentitydatas";
            this.getEntityDatasMethod = "POST";
            this.repository = ( /** @type {?} */(repository));
            this.injector = this.injector != null ? this.injector : this.repository.appContext.injector;
            this.cfr = this.cfr != null ? this.cfr : this.injector.get(core$1.ComponentFactoryResolver, null);
            this.loader = this.loader != null ? this.loader : this.injector.get(core$1.NgModuleFactoryLoader, null);
            this.modal = this.modal != null ? this.modal : this.injector.get(uiModal.BsModalService, null);
            this.messager = this.messager != null ? this.messager : this.injector.get(uiMessager.MessagerService, null);
            this.frameContext = this.frameContext != null ? this.frameContext : this.injector.get(devkit.FrameContext, null);
            this.localeId = this.localeId != null ? this.localeId : this.injector.get(core$1.LOCALE_ID, localStorage.getItem('languageCode') || 'zh-CHS');
            this.runtimeFrameworkService = this.runtimeFrameworkService != null ? this.runtimeFrameworkService : this.injector.get(commandServices.RuntimeFrameworkService, null);
            this.localePipe = this.localePipe != null ? this.localePipe : this.injector.get(LocalePipe, new LocalePipe(this.localeId));
            this.httpService = this.httpService != null ? this.httpService : this.injector.get(cafCommon.HttpService, null);
        }
        /**
         *  VO Id
         *
         * @param upBillVoId  VO Id
         * @return 
         */
        /**
         *  VO Id
         *
         * @param {?} upBillVoId  VO Id
         * @return {?} 
         */
        BifDataService.prototype.getSlimBillCreationProcessEntityExesByUpBillVoId4Push = /**
         *  VO Id
         *
         * @param {?} upBillVoId  VO Id
         * @return {?} 
         */
            function (upBillVoId) {
                /** @type {?} */
                var args = new FormGetBillCreationProcessEntityExArgs();
                args.upBillVoId = upBillVoId;
                args.manualCreationMode = ManualCreationMode.Push;
                return this.getSlimBillCreationProcessEntityExes(args).pipe(operators.map(( /**
                 * @param {?} res
                 * @return {?}
                 */function (res) {
                    return res.billCreationProcessEntityExes;
                })));
            };
        /**
         *  VO Id
         *
         * @param downBillVoId  VO Id
         * @return 
         */
        /**
         *  VO Id
         *
         * @param {?} downBillVoId  VO Id
         * @return {?} 
         */
        BifDataService.prototype.getSlimBillCreationProcessEntityExesByDownBillVoId4Pull = /**
         *  VO Id
         *
         * @param {?} downBillVoId  VO Id
         * @return {?} 
         */
            function (downBillVoId) {
                /** @type {?} */
                var args = new FormGetBillCreationProcessEntityExArgs();
                args.downBillVoId = downBillVoId;
                args.manualCreationMode = ManualCreationMode.Pull;
                return this.getSlimBillCreationProcessEntityExes(args).pipe(operators.map(( /**
                 * @param {?} res
                 * @return {?}
                 */function (res) {
                    return res.billCreationProcessEntityExes;
                })), operators.catchError(( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    try {
                        if (typeof err.error == "string") {
                            err.error = JSON.parse(err.error);
                        }
                    }
                    catch (e) {
                    }
                    throw err;
                })));
            };
        /**
         *  VO Id VO Id
         *
         * @param upBillVoId  VO Id
         * @param downBillVoId  VO Id
         * @return 
         */
        /**
         *  VO Id VO Id
         *
         * @param {?} upBillVoId  VO Id
         * @param {?} downBillVoId  VO Id
         * @return {?} 
         */
        BifDataService.prototype.getSlimBillCreationProcessEntityExesByUpBillVoIdAndDownBillVoId4SpecificPush = /**
         *  VO Id VO Id
         *
         * @param {?} upBillVoId  VO Id
         * @param {?} downBillVoId  VO Id
         * @return {?} 
         */
            function (upBillVoId, downBillVoId) {
                /** @type {?} */
                var args = new FormGetBillCreationProcessEntityExArgs();
                args.upBillVoId = upBillVoId;
                args.downBillVoId = downBillVoId;
                args.manualCreationMode = ManualCreationMode.SpecificPush;
                return this.getSlimBillCreationProcessEntityExes(args).pipe(operators.map(( /**
                 * @param {?} res
                 * @return {?}
                 */function (res) {
                    return res.billCreationProcessEntityExes;
                })), operators.catchError(( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    try {
                        if (typeof err.error == "string") {
                            err.error = JSON.parse(err.error);
                        }
                    }
                    catch (e) {
                    }
                    throw err;
                })));
            };
        /**
         *  VO Id VO Id
         *
         * @param upBillVoId  VO Id
         * @param downBillVoId  VO Id
         * @return 
         */
        /**
         *  VO Id VO Id
         *
         * @param {?} upBillVoId  VO Id
         * @param {?} downBillVoId  VO Id
         * @return {?} 
         */
        BifDataService.prototype.getSlimBillCreationProcessEntityExesByUpBillVoIdAndDownBillVoId4SpecificPull = /**
         *  VO Id VO Id
         *
         * @param {?} upBillVoId  VO Id
         * @param {?} downBillVoId  VO Id
         * @return {?} 
         */
            function (upBillVoId, downBillVoId) {
                /** @type {?} */
                var args = new FormGetBillCreationProcessEntityExArgs();
                args.upBillVoId = upBillVoId;
                args.downBillVoId = downBillVoId;
                args.manualCreationMode = ManualCreationMode.SpecificPull;
                return this.getSlimBillCreationProcessEntityExes(args).pipe(operators.map(( /**
                 * @param {?} res
                 * @return {?}
                 */function (res) {
                    return res.billCreationProcessEntityExes;
                })), operators.catchError(( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    try {
                        if (typeof err.error == "string") {
                            err.error = JSON.parse(err.error);
                        }
                    }
                    catch (e) {
                    }
                    throw err;
                })));
            };
        /**
         * 
         */
        /**
         * 
         * @param {?} processId
         * @return {?}
         */
        BifDataService.prototype.getSlimBillCreationProcessEntityExById = /**
         * 
         * @param {?} processId
         * @return {?}
         */
            function (processId) {
                /** @type {?} */
                var getCreationRuleById$ = null;
                if (this.httpService != null) {
                    getCreationRuleById$ = ( /** @type {?} */(this.httpService.request(this.getBillCreationProcessEntityExByIdMethod, this.getBillCreationProcessEntityExByIdUrl + "/" + processId, {})));
                }
                else {
                    getCreationRuleById$ = this.repository.proxy.request(this.getBillCreationProcessEntityExByIdUrl + "/" + processId, this.getBillCreationProcessEntityExByIdMethod, null);
                }
                return getCreationRuleById$;
            };
        /**
         * 
         * @param formSettingsId
         */
        /**
         * 
         * @param {?} formSettingsId
         * @return {?}
         */
        BifDataService.prototype.getFormSettingsById = /**
         * 
         * @param {?} formSettingsId
         * @return {?}
         */
            function (formSettingsId) {
                if (formSettingsId == null || formSettingsId.trim() == "") {
                    throw "FormSettingsId";
                }
                /** @type {?} */
                var formSettings$ = null;
                if (this.httpService != null) {
                    formSettings$ = ( /** @type {?} */(this.httpService.request(this.generalTextMethod, this.generalTextUrl + "/" + formSettingsId, { responseType: "text" })));
                }
                else {
                    formSettings$ = this.repository.proxy.request(this.generalTextUrl + "/" + formSettingsId, this.generalTextMethod, null, { responseType: "text" });
                }
                return formSettings$.pipe(operators.map(( /**
                 * @param {?} data
                 * @return {?}
                 */function (data) {
                    /** @type {?} */
                    var generateText = new commonApi.GeneralTextEntity();
                    generateText.LoadFromJson(data);
                    /** @type {?} */
                    var formSettings = new commonApi.FormSettings();
                    formSettings.LoadFromJson(generateText.text);
                    return formSettings;
                })), operators.catchError(( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    try {
                        if (typeof err.error == "string") {
                            err.error = JSON.parse(err.error);
                        }
                    }
                    catch (e) {
                    }
                    throw err;
                })));
            };
        /**
         * 
         * @param creationResultId
         */
        /**
         * 
         * @param {?} creationResultId
         * @return {?}
         */
        BifDataService.prototype.getCreationResultById = /**
         * 
         * @param {?} creationResultId
         * @return {?}
         */
            function (creationResultId) {
                if (creationResultId == null || creationResultId.trim() == "") {
                    throw "creationResultId";
                }
                /** @type {?} */
                var creationResult$ = null;
                if (this.httpService != null) {
                    creationResult$ = ( /** @type {?} */(this.httpService.request(this.generalTextMethod, this.generalTextUrl + "/" + creationResultId, { responseType: "text" })));
                }
                else {
                    creationResult$ = this.repository.proxy.request(this.generalTextUrl + "/" + creationResultId, this.generalTextMethod, null, { responseType: "text" });
                }
                return creationResult$.pipe(operators.map(( /**
                 * @param {?} data
                 * @return {?}
                 */function (data) {
                    /** @type {?} */
                    var generateText = new commonApi.GeneralTextEntity();
                    generateText.LoadFromJson(data);
                    /** @type {?} */
                    var creationResult = new runtimeApi.FormBillCreationProcessExecutorResult();
                    creationResult.LoadFromJson(generateText.text);
                    return creationResult;
                })), operators.catchError(( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    try {
                        if (typeof err.error == "string") {
                            err.error = JSON.parse(err.error);
                        }
                    }
                    catch (e) {
                    }
                    throw err;
                })));
            };
        /**
         * 
         */
        /**
         * 
         * @param {?} creationResult
         * @return {?}
         */
        BifDataService.prototype.addFormBillCreationProcessExecutorResult = /**
         * 
         * @param {?} creationResult
         * @return {?}
         */
            function (creationResult) {
                if (creationResult == null) {
                    throw "creationResult";
                }
                if (typeof creationResult == "string") {
                    if (creationResult == "") {
                        throw "creationResult";
                    }
                    /** @type {?} */
                    var temp = new runtimeApi.FormBillCreationProcessExecutorResult();
                    temp.LoadFromJson(creationResult);
                    creationResult = temp;
                }
                if ((creationResult instanceof runtimeApi.FormBillCreationProcessExecutorResult) == false) {
                    /** @type {?} */
                    var res = new runtimeApi.FormBillCreationProcessExecutorResult();
                    res.LoadFromJsonObject(creationResult);
                    creationResult = res;
                }
                if (creationResult.conditionResult.conditionExecutionResult == false) {
                    this.messager.error(creationResult.conditionResult.message || this.localePipe.transform("creationExecutionError"));
                    return;
                }
                if (creationResult.creationRuleExecutorResult == null || creationResult.creationRuleExecutorResult.mappingResults == null || creationResult.creationRuleExecutorResult.mappingResults.length == 0) {
                    this.messager.error(this.localePipe.transform("creationResultEmpty"));
                    return;
                }
                /** @type {?} */
                var body = creationResult.ConvertToJson();
                /** @type {?} */
                var options = {
                    body: body,
                    responseType: "text"
                };
                /** @type {?} */
                var creationResult$ = null;
                if (this.httpService != null) {
                    creationResult$ = ( /** @type {?} */(this.httpService.request(this.generalTextCreationMethod, "" + this.generalTextUrl, options)));
                }
                else {
                    creationResult$ = this.repository.proxy.request("" + this.generalTextUrl, this.generalTextCreationMethod, null, options);
                }
                return creationResult$.pipe(operators.map(( /**
                 * @param {?} data
                 * @return {?}
                 */function (data) {
                    /** @type {?} */
                    var texts = ( /** @type {?} */(commonApi.BpmnModelJsonHelper.FromJson(data, GeneralTextIdWithDataId)));
                    return texts;
                })), operators.catchError(( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    try {
                        if (typeof err.error == "string") {
                            err.error = JSON.parse(err.error);
                        }
                    }
                    catch (e) {
                    }
                    throw err;
                })));
            };
        /**
         * 
         */
        /**
         * 
         * @param {?} args
         * @return {?}
         */
        BifDataService.prototype.executeBillCreationProcess = /**
         * 
         * @param {?} args
         * @return {?}
         */
            function (args) {
                if (args.manualCreationMode == null) {
                    throw "manualCreationMode";
                }
                /** @type {?} */
                var body = args.ConvertToJson();
                /** @type {?} */
                var options = {
                    body: body,
                    responseType: "text"
                };
                /** @type {?} */
                var executeCreationRule$ = null;
                if (this.httpService != null) {
                    executeCreationRule$ = this.httpService.request(this.executeBillCreationProcessMethod, this.executeBillCreationProcessUrl, options);
                }
                else {
                    executeCreationRule$ = this.repository.proxy.request(this.executeBillCreationProcessUrl, this.executeBillCreationProcessMethod, null, options);
                }
                return executeCreationRule$.pipe(operators.map(( /**
                 * @param {?} data
                 * @return {?}
                 */function (data) {
                    /** @type {?} */
                    var res = new runtimeApi.FormBillCreationProcessExecutorResult();
                    res.LoadFromJson(data);
                    return res;
                })), operators.catchError(( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    try {
                        if (typeof err.error == "string") {
                            err.error = JSON.parse(err.error);
                        }
                    }
                    catch (e) {
                    }
                    throw err;
                })));
            };
        /**
         * 
         */
        /**
         * 
         * @param {?} args
         * @return {?}
         */
        BifDataService.prototype.createEntityDatas = /**
         * 
         * @param {?} args
         * @return {?}
         */
            function (args) {
                var _this = this;
                /** @type {?} */
                var body = args.ConvertToJson();
                /** @type {?} */
                var options = {
                    body: body,
                    responseType: 'text'
                };
                /** @type {?} */
                var create$ = this.repository.proxy.request(this.formCreateUrl, this.formCreateMethod, null, options);
                return create$.pipe(operators.switchMap(( /**
                 * @param {?} res
                 * @return {?}
                 */function (res) {
                    /** @type {?} */
                    var result = new runtimeApi.FormCreateResult();
                    result.LoadFromJson(res);
                    /** @type {?} */
                    var entities = result.entityDataList.map(( /**
                     * @param {?} entityStr
                     * @return {?}
                     */function (entityStr) {
                        /** @type {?} */
                        var newEntity = _this.repository.buildEntity(JSON.parse(entityStr));
                        _this.appendInitialData(newEntity, newEntity);
                        return newEntity;
                    }));
                    /** @type {?} */
                    var origin = _this.repository.entityCollection.getAllEntities();
                    if (origin == null || origin.length == 0) {
                        _this.repository.entityCollection.loadEntities(entities);
                    }
                    else {
                        _this.repository.entityCollection.addEntities(entities);
                    }
                    return rxjs.of(result);
                })), operators.catchError(( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    try {
                        if (typeof err.error == "string") {
                            err.error = JSON.parse(err.error);
                        }
                    }
                    catch (e) {
                    }
                    throw err;
                })));
            };
        /**
         * 
         * @param args 
         */
        /**
         * 
         * @param {?} args 
         * @return {?}
         */
        BifDataService.prototype.updateEntityDatas = /**
         * 
         * @param {?} args 
         * @return {?}
         */
            function (args) {
                /** @type {?} */
                var body = args.ConvertToJson();
                /** @type {?} */
                var options = {
                    body: body,
                    responseType: "text"
                };
                /** @type {?} */
                var update$ = this.repository.proxy.request(this.formUpdateUrl, this.formUpdateMethod, null, options);
                return update$.pipe(operators.map(( /**
                 * @param {?} data
                 * @return {?}
                 */function (data) {
                    /** @type {?} */
                    var res = new runtimeApi.FormUpdateResult();
                    res.LoadFromJson(data);
                    return res;
                })), operators.catchError(( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    try {
                        if (typeof err.error == "string") {
                            err.error = JSON.parse(err.error);
                        }
                    }
                    catch (e) {
                    }
                    throw err;
                })));
            };
        /**
         * 
         * @param args 
         * @returns
         */
        /**
         * 
         * @param {?} args 
         * @return {?}
         */
        BifDataService.prototype.pushTaskCenter = /**
         * 
         * @param {?} args 
         * @return {?}
         */
            function (args) {
                /** @type {?} */
                var body = args.ConvertToJson();
                /** @type {?} */
                var options = {
                    body: body,
                    responseType: "text"
                };
                /** @type {?} */
                var update$ = null;
                if (this.httpService != null) {
                    update$ = this.httpService.request(this.pushTaskMethod, this.pushTaskUrl, options);
                }
                else {
                    update$ = this.repository.proxy.request(this.pushTaskUrl, this.pushTaskMethod, null, options);
                }
                return update$.pipe(operators.catchError(( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    try {
                        if (typeof err.error == "string") {
                            err.error = JSON.parse(err.error);
                        }
                    }
                    catch (e) {
                    }
                    throw err;
                })));
            };
        /**
         * VO
         * @param args
         * @returns
         */
        /**
         * VO
         * @param {?} args
         * @return {?}
         */
        BifDataService.prototype.getEntityDatas = /**
         * VO
         * @param {?} args
         * @return {?}
         */
            function (args) {
                /** @type {?} */
                var body = args.ConvertToJson();
                /** @type {?} */
                var options = {
                    body: body,
                    responseType: "text"
                };
                /** @type {?} */
                var datas$ = null;
                if (this.httpService != null) {
                    datas$ = this.httpService.request(this.getEntityDatasMethod, this.getEntityDatasUrl, options);
                }
                else {
                    datas$ = this.repository.proxy.request(this.getEntityDatasUrl, this.getEntityDatasMethod, null, options);
                }
                return datas$.pipe(operators.catchError(( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    try {
                        if (typeof err.error == "string") {
                            err.error = JSON.parse(err.error);
                        }
                    }
                    catch (e) {
                    }
                    throw err;
                })));
            };
        /**
         * 
         * @param args 
         */
        /**
         * 
         * @private
         * @param {?} args 
         * @return {?}
         */
        BifDataService.prototype.getSlimBillCreationProcessEntityExes = /**
         * 
         * @private
         * @param {?} args 
         * @return {?}
         */
            function (args) {
                if (args == null) {
                    throw "args";
                }
                if (typeof args == "string") {
                    if (args == "") {
                        throw "args";
                    }
                    /** @type {?} */
                    var temp = new FormGetBillCreationProcessEntityExArgs();
                    temp.LoadFromJson(args);
                    args = temp;
                }
                /** @type {?} */
                var options = { body: args.ConvertToJson(), responseType: "text" };
                /** @type {?} */
                var getEntity$ = null;
                if (this.httpService != null) {
                    getEntity$ = this.httpService.request(this.getBillCreationProcessEntityExMethod, this.getBillCreationProcessEntityExUrl, options);
                }
                else {
                    getEntity$ = this.repository.proxy.request(this.getBillCreationProcessEntityExUrl, this.getBillCreationProcessEntityExMethod, null, options);
                }
                return getEntity$.pipe(operators.map(( /**
                 * @param {?} data
                 * @return {?}
                 */function (data) {
                    /** @type {?} */
                    var result = new FormGetBillCreationProcessEntityExResult();
                    result.LoadFromJson(data);
                    return result;
                })), operators.catchError(( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    try {
                        if (typeof err.error == "string") {
                            err.error = JSON.parse(err.error);
                        }
                    }
                    catch (e) {
                    }
                    throw err;
                })));
            };
        /**
         * farris/bef EntityUtil
         * @param entity
         * @param initialData
         */
        /**
         * farris/bef EntityUtil
         * @private
         * @param {?} entity
         * @param {?} initialData
         * @return {?}
         */
        BifDataService.prototype.appendInitialData = /**
         * farris/bef EntityUtil
         * @private
         * @param {?} entity
         * @param {?} initialData
         * @return {?}
         */
            function (entity, initialData) {
                /** @type {?} */
                var data = Object.assign({}, initialData);
                delete data.id;
                delete data.parentID;
                entity['initialData'] = data;
            };
        BifDataService.decorators = [
            { type: core$1.Injectable }
        ];
        /** @nocollapse */
        BifDataService.ctorParameters = function () {
            return [
                { type: http.HttpClient },
                { type: devkit.Repository },
                { type: core$1.Injector, decorators: [{ type: core$1.Optional }] },
                { type: core$1.ComponentFactoryResolver, decorators: [{ type: core$1.Optional }] },
                { type: core$1.NgModuleFactoryLoader, decorators: [{ type: core$1.Optional }] },
                { type: uiModal.BsModalService, decorators: [{ type: core$1.Optional }] },
                { type: uiMessager.MessagerService, decorators: [{ type: core$1.Optional }] },
                { type: devkit.FrameContext, decorators: [{ type: core$1.Optional }] },
                { type: String, decorators: [{ type: core$1.Optional }, { type: core$1.Inject, args: [core$1.LOCALE_ID,] }] },
                { type: commandServices.RuntimeFrameworkService, decorators: [{ type: core$1.Optional }] },
                { type: LocalePipe, decorators: [{ type: core$1.Optional }] },
                { type: cafCommon.HttpService, decorators: [{ type: core$1.Optional }] }
            ];
        };
        return BifDataService;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bif-manual-creation/service/bif-data-selector.service.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var AbstractBifDataSelectorService = /** @class */ (function () {
        function AbstractBifDataSelectorService() {
            /**
             * Subject
             */
            this.subject4EntityDatas = new rxjs.Subject();
        }
        AbstractBifDataSelectorService.decorators = [
            { type: core$1.Injectable }
        ];
        return AbstractBifDataSelectorService;
    }());
    var DefaultBifDataSelectorService = /** @class */ (function (_super) {
        __extends(DefaultBifDataSelectorService, _super);
        function DefaultBifDataSelectorService(frameContext, viewModel, cfr, injector) {
            var _this = _super.call(this) || this;
            _this.frameContext = frameContext;
            _this.viewModel = viewModel;
            _this.cfr = cfr;
            _this.injector = injector;
            /**
             * Subject
             */
            _this.subject4EntityDatas = new rxjs.Subject();
            /**
             * 
             */
            _this.clickOk4BifSelector = ( /**
             * @return {?}
             */function () {
                //
                _this.viewModel.frameContext.repository.getById(_this.viewModel.bindingData.getObject().id).subscribe(( /**
                 * @param {?} e
                 * @return {?}
                 */function (e) {
                    _this.subject4EntityDatas.next([e]);
                    _this.subject4EntityDatas.complete();
                    _this.bsModalRef4BifSelector.close();
                }));
            });
            /**
             * 
             */
            _this.clickClose4BifSelector = ( /**
             * @return {?}
             */function () {
                _this.subject4EntityDatas.complete();
                _this.bsModalRef4BifSelector.close();
            });
            return _this;
        }
        DefaultBifDataSelectorService.decorators = [
            { type: core$1.Injectable }
        ];
        /** @nocollapse */
        DefaultBifDataSelectorService.ctorParameters = function () {
            return [
                { type: devkit.FrameContext },
                { type: devkit.ViewModel },
                { type: core$1.ComponentFactoryResolver },
                { type: core$1.Injector }
            ];
        };
        return DefaultBifDataSelectorService;
    }(AbstractBifDataSelectorService));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bif-manual-creation/service/abstract-ui-service.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @abstract
     */
    var AbstractUiService = /** @class */ (function () {
        function AbstractUiService(frameContext, modalService, messager, injector, cfr, loader, localeId, runtimeFrameworkService) {
            this.frameContext = frameContext;
            this.modalService = modalService;
            this.messager = messager;
            this.injector = injector;
            this.cfr = cfr;
            this.loader = loader;
            this.localeId = localeId;
            /**
             * 
             */
            this.defaultModalOptions = {
                title: null,
                width: 650,
                height: 415,
                buttons: null,
                showButtons: null,
            };
            this.runtimeFrameworkService = runtimeFrameworkService || injector.get(commandServices.RuntimeFrameworkService);
            this.localePipe = new LocalePipe(localeId);
        }
        /**
         * @protected
         * @param {?} args
         * @param {?} type
         * @param {?=} modalOptions
         * @param {?=} customSelectorModuleUrl
         * @param {?=} extParams
         * @return {?}
         */
        AbstractUiService.prototype.openBillCreationProcessSelector = /**
         * @protected
         * @param {?} args
         * @param {?} type
         * @param {?=} modalOptions
         * @param {?=} customSelectorModuleUrl
         * @param {?=} extParams
         * @return {?}
         */
            function (args, type, modalOptions, customSelectorModuleUrl, extParams) {
                var _this = this;
                if (typeof modalOptions == "string") {
                    if (modalOptions == "") {
                        throw "modalOptions";
                    }
                    modalOptions = JSON.parse(modalOptions);
                }
                modalOptions = modalOptions == null ? this.defaultModalOptions : modalOptions;
                modalOptions.title = modalOptions.title == null ? this.localePipe.transform("creationProcessSelector") : modalOptions.title;
                /** @type {?} */
                var cmpR = null;
                if (customSelectorModuleUrl == null || customSelectorModuleUrl.trim() == "") {
                    /** @type {?} */
                    var cmpF = this.cfr.resolveComponentFactory(type);
                    /** @type {?} */
                    var inj = core$1.ReflectiveInjector.resolveAndCreate([
                        { provide: SELECTOR_ARGS_INJECTOR, useValue: args.ConvertToJsonObject() },
                        uiLoading.LoadingService,
                    ], this.injector);
                    cmpR = cmpF.create(inj);
                    this.configModalButtons(modalOptions, cmpR);
                    cmpR.instance.bsModalRef4BifSelector = this.modalService.show(cmpR, modalOptions);
                    return cmpR.instance.subject4CreationProcess.asObservable();
                }
                else {
                    return rxjs.from(this.loader.load(customSelectorModuleUrl)).pipe(operators.switchMap(( /**
                     * @param {?} moduleFactory
                     * @return {?}
                     */function (moduleFactory) {
                        /** @type {?} */
                        var moduleRef = moduleFactory.create(_this.frameContext.root.injector);
                        /** @type {?} */
                        var cmpR$ = moduleRef.instance.createCreationProcessSelector(_this.frameContext.root.injector, extParams);
                        if (cmpR$ instanceof rxjs.Observable) {
                            return cmpR$.pipe(operators.switchMap(( /**
                             * @param {?} componentRef
                             * @return {?}
                             */function (componentRef) {
                                cmpR = componentRef;
                                _this.configModalButtons(modalOptions, cmpR);
                                cmpR.instance.bsModalRef4BifSelector = _this.modalService.show(cmpR, modalOptions);
                                return cmpR.instance.subject4CreationProcess.asObservable();
                            })));
                        }
                        else if (cmpR$ instanceof core$1.ComponentRef) {
                            cmpR = cmpR$;
                            _this.configModalButtons(modalOptions, cmpR);
                            cmpR.instance.bsModalRef4BifSelector = _this.modalService.show(cmpR, modalOptions);
                            return cmpR.instance.subject4CreationProcess.asObservable();
                        }
                    })));
                }
            };
        /**
         * 
         * @param modalOptions
         * @param cmpR
         */
        /**
         * 
         * @protected
         * @param {?} modalOptions
         * @param {?} cmpR
         * @return {?}
         */
        AbstractUiService.prototype.configModalButtons = /**
         * 
         * @protected
         * @param {?} modalOptions
         * @param {?} cmpR
         * @return {?}
         */
            function (modalOptions, cmpR) {
                modalOptions.buttons = [
                    {
                        text: this.localePipe.transform("confirm"),
                        cls: "btn btn-primary",
                        handle: cmpR.instance.clickOk4BifSelector,
                    },
                    {
                        text: this.localePipe.transform("cancel"),
                        cls: "btn btn-secondary",
                        handle: cmpR.instance.clickClose4BifSelector,
                    }
                ];
                modalOptions.showButtons = true;
            };
        /** @nocollapse */
        AbstractUiService.ctorParameters = function () {
            return [
                { type: devkit.FrameContext },
                { type: uiModal.BsModalService },
                { type: uiMessager.MessagerService },
                { type: core$1.Injector },
                { type: core$1.ComponentFactoryResolver },
                { type: core$1.NgModuleFactoryLoader },
                { type: String, decorators: [{ type: core$1.Inject, args: [core$1.LOCALE_ID,] }] },
                { type: commandServices.RuntimeFrameworkService, decorators: [{ type: core$1.Optional }] }
            ];
        };
        return AbstractUiService;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bif-manual-creation/components/push-selector/push-selector.component.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PushSelectorComponent = /** @class */ (function () {
        function PushSelectorComponent(args, dataService, localeId, loading, elementRef) {
            var _this = this;
            this.dataService = dataService;
            this.loading = loading;
            this.elementRef = elementRef;
            //VoId
            this.voIdList = [];
            //VoIdVoName
            this.nameDict = {};
            //VoId
            this.entityDict = {};
            this.bsModalRef4BifSelector = null;
            this.subject4CreationProcess = new rxjs.Subject();
            this.clickOk4BifSelector = ( /**
             * @return {?}
             */function () {
                _this.subject4CreationProcess.next(_this.selectedEntity);
                _this.subject4CreationProcess.complete();
                _this.bsModalRef4BifSelector.close();
            });
            this.clickClose4BifSelector = ( /**
             * @return {?}
             */function () {
                _this.bsModalRef4BifSelector.close();
            });
            this.args = new FormGetBillCreationProcessEntityExArgs();
            this.args.LoadFromJsonObject(args);
        }
        Object.defineProperty(PushSelectorComponent.prototype, "selectedVoId", {
            get: /**
             * @return {?}
             */ function () {
                return this._selectedVoId;
            },
            set: /**
             * @param {?} id
             * @return {?}
             */ function (id) {
                this._selectedVoId = id;
                if (id != null) {
                    this.selectedEntity = this.entityDict[this._selectedVoId][0];
                }
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        PushSelectorComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.loadItems();
            };
        /**
         * @private
         * @return {?}
         */
        PushSelectorComponent.prototype.loadItems = /**
         * @private
         * @return {?}
         */
            function () {
                var _this = this;
                this.loading.show({ container: this.elementRef });
                /** @type {?} */
                var list$ = null;
                if (this.args.downBillVoId == null) {
                    // if (this.args.bizFlowchartId == null) {
                    list$ = this.dataService.getSlimBillCreationProcessEntityExesByUpBillVoId4Push(this.args.upBillVoId);
                    // } else {
                    // list$ = this.dataService.getSlimCreationRulesBySourceVoIdAndFlowchartId(this.args.sourceVoId, this.args.bizFlowchartId);
                    // }
                }
                else {
                    // if (this.args.bizFlowchartId == null) {
                    list$ = this.dataService.getSlimBillCreationProcessEntityExesByUpBillVoIdAndDownBillVoId4SpecificPush(this.args.upBillVoId, this.args.downBillVoId);
                    // } else {
                    // list$ = this.dataService.getSlimCreationRulesBySourceVoIdAndTargetVoIdAndFlowchartId(this.args.sourceVoId, this.args.downBillVoId, this.args.bizFlowchartId);
                    // }
                }
                list$.subscribe(( /**
                 * @param {?} result
                 * @return {?}
                 */function (result) {
                    /** @type {?} */
                    var list = result;
                    list.forEach(( /**
                     * @param {?} elt
                     * @return {?}
                     */function (elt) {
                        if (_this.voIdList.includes(elt.downBillVoId) === false) {
                            _this.voIdList.push(elt.downBillVoId);
                            _this.entityDict[elt.downBillVoId] = new Array();
                        }
                        _this.nameDict[elt.downBillVoId] = elt.downBillVoName;
                        _this.entityDict[elt.downBillVoId].push(elt);
                    }));
                    _this.selectedVoId = _this.voIdList.length > 0 ? _this.voIdList[0] : null;
                    _this.loading.close();
                }), ( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    _this.loading.close();
                    throw err;
                }));
            };
        PushSelectorComponent.decorators = [
            { type: core$1.Component, args: [{
                        selector: 'lib-bif-push-selector',
                        template: "<div class=\"g-main px-3 py-2\">\r\n  <!--  -->\r\n  <div class=\"form-group\" style=\"height: 150px;overflow-y: auto;\">\r\n    <div [hidden]=\"voIdList.length != 0\"><span style=\"color: red;\">{{ 'emptyResult' | locale }}</span></div>\r\n    <div>{{ 'selectDownstreamBill' | locale }}</div>\r\n    <div *ngFor=\"let voId of voIdList;let i=index\" class=\"col-sm-12 col-md-5 form-check form-check-inline\">\r\n      <input class=\"form-check-input\" type=\"radio\" [name]=\"'voId'+i\" [id]=\"voId\" [value]=\"voId\"\r\n        [(ngModel)]=\"selectedVoId\" />\r\n      <label class=\"form-check-label\" [for]=\"'voId'+i\">{{nameDict[voId]}}</label>\r\n    </div>\r\n  </div>\r\n\r\n  <!--  -->\r\n  <div class=\"form-group\" style=\"\">\r\n    <div>{{ 'selectCreationProcess' | locale }}</div>\r\n    <select class=\"form-control\" name=\"selectedEntity\" [(ngModel)]=\"selectedEntity\">\r\n      <option *ngFor=\"let cr of entityDict[selectedVoId];\" [ngValue]=\"cr\">\r\n        {{cr.name}}({{cr.code}})</option>\r\n    </select>\r\n  </div>\r\n\r\n  <!--  -->\r\n  <div class=\"form-group\" style=\"\">\r\n    <div>{{ 'processDesciption' | locale }}</div>\r\n    <textarea readonly class=\"form-control\" name=\"description\" rows=\"3\"\r\n      [ngModel]=\"selectedEntity&&selectedEntity.description\"></textarea>\r\n  </div>\r\n</div>",
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        PushSelectorComponent.ctorParameters = function () {
            return [
                { type: undefined, decorators: [{ type: core$1.Inject, args: [SELECTOR_ARGS_INJECTOR,] }] },
                { type: BifDataService },
                { type: String, decorators: [{ type: core$1.Inject, args: [core$1.LOCALE_ID,] }] },
                { type: uiLoading.LoadingService },
                { type: core$1.ElementRef }
            ];
        };
        return PushSelectorComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/utils/BrowserUtil.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @return {?}
     */
    function judgeBrowserType() {
        /** @type {?} */
        var browser = {
            type: "Unknown",
            IEVersion: undefined,
        };
        /** @type {?} */
        var userAgent = navigator.userAgent;
        //userAgent 
        /** @type {?} */
        var isOpera = userAgent.indexOf("Opera") > -1;
        //Opera 
        /** @type {?} */
        var isIE = userAgent.indexOf("compatible") > -1 && userAgent.indexOf("MSIE") > -1 && !isOpera;
        isIE = isIE || (!!window['ActiveXObject'] || "ActiveXObject" in window); //IE11IE
        //IE11IE
        /** @type {?} */
        var isEdge = userAgent.indexOf("Windows NT 6.1; Trident/7.0;") > -1 && !isIE;
        //IEEdge 
        /** @type {?} */
        var isFF = userAgent.indexOf("Firefox") > -1;
        //Firefox 
        /** @type {?} */
        var isSafari = userAgent.indexOf("Safari") > -1 && userAgent.indexOf("Chrome") == -1;
        //Safari 
        /** @type {?} */
        var isChrome = userAgent.indexOf("Chrome") > -1 && userAgent.indexOf("Safari") > -1;
        if (isIE) {
            browser.type = "IE";
            if (navigator.userAgent != null && !!navigator.userAgent.match(/Trident\/7\./)) {
                browser.IEVersion = "IE11";
            }
            else {
                /** @type {?} */
                var reIE = new RegExp("MSIE (\\d+\\.\\d+);");
                reIE.test(userAgent);
                /** @type {?} */
                var fIEVersion = parseFloat(RegExp["$1"]);
                if (fIEVersion == 7) {
                    browser.IEVersion = "IE7";
                }
                else if (fIEVersion == 8) {
                    browser.IEVersion = "IE8";
                }
                else if (fIEVersion == 9) {
                    browser.IEVersion = "IE9";
                }
                else if (fIEVersion == 10) {
                    browser.IEVersion = "IE10";
                }
                else if (fIEVersion == 11) {
                    browser.IEVersion = "IE11";
                }
                else {
                    //IE 
                    browser.IEVersion = "Unknown";
                }
            }
        } //isIE end 
        if (isFF) {
            browser.type = "FF";
        }
        if (isOpera) {
            browser.type = "Opera";
        }
        if (isSafari) {
            browser.type = "Safari";
        }
        if (isChrome) {
            browser.type = "Chrome";
        }
        if (isEdge) {
            browser.type = "Edge";
        }
        return browser;
    }

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bif-manual-creation/service/bif-source-ui.service.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BifSourceUiService = /** @class */ (function (_super) {
        __extends(BifSourceUiService, _super);
        function BifSourceUiService(navigationService, frameContext, modalService, messager, injector, cfr, loader, localeId, runtimeFrameworkService) {
            var _this = _super.call(this, frameContext, modalService, messager, injector, cfr, loader, localeId, runtimeFrameworkService) || this;
            _this.navigationService = navigationService;
            _this.frameContext = frameContext;
            _this.modalService = modalService;
            _this.messager = messager;
            _this.injector = injector;
            _this.cfr = cfr;
            _this.loader = loader;
            _this.localeId = localeId;
            _this.uiStateKeyCreationResult = BIF_UISTATE_KEY_CREATION_RESULT;
            return _this;
        }
        /**
         * 
         */
        /**
         * 
         * @param {?} upBillVoId
         * @param {?=} bizFlowchartId
         * @param {?=} modalOptions
         * @param {?=} customSelectorModuleUrl
         * @param {?=} extParams
         * @return {?}
         */
        BifSourceUiService.prototype.openBillCreationProcessSelector4Push = /**
         * 
         * @param {?} upBillVoId
         * @param {?=} bizFlowchartId
         * @param {?=} modalOptions
         * @param {?=} customSelectorModuleUrl
         * @param {?=} extParams
         * @return {?}
         */
            function (upBillVoId, bizFlowchartId, modalOptions, customSelectorModuleUrl, extParams) {
                /** @type {?} */
                var args = new FormGetBillCreationProcessEntityExArgs();
                args.upBillVoId = upBillVoId;
                args.manualCreationMode = ManualCreationMode.Push;
                return this.openBillCreationProcessSelector(args, PushSelectorComponent, modalOptions, customSelectorModuleUrl, extParams);
            };
        /**
         * 
         */
        /**
         * 
         * @param {?} upBillVoId
         * @param {?} downBillVoId
         * @param {?=} bizFlowchartId
         * @param {?=} modalOptions
         * @param {?=} customSelectorModuleUrl
         * @param {?=} extParams
         * @return {?}
         */
        BifSourceUiService.prototype.openBillCreationProcessSelector4SpecificPush = /**
         * 
         * @param {?} upBillVoId
         * @param {?} downBillVoId
         * @param {?=} bizFlowchartId
         * @param {?=} modalOptions
         * @param {?=} customSelectorModuleUrl
         * @param {?=} extParams
         * @return {?}
         */
            function (upBillVoId, downBillVoId, bizFlowchartId, modalOptions, customSelectorModuleUrl, extParams) {
                /** @type {?} */
                var args = new FormGetBillCreationProcessEntityExArgs();
                args.upBillVoId = upBillVoId;
                args.downBillVoId = downBillVoId;
                args.manualCreationMode = ManualCreationMode.SpecificPush;
                // args.bizFlowchartId = bizFlowchartId;
                return this.openBillCreationProcessSelector(args, PushSelectorComponent, modalOptions, customSelectorModuleUrl, extParams);
            };
        /**
         * @Deprecated {@link openTargetApp}
         * 
         * @param formSettings
         * @param creationResult
         * @param extParams
         */
        /**
         * \@Deprecated {\@link openTargetApp}
         * 
         * @param {?} formSettings
         * @param {?} creationResult
         * @param {?=} extParams
         * @return {?}
         */
        BifSourceUiService.prototype.openTargetForm = /**
         * \@Deprecated {\@link openTargetApp}
         * 
         * @param {?} formSettings
         * @param {?} creationResult
         * @param {?=} extParams
         * @return {?}
         */
            function (formSettings, creationResult, extParams) {
                var e_1, _a;
                if (formSettings == null) {
                    throw "formSettings";
                }
                if (creationResult == null) {
                    throw "creationResult";
                }
                if (typeof creationResult == "string") {
                    if (creationResult == "") {
                        throw "creationResult";
                    }
                    /** @type {?} */
                    var temp = new runtimeApi.FormBillCreationProcessExecutorResult();
                    temp.LoadFromJson(creationResult);
                    creationResult = temp;
                }
                if ((creationResult instanceof runtimeApi.FormBillCreationProcessExecutorResult) == false) {
                    /** @type {?} */
                    var res = new runtimeApi.FormBillCreationProcessExecutorResult();
                    res.LoadFromJsonObject(creationResult);
                    creationResult = res;
                }
                if (creationResult.conditionResult.conditionExecutionResult == false) {
                    this.messager.error(creationResult.conditionResult.message || this.localePipe.transform("creationExecutionError"));
                    return;
                }
                if (creationResult.creationRuleExecutorResult == null || creationResult.creationRuleExecutorResult.mappingResults == null || creationResult.creationRuleExecutorResult.mappingResults.length == 0) {
                    this.messager.error(this.localePipe.transform("creationResultEmpty"));
                    return;
                }
                else if (creationResult.creationRuleExecutorResult.mappingResults.length == 1) {
                    // 
                    /** @type {?} */
                    var action = formSettings.targetCardAppLoadCmd;
                    if (action != null && action != "") {
                        if (extParams == null) {
                            extParams = {
                                action: action
                            };
                        }
                        else {
                            extParams["action"] = extParams["action"] != null && extParams["action"] != "" ? extParams["action"] : action;
                        }
                    }
                    //
                    this.openApp(creationResult.creationRuleExecutorResult.mappingResults[0].associations[0].tarRootDataId, formSettings.targetCardAppId, formSettings.targetCardAppEntrance, creationResult, extParams, false);
                }
                else {
                    if (formSettings.targetListAppId != null) {
                        // 
                        throw "";
                        this.openApp(creationResult.creationRuleExecutorResult.mappingResults[0].associations[0].tarRootDataId, formSettings.targetListAppId, formSettings.targetListAppEntrance, creationResult, extParams, false);
                    }
                    else {
                        try {
                            //
                            for (var _b = __values(creationResult.creationRuleExecutorResult.mappingResults), _c = _b.next(); !_c.done; _c = _b.next()) {
                                var mappingResult = _c.value;
                                /** @type {?} */
                                var singleRes = new runtimeApi.FormBillCreationProcessExecutorResult();
                                singleRes.conditionResult = creationResult.conditionResult;
                                singleRes.creationRuleExecutorResult = new runtimeApi.RpcCreationRuleExecutorResult();
                                singleRes.creationRuleExecutorResult.bizFlowchartId = creationResult.creationRuleExecutorResult.bizFlowchartId;
                                singleRes.creationRuleExecutorResult.creationRuleId = creationResult.creationRuleExecutorResult.creationRuleId;
                                singleRes.creationRuleExecutorResult.creationRuleInstanceId = creationResult.creationRuleExecutorResult.creationRuleInstanceId;
                                singleRes.creationRuleExecutorResult.mappingResults = [mappingResult];
                                // 
                                /** @type {?} */
                                var action = formSettings.targetCardAppLoadCmd;
                                if (action != null && action != "") {
                                    if (extParams == null) {
                                        extParams = {
                                            action: action
                                        };
                                    }
                                    else {
                                        extParams["action"] = extParams["action"] != null && extParams["action"] != "" ? extParams["action"] : action;
                                    }
                                }
                                this.openApp(mappingResult.associations[0].tarRootDataId, formSettings.targetCardAppId, formSettings.targetCardAppEntrance, singleRes, extParams, false);
                            }
                        }
                        catch (e_1_1) {
                            e_1 = { error: e_1_1 };
                        }
                        finally {
                            try {
                                if (_c && !_c.done && (_a = _b.return))
                                    _a.call(_b);
                            }
                            finally {
                                if (e_1)
                                    throw e_1.error;
                            }
                        }
                    }
                }
            };
        /**
         * @Deprecated
         * @param tabId
         * @param appId
         * @param appEntrance
         * @param creationResult
         * @param extParams
         * @param reload
         * @param tabName
         * @param enableRefresh
         * @param destructuring
         */
        /**
         * \@Deprecated
         * @private
         * @param {?} tabId
         * @param {?} appId
         * @param {?} appEntrance
         * @param {?} creationResult
         * @param {?=} extParams
         * @param {?=} reload
         * @param {?=} tabName
         * @param {?=} enableRefresh
         * @param {?=} destructuring
         * @return {?}
         */
        BifSourceUiService.prototype.openApp = /**
         * \@Deprecated
         * @private
         * @param {?} tabId
         * @param {?} appId
         * @param {?} appEntrance
         * @param {?} creationResult
         * @param {?=} extParams
         * @param {?=} reload
         * @param {?=} tabName
         * @param {?=} enableRefresh
         * @param {?=} destructuring
         * @return {?}
         */
            function (tabId, appId, appEntrance, creationResult, extParams, reload, tabName, enableRefresh, destructuring) {
                extParams = extParams == null ? {} : extParams;
                /** @type {?} */
                var browser = judgeBrowserType();
                if (browser.type == "IE" && browser.IEVersion == "IE11") {
                    //IE11top.localStorageIdtabId
                    // console.log(tabId);
                    window.top.localStorage.setItem(tabId, creationResult.ConvertToJson());
                    this.navigationService.openApp(tabId, appId, appEntrance, extParams, reload, tabName, enableRefresh, destructuring);
                }
                else {
                    this.navigationService.openApp(tabId, appId, appEntrance, this.buildRouteParams(creationResult, extParams), reload, tabName, enableRefresh, destructuring);
                }
            };
        /**
         * @Deprecated
         * @param action App
         * @param pairs 
         */
        /**
         * \@Deprecated
         * @private
         * @param {?} creationResult
         * @param {?} extParams
         * @return {?}
         */
        BifSourceUiService.prototype.buildRouteParams = /**
         * \@Deprecated
         * @private
         * @param {?} creationResult
         * @param {?} extParams
         * @return {?}
         */
            function (creationResult, extParams) {
                /** @type {?} */
                var params = extParams;
                params[this.uiStateKeyCreationResult] = creationResult.ConvertToJson();
                if (params["action"] == null || params["action"] == "") {
                    params["action"] = "rootviewmodelbifLoad1";
                }
                return params;
            };
        /**
         * 
         * @param formSettings
         * @param creationResult
         * @param extParams
         */
        /**
         * 
         * @param {?} formSettings
         * @param {?} conditionResult
         * @param {?} textIdWithDataIds
         * @param {?=} extParams
         * @return {?}
         */
        BifSourceUiService.prototype.openTargetApp = /**
         * 
         * @param {?} formSettings
         * @param {?} conditionResult
         * @param {?} textIdWithDataIds
         * @param {?=} extParams
         * @return {?}
         */
            function (formSettings, conditionResult, textIdWithDataIds, extParams) {
                var e_2, _a;
                if (formSettings == null) {
                    throw "formSettings";
                }
                if (textIdWithDataIds == null) {
                    throw "creationResult";
                }
                if (typeof textIdWithDataIds == "string") {
                    if (textIdWithDataIds == "") {
                        throw "creationResult";
                    }
                    textIdWithDataIds = ( /** @type {?} */(commonApi$1.BpmnModelJsonHelper.FromJson(textIdWithDataIds, GeneralTextIdWithDataId)));
                }
                if (conditionResult.conditionExecutionResult == false) {
                    this.messager.error(conditionResult.message || this.localePipe.transform("creationExecutionError"));
                    return;
                }
                if (textIdWithDataIds == null || textIdWithDataIds.length == null || textIdWithDataIds.length <= 0) {
                    this.messager.error(this.localePipe.transform("creationResultEmpty"));
                    return;
                }
                else if (textIdWithDataIds.length == 1) {
                    // 
                    /** @type {?} */
                    var action = formSettings.targetCardAppLoadCmd;
                    if (action != null && action != "") {
                        if (extParams == null) {
                            extParams = {
                                action: action
                            };
                        }
                        else {
                            extParams["action"] = extParams["action"] != null && extParams["action"] != "" ? extParams["action"] : action;
                        }
                    }
                    //
                    this.openAppWithGeneralText(textIdWithDataIds[0].dataId, formSettings.targetCardAppId, formSettings.targetCardAppEntrance, textIdWithDataIds[0].generalTextId, extParams, false);
                }
                else {
                    if (formSettings.targetListAppId != null) {
                        // 
                        throw "";
                    }
                    else {
                        try {
                            //
                            for (var textIdWithDataIds_1 = __values(textIdWithDataIds), textIdWithDataIds_1_1 = textIdWithDataIds_1.next(); !textIdWithDataIds_1_1.done; textIdWithDataIds_1_1 = textIdWithDataIds_1.next()) {
                                var item = textIdWithDataIds_1_1.value;
                                // 
                                /** @type {?} */
                                var action = formSettings.targetCardAppLoadCmd;
                                if (action != null && action != "") {
                                    if (extParams == null) {
                                        extParams = {
                                            action: action
                                        };
                                    }
                                    else {
                                        extParams["action"] = extParams["action"] != null && extParams["action"] != "" ? extParams["action"] : action;
                                    }
                                }
                                this.openAppWithGeneralText(item.dataId, formSettings.targetCardAppId, formSettings.targetCardAppEntrance, item.generalTextId, extParams, false);
                            }
                        }
                        catch (e_2_1) {
                            e_2 = { error: e_2_1 };
                        }
                        finally {
                            try {
                                if (textIdWithDataIds_1_1 && !textIdWithDataIds_1_1.done && (_a = textIdWithDataIds_1.return))
                                    _a.call(textIdWithDataIds_1);
                            }
                            finally {
                                if (e_2)
                                    throw e_2.error;
                            }
                        }
                    }
                }
            };
        /**
         * @private
         * @param {?} tabId
         * @param {?} appId
         * @param {?} appEntrance
         * @param {?} textId
         * @param {?=} extParams
         * @param {?=} reload
         * @param {?=} tabName
         * @param {?=} enableRefresh
         * @param {?=} destructuring
         * @return {?}
         */
        BifSourceUiService.prototype.openAppWithGeneralText = /**
         * @private
         * @param {?} tabId
         * @param {?} appId
         * @param {?} appEntrance
         * @param {?} textId
         * @param {?=} extParams
         * @param {?=} reload
         * @param {?=} tabName
         * @param {?=} enableRefresh
         * @param {?=} destructuring
         * @return {?}
         */
            function (tabId, appId, appEntrance, textId, extParams, reload, tabName, enableRefresh, destructuring) {
                extParams = extParams == null ? {} : extParams;
                /** @type {?} */
                var browser = judgeBrowserType();
                if (browser.type == "IE" && browser.IEVersion == "IE11") {
                    //IE11top.localStorageIdtabId
                    window.top.localStorage.setItem(tabId, textId);
                    this.navigationService.openApp(tabId, appId, appEntrance, this.buildRouteParamsWithGeneralText(textId, extParams), reload, tabName, enableRefresh, destructuring);
                }
                else {
                    this.navigationService.openApp(tabId, appId, appEntrance, this.buildRouteParamsWithGeneralText(textId, extParams), reload, tabName, enableRefresh, destructuring);
                }
            };
        /**
         *
         * @param action App
         * @param pairs 
         */
        /**
         *
         * @private
         * @param {?} textId
         * @param {?} extParams
         * @return {?}
         */
        BifSourceUiService.prototype.buildRouteParamsWithGeneralText = /**
         *
         * @private
         * @param {?} textId
         * @param {?} extParams
         * @return {?}
         */
            function (textId, extParams) {
                /** @type {?} */
                var params = extParams;
                params[this.uiStateKeyCreationResult] = textId;
                if (params["action"] == null || params["action"] == "") {
                    params["action"] = "rootviewmodelbifLoad1";
                }
                return params;
            };
        BifSourceUiService.decorators = [
            { type: core$1.Injectable }
        ];
        /** @nocollapse */
        BifSourceUiService.ctorParameters = function () {
            return [
                { type: commandServices.NavigationService },
                { type: devkit.FrameContext },
                { type: uiModal.BsModalService },
                { type: uiMessager.MessagerService },
                { type: core$1.Injector },
                { type: core$1.ComponentFactoryResolver },
                { type: core$1.NgModuleFactoryLoader },
                { type: String, decorators: [{ type: core$1.Inject, args: [core$1.LOCALE_ID,] }] },
                { type: commandServices.RuntimeFrameworkService, decorators: [{ type: core$1.Optional }] }
            ];
        };
        return BifSourceUiService;
    }(AbstractUiService));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bif-manual-creation/components/pull-selector/pull-selector.component.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PullSelectorComponent = /** @class */ (function () {
        function PullSelectorComponent(args, dataService, localeId, loading, elementRef) {
            var _this = this;
            this.dataService = dataService;
            this.loading = loading;
            this.elementRef = elementRef;
            //VoType
            this.voIdList = [];
            //VoTypeVoName
            this.nameDict = {};
            //VoType
            this.entityDict = {};
            this.bsModalRef4BifSelector = null;
            this.subject4CreationProcess = new rxjs.Subject();
            this.clickOk4BifSelector = ( /**
             * @return {?}
             */function () {
                _this.subject4CreationProcess.next(_this.selectedEntity);
                _this.subject4CreationProcess.complete();
                _this.bsModalRef4BifSelector.close();
            });
            this.clickClose4BifSelector = ( /**
             * @return {?}
             */function () {
                _this.bsModalRef4BifSelector.close();
            });
            this.args = new FormGetBillCreationProcessEntityExArgs();
            this.args.LoadFromJsonObject(args);
        }
        Object.defineProperty(PullSelectorComponent.prototype, "selectedVoId", {
            get: /**
             * @return {?}
             */ function () {
                return this._selectedVoId;
            },
            set: /**
             * @param {?} voId
             * @return {?}
             */ function (voId) {
                this._selectedVoId = voId;
                if (voId != null) {
                    this.selectedEntity = this.entityDict[this._selectedVoId][0];
                }
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        PullSelectorComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.loadItems();
            };
        /**
         * @private
         * @return {?}
         */
        PullSelectorComponent.prototype.loadItems = /**
         * @private
         * @return {?}
         */
            function () {
                var _this = this;
                this.loading.show({ container: this.elementRef });
                /** @type {?} */
                var list$ = null;
                if (this.args.upBillVoId == null) {
                    // if (this.args.bizFlowchartId == null) {
                    list$ = this.dataService.getSlimBillCreationProcessEntityExesByDownBillVoId4Pull(this.args.downBillVoId);
                    // } else {
                    // list$ = this.dataService.getSlimCreationRulesByTargetVoIdAndFlowchartId(this.args.targetVoId, this.args.bizFlowchartId);
                    // }
                }
                else {
                    // if (this.args.bizFlowchartId == null) {
                    list$ = this.dataService.getSlimBillCreationProcessEntityExesByUpBillVoIdAndDownBillVoId4SpecificPull(this.args.upBillVoId, this.args.downBillVoId);
                    // } else {
                    // list$ = this.dataService.getSlimCreationRulesBySourceVoIdAndTargetVoIdAndFlowchartId(this.args.sourceVoId, this.args.targetVoId, this.args.bizFlowchartId);
                    // }
                }
                list$.subscribe(( /**
                 * @param {?} result
                 * @return {?}
                 */function (result) {
                    /** @type {?} */
                    var list = result;
                    list.forEach(( /**
                     * @param {?} elt
                     * @return {?}
                     */function (elt) {
                        if (_this.voIdList.includes(elt.upBillVoId) === false) {
                            _this.voIdList.push(elt.upBillVoId);
                            _this.entityDict[elt.upBillVoId] = new Array();
                        }
                        _this.nameDict[elt.upBillVoId] = elt.upBillVoName;
                        _this.entityDict[elt.upBillVoId].push(elt);
                    }));
                    _this.selectedVoId = _this.voIdList.length > 0 ? _this.voIdList[0] : null;
                    _this.loading.close();
                }), ( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    _this.loading.close();
                    throw err;
                }));
            };
        PullSelectorComponent.decorators = [
            { type: core$1.Component, args: [{
                        selector: 'lib-bif-pull-selector',
                        template: "<div class=\"g-main px-3 py-2\">\r\n  <!--  -->\r\n  <div class=\"form-group\" style=\"height: 150px;overflow-y: auto;\">\r\n    <div [hidden]=\"voIdList.length != 0\"><span style=\"color: red;\">{{ 'emptyResult' | locale }}</span></div>\r\n    <div>{{ 'selectUpstreamBill' | locale }}</div>\r\n    <div *ngFor=\"let voId of voIdList;let i=index\" class=\"col-sm-12 col-md-5 form-check form-check-inline\">\r\n      <input class=\"form-check-input\" type=\"radio\" [name]=\"'voId'+i\" [id]=\"voId\" [value]=\"voId\"\r\n        [(ngModel)]=\"selectedVoId\" />\r\n      <label class=\"form-check-label\" [for]=\"'voId'+i\">{{nameDict[voId]}}</label>\r\n    </div>\r\n  </div>\r\n\r\n  <!--  -->\r\n  <div class=\"form-group\" style=\"\">\r\n    <div>{{ 'selectCreationProcess' | locale }}</div>\r\n    <select class=\"form-control\" name=\"selectedEntity\" [(ngModel)]=\"selectedEntity\">\r\n      <option *ngFor=\"let cr of entityDict[selectedVoId];\" [ngValue]=\"cr\">\r\n        {{cr.name}}({{cr.code}})</option>\r\n    </select>\r\n  </div>\r\n\r\n  <!--  -->\r\n  <div class=\"form-group\" style=\"\">\r\n    <div>{{ 'processDesciption' | locale }}</div>\r\n    <textarea readonly class=\"form-control\" name=\"description\" rows=\"3\"\r\n      [ngModel]=\"selectedEntity&&selectedEntity.description\"></textarea>\r\n  </div>\r\n</div>",
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        PullSelectorComponent.ctorParameters = function () {
            return [
                { type: undefined, decorators: [{ type: core$1.Inject, args: [SELECTOR_ARGS_INJECTOR,] }] },
                { type: BifDataService },
                { type: String, decorators: [{ type: core$1.Inject, args: [core$1.LOCALE_ID,] }] },
                { type: uiLoading.LoadingService },
                { type: core$1.ElementRef }
            ];
        };
        return PullSelectorComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/utils/ObjectUtils.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @param {?} str
     * @return {?}
     */
    function canJSONParse(str) {
        try {
            if (typeof JSON.parse(str) == "object") {
                return true;
            }
        }
        catch (e) {
        }
        return false;
    }

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bif-manual-creation/service/bif-target-ui.service.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BifTargetUiService = /** @class */ (function (_super) {
        __extends(BifTargetUiService, _super);
        function BifTargetUiService(dataService, frameContext, modalService, messager, injector, cfr, loader, localeId, runtimeFrameworkService) {
            var _this = _super.call(this, frameContext, modalService, messager, injector, cfr, loader, localeId, runtimeFrameworkService) || this;
            _this.dataService = dataService;
            _this.frameContext = frameContext;
            _this.modalService = modalService;
            _this.messager = messager;
            _this.injector = injector;
            _this.cfr = cfr;
            _this.loader = loader;
            _this.localeId = localeId;
            _this.uiStateKeyCreationResult = BIF_UISTATE_KEY_CREATION_RESULT;
            return _this;
        }
        /**
         * 
         */
        /**
         * 
         * @param {?} downVoId
         * @param {?=} bizFlowchartId
         * @param {?=} modalOptions
         * @param {?=} customSelectorModuleUrl
         * @param {?=} extParams
         * @return {?}
         */
        BifTargetUiService.prototype.openBillCreationProcessSelector4Pull = /**
         * 
         * @param {?} downVoId
         * @param {?=} bizFlowchartId
         * @param {?=} modalOptions
         * @param {?=} customSelectorModuleUrl
         * @param {?=} extParams
         * @return {?}
         */
            function (downVoId, bizFlowchartId, modalOptions, customSelectorModuleUrl, extParams) {
                /** @type {?} */
                var args = new FormGetBillCreationProcessEntityExArgs();
                args.downBillVoId = downVoId;
                args.manualCreationMode = ManualCreationMode.Pull;
                // args.bizFlowchartId = bizFlowchartId;
                return this.openBillCreationProcessSelector(args, PullSelectorComponent, modalOptions, customSelectorModuleUrl, extParams);
            };
        /**
         * 
         */
        /**
         * 
         * @param {?} upBillVoId
         * @param {?} downVoId
         * @param {?=} bizFlowchartId
         * @param {?=} modalOptions
         * @param {?=} customSelectorModuleUrl
         * @param {?=} extParams
         * @return {?}
         */
        BifTargetUiService.prototype.openBillCreationProcessSelector4SpecificPull = /**
         * 
         * @param {?} upBillVoId
         * @param {?} downVoId
         * @param {?=} bizFlowchartId
         * @param {?=} modalOptions
         * @param {?=} customSelectorModuleUrl
         * @param {?=} extParams
         * @return {?}
         */
            function (upBillVoId, downVoId, bizFlowchartId, modalOptions, customSelectorModuleUrl, extParams) {
                /** @type {?} */
                var args = new FormGetBillCreationProcessEntityExArgs();
                args.upBillVoId = upBillVoId;
                args.downBillVoId = downVoId;
                args.manualCreationMode = ManualCreationMode.SpecificPull;
                // args.bizFlowchartId = bizFlowchartId;
                return this.openBillCreationProcessSelector(args, PullSelectorComponent, modalOptions, customSelectorModuleUrl, extParams);
            };
        /**
         * 
         * @param formSettings
         * @param modalOptions
         */
        /**
         * 
         * @param {?=} formSettings
         * @param {?=} modalOptions
         * @param {?=} extParams
         * @return {?}
         */
        BifTargetUiService.prototype.openSourceDataSelector4Pull = /**
         * 
         * @param {?=} formSettings
         * @param {?=} modalOptions
         * @param {?=} extParams
         * @return {?}
         */
            function (formSettings, modalOptions, extParams) {
                var _this = this;
                modalOptions = modalOptions == null ? this.defaultModalOptions : modalOptions;
                modalOptions.title = modalOptions.title == null ? this.localePipe.transform("sourceDataSelector") : modalOptions.title;
                /** @type {?} */
                var cmpR = null;
                if (formSettings == null || formSettings.sourceDataSelectorModuleUrl == null) // 
                 {
                    throw "";
                    // let cmpF: ComponentFactory<SourceDataSelectorComponent> = this.cfr.resolveComponentFactory(SourceDataSelectorComponent);
                    // let inj: Injector = Injector.create([
                    // ], this.injector);
                    // cmpR = cmpF.create(inj);
                    // this.configModalButtons(modalOptions, cmpR);
                    // cmpR.instance.bsModalRef4AifSelector = this.modalService.show(cmpR, modalOptions);
                    // return cmpR.instance.subject4EntityDatas.asObservable();
                }
                else // 
                 {
                    // return from(System.import(formSettings.sourceDataSelectorModuleUrl.substring(0, formSettings.sourceDataSelectorModuleUrl.indexOf("#")) + ".js")).pipe(
                    /** @type {?} */
                    var moduleF$ = null;
                    if (formSettings.sourceDataSelectorAppId != null) //appId
                     {
                        moduleF$ = rxjs.from(System.import(formSettings.sourceDataSelectorModuleUrl.toLowerCase()).then(( /**
                         * @param {?} m
                         * @return {?}
                         */function (m) { return m; }))).pipe(operators.switchMap(( /**
                         * @param {?} m
                         * @return {?}
                         */function (m) {
                            for (var key in m) {
                                return rxjs.of(m[key]);
                            }
                            return rxjs.of(null);
                        })));
                    }
                    else //url 
                     {
                        moduleF$ = rxjs.from(this.loader.load(formSettings.sourceDataSelectorModuleUrl));
                    }
                    return moduleF$.pipe(operators.switchMap(( /**
                     * @param {?} moduleFactory
                     * @return {?}
                     */function (moduleFactory) {
                        /** @type {?} */
                        var moduleRef = moduleFactory.create(_this.frameContext.root.injector);
                        if (moduleRef.instance.createSourceDataSelector && moduleRef.instance.createSourceDataSelector instanceof Function) //modulecreateSourceDataSelector
                         {
                            /** @type {?} */
                            var cmpR$ = moduleRef.instance.createSourceDataSelector(_this.frameContext.root.injector, null, extParams);
                            if (cmpR$ instanceof rxjs.Observable) {
                                return cmpR$.pipe(operators.switchMap(( /**
                                 * @param {?} componentRef
                                 * @return {?}
                                 */function (componentRef) {
                                    cmpR = componentRef;
                                    _this.configModalButtons(modalOptions, cmpR);
                                    cmpR.instance.bsModalRef4BifSelector = _this.modalService.show(cmpR, modalOptions);
                                    return cmpR.instance.subject4EntityDatas.asObservable();
                                })));
                            }
                            else if (cmpR$ instanceof core$1.ComponentRef) {
                                cmpR = cmpR$;
                                _this.configModalButtons(modalOptions, cmpR);
                                cmpR.instance.bsModalRef4BifSelector = _this.modalService.show(cmpR, modalOptions);
                                return cmpR.instance.subject4EntityDatas.asObservable();
                            }
                        }
                        else //moduleRootComponent
                         {
                            /** @type {?} */
                            var translate_1 = moduleRef.injector.get(core.TranslateService);
                            return translate_1.getTranslation(_this.localeId).pipe(operators.switchMap(( /**
                             * @param {?} data
                             * @return {?}
                             */function (data) {
                                translate_1.setTranslation(_this.localeId, data);
                                translate_1.defaultLang = _this.localeId;
                                translate_1.currentLang = _this.localeId;
                                return _this.getEntityData(moduleRef, formSettings, modalOptions, extParams);
                            })), operators.catchError(( /**
                             * @param {?} err
                             * @return {?}
                             */function (err) {
                                console.error(err);
                                return _this.getEntityData(moduleRef, formSettings, modalOptions, extParams);
                            })));
                        }
                    })));
                }
            };
        /**
         * @Deprecated {@link getCreationResult}
         * UIState
         */
        /**
         * \@Deprecated {\@link getCreationResult}
         * UIState
         * @return {?}
         */
        BifTargetUiService.prototype.getFormBillCreationProcessExecutorResult = /**
         * \@Deprecated {\@link getCreationResult}
         * UIState
         * @return {?}
         */
            function () {
                //tabId[AppId]_[AppEntrance]_[tabId]
                /** @type {?} */
                var tabId = this.runtimeFrameworkService.tabId;
                /** @type {?} */
                var dataId = tabId.substr(tabId.length - 36);
                // console.log(tabId);
                // console.log(dataId);
                /** @type {?} */
                var browser = judgeBrowserType();
                //IE11localStorage, UIState
                if (browser.type == "IE" && browser.IEVersion == "IE11") {
                    /** @type {?} */
                    var tmp = window.top.localStorage.getItem(dataId);
                    window.top.localStorage.removeItem(dataId);
                    this.frameContext.root.uiState.setPropertyValue(this.uiStateKeyCreationResult, tmp);
                }
                /** @type {?} */
                var resTemp = this.frameContext.root.uiState[this.uiStateKeyCreationResult];
                if (resTemp == null) {
                    throw "FormBillCreationProcessExecutorResult is null";
                }
                /** @type {?} */
                var result = new runtimeApi.FormBillCreationProcessExecutorResult();
                if (typeof resTemp == "string") {
                    result.LoadFromJson(resTemp);
                }
                else if (typeof resTemp == "object") {
                    result.LoadFromJsonObject(resTemp);
                }
                else {
                    throw "";
                }
                return result;
            };
        /**
         * UIState
         */
        /**
         * UIState
         * @return {?}
         */
        BifTargetUiService.prototype.getCreationResult = /**
         * UIState
         * @return {?}
         */
            function () {
                //tabId[AppId]_[AppEntrance]_[tabId]
                /** @type {?} */
                var tabId = this.runtimeFrameworkService.tabId;
                /** @type {?} */
                var dataId = tabId.substr(tabId.length - 36);
                // console.log(tabId);
                // console.log(dataId);
                /** @type {?} */
                var browser = judgeBrowserType();
                //IE11localStorage, UIState
                if (browser.type == "IE" && browser.IEVersion == "IE11") {
                    /** @type {?} */
                    var tmp = window.top.localStorage.getItem(dataId);
                    window.top.localStorage.removeItem(dataId);
                    this.frameContext.root.uiState.setPropertyValue(this.uiStateKeyCreationResult, tmp);
                }
                /** @type {?} */
                var resTemp = this.frameContext.root.uiState[this.uiStateKeyCreationResult];
                if (resTemp == null) {
                    throw "FormBillCreationProcessExecutorResult is null";
                }
                /** @type {?} */
                var result = new runtimeApi.FormBillCreationProcessExecutorResult();
                if (typeof resTemp == "string") {
                    // 
                    if (canJSONParse(resTemp)) {
                        result.LoadFromJson(resTemp);
                        return rxjs.of(result);
                    }
                    else {
                        /** @type {?} */
                        var resultTextId = resTemp;
                        return this.dataService.getCreationResultById(resultTextId);
                    }
                }
                else if (typeof resTemp == "object") {
                    result.LoadFromJsonObject(resTemp);
                    return rxjs.of(result);
                }
                else {
                    throw "";
                }
            };
        /**
         * 
         * @param modalOptions
         * @param cmpR
         */
        /**
         * 
         * @protected
         * @param {?} modalOptions
         * @param {?} service
         * @return {?}
         */
        BifTargetUiService.prototype.configModalButtonsByService = /**
         * 
         * @protected
         * @param {?} modalOptions
         * @param {?} service
         * @return {?}
         */
            function (modalOptions, service) {
                modalOptions.buttons = [
                    {
                        text: this.localePipe.transform("confirm"),
                        cls: "btn btn-primary",
                        handle: service.clickOk4BifSelector,
                    },
                    {
                        text: this.localePipe.transform("cancel"),
                        cls: "btn btn-secondary",
                        handle: service.clickClose4BifSelector,
                    }
                ];
                modalOptions.showButtons = true;
            };
        /**
         * @protected
         * @param {?} moduleRef
         * @param {?=} formSettings
         * @param {?=} modalOptions
         * @param {?=} extParams
         * @return {?}
         */
        BifTargetUiService.prototype.getEntityData = /**
         * @protected
         * @param {?} moduleRef
         * @param {?=} formSettings
         * @param {?=} modalOptions
         * @param {?=} extParams
         * @return {?}
         */
            function (moduleRef, formSettings, modalOptions, extParams) {
                /** @type {?} */
                var cmpF = null;
                /** @type {?} */
                var cmpR = null;
                /** @type {?} */
                var bootstrapComponentSelector = "app-rootcomponent";
                /** @type {?} */
                var bootstrapComponent = null;
                /** @type {?} */
                var facMap = moduleRef.componentFactoryResolver['_factories'];
                /** @type {?} */
                var subject4EntityDatas = null;
                if (extParams && extParams.bootstrapComponentSelector) //selector
                 {
                    bootstrapComponentSelector = extParams.bootstrapComponentSelector;
                    facMap.forEach(( /**
                     * @param {?} value
                     * @param {?} key
                     * @param {?} map
                     * @return {?}
                     */function (value, key, map) {
                        /** @type {?} */
                        var selector = value.selector;
                        if (bootstrapComponentSelector == selector) {
                            cmpF = moduleRef.componentFactoryResolver.resolveComponentFactory(( /** @type {?} */(key)));
                            cmpR = cmpF.create(moduleRef.injector);
                        }
                    }));
                }
                else //selector 
                 {
                    bootstrapComponent = moduleRef['_bootstrapComponents'][0];
                    if (bootstrapComponent) //bootstrapComponent
                     {
                        cmpF = moduleRef.componentFactoryResolver.resolveComponentFactory(bootstrapComponent);
                        cmpR = ( /** @type {?} */(cmpF.create(moduleRef.injector)));
                    }
                    else //facMapapp-rootcomponent
                     {
                        facMap.forEach(( /**
                         * @param {?} value
                         * @param {?} key
                         * @param {?} map
                         * @return {?}
                         */function (value, key, map) {
                            /** @type {?} */
                            var selector = value.selector;
                            if (bootstrapComponentSelector == selector) {
                                cmpF = moduleRef.componentFactoryResolver.resolveComponentFactory(( /** @type {?} */(key)));
                                cmpR = cmpF.create(moduleRef.injector);
                            }
                        }));
                    }
                }
                if (cmpR && cmpR.instance && cmpR.instance.viewModel && cmpR.instance.viewModel.uiState) {
                    cmpR.instance.viewModel.uiState.setPropertyValue("action", "Load1");
                    cmpR.instance.viewModel.uiState.setPropertyValue('DEVKIT_DIALOG', true);
                }
                /** @type {?} */
                var dataSelectorService = cmpR.injector.get(AbstractBifDataSelectorService, null);
                if (dataSelectorService != null) // AbstractBifDataSelectorServiceprovider
                 {
                    this.configModalButtonsByService(modalOptions, dataSelectorService);
                    dataSelectorService.bsModalRef4BifSelector = this.modalService.show(cmpR, modalOptions);
                    subject4EntityDatas = dataSelectorService.subject4EntityDatas.asObservable();
                }
                else //
                 {
                    this.configModalButtons(modalOptions, cmpR);
                    cmpR.instance.bsModalRef4BifSelector = this.modalService.show(cmpR, modalOptions);
                    subject4EntityDatas = cmpR.instance.subject4EntityDatas.asObservable();
                }
                // 
                if (cmpR && cmpR.instance && cmpR.instance.viewModel) {
                    if (extParams && extParams.loadCommand) {
                        /** @type {?} */
                        var loadCommand = extParams.loadCommand;
                        /** @type {?} */
                        var cmdFunc = cmpR.instance.viewModel[loadCommand];
                        if (cmdFunc) {
                            /** @type {?} */
                            var args = undefined;
                            if (extParams && extParams.loadParams) {
                                if (Array.isArray(extParams.loadParams)) {
                                    args = extParams.loadParams;
                                }
                                else {
                                    args = [extParams.loadParams];
                                }
                            }
                            cmdFunc.apply(cmpR.instance.viewModel, args);
                        }
                    }
                }
                return subject4EntityDatas;
            };
        BifTargetUiService.decorators = [
            { type: core$1.Injectable }
        ];
        /** @nocollapse */
        BifTargetUiService.ctorParameters = function () {
            return [
                { type: BifDataService },
                { type: devkit.FrameContext },
                { type: uiModal.BsModalService },
                { type: uiMessager.MessagerService },
                { type: core$1.Injector },
                { type: core$1.ComponentFactoryResolver },
                { type: core$1.NgModuleFactoryLoader },
                { type: String, decorators: [{ type: core$1.Inject, args: [core$1.LOCALE_ID,] }] },
                { type: commandServices.RuntimeFrameworkService, decorators: [{ type: core$1.Optional }] }
            ];
        };
        return BifTargetUiService;
    }(AbstractUiService));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bif-manual-creation/bif-manual-creation.module.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var 0 = localStorage.getItem('languageCode') || 'zh-CHS', 1 = {};
    var BifManualCreationModule = /** @class */ (function () {
        function BifManualCreationModule() {
        }
        /**
         * @param {?=} config
         * @return {?}
         */
        BifManualCreationModule.forRoot = /**
         * @param {?=} config
         * @return {?}
         */
            function (config) {
                /** @type {?} */
                var providers = [
                    { provide: ModuleConfig, useValue: config || {} },
                    BifDataService,
                    BifSourceUiService,
                    BifTargetUiService,
                ];
                return {
                    ngModule: BifManualCreationModule,
                    providers: providers
                };
            };
        BifManualCreationModule.decorators = [
            { type: core$1.NgModule, args: [{
                        declarations: [
                            PushSelectorComponent,
                            PullSelectorComponent,
                            LocalePipe,
                        ],
                        imports: [
                            common.CommonModule,
                            forms.FormsModule,
                            http.HttpClientModule,
                            uiModal.ModalModule.forRoot(),
                            uiNotify.NotifyModule.forRoot(),
                            uiMessager.MessagerModule.forRoot(),
                            uiDialog.FarrisDialogModule.forRoot(),
                            uiLoading.LoadingModule.forRoot(),
                        ],
                        providers: [
                            { provide: core$1.LOCALE_ID, useValue: 0 },
                            { provide: ModuleConfig, useValue: 1 },
                            { provide: core$1.NgModuleFactoryLoader, useClass: core$1.SystemJsNgModuleLoader },
                            BifDataService,
                            BifSourceUiService,
                            BifTargetUiService,
                        ],
                        exports: [
                            PushSelectorComponent,
                            PullSelectorComponent
                        ],
                        entryComponents: [
                            PushSelectorComponent,
                            PullSelectorComponent
                        ],
                    },] }
        ];
        return BifManualCreationModule;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/args/CanTrackingResult.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CanTrackingResult = /** @class */ (function (_super) {
        __extends(CanTrackingResult, _super);
        function CanTrackingResult() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        CanTrackingResult.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.billTrackingSettings = null;
                this.voName = null;
            };
        /**
         * @return {?}
         */
        CanTrackingResult.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "billTrackingSettings", this.billTrackingSettings);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "voName", this.voName);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        CanTrackingResult.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.billTrackingSettings = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "billTrackingSettings");
                this.voName = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "voName");
            };
        return CanTrackingResult;
    }(CanTrackingInfo));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/args/GetChildrenEntityDataArgs.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GetChildrenEntityDataArgs = /** @class */ (function (_super) {
        __extends(GetChildrenEntityDataArgs, _super);
        function GetChildrenEntityDataArgs() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        GetChildrenEntityDataArgs.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.voId = null;
                this.voMetadataId = null;
                this.suCode = null;
                this.nodeCodes = null;
                this.hierachyIdList = null;
            };
        /**
         * @return {?}
         */
        GetChildrenEntityDataArgs.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "voId", this.voId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "voMetadataId", this.voMetadataId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "suCode", this.suCode);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "nodeCodes", commonApi$1.BpmnModelJsonHelper.StringListToJson(this.nodeCodes));
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "hierachyIdList", commonApi$1.BpmnModelJsonHelper.StringListToJson(this.hierachyIdList));
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        GetChildrenEntityDataArgs.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.voId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "voId");
                this.voMetadataId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "voMetadataId");
                this.suCode = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "suCode");
                this.nodeCodes = commonApi$1.BpmnModelJsonHelper.StringListFromJson(commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "nodeCodes"));
                this.hierachyIdList = commonApi$1.BpmnModelJsonHelper.StringListFromJson(commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "hierachyIdList"));
            };
        return GetChildrenEntityDataArgs;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/args/DownBillInfoResult.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var DownBillInfoResult = /** @class */ (function (_super) {
        __extends(DownBillInfoResult, _super);
        function DownBillInfoResult() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        DownBillInfoResult.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.voName = null;
            };
        /**
         * @return {?}
         */
        DownBillInfoResult.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "voName", this.voName);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        DownBillInfoResult.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.voName = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "voName");
            };
        return DownBillInfoResult;
    }(DownBillInfo));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/args/EntityDataResult.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var EntityDataResult = /** @class */ (function (_super) {
        __extends(EntityDataResult, _super);
        function EntityDataResult() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        EntityDataResult.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.billSchema = null;
                this.billData = null;
            };
        /**
         * @return {?}
         */
        EntityDataResult.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "billSchema", this.billSchema);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "billData", this.billData);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        EntityDataResult.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.billSchema = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsJsonSerializable(obj, "billSchema", commonApi$1.BillSchema);
                this.billData = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsJsonSerializable(obj, "billData", commonApi$1.BillData);
            };
        return EntityDataResult;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/args/GetEntityDataArgs.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GetEntityDataArgs = /** @class */ (function (_super) {
        __extends(GetEntityDataArgs, _super);
        function GetEntityDataArgs() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.billChildInfos = [];
            return _this;
        }
        /**
         * @protected
         * @return {?}
         */
        GetEntityDataArgs.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.schemaId = null;
                this.dataId = null;
                this.suCode = null;
                this.voMetadataId = null;
                this.billChildInfos = [];
                this.trackingSourceType = null;
                this.curYear = null;
            };
        /**
         * @return {?}
         */
        GetEntityDataArgs.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "schemaId", this.schemaId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "dataId", this.dataId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "suCode", this.suCode);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "voMetadataId", this.voMetadataId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "billChildInfos", this.billChildInfos);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "trackingSourceType", this.trackingSourceType);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "curYear", this.curYear);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        GetEntityDataArgs.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.schemaId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "schemaId");
                this.dataId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "dataId");
                this.suCode = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "suCode");
                this.voMetadataId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "voMetadataId");
                this.billChildInfos = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsList(obj, "billChildInfos", BillChildInfo);
                this.trackingSourceType = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "trackingSourceType");
                this.curYear = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "curYear");
            };
        return GetEntityDataArgs;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/args/GetMainEntityDataArgs.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GetMainEntityDataArgs = /** @class */ (function (_super) {
        __extends(GetMainEntityDataArgs, _super);
        function GetMainEntityDataArgs() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return GetMainEntityDataArgs;
    }(GetEntityDataArgs));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/args/UpBillInfoResult.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var UpBillInfoResult = /** @class */ (function (_super) {
        __extends(UpBillInfoResult, _super);
        function UpBillInfoResult() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @protected
         * @return {?}
         */
        UpBillInfoResult.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.voName = null;
            };
        /**
         * @return {?}
         */
        UpBillInfoResult.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "voName", this.voName);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        UpBillInfoResult.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.voName = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "voName");
            };
        return UpBillInfoResult;
    }(UpBillInfo));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/args/GetJointQueryParametersArgs.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GetJointQueryParametersArgs = /** @class */ (function (_super) {
        __extends(GetJointQueryParametersArgs, _super);
        function GetJointQueryParametersArgs() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.contents = [];
            return _this;
        }
        /**
         * @protected
         * @return {?}
         */
        GetJointQueryParametersArgs.prototype.ResetBeforeLoadFrom = /**
         * @protected
         * @return {?}
         */
            function () {
                _super.prototype.ResetBeforeLoadFrom.call(this);
                this.trackingSourceType = null;
                this.suCode = null;
                this.schemaId = null;
                this.dataId = null;
                this.contents = [];
            };
        /**
         * @return {?}
         */
        GetJointQueryParametersArgs.prototype.ConvertToJsonObject = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var obj = _super.prototype.ConvertToJsonObject.call(this);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "trackingSourceType", this.trackingSourceType);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "suCode", this.suCode);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "schemaId", this.schemaId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "dataId", this.dataId);
                commonApi$1.BpmnModelJsonHelper.SetAttributeValue(obj, "contents", this.contents);
                return obj;
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        GetJointQueryParametersArgs.prototype.LoadFromJsonObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                _super.prototype.LoadFromJsonObject.call(this, obj);
                this.trackingSourceType = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "trackingSourceType");
                this.suCode = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "suCode");
                this.schemaId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "schemaId");
                this.dataId = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsString(obj, "dataId");
                this.contents = commonApi$1.BpmnModelJsonHelper.GetAttributeValueAsList(obj, "contents", JointQueryParametersContent);
            };
        return GetJointQueryParametersArgs;
    }(commonApi$1.JsonConvertableImpl));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/args/index.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/config/bill-tracker-args.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillTrackerArgs = /** @class */ (function () {
        function BillTrackerArgs() {
            this.getBillsInfoArgs = null;
            this.canTrackingResult = null;
            this.direction = null;
            this.graphOptions = null;
            this.gridOptions = null;
        }
        BillTrackerArgs.decorators = [
            { type: core$1.Injectable }
        ];
        /** @nocollapse */
        BillTrackerArgs.ctorParameters = function () { return []; };
        return BillTrackerArgs;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/config/bill-tracker-constant.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillTrackerConstant = /** @class */ (function () {
        function BillTrackerConstant() {
        }
        BillTrackerConstant.IMAGE_PATH = "/platform/runtime/common/web/@edp-bif/runtime-api/images";
        BillTrackerConstant.DEFAULT_FUNC_ID = "DefaultBillTracker";
        BillTrackerConstant.DEFAULT_APP_ID = "BillIntegrationFrameworkRT";
        BillTrackerConstant.DEFAULT_APP_ENTRANCE = "default-bill-tracker";
        BillTrackerConstant.BILL_VIEWER_FUNC_ID = "BifBillViewer";
        BillTrackerConstant.BILL_VIEWER_APP_ID = "BillIntegrationFrameworkRT";
        BillTrackerConstant.BILL_VIEWER_APP_ENTRANCE = "bif-bill-viewer";
        return BillTrackerConstant;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/config/bill-tracker-module.config.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillTrackerModuleConfig = /** @class */ (function () {
        function BillTrackerModuleConfig() {
        }
        return BillTrackerModuleConfig;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/config/bill-tracker-direction.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {string} */
    var BillTrackerDirection = {
        Down: "Down",
        Up: "Up",
        Both: "Both",
    };

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/config/bill-tracker-graph-options.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * 
     */
    var /**
     * 
     */ BillTrackerGraphOptions = /** @class */ (function () {
        function BillTrackerGraphOptions() {
            /**
             * 
             */
            this.nodeWidth = 100;
            /**
             * 
             */
            this.nodeHeight = 60;
            /**
             * ///
             */
            this.overlayWidth = 10;
            /**
             * ///
             */
            this.overlayHeight = 10;
            /**
             * 
             */
            this.showDownBills = true;
            /**
             * 
             */
            this.showUpBills = true;
        }
        return BillTrackerGraphOptions;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/config/bill-tracker-grid-options.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * 
     */
    var /**
     * 
     */ BillTrackerGridOptions = /** @class */ (function () {
        function BillTrackerGridOptions() {
            /**
             * 
             */
            this.showEntryData = true;
            /**
             * 
             */
            this.defaultHeight = 180;
        }
        return BillTrackerGridOptions;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/config/index.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/mxgraph-ext/GraphView.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GraphView = /** @class */ (function (_super) {
        __extends(GraphView, _super);
        function GraphView(graph) {
            var _this = _super.call(this, graph) || this;
            _this.gridSteps = 4;
            _this.minGridSize = 4;
            _this.gridImage = (mxClientType.IS_SVG) ? 'data:image/gif;base64,R0lGODlhCgAKAJEAAAAAAP///8zMzP///yH5BAEAAAMALAAAAAAKAAoAAAIJ1I6py+0Po2wFADs=' : BillTrackerConstant.IMAGE_PATH + '/grid.gif';
            _this.gridColor = '#e0e0e0';
            return _this;
        }
        /**
         * @param {?=} cell
         * @return {?}
         */
        GraphView.prototype.validate = /**
         * @param {?=} cell
         * @return {?}
         */
            function (cell) {
                /** @type {?} */
                var graph = ( /** @type {?} */(this.graph));
                if (graph != null && graph.container != null && mxUtilsType.hasScrollbars(graph.container)) {
                    /** @type {?} */
                    var pad = graph.getPagePadding();
                    /** @type {?} */
                    var size = graph.getPageSize();
                    /** @type {?} */
                    var tx = this.translate.x;
                    /** @type {?} */
                    var ty = this.translate.y;
                    this.translate.x = pad.x / this.scale - (this.x0 || 0) * size.width;
                    this.translate.y = pad.y / this.scale - (this.y0 || 0) * size.height;
                }
                _super.prototype.validate.call(this, cell);
            };
        /**
         * @return {?}
         */
        GraphView.prototype.getBackgroundPageBounds = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var graph = ( /** @type {?} */(this.graph));
                /** @type {?} */
                var layout = graph.getPageLayout();
                /** @type {?} */
                var page = graph.getPageSize();
                return new mxRectangleType(this.scale * (this.translate.x + layout.x * page.width), this.scale * (this.translate.y + layout.y * page.height), this.scale * layout.width * page.width, this.scale * layout.height * page.height);
            };
        return GraphView;
    }(mxGraphViewType));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/mxgraph-ext/shapes/BillNodeShape.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillNodeShape = /** @class */ (function (_super) {
        __extends(BillNodeShape, _super);
        function BillNodeShape(bounds, fill, stroke, strokewidth) {
            var _this = this;
            bounds = bounds ? bounds : new mxRectangleType(0, 0, 0, 0);
            fill = fill ? fill : "none";
            stroke = stroke ? stroke : "#000000";
            strokewidth = strokewidth ? strokewidth : undefined;
            _this = _super.call(this, bounds, fill, stroke, strokewidth) || this;
            return _this;
        }
        /**
         * @param {?} container
         * @return {?}
         */
        BillNodeShape.prototype.init = /**
         * @param {?} container
         * @return {?}
         */
            function (container) {
                _super.prototype.init.call(this, container);
                this.fill = "none";
                this.stroke = "#000000";
            };
        return BillNodeShape;
    }(mxRectangleShapeType));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/mxgraph-ext/shapes/BillAssociationLine.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillAssociationLine = /** @class */ (function (_super) {
        __extends(BillAssociationLine, _super);
        function BillAssociationLine(bounds, stroke, strokewidth) {
            return _super.call(this, bounds, stroke, strokewidth) || this;
        }
        return BillAssociationLine;
    }(mxLineType));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/mxgraph-ext/Events.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var Events = /** @class */ (function () {
        function Events() {
        }
        Events.RESET_GRAPH_VIEW = "resetGraphView";
        Events.CLICK_FIRST_SUMMARY = "clickFirstSummary";
        Events.BILL_CELLS_ADDED_AND_MOVED = "billCellsAddedAndMoved";
        return Events;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/mxgraph-ext/BillCell.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillCell = /** @class */ (function (_super) {
        __extends(BillCell, _super);
        function BillCell(billDataInfo, billInfo, entry, geometry, style) {
            var _this = _super.call(this, null, geometry, style) || this;
            _this.THUMB_SCALE = 0.6;
            _this.billDataInfo = billDataInfo;
            _this.billInfo = billInfo;
            /** @type {?} */
            var bts = new commonApi.BillTrackingSettings();
            if (billInfo && billInfo.billTrackingSettings) {
                bts.LoadFromJson(billInfo.billTrackingSettings);
            }
            _this.entry = entry;
            return _this;
            // this.value = this.billDataInfo.caption || bts.billNodeName || this.billInfo.voName || this.billDataInfo.dataId || this.billDataInfo.summary;
        }
        /**
         * @return {?}
         */
        BillCell.prototype.getCaption = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var label = null;
                /** @type {?} */
                var bts = new commonApi.BillTrackingSettings();
                if (this.billInfo && this.billInfo.billTrackingSettings) {
                    bts.LoadFromJson(this.billInfo.billTrackingSettings);
                }
                label = this.billDataInfo.caption || bts.billNodeName || this.billInfo.voName || this.billDataInfo.dataId || this.billDataInfo.summary;
                return label;
            };
        /**
         * @return {?}
         */
        BillCell.prototype.buildHtmlTooltip = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var tooltipHtml = "            <span>" + this.billDataInfo.dataId + "</span>        ";
                return tooltipHtml;
            };
        /**
         * graph
         * @param graph
         * @returns
         */
        /**
         * graph
         * @param {?} graph
         * @return {?}
         */
        BillCell.prototype.buildHtmlLabel = /**
         * graph
         * @param {?} graph
         * @return {?}
         */
            function (graph) {
                return this.buildHtmlLabelByDOM(graph);
            };
        /**
         * domhtml
         * @param graph
         * @returns
         */
        /**
         * domhtml
         * @private
         * @param {?} graph
         * @return {?}
         */
        BillCell.prototype.buildHtmlLabelByDOM = /**
         * domhtml
         * @private
         * @param {?} graph
         * @return {?}
         */
            function (graph) {
                var _this = this;
                /** @type {?} */
                var scale = graph.view.scale;
                /** @type {?} */
                var state = graph.view.getState(this);
                /** @type {?} */
                var width = this.geometry.width;
                /** @type {?} */
                var height = this.geometry.height;
                /** @type {?} */
                var bts = new commonApi.BillTrackingSettings();
                if (this.billInfo && this.billInfo.billTrackingSettings) {
                    bts.LoadFromJson(this.billInfo.billTrackingSettings);
                }
                /** @type {?} */
                var title = this.billDataInfo.caption || bts.billNodeName || this.billInfo.voName || this.billDataInfo.dataId || this.billDataInfo.summary;
                /** @type {?} */
                var isEntry = this.entry;
                // 
                /** @type {?} */
                var divNodeRoot = document.createElement("div");
                divNodeRoot.classList.add("bif-cell-node");
                divNodeRoot.style.width = width + "px";
                divNodeRoot.style.height = height + "px";
                if (isEntry) {
                    // 
                    /** @type {?} */
                    var divNodeCurrent = document.createElement("div");
                    divNodeRoot.appendChild(divNodeCurrent);
                    divNodeCurrent.classList.add("bif-cell-node-current");
                    /** @type {?} */
                    var spanCurrent = document.createElement("span");
                    divNodeCurrent.appendChild(spanCurrent);
                    spanCurrent.classList.add("bif-cell-node-current-text");
                    spanCurrent.innerHTML = graph && graph.localePipe && graph.localePipe.transform("currentNode") || "";
                }
                // 
                if (scale < this.THUMB_SCALE) {
                    // // +
                    // const divNodeThumb = document.createElement("div");
                    // divNodeRoot.appendChild(divNodeThumb);
                    // divNodeThumb.classList.add("bif-cell-node-thumb");
                    // const divNodeThumbImg = document.createElement("div");
                    // divNodeThumb.appendChild(divNodeThumbImg);
                    // divNodeThumbImg.classList.add("bif-cell-node-thumb-img-container");
                    // const img = document.createElement("img");
                    // divNodeThumbImg.appendChild(img);
                    // img.classList.add("bif-cell-node-thumb-img");
                    // img.src = "/platform/runtime/common/web/@edp-bif/runtime-api/images/non-entry-bill.png";
                    // const divNodeThumbTitle = document.createElement("div");
                    // divNodeThumb.appendChild(divNodeThumbTitle);
                    // divNodeThumbTitle.classList.add("bif-cell-node-thumb-title");
                    // const divNodeThumbTitleText = document.createElement("div");
                    // divNodeThumbTitle.appendChild(divNodeThumbTitleText);
                    // divNodeThumbTitleText.classList.add("bif-cell-node-thumb-title-text");
                    // divNodeThumbTitleText.innerHTML = title;
                    // // 
                    // const jqm = this.billInfo.jointQueryMode;
                    // const jqp: JointQueryParameters = JSON.parse(this.billInfo.jointQueryParameters);
                    // if ((jqm == JointQueryMode.APP && jqp.funcId) || (jqm == JointQueryMode.URL && jqp.url)) {
                    //     divNodeThumbTitleText.classList.add("bif-cell-node-title-link");
                    //     mxEvent.addListener(divNodeThumbTitleText, "click", () => {
                    //         graph.fireEvent(new mxEventObject(Events.CLICK_FIRST_SUMMARY, "cell", this));
                    //         event.stopPropagation();
                    //         return false;
                    //     });
                    // }
                    // 
                    // 
                    /** @type {?} */
                    var divNodeTitleOnly = document.createElement("div");
                    divNodeRoot.appendChild(divNodeTitleOnly);
                    divNodeTitleOnly.classList.add("bif-cell-node-title-only");
                    /** @type {?} */
                    var divNodeTitleOnlyText = document.createElement("div");
                    divNodeTitleOnly.appendChild(divNodeTitleOnlyText);
                    divNodeTitleOnlyText.classList.add("bif-cell-node-title-only-text");
                    divNodeTitleOnlyText.innerHTML = title;
                    // 
                    /** @type {?} */
                    var jqm = this.billInfo.jointQueryMode;
                    /** @type {?} */
                    var jqp = JSON.parse(this.billInfo.jointQueryParameters);
                    if ((jqm == commonApi.JointQueryMode.APP && jqp.funcId) || (jqm == commonApi.JointQueryMode.URL && jqp.url)) {
                        divNodeTitleOnlyText.classList.add("bif-cell-node-title-link");
                        mxEventType.addListener(divNodeTitleOnlyText, "click", ( /**
                         * @return {?}
                         */function () {
                            graph.fireEvent(new mxEventObjectType(Events.CLICK_FIRST_SUMMARY, "cell", _this));
                            event.stopPropagation();
                            return false;
                        }));
                    }
                }
                else {
                    // 
                    /** @type {?} */
                    var divNodeMain = document.createElement("div");
                    divNodeRoot.appendChild(divNodeMain);
                    divNodeMain.classList.add("bif-cell-node-main");
                    // 
                    /** @type {?} */
                    var divNodeTitle = document.createElement("div");
                    divNodeMain.appendChild(divNodeTitle);
                    divNodeTitle.classList.add("bif-cell-node-title");
                    /** @type {?} */
                    var divNodeTitleText = document.createElement("div");
                    divNodeTitle.appendChild(divNodeTitleText);
                    divNodeTitleText.classList.add("bif-cell-node-title-text");
                    divNodeTitleText.innerHTML = title;
                    // 
                    /** @type {?} */
                    var divNodeSummaryList_1 = document.createElement("div");
                    divNodeMain.appendChild(divNodeSummaryList_1);
                    divNodeSummaryList_1.classList.add("bif-cell-node-summary-list");
                    // 46
                    divNodeSummaryList_1.style.minHeight = (height - 46) + "px";
                    try {
                        /** @type {?} */
                        var fieldNameAndValues = commonApi$1.BpmnModelJsonHelper.FromJson(this.billDataInfo.summary, FieldNameAndValue);
                        fieldNameAndValues && fieldNameAndValues.forEach(( /**
                         * @param {?} fv
                         * @param {?} idx
                         * @return {?}
                         */function (fv, idx) {
                            /** @type {?} */
                            var divNodeSummary = document.createElement("div");
                            divNodeSummaryList_1.appendChild(divNodeSummary);
                            divNodeSummary.classList.add("bif-cell-node-summary");
                            /** @type {?} */
                            var divNodeSummaryCaption = document.createElement("div");
                            divNodeSummary.appendChild(divNodeSummaryCaption);
                            divNodeSummaryCaption.classList.add("bif-cell-node-summary-caption");
                            /** @type {?} */
                            var divNodeSummaryCaptionText = document.createElement("div");
                            divNodeSummaryCaption.appendChild(divNodeSummaryCaptionText);
                            divNodeSummaryCaptionText.classList.add("bif-cell-node-summary-caption-text");
                            divNodeSummaryCaptionText.title = fv.name;
                            divNodeSummaryCaptionText.innerHTML = fv.name;
                            /** @type {?} */
                            var divNodeSummaryValue = document.createElement("div");
                            divNodeSummary.appendChild(divNodeSummaryValue);
                            divNodeSummaryValue.classList.add("bif-cell-node-summary-value");
                            /** @type {?} */
                            var divNodeSummaryValueText = document.createElement("div");
                            divNodeSummaryValue.appendChild(divNodeSummaryValueText);
                            divNodeSummaryValueText.classList.add("bif-cell-node-summary-value-text");
                            divNodeSummaryValueText.title = fv.value;
                            divNodeSummaryValueText.innerText = fv.value;
                            if (idx == 0) {
                                // 
                                /** @type {?} */
                                var jqm = _this.billInfo.jointQueryMode;
                                /** @type {?} */
                                var jqp = JSON.parse(_this.billInfo.jointQueryParameters);
                                if ((jqm == commonApi.JointQueryMode.APP && jqp.funcId) || (jqm == commonApi.JointQueryMode.URL && jqp.url)) {
                                    divNodeSummaryValueText.classList.add("bif-cell-node-title-link", "bif-cell-node-title-link-color");
                                    mxEventType.addListener(divNodeSummaryValueText, "click", ( /**
                                     * @return {?}
                                     */function () {
                                        graph.fireEvent(new mxEventObjectType(Events.CLICK_FIRST_SUMMARY, "cell", _this));
                                        event.stopPropagation();
                                        return false;
                                    }));
                                }
                            }
                        }));
                    }
                    catch (e) {
                        console.error(e);
                    }
                }
                return divNodeRoot;
            };
        /**
         * html
         * @param graph
         * @returns
         */
        /**
         * html
         * @private
         * @param {?} graph
         * @return {?}
         */
        BillCell.prototype.buildHtmlLabelByTemplateText = /**
         * html
         * @private
         * @param {?} graph
         * @return {?}
         */
            function (graph) {
                /** @type {?} */
                var state = graph.view.getState(this);
                /** @type {?} */
                var width = state && state.width ? state.width : this.geometry.width;
                /** @type {?} */
                var height = state && state.height ? state.height : this.geometry.height;
                /** @type {?} */
                var bts = new commonApi.BillTrackingSettings();
                if (this.billInfo && this.billInfo.billTrackingSettings) {
                    bts.LoadFromJson(this.billInfo.billTrackingSettings);
                }
                /** @type {?} */
                var title = this.billDataInfo.caption || bts.billNodeName || this.billInfo.voName || this.billDataInfo.dataId || this.billDataInfo.summary;
                /** @type {?} */
                var titleBackground = this.entry ? "rgba(86,160,255,0.08)" : "#FFFFFF";
                /** @type {?} */
                var summaryHtml = "";
                try {
                    /** @type {?} */
                    var fieldNameAndValues = commonApi$1.BpmnModelJsonHelper.FromJson(this.billDataInfo.summary, FieldNameAndValue);
                    fieldNameAndValues && fieldNameAndValues.forEach(( /**
                     * @param {?} fv
                     * @param {?} idx
                     * @return {?}
                     */function (fv, idx) {
                        /** @type {?} */
                        var valueText = idx == 0 ? "<a href='javascript:void(0);'>" + fv.value + "</a>" : fv.value;
                        summaryHtml += "                        <div class=\"bif-cell-node-summary\">                            <div class=\"bif-cell-node-summary-caption\">                                <div class=\"bif-cell-node-summary-caption-text\" title=\"" + fv.name + "\">" + fv.name + "</div>                            </div>                            <div class=\"bif-cell-node-summary-value\">                                <div class=\"bif-cell-node-summary-value-text\" title=\"" + fv.value + "\">" + valueText + "</div>                            </div>                        </div>                    ";
                    }));
                }
                catch (e) {
                    console.error(e);
                }
                /** @type {?} */
                var html = "            <div class=\"bif-cell-node\" style=\"width:" + width + "px;\">                <div class=\"bif-cell-node-main\" style=\"background: " + titleBackground + ";\">                    <div class=\"bif-cell-node-title\">                        <div class=\"bif-cell-node-title-text\">" + title + "</div>                    </div>                    <div class=\"bif-cell-node-summary-list\" style=\"min-height: " + (height - 30) + "px;\">                        " + summaryHtml + "                    </div>                </div>            </div>        ";
                return html;
            };
        return BillCell;
    }(mxCellType));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/utils/Base64.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var Base64 = /** @class */ (function () {
        function Base64() {
        }
        /**
         * @param {?} input
         * @param {?} binary
         * @return {?}
         */
        Base64.encode = /**
         * @param {?} input
         * @param {?} binary
         * @return {?}
         */
            function (input, binary) {
                binary = (binary != null) ? binary : false;
                /** @type {?} */
                var output = "";
                /** @type {?} */
                var chr1;
                /** @type {?} */
                var chr2;
                /** @type {?} */
                var chr3;
                /** @type {?} */
                var enc1;
                /** @type {?} */
                var enc2;
                /** @type {?} */
                var enc3;
                /** @type {?} */
                var enc4;
                /** @type {?} */
                var i = 0;
                if (!binary) {
                    input = Base64._utf8_encode(input);
                }
                while (i < input.length) {
                    chr1 = input.charCodeAt(i++);
                    chr2 = input.charCodeAt(i++);
                    chr3 = input.charCodeAt(i++);
                    enc1 = chr1 >> 2;
                    enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
                    enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
                    enc4 = chr3 & 63;
                    if (isNaN(chr2)) {
                        enc3 = enc4 = 64;
                    }
                    else if (isNaN(chr3)) {
                        enc4 = 64;
                    }
                    output = output +
                        Base64._keyStr.charAt(enc1) + Base64._keyStr.charAt(enc2) +
                        Base64._keyStr.charAt(enc3) + Base64._keyStr.charAt(enc4);
                }
                return output;
            };
        /**
         * @param {?} string
         * @return {?}
         */
        Base64._utf8_encode = /**
         * @param {?} string
         * @return {?}
         */
            function (string) {
                string = string.replace(/\r\n/g, "\n");
                /** @type {?} */
                var utftext = "";
                for (var n = 0; n < string.length; n++) {
                    /** @type {?} */
                    var c = string.charCodeAt(n);
                    if (c < 128) {
                        utftext += String.fromCharCode(c);
                    }
                    else if ((c > 127) && (c < 2048)) {
                        utftext += String.fromCharCode((c >> 6) | 192);
                        utftext += String.fromCharCode((c & 63) | 128);
                    }
                    else {
                        utftext += String.fromCharCode((c >> 12) | 224);
                        utftext += String.fromCharCode(((c >> 6) & 63) | 128);
                        utftext += String.fromCharCode((c & 63) | 128);
                    }
                }
                return utftext;
            };
        /**
         * @param {?} input
         * @param {?} binary
         * @return {?}
         */
        Base64.decode = /**
         * @param {?} input
         * @param {?} binary
         * @return {?}
         */
            function (input, binary) {
                binary = (binary != null) ? binary : false;
                /** @type {?} */
                var output = "";
                /** @type {?} */
                var chr1;
                /** @type {?} */
                var chr2;
                /** @type {?} */
                var chr3;
                /** @type {?} */
                var enc1;
                /** @type {?} */
                var enc2;
                /** @type {?} */
                var enc3;
                /** @type {?} */
                var enc4;
                /** @type {?} */
                var i = 0;
                input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");
                while (i < input.length) {
                    enc1 = this._keyStr.indexOf(input.charAt(i++));
                    enc2 = this._keyStr.indexOf(input.charAt(i++));
                    enc3 = this._keyStr.indexOf(input.charAt(i++));
                    enc4 = this._keyStr.indexOf(input.charAt(i++));
                    chr1 = (enc1 << 2) | (enc2 >> 4);
                    chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);
                    chr3 = ((enc3 & 3) << 6) | enc4;
                    output = output + String.fromCharCode(chr1);
                    if (enc3 != 64) {
                        output = output + String.fromCharCode(chr2);
                    }
                    if (enc4 != 64) {
                        output = output + String.fromCharCode(chr3);
                    }
                }
                if (!binary) {
                    output = Base64._utf8_decode(output);
                }
                return output;
            };
        /**
         * @param {?} utftext
         * @return {?}
         */
        Base64._utf8_decode = /**
         * @param {?} utftext
         * @return {?}
         */
            function (utftext) {
                /** @type {?} */
                var string = "";
                /** @type {?} */
                var i = 0;
                /** @type {?} */
                var c = 0;
                /** @type {?} */
                var c2 = 0;
                /** @type {?} */
                var c3 = 0;
                while (i < utftext.length) {
                    c = utftext.charCodeAt(i);
                    if (c < 128) {
                        string += String.fromCharCode(c);
                        i++;
                    }
                    else if ((c > 191) && (c < 224)) {
                        c2 = utftext.charCodeAt(i + 1);
                        string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));
                        i += 2;
                    }
                    else {
                        c2 = utftext.charCodeAt(i + 1);
                        c3 = utftext.charCodeAt(i + 2);
                        string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));
                        i += 3;
                    }
                }
                return string;
            };
        Base64._keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
        return Base64;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/mxgraph-ext/VertexHandler.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var VertexHandler = /** @class */ (function (_super) {
        __extends(VertexHandler, _super);
        function VertexHandler(state) {
            return _super.call(this, state) || this;
        }
        /**
         * 
         * @param state
         * @returns
         */
        /**
         * 
         * @param {?} state
         * @return {?}
         */
        VertexHandler.prototype.getSelectionBounds = /**
         * 
         * @param {?} state
         * @return {?}
         */
            function (state) {
                return _super.prototype.getSelectionBounds.call(this, state);
            };
        /**
         * 
         */
        /**
         * 
         * @return {?}
         */
        VertexHandler.prototype.redrawHandles = /**
         * 
         * @return {?}
         */
            function () {
                _super.prototype.redrawHandles.call(this);
                if (this.sizers != null && this.sizers.length > 7) {
                    this.sizers[1].node.style.display = 'none';
                    this.sizers[3].node.style.display = 'none';
                    this.sizers[4].node.style.display = 'none';
                    this.sizers[6].node.style.display = 'none';
                }
            };
        /**
         * 
         * @param bounds
         * @returns
         */
        /**
         * 
         * @param {?} bounds
         * @return {?}
         */
        VertexHandler.prototype.createSelectionShape = /**
         * 
         * @param {?} bounds
         * @return {?}
         */
            function (bounds) {
                if (this.state.cell instanceof BillCell) {
                    /** @type {?} */
                    var shape = new mxRectangleShapeType(mxRectangleType.fromRectangle(bounds), null, this.getSelectionColor());
                    shape.strokewidth = this.getSelectionStrokeWidth();
                    shape.isDashed = this.isSelectionDashed();
                    shape.isRounded = true;
                    shape.style = shape.style || [];
                    // todo: 4
                    shape.style[mxConstantsType.STYLE_ARCSIZE] = 4 * this.state.view.scale;
                    return shape;
                }
                return _super.prototype.createSelectionShape.call(this, bounds);
            };
        return VertexHandler;
    }(mxVertexHandlerType));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/mxgraph-ext/Styles.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var Styles = /** @class */ (function () {
        function Styles() {
        }
        Styles.STYLE_BILL_NODE_NAME = "billNode";
        Styles.STYLE_BILL_NODE_ENTRY_NAME = "billNodeEntry";
        Styles.STYLE_BILL_ASSOCIATION_NAME = "billAssociation";
        return Styles;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/mxgraph-ext/Graph.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    mxCellRendererType.registerShape("billNodeShape", BillNodeShape);
    mxCellRendererType.registerShape("billAssociationLine", BillAssociationLine);
    var Graph = /** @class */ (function (_super) {
        __extends(Graph, _super);
        function Graph(container, model, renderHint, stylesheet) {
            var _this = _super.call(this, container, model, renderHint, stylesheet) || this;
            _this.background = '#ffffff';
            // this.newBTS = newBTS;
            _this.autoScroll = false;
            _this.autoExtend = true;
            _this.setCellsResizable(false);
            _this.setCellsEditable(false);
            _this.setTooltips(false);
            _this.setHtmlLabels(true);
            // 
            _this.setVertexLabelsMovable(false);
            // 
            _this.setAllowDanglingEdges(false);
            // 
            _this.defineInnerStylesNewBTS();
            // 
            _this.setPanning(true);
            _this.panningHandler.useLeftButtonForPanning = true;
            _this.container.style.cursor = 'grab';
            _this.scrollTileSize = new mxRectangleType(0, 0, 400, 400);
            _this.addListener(Events.RESET_GRAPH_VIEW, _this.resetGraphView);
            return _this;
        }
        /**
         * @return {?}
         */
        Graph.prototype.createGraphView = /**
         * @return {?}
         */
            function () {
                return new GraphView(this);
            };
        /**
         * @param {?} state
         * @return {?}
         */
        Graph.prototype.createVertexHandler = /**
         * @param {?} state
         * @return {?}
         */
            function (state) {
                return new VertexHandler(state);
            };
        /**
         * @return {?}
         */
        Graph.prototype.getPagePadding = /**
         * @return {?}
         */
            function () {
                return new mxPointType(Math.max(0, Math.round(this.container.offsetWidth - 34)), Math.max(0, Math.round(this.container.offsetHeight - 34)));
            };
        /**
         * @return {?}
         */
        Graph.prototype.getPageSize = /**
         * @return {?}
         */
            function () {
                return (this.pageVisible) ? new mxRectangleType(0, 0, this.pageFormat.width * this.pageScale, this.pageFormat.height * this.pageScale) : this.getScrollTileSize();
            };
        /**
         * @return {?}
         */
        Graph.prototype.getPageLayout = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var size = (this.pageVisible) ? this.getPageSize() : this.getScrollTileSize();
                /** @type {?} */
                var bounds = this.getGraphBounds();
                if (bounds.width == 0 || bounds.height == 0) {
                    return new mxRectangleType(0, 0, 1, 1);
                }
                else {
                    // Computes untransformed graph bounds
                    /** @type {?} */
                    var x = Math.ceil(bounds.x / this.view.scale - this.view.translate.x);
                    /** @type {?} */
                    var y = Math.ceil(bounds.y / this.view.scale - this.view.translate.y);
                    /** @type {?} */
                    var w = Math.floor(bounds.width / this.view.scale);
                    /** @type {?} */
                    var h = Math.floor(bounds.height / this.view.scale);
                    /** @type {?} */
                    var x0 = Math.floor(x / size.width);
                    /** @type {?} */
                    var y0 = Math.floor(y / size.height);
                    /** @type {?} */
                    var w0 = Math.ceil((x + w) / size.width) - x0;
                    /** @type {?} */
                    var h0 = Math.ceil((y + h) / size.height) - y0;
                    return new mxRectangleType(x0, y0, w0, h0);
                }
            };
        /**
         * @return {?}
         */
        Graph.prototype.getScrollTileSize = /**
         * @return {?}
         */
            function () {
                if (this.scrollTileSize == null) {
                    this.scrollTileSize = new mxRectangleType(0, 0, 400, 600);
                }
                return this.scrollTileSize;
            };
        /**
         * @param {?} bounds
         * @param {?} width
         * @param {?} height
         * @return {?}
         */
        Graph.prototype.getPreferredPageSize = /**
         * @param {?} bounds
         * @param {?} width
         * @param {?} height
         * @return {?}
         */
            function (bounds, width, height) {
                //scrollTileSize
                /** @type {?} */
                var pages = this.getPageLayout();
                /** @type {?} */
                var size = this.getPageSize();
                return new mxRectangleType(0, 0, pages.width * size.width, pages.height * size.height);
            };
        /**
         * @return {?}
         */
        Graph.prototype.sizeDidChange = /**
         * @return {?}
         */
            function () {
                if (this.container != null && mxUtilsType.hasScrollbars(this.container)) {
                    /** @type {?} */
                    var pages = this.getPageLayout();
                    /** @type {?} */
                    var pad = this.getPagePadding();
                    /** @type {?} */
                    var size = this.getPageSize();
                    // Updates the minimum graph size
                    /** @type {?} */
                    var minw = Math.ceil(2 * pad.x / this.view.scale + pages.width * size.width);
                    /** @type {?} */
                    var minh = Math.ceil(2 * pad.y / this.view.scale + pages.height * size.height);
                    /** @type {?} */
                    var min = this.minimumGraphSize;
                    // LATER: Fix flicker of scrollbar size in IE quirks mode
                    // after delayed call in window.resize event handler
                    if (min == null || min.width != minw || min.height != minh) {
                        this.minimumGraphSize = new mxRectangleType(0, 0, minw, minh);
                    }
                    // Updates auto-translate to include padding and graph size
                    /** @type {?} */
                    var dx = pad.x / this.view.scale - pages.x * size.width;
                    /** @type {?} */
                    var dy = pad.y / this.view.scale - pages.y * size.height;
                    if (!this.autoTranslate && (this.view.translate.x != dx || this.view.translate.y != dy)) {
                        this.autoTranslate = true;
                        this.view.x0 = pages.x;
                        this.view.y0 = pages.y;
                        // NOTE: THIS INVOKES THIS METHOD AGAIN. UNFORTUNATELY THERE IS NO WAY AROUND THIS SINCE THE
                        // BOUNDS ARE KNOWN AFTER THE VALIDATION AND SETTING THE TRANSLATE TRIGGERS A REVALIDATION.
                        // SHOULD MOVE TRANSLATE/SCALE TO VIEW.
                        /** @type {?} */
                        var tx = this.view.translate.x;
                        /** @type {?} */
                        var ty = this.view.translate.y;
                        this.view.setTranslate(dx, dy);
                        this.container.scrollLeft += (dx - tx) * this.view.scale;
                        this.container.scrollTop += (dy - ty) * this.view.scale;
                        this.autoTranslate = false;
                        return;
                    }
                    //super.sizeDidChange.apply(this, arguments);
                    _super.prototype.sizeDidChange.call(this);
                }
            };
        /**
         * @return {?}
         */
        Graph.prototype.resetGraphView = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var bounds = this.getGraphBounds();
                /** @type {?} */
                var dataRegionHeight = 0;
                if (this.gridOptions.showEntryData) {
                    if (typeof this.gridOptions.defaultHeight == "string") {
                        dataRegionHeight = 0;
                    }
                    else {
                        dataRegionHeight = this.gridOptions.defaultHeight;
                    }
                }
                /** @type {?} */
                var s = Math.min(this.container.clientWidth / bounds.width, (this.container.clientHeight - dataRegionHeight - 20) / bounds.height);
                // 1
                s = s >= 1 ? 1 : s;
                // 0.6
                s = s <= 0.6 ? 0.6 : s;
                this.zoomTo(s, true);
                bounds = this.getGraphBounds();
                /** @type {?} */
                var width = Math.max(bounds.width, this.scrollTileSize.width * this.view.scale);
                /** @type {?} */
                var height = Math.max(bounds.height, this.scrollTileSize.height * this.view.scale);
                // this.container.scrollTop = Math.floor(Math.max(0, bounds.y - Math.max(20, (this.container.clientHeight - height) / 4)));
                // this.container.scrollLeft = Math.floor(Math.max(0, bounds.x - Math.max(0, (this.container.clientWidth - width) / 2)));
                this.container.scrollTop = Math.floor(Math.max(0, bounds.y - (this.container.clientHeight - bounds.height) / 2 + 79));
                this.container.scrollLeft = Math.floor(Math.max(0, bounds.x - (this.container.clientWidth - bounds.width) / 2));
            };
        /**
         * @param {?} parent
         * @param {?} id
         * @param {?} billDataInfo
         * @param {?} billInfo
         * @param {?} entry
         * @param {?} x
         * @param {?} y
         * @param {?} width
         * @param {?} height
         * @param {?=} style
         * @param {?=} relative
         * @return {?}
         */
        Graph.prototype.insertBillCell = /**
         * @param {?} parent
         * @param {?} id
         * @param {?} billDataInfo
         * @param {?} billInfo
         * @param {?} entry
         * @param {?} x
         * @param {?} y
         * @param {?} width
         * @param {?} height
         * @param {?=} style
         * @param {?=} relative
         * @return {?}
         */
            function (parent, id, billDataInfo, billInfo, entry, x, y, width, height, style, relative) {
                /** @type {?} */
                var billCell = this.createBillCell(parent, id, billDataInfo, billInfo, entry, x, y, width, height, style, relative);
                return ( /** @type {?} */(this.addCell(billCell, parent)));
            };
        /**
         * @param {?} parent
         * @param {?} id
         * @param {?} billDataInfo
         * @param {?} billInfo
         * @param {?} entry
         * @param {?} x
         * @param {?} y
         * @param {?} width
         * @param {?} height
         * @param {?=} style
         * @param {?=} relative
         * @return {?}
         */
        Graph.prototype.createBillCell = /**
         * @param {?} parent
         * @param {?} id
         * @param {?} billDataInfo
         * @param {?} billInfo
         * @param {?} entry
         * @param {?} x
         * @param {?} y
         * @param {?} width
         * @param {?} height
         * @param {?=} style
         * @param {?=} relative
         * @return {?}
         */
            function (parent, id, billDataInfo, billInfo, entry, x, y, width, height, style, relative) {
                /** @type {?} */
                var geometry = new mxGeometryType(x, y, width, height);
                geometry.relative = (relative != null) ? relative : false;
                /** @type {?} */
                var billCell = new BillCell(billDataInfo, billInfo, entry, geometry, style);
                billCell.setId(id);
                billCell.setVertex(true);
                billCell.setConnectable(true);
                return billCell;
            };
        /**
         * @param {?} cell
         * @return {?}
         */
        Graph.prototype.getTooltipForCell = /**
         * @param {?} cell
         * @return {?}
         */
            function (cell) {
                if (cell instanceof BillCell) {
                    return cell.buildHtmlTooltip();
                }
                return _super.prototype.getTooltipForCell.call(this, cell);
            };
        /**
         * @param {?} cell
         * @return {?}
         */
        Graph.prototype.getLabel = /**
         * @param {?} cell
         * @return {?}
         */
            function (cell) {
                if (cell instanceof BillCell) {
                    // if (this.newBTS) {
                    return _super.prototype.getLabel.call(this, cell);
                    // } else {
                    //     return cell.getCaption();
                    // }
                }
                return _super.prototype.getLabel.call(this, cell);
            };
        /**
         * @param {?} cell
         * @return {?}
         */
        Graph.prototype.convertValueToString = /**
         * @param {?} cell
         * @return {?}
         */
            function (cell) {
                if (cell instanceof BillCell) {
                    return cell.buildHtmlLabel(this);
                }
                else {
                    return _super.prototype.convertValueToString.call(this, cell);
                }
            };
        /**
         * @private
         * @return {?}
         */
        Graph.prototype.defineInnerStylesNewBTS = /**
         * @private
         * @return {?}
         */
            function () {
                //
                /** @type {?} */
                var style = Object.assign({}, this.getStylesheet().getDefaultVertexStyle());
                style[mxConstantsType.STYLE_FILLCOLOR] = 'none';
                style[mxConstantsType.STYLE_STROKE_OPACITY] = '0';
                style[mxConstantsType.STYLE_STROKEWIDTH] = '1';
                style[mxConstantsType.STYLE_FONTCOLOR] = 'black';
                style[mxConstantsType.STYLE_FONTSIZE] = '12';
                style[mxConstantsType.STYLE_FONTSTYLE] = '1';
                style[mxConstantsType.STYLE_ROUNDED] = '1';
                style[mxConstantsType.STYLE_SPACING] = 8;
                style[mxConstantsType.STYLE_WHITE_SPACE] = 'wrap';
                // 
                style[mxConstantsType.STYLE_IMAGE_ASPECT] = '0';
                //
                style[mxConstantsType.STYLE_PERIMETER] = mxPerimeterType.RectanglePerimeter;
                style[mxConstantsType.STYLE_ALIGN] = mxConstantsType.ALIGN_CENTER;
                style[mxConstantsType.STYLE_VERTICAL_ALIGN] = mxConstantsType.ALIGN_MIDDLE;
                this.getStylesheet().putCellStyle(Styles.STYLE_BILL_NODE_NAME, style);
                //
                style = Object.assign({}, style);
                this.getStylesheet().putCellStyle(Styles.STYLE_BILL_NODE_ENTRY_NAME, style);
                //
                style = Object.assign({}, this.getStylesheet().getDefaultEdgeStyle());
                style[mxConstantsType.STYLE_SHAPE] = mxConstantsType.SHAPE_CONNECTOR;
                style[mxConstantsType.STYLE_STROKECOLOR] = '#2A87FF';
                style[mxConstantsType.STYLE_ENDARROW] = mxConstantsType.ARROW_CLASSIC;
                style[mxConstantsType.STYLE_VERTICAL_ALIGN] = mxConstantsType.ALIGN_MIDDLE;
                style[mxConstantsType.STYLE_ALIGN] = mxConstantsType.ALIGN_CENTER;
                style[mxConstantsType.STYLE_EDGE] = mxConstantsType.EDGESTYLE_ELBOW;
                style[mxConstantsType.STYLE_ELBOW] = mxConstantsType.ELBOW_HORIZONTAL;
                style[mxConstantsType.STYLE_STROKEWIDTH] = 1.8;
                style[mxConstantsType.STYLE_DASHED] = 1;
                style[mxConstantsType.STYLE_OPACITY] = 80;
                this.getStylesheet().putCellStyle(Styles.STYLE_BILL_ASSOCIATION_NAME, style);
            };
        /**
         * @param {?} w
         * @param {?} h
         * @param {?} data
         * @return {?}
         */
        Graph.createSvgImage = /**
         * @param {?} w
         * @param {?} h
         * @param {?} data
         * @return {?}
         */
            function (w, h, data) {
                /** @type {?} */
                var tmp = unescape(encodeURIComponent('<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">' +
                    '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="' + w + 'px" height="' + h + 'px" ' +
                    'version="1.1">' + data + '</svg>'));
                return new mxImageType('data:image/svg+xml;base64,' + ((window.btoa) ? btoa(tmp) : Base64.encode(tmp, true)), w, h);
            };
        // newBTS: boolean = false;
        Graph.handleFill = '#29b6f2';
        return Graph;
    }(mxGraphType));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/mxgraph-ext/shapes/index.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/mxgraph-ext/CompactTreeLayout.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompactTreeLayout = /** @class */ (function (_super) {
        __extends(CompactTreeLayout, _super);
        function CompactTreeLayout(graph, horizontal, invert) {
            var _this = _super.call(this, graph, horizontal, invert) || this;
            _this.useBoundingBox = false;
            return _this;
        }
        /**
         * @param {?} cell
         * @param {?} parent
         * @return {?}
         */
        CompactTreeLayout.prototype.dfs = /**
         * @param {?} cell
         * @param {?} parent
         * @return {?}
         */
            function (cell, parent) {
                /** @type {?} */
                var id = mxCellPathType.create(cell);
                /** @type {?} */
                var node = null;
                if (cell != null && this.visited[id] == null && !this.isVertexIgnored(cell)) {
                    this.visited[id] = cell;
                    node = this.createNode(cell);
                    /** @type {?} */
                    var model = this.graph.getModel();
                    /** @type {?} */
                    var prev = null;
                    /** @type {?} */
                    var out = this.graph.getEdges(cell, parent, this.invert, !this.invert, false, true);
                    /** @type {?} */
                    var view = this.graph.getView();
                    if (this.sortEdges) {
                        this.sortOutgoingEdges(cell, out);
                    }
                    for (var i = 0; i < out.length; i++) {
                        /** @type {?} */
                        var edge = out[i];
                        if (!this.isEdgeIgnored(edge)) {
                            // Resets the points on the traversed edge
                            if (this.resetEdges) {
                                this.setEdgePoints(edge, null);
                            }
                            if (this.edgeRouting) {
                                this.setEdgeStyleEnabled(edge, false);
                                this.setEdgePoints(edge, null);
                            }
                            // Checks if terminal in same swimlane
                            /** @type {?} */
                            var state = view.getState(edge);
                            /** @type {?} */
                            var target = (state != null) ? state.getVisibleTerminal(this.invert) : view.getVisibleTerminal(edge, this.invert);
                            /** @type {?} */
                            var tmp = this.dfs(target, parent);
                            if (tmp != null && model.getGeometry(target) != null) {
                                if (prev == null) {
                                    node.child = tmp;
                                }
                                else {
                                    prev.next = tmp;
                                }
                                prev = tmp;
                            }
                        }
                    }
                }
                return node;
            };
        /**
         * @param {?} target
         * @param {?} edges
         * @return {?}
         */
        CompactTreeLayout.prototype.sortIngoingEdges = /**
         * @param {?} target
         * @param {?} edges
         * @return {?}
         */
            function (target, edges) {
                /** @type {?} */
                var lookup = new mxDictionaryType();
                edges.sort(( /**
                 * @param {?} e1
                 * @param {?} e2
                 * @return {?}
                 */function (e1, e2) {
                    /** @type {?} */
                    var start1 = e1.getTerminal(e1.getTerminal(true) == target);
                    // let end1 = e1.getTerminal(e1.getTerminal(true) == target);
                    /** @type {?} */
                    var p1 = lookup.get(start1);
                    if (p1 == null) {
                        p1 = mxCellPathType.create(start1).split(mxCellPathType.PATH_SEPARATOR);
                        lookup.put(start1, p1);
                    }
                    /** @type {?} */
                    var start2 = e2.getTerminal(e2.getTerminal(true) == target);
                    /** @type {?} */
                    var p2 = lookup.get(start2);
                    if (p2 == null) {
                        p2 = mxCellPathType.create(start2).split(mxCellPathType.PATH_SEPARATOR);
                        lookup.put(start2, p2);
                    }
                    return mxCellPathType.compare(p1, p2);
                }));
            };
        /**
         * @param {?} parent
         * @param {?} root
         * @return {?}
         */
        CompactTreeLayout.prototype.execute = /**
         * @param {?} parent
         * @param {?} root
         * @return {?}
         */
            function (parent, root) {
                this.parent = parent;
                /** @type {?} */
                var model = this.graph.getModel();
                if (root == null) {
                    // Takes the parent as the root if it has outgoing edges
                    if (this.graph.getEdges(parent, model.getParent(parent), this.invert, !this.invert, false).length > 0) {
                        this.root = parent;
                    }
                    // Tries to find a suitable root in the parent's
                    // children
                    else {
                        /** @type {?} */
                        var roots = this.graph.findTreeRoots(parent, true, this.invert);
                        if (roots.length > 0) {
                            for (var i = 0; i < roots.length; i++) {
                                if (!this.isVertexIgnored(roots[i]) &&
                                    this.graph.getEdges(roots[i], null, this.invert, !this.invert, false).length > 0) {
                                    this.root = roots[i];
                                    break;
                                }
                            }
                        }
                    }
                }
                else {
                    this.root = root;
                }
                if (this.root != null) {
                    if (this.resizeParent) {
                        this.parentsChanged = new Object();
                    }
                    else {
                        this.parentsChanged = null;
                    }
                    //  Maintaining parent location
                    this.parentX = null;
                    this.parentY = null;
                    if (parent != this.root && model.isVertex(parent) != null && this.maintainParentLocation) {
                        /** @type {?} */
                        var geo = this.graph.getCellGeometry(parent);
                        if (geo != null) {
                            this.parentX = geo.x;
                            this.parentY = geo.y;
                        }
                    }
                    model.beginUpdate();
                    try {
                        this.visited = {};
                        this.node = this.dfs(this.root, parent);
                        if (this.alignRanks) {
                            this.maxRankHeight = [];
                            this.findRankHeights(this.node, 0);
                            this.setCellHeights(this.node, 0);
                        }
                        if (this.node != null) {
                            this.layout(this.node);
                            /** @type {?} */
                            var x0 = this.graph.gridSize;
                            /** @type {?} */
                            var y0 = x0;
                            if (!this.moveTree) {
                                /** @type {?} */
                                var g = this.getVertexBounds(this.root);
                                if (g != null) {
                                    x0 = g.x;
                                    y0 = g.y;
                                }
                            }
                            /** @type {?} */
                            var bounds = null;
                            if (this.isHorizontal()) {
                                bounds = this.horizontalLayout(this.node, x0, y0);
                            }
                            else {
                                bounds = this.verticalLayout(this.node, null, x0, y0);
                            }
                            if (bounds != null) {
                                /** @type {?} */
                                var dx = 0;
                                /** @type {?} */
                                var dy = 0;
                                // if (bounds.x < 0) {
                                //     dx = Math.abs(x0 - bounds.x);
                                // }
                                // if (bounds.y < 0) {
                                //     dy = Math.abs(y0 - bounds.y);
                                // }
                                if (bounds.x > 0) {
                                    dx = -1 * Math.abs(x0 - bounds.x);
                                }
                                if (bounds.y > 0) {
                                    dy = -1 * Math.abs(y0 - bounds.y);
                                }
                                if (dx != 0 || dy != 0) {
                                    this.moveNode(this.node, dx, dy);
                                }
                                if (this.resizeParent) {
                                    this.adjustParents();
                                }
                                if (this.edgeRouting) {
                                    // Iterate through all edges setting their positions
                                    this.localEdgeProcessing(this.node);
                                }
                            }
                            // Maintaining parent location
                            if (this.parentX != null && this.parentY != null) {
                                /** @type {?} */
                                var geo = this.graph.getCellGeometry(parent);
                                if (geo != null) {
                                    geo = geo.clone();
                                    geo.x = this.parentX;
                                    geo.y = this.parentY;
                                    model.setGeometry(parent, geo);
                                }
                            }
                        }
                    }
                    finally {
                        model.endUpdate();
                    }
                }
            };
        /**
         * @param {?} node
         * @param {?} x0
         * @param {?} y0
         * @param {?=} bounds
         * @return {?}
         */
        CompactTreeLayout.prototype.horizontalLayout = /**
         * @param {?} node
         * @param {?} x0
         * @param {?} y0
         * @param {?=} bounds
         * @return {?}
         */
            function (node, x0, y0, bounds) {
                node.x += x0 + node.offsetX;
                node.y += y0 + node.offsetY;
                bounds = this.apply(node, bounds);
                /** @type {?} */
                var child = node.child;
                if (child != null) {
                    bounds = this.horizontalLayout(child, node.x, node.y, bounds);
                    /** @type {?} */
                    var siblingOffset = node.y + child.offsetY;
                    /** @type {?} */
                    var s = child.next;
                    while (s != null) {
                        bounds = this.horizontalLayout(s, node.x + child.offsetX, siblingOffset, bounds);
                        siblingOffset += s.offsetY;
                        s = s.next;
                    }
                }
                return bounds;
            };
        return CompactTreeLayout;
    }(mxCompactTreeLayoutType));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/mxgraph-ext/RevertCompactTreeLayout.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var RevertCompactTreeLayout = /** @class */ (function (_super) {
        __extends(RevertCompactTreeLayout, _super);
        function RevertCompactTreeLayout(graph, horizontal, invert) {
            var _this = _super.call(this, graph, horizontal, invert) || this;
            _this.useBoundingBox = false;
            return _this;
        }
        /**
         * @param {?} cell
         * @param {?} parent
         * @return {?}
         */
        RevertCompactTreeLayout.prototype.dfs = /**
         * @param {?} cell
         * @param {?} parent
         * @return {?}
         */
            function (cell, parent) {
                /** @type {?} */
                var id = mxCellPathType.create(cell);
                /** @type {?} */
                var node = null;
                if (cell != null && this.visited[id] == null && !this.isVertexIgnored(cell)) {
                    this.visited[id] = cell;
                    node = this.createNode(cell);
                    /** @type {?} */
                    var model = this.graph.getModel();
                    /** @type {?} */
                    var prev = null;
                    // let out = this.graph.getEdges(cell, parent, this.invert, !this.invert, false, true);
                    /** @type {?} */
                    var ins = this.graph.getEdges(cell, parent, !this.invert, this.invert, false, true);
                    /** @type {?} */
                    var view = this.graph.getView();
                    if (this.sortEdges) {
                        // this.sortOutgoingEdges(cell, out);
                        this.sortIngoingEdges(cell, ins);
                    }
                    for (var i = 0; i < ins.length; i++) {
                        /** @type {?} */
                        var edge = ins[i];
                        if (!this.isEdgeIgnored(edge)) {
                            // Resets the points on the traversed edge
                            if (this.resetEdges) {
                                this.setEdgePoints(edge, null);
                            }
                            if (this.edgeRouting) {
                                this.setEdgeStyleEnabled(edge, false);
                                this.setEdgePoints(edge, null);
                            }
                            // Checks if terminal in same swimlane
                            /** @type {?} */
                            var state = view.getState(edge);
                            // let target = (state != null) ? state.getVisibleTerminal(this.invert) : view.getVisibleTerminal(edge, this.invert);
                            /** @type {?} */
                            var source = (state != null) ? state.getVisibleTerminal(!this.invert) : view.getVisibleTerminal(edge, !this.invert);
                            /** @type {?} */
                            var tmp = this.dfs(source, parent);
                            if (tmp != null && model.getGeometry(source) != null) {
                                if (prev == null) {
                                    node.child = tmp;
                                }
                                else {
                                    prev.next = tmp;
                                }
                                prev = tmp;
                            }
                        }
                    }
                }
                return node;
            };
        /**
         * @param {?} target
         * @param {?} edges
         * @return {?}
         */
        RevertCompactTreeLayout.prototype.sortIngoingEdges = /**
         * @param {?} target
         * @param {?} edges
         * @return {?}
         */
            function (target, edges) {
                /** @type {?} */
                var lookup = new mxDictionaryType();
                edges.sort(( /**
                 * @param {?} e1
                 * @param {?} e2
                 * @return {?}
                 */function (e1, e2) {
                    /** @type {?} */
                    var start1 = e1.getTerminal(e1.getTerminal(true) == target);
                    // let end1 = e1.getTerminal(e1.getTerminal(true) == target);
                    /** @type {?} */
                    var p1 = lookup.get(start1);
                    if (p1 == null) {
                        p1 = mxCellPathType.create(start1).split(mxCellPathType.PATH_SEPARATOR);
                        lookup.put(start1, p1);
                    }
                    /** @type {?} */
                    var start2 = e2.getTerminal(e2.getTerminal(true) == target);
                    /** @type {?} */
                    var p2 = lookup.get(start2);
                    if (p2 == null) {
                        p2 = mxCellPathType.create(start2).split(mxCellPathType.PATH_SEPARATOR);
                        lookup.put(start2, p2);
                    }
                    return mxCellPathType.compare(p1, p2);
                }));
            };
        /**
         * @param {?} parent
         * @param {?} dest
         * @return {?}
         */
        RevertCompactTreeLayout.prototype.execute = /**
         * @param {?} parent
         * @param {?} dest
         * @return {?}
         */
            function (parent, dest) {
                this.parent = parent;
                /** @type {?} */
                var model = this.graph.getModel();
                if (dest == null) {
                    // Takes the parent as the root if it has outgoing edges
                    if (this.graph.getEdges(parent, model.getParent(parent), !this.invert, this.invert, false).length > 0) {
                        this.root = parent;
                    }
                    // Tries to find a suitable root in the parent's
                    // children
                    else {
                        /** @type {?} */
                        var dests = this.graph.findTreeRoots(parent, true, true);
                        if (dests.length > 0) {
                            for (var i = 0; i < dests.length; i++) {
                                if (!this.isVertexIgnored(dests[i]) &&
                                    this.graph.getEdges(dests[i], null, !this.invert, this.invert, false).length > 0) {
                                    this.root = dests[i];
                                    break;
                                }
                            }
                        }
                    }
                }
                else {
                    this.root = dest;
                }
                if (this.root != null) {
                    if (this.resizeParent) {
                        this.parentsChanged = new Object();
                    }
                    else {
                        this.parentsChanged = null;
                    }
                    //  Maintaining parent location
                    this.parentX = null;
                    this.parentY = null;
                    if (parent != this.root && model.isVertex(parent) != null && this.maintainParentLocation) {
                        /** @type {?} */
                        var geo = this.graph.getCellGeometry(parent);
                        if (geo != null) {
                            this.parentX = geo.x;
                            this.parentY = geo.y;
                        }
                    }
                    model.beginUpdate();
                    try {
                        this.visited = {};
                        this.node = this.dfs(this.root, parent);
                        if (this.alignRanks) {
                            this.maxRankHeight = [];
                            this.findRankHeights(this.node, 0);
                            this.setCellHeights(this.node, 0);
                        }
                        if (this.node != null) {
                            this.layout(this.node);
                            /** @type {?} */
                            var x0 = this.graph.gridSize;
                            /** @type {?} */
                            var y0 = x0;
                            if (!this.moveTree) {
                                /** @type {?} */
                                var g = this.getVertexBounds(this.root);
                                if (g != null) {
                                    x0 = g.x;
                                    y0 = g.y;
                                }
                            }
                            /** @type {?} */
                            var bounds = null;
                            if (this.isHorizontal()) {
                                bounds = this.horizontalLayout(this.node, -x0, y0);
                            }
                            else {
                                bounds = this.verticalLayout(this.node, null, x0, y0);
                            }
                            if (bounds != null) {
                                /** @type {?} */
                                var dx = 0;
                                /** @type {?} */
                                var dy = 0;
                                if (bounds.x > 0) {
                                    dx = -1 * Math.abs(x0 - bounds.x);
                                }
                                if (bounds.y > 0) {
                                    dy = -1 * Math.abs(y0 - bounds.y);
                                }
                                if (dx != 0 || dy != 0) {
                                    this.moveNode(this.node, dx, dy);
                                }
                                if (this.resizeParent) {
                                    this.adjustParents();
                                }
                                if (this.edgeRouting) {
                                    // Iterate through all edges setting their positions
                                    this.localEdgeProcessing(this.node);
                                }
                            }
                            // Maintaining parent location
                            if (this.parentX != null && this.parentY != null) {
                                /** @type {?} */
                                var geo = this.graph.getCellGeometry(parent);
                                if (geo != null) {
                                    geo = geo.clone();
                                    geo.x = this.parentX;
                                    geo.y = this.parentY;
                                    model.setGeometry(parent, geo);
                                }
                            }
                        }
                    }
                    finally {
                        model.endUpdate();
                    }
                }
            };
        /**
         * @param {?} node
         * @param {?} x0
         * @param {?} y0
         * @param {?=} bounds
         * @return {?}
         */
        RevertCompactTreeLayout.prototype.horizontalLayout = /**
         * @param {?} node
         * @param {?} x0
         * @param {?} y0
         * @param {?=} bounds
         * @return {?}
         */
            function (node, x0, y0, bounds) {
                node.x += x0 - node.offsetX;
                node.y += y0 + node.offsetY;
                bounds = this.apply(node, bounds);
                /** @type {?} */
                var child = node.child;
                if (child != null) {
                    bounds = this.horizontalLayout(child, node.x, node.y, bounds);
                    /** @type {?} */
                    var siblingOffset = node.y + child.offsetY;
                    /** @type {?} */
                    var s = child.next;
                    while (s != null) {
                        bounds = this.horizontalLayout(s, node.x - child.offsetX, siblingOffset, bounds);
                        siblingOffset += s.offsetY;
                        s = s.next;
                    }
                }
                return bounds;
            };
        return RevertCompactTreeLayout;
    }(mxCompactTreeLayoutType));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/mxgraph-ext/CellOverlayState.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {string} */
    var CellOverlayState = {
        Search: "Search",
        Fold: "Fold",
    };

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/mxgraph-ext/CellOverlay.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CellOverlay = /** @class */ (function (_super) {
        __extends(CellOverlay, _super);
        function CellOverlay(image, tooltip, align, verticalAlign, offset, cursor, state) {
            var _this = _super.call(this, image, tooltip, align, verticalAlign, offset, cursor) || this;
            _this.state = state || CellOverlayState.Search;
            return _this;
        }
        return CellOverlay;
    }(mxCellOverlayType));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/mxgraph-ext/Outline.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var Outline = /** @class */ (function (_super) {
        __extends(Outline, _super);
        function Outline(source, container) {
            return _super.call(this, source, container) || this;
        }
        /**
         * @param {?} container
         * @return {?}
         */
        Outline.prototype.createGraph = /**
         * @param {?} container
         * @return {?}
         */
            function (container) {
                /** @type {?} */
                var graph = new mxGraphType(container, this.source.getModel(), this.graphRenderHint);
                graph.foldingEnabled = false;
                graph.autoScroll = false;
                // sourcestylesheet
                this.extendStyleSheets(graph, this.source);
                return graph;
            };
        /**
         * sourcestylesheet
         * 
         */
        /**
         * sourcestylesheet
         * 
         * @param {?} graph
         * @param {?} source
         * @return {?}
         */
        Outline.prototype.extendStyleSheets = /**
         * sourcestylesheet
         * 
         * @param {?} graph
         * @param {?} source
         * @return {?}
         */
            function (graph, source) {
                /** @type {?} */
                var style = Object.assign({}, source.getStylesheet().getCellStyle(Styles.STYLE_BILL_NODE_NAME, source.getStylesheet().getDefaultVertexStyle()));
                style[mxConstantsType.STYLE_FILLCOLOR] = '#2A87FF';
                graph.getStylesheet().putCellStyle(Styles.STYLE_BILL_NODE_NAME, style);
                style = Object.assign({}, source.getStylesheet().getCellStyle(Styles.STYLE_BILL_NODE_ENTRY_NAME, source.getStylesheet().getDefaultVertexStyle()));
                style[mxConstantsType.STYLE_FILLCOLOR] = '#F5A144';
                graph.getStylesheet().putCellStyle(Styles.STYLE_BILL_NODE_ENTRY_NAME, style);
                style = Object.assign({}, source.getStylesheet().getCellStyle(Styles.STYLE_BILL_ASSOCIATION_NAME, source.getStylesheet().getDefaultEdgeStyle()));
                graph.getStylesheet().putCellStyle(Styles.STYLE_BILL_ASSOCIATION_NAME, style);
            };
        return Outline;
    }(mxOutlineType));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/mxgraph-ext/index.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/index.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/services/bill-tracker-data.service.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillTrackerDataService = /** @class */ (function () {
        function BillTrackerDataService(httpService, httpClient) {
            this.httpService = httpService;
            this.httpClient = httpClient;
            this.baseUrl = "/api/runtime/aif/v1.0/billtracking";
            this.canTrackingUrl = this.baseUrl + "/cantracking";
            this.canTrackingMethod = "POST";
            this.getDownBillsInfoUrl = this.baseUrl + "/getdownbillsinfo";
            this.getDownBillsInfoMethod = "POST";
            this.getUpBillsInfoUrl = this.baseUrl + "/getupbillsinfo";
            this.getUpBillsInfoMethod = "POST";
            this.getEntityDataUrl = this.baseUrl + "/getentitydata";
            this.getEntityDataMethod = "POST";
            this.jointQueryParserUrl = "/api/runtime/aif/v1.0/jointquery";
            this.jointQueryParserMethod = "POST";
        }
        /**
         * @param {?} args
         * @return {?}
         */
        BillTrackerDataService.prototype.getJointQueryParameters = /**
         * @param {?} args
         * @return {?}
         */
            function (args) {
                /** @type {?} */
                var body = args.ConvertToJson();
                /** @type {?} */
                var opt = this.httpService.setHeader({ body: body });
                return this.httpService.request(this.jointQueryParserMethod, this.jointQueryParserUrl, opt).pipe(operators.switchMap(( /**
                 * @param {?} res
                 * @return {?}
                 */function (res) {
                    /** @type {?} */
                    var obj = res;
                    /** @type {?} */
                    var results = ( /** @type {?} */(commonApi$1.BpmnModelJsonHelper.FromJson(obj.value, JointQueryParameterResult)));
                    return rxjs.of(results);
                })), operators.catchError(( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    try {
                        if (typeof err.error == "string") {
                            err.error = JSON.parse(err.error);
                        }
                    }
                    catch (e) {
                    }
                    throw err;
                })));
            };
        /**
         * @param {?} args
         * @return {?}
         */
        BillTrackerDataService.prototype.canTracking = /**
         * @param {?} args
         * @return {?}
         */
            function (args) {
                /** @type {?} */
                var opt = this.httpService.setHeader({ body: args.ConvertToJson(), responseType: "text" });
                return this.httpService.request(this.canTrackingMethod, this.canTrackingUrl, opt).pipe(operators.switchMap(( /**
                 * @param {?} res
                 * @return {?}
                 */function (res) {
                    /** @type {?} */
                    var result = new CanTrackingResult();
                    result.LoadFromJson(res);
                    return rxjs.of(result);
                })), operators.catchError(( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    try {
                        if (typeof err.error == "string") {
                            err.error = JSON.parse(err.error);
                        }
                    }
                    catch (e) {
                    }
                    throw err;
                })));
            };
        /**
         * @param {?} args
         * @return {?}
         */
        BillTrackerDataService.prototype.getDownBillsInfo = /**
         * @param {?} args
         * @return {?}
         */
            function (args) {
                /** @type {?} */
                var opt = this.httpService.setHeader({ body: args.ConvertToJson(), responseType: "text" });
                return this.httpService.request(this.getDownBillsInfoMethod, this.getDownBillsInfoUrl, opt).pipe(operators.switchMap(( /**
                 * @param {?} res
                 * @return {?}
                 */function (res) {
                    /** @type {?} */
                    var result = commonApi$1.BpmnModelJsonHelper.FromJson(res, DownBillInfoResult);
                    return rxjs.of(result);
                })), operators.catchError(( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    try {
                        if (typeof err.error == "string") {
                            err.error = JSON.parse(err.error);
                        }
                    }
                    catch (e) {
                    }
                    throw err;
                })));
            };
        /**
         * @param {?} args
         * @return {?}
         */
        BillTrackerDataService.prototype.getUpBillsInfo = /**
         * @param {?} args
         * @return {?}
         */
            function (args) {
                /** @type {?} */
                var opt = this.httpService.setHeader({ body: args.ConvertToJson(), responseType: "text" });
                return this.httpService.request(this.getUpBillsInfoMethod, this.getUpBillsInfoUrl, opt).pipe(operators.switchMap(( /**
                 * @param {?} res
                 * @return {?}
                 */function (res) {
                    /** @type {?} */
                    var result = commonApi$1.BpmnModelJsonHelper.FromJson(res, UpBillInfoResult);
                    return rxjs.of(result);
                })), operators.catchError(( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    try {
                        if (typeof err.error == "string") {
                            err.error = JSON.parse(err.error);
                        }
                    }
                    catch (e) {
                    }
                    throw err;
                })));
            };
        /**
         * @param {?} args
         * @return {?}
         */
        BillTrackerDataService.prototype.getEntityData = /**
         * @param {?} args
         * @return {?}
         */
            function (args) {
                /** @type {?} */
                var opt = this.httpService.setHeader({ body: args.ConvertToJson(), responseType: "text" });
                return this.httpService.request(this.getEntityDataMethod, this.getEntityDataUrl, opt).pipe(operators.switchMap(( /**
                 * @param {?} res
                 * @return {?}
                 */function (res) {
                    /** @type {?} */
                    var result = new EntityDataResult();
                    result.LoadFromJson(res);
                    return rxjs.of(result);
                })), operators.catchError(( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    try {
                        if (typeof err.error == "string") {
                            err.error = JSON.parse(err.error);
                        }
                    }
                    catch (e) {
                    }
                    throw err;
                })));
            };
        /**
         * @param {?} canTrackingResult
         * @return {?}
         */
        BillTrackerDataService.prototype.buildEntryBillInfo = /**
         * @param {?} canTrackingResult
         * @return {?}
         */
            function (canTrackingResult) {
                /** @type {?} */
                var info = new DownBillInfoResult();
                info.schemaId = canTrackingResult.schemaId;
                info.suCode = canTrackingResult.suCode;
                info.voName = canTrackingResult.voName;
                info.billTrackingSettings = canTrackingResult.billTrackingSettings;
                info.bizKind = canTrackingResult.bizKind;
                info.bizType = canTrackingResult.bizType;
                info.jointQueryMode = canTrackingResult.jointQueryMode;
                info.jointQueryParameters = canTrackingResult.jointQueryParameters;
                info.trackingSourceType = canTrackingResult.trackingSourceType;
                /** @type {?} */
                var dataInfo = new BillDataInfo();
                dataInfo.caption = canTrackingResult.caption;
                dataInfo.dataId = canTrackingResult.dataId;
                dataInfo.summary = canTrackingResult.summary;
                dataInfo.trackingMappingAssociations = [];
                dataInfo.billChildInfos = canTrackingResult.billChildInfos;
                dataInfo.curYear = canTrackingResult.curYear;
                info.billDataInfos = [dataInfo];
                info.documentTypeId = canTrackingResult.documentTypeId;
                return info;
            };
        /**
         * @param {?} cell
         * @return {?}
         */
        BillTrackerDataService.prototype.buildGetBillsInfoArgs = /**
         * @param {?} cell
         * @return {?}
         */
            function (cell) {
                /** @type {?} */
                var args = new GetBillsInfoArgs();
                args.billDataId = cell.billDataInfo.dataId;
                args.documentTypeId = cell.billInfo.documentTypeId;
                args.bizKind = cell.billInfo.bizKind;
                args.bizType = cell.billInfo.bizType;
                args.billChildInfos = cell.billDataInfo.billChildInfos;
                args.curYear = cell.billDataInfo.curYear;
                return args;
            };
        /**
         * @param {?} cell
         * @return {?}
         */
        BillTrackerDataService.prototype.buildGetUpBillsInfoArgs = /**
         * @param {?} cell
         * @return {?}
         */
            function (cell) {
                /** @type {?} */
                var args = new GetUpBillsInfoArgs();
                args.LoadFromJsonObject(this.buildGetBillsInfoArgs(cell).ConvertToJsonObject());
                return args;
            };
        /**
         * @param {?} cell
         * @return {?}
         */
        BillTrackerDataService.prototype.buildGetDownBillsInfoArgs = /**
         * @param {?} cell
         * @return {?}
         */
            function (cell) {
                /** @type {?} */
                var args = new GetDownBillsInfoArgs();
                args.LoadFromJsonObject(this.buildGetBillsInfoArgs(cell).ConvertToJsonObject());
                return args;
            };
        /**
         * @param {?} billInfo
         * @param {?} billDataInfo
         * @return {?}
         */
        BillTrackerDataService.prototype.buildGetMainEntityDataArgs = /**
         * @param {?} billInfo
         * @param {?} billDataInfo
         * @return {?}
         */
            function (billInfo, billDataInfo) {
                /** @type {?} */
                var args = new GetMainEntityDataArgs();
                args.dataId = billDataInfo.dataId;
                args.suCode = billInfo.suCode;
                args.schemaId = billInfo.schemaId;
                args.trackingSourceType = billInfo.trackingSourceType;
                args.billChildInfos = billDataInfo.billChildInfos;
                args.curYear = billDataInfo.curYear;
                return args;
            };
        /**
         * @param {?} jointQueryParameters
         * @return {?}
         */
        BillTrackerDataService.prototype.hasDynamicParams = /**
         * @param {?} jointQueryParameters
         * @return {?}
         */
            function (jointQueryParameters) {
                if (!jointQueryParameters.params) {
                    return false;
                }
                // 
                if (Array.isArray(jointQueryParameters.params)) {
                    return jointQueryParameters.params.find(( /**
                     * @param {?} p
                     * @return {?}
                     */function (p) { return p.type != commonApi.JointQueryParameterType.Constant; })) != null;
                }
                else {
                    return false;
                }
            };
        /**
         * 
         * @param jointQueryParameters
         * @param billInfo
         * @param billDataInfo
         * @returns
         */
        /**
         * 
         * @param {?} jointQueryParameters
         * @param {?} billInfo
         * @param {?} billDataInfo
         * @return {?}
         */
        BillTrackerDataService.prototype.buildGetJointQueryParametersArgs = /**
         * 
         * @param {?} jointQueryParameters
         * @param {?} billInfo
         * @param {?} billDataInfo
         * @return {?}
         */
            function (jointQueryParameters, billInfo, billDataInfo) {
                /** @type {?} */
                var args = new GetJointQueryParametersArgs();
                args.dataId = billDataInfo.dataId;
                args.suCode = billInfo.suCode;
                args.schemaId = billInfo.schemaId;
                args.trackingSourceType = billInfo.trackingSourceType;
                args.contents = [];
                if (Array.isArray(jointQueryParameters.params)) {
                    jointQueryParameters.params.forEach(( /**
                     * @param {?} it
                     * @return {?}
                     */function (it) {
                        if (it.type == commonApi.JointQueryParameterType.Constant) {
                            return;
                        }
                        /** @type {?} */
                        var jointQueryParametersContent = new JointQueryParametersContent();
                        if (it.type == commonApi.JointQueryParameterType.Field) {
                            jointQueryParametersContent.jointQueryParameterMode = JointQueryParameterMode.FIELD;
                            /** @type {?} */
                            var content = new FieldJointQueryParameterContent();
                            content.parameterCode = it.code;
                            content.fieldContent = it.value;
                            jointQueryParametersContent.content = content.ConvertToJson();
                        }
                        else if (it.type == commonApi.JointQueryParameterType.Expression) {
                            jointQueryParametersContent.jointQueryParameterMode = JointQueryParameterMode.EXPRESSION;
                            /** @type {?} */
                            var content = new ExpressionJointQueryParameterContent();
                            content.parameterCode = it.code;
                            content.expressionContent = it.value;
                            jointQueryParametersContent.content = content.ConvertToJson();
                        }
                        args.contents.push(jointQueryParametersContent);
                    }));
                }
                return args;
            };
        BillTrackerDataService.decorators = [
            { type: core$1.Injectable }
        ];
        /** @nocollapse */
        BillTrackerDataService.ctorParameters = function () {
            return [
                { type: cafCommon.HttpService },
                { type: http.HttpClient }
            ];
        };
        return BillTrackerDataService;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/services/bill-tracker-data-info.service.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillTrackerDataInfoService = /** @class */ (function () {
        function BillTrackerDataInfoService() {
        }
        /**
         * BillTrackingSettings
         * @param bts
         * @returns
         */
        /**
         * BillTrackingSettings
         * @param {?} bts
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.isNewBTS = /**
         * BillTrackingSettings
         * @param {?} bts
         * @return {?}
         */
            function (bts) {
                if (typeof bts == "string") {
                    /** @type {?} */
                    var temp = new commonApi.BillTrackingSettings();
                    temp.LoadFromJson(bts);
                    bts = temp;
                }
                return bts != null && bts.version === "1.0";
            };
        /**
         * @param {?} rows
         * @param {?} shownFields
         * @param {?} wholeFields
         * @param {?} idField
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.extractDataRows = /**
         * @param {?} rows
         * @param {?} shownFields
         * @param {?} wholeFields
         * @param {?} idField
         * @return {?}
         */
            function (rows, shownFields, wholeFields, idField) {
                var _this = this;
                var e_1, _a;
                /** @type {?} */
                var frows = [];
                var _loop_1 = function (row) {
                    /** @type {?} */
                    var obj = {};
                    obj[idField] = row.dataId;
                    // 
                    /** @type {?} */
                    var decimalFFs = [];
                    shownFields.forEach(( /**
                     * @param {?} f
                     * @return {?}
                     */function (f) {
                        if (f.dataType == commonApi$1.DataType.Decimal) {
                            decimalFFs.push(f);
                        }
                        else {
                            obj[f.fieldPath] = _this.getFieldValue(f, row.GetFieldMap(), wholeFields);
                        }
                    }));
                    // 
                    decimalFFs.forEach(( /**
                     * @param {?} f
                     * @return {?}
                     */function (f) {
                        obj[f.fieldPath] = _this.getFieldValue(f, row.GetFieldMap(), wholeFields);
                    }));
                    frows.push(obj);
                };
                try {
                    for (var rows_1 = __values(rows), rows_1_1 = rows_1.next(); !rows_1_1.done; rows_1_1 = rows_1.next()) {
                        var row = rows_1_1.value;
                        _loop_1(row);
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (rows_1_1 && !rows_1_1.done && (_a = rows_1.return))
                            _a.call(rows_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return frows;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.extractCaptionPath = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                /** @type {?} */
                var s = field.caption;
                /** @type {?} */
                var tmp = ( /** @type {?} */(field));
                while (tmp.attachedField != null) {
                    s = tmp.attachedField.caption + "." + s;
                    tmp = ( /** @type {?} */(tmp.attachedField));
                }
                return s;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.extractFieldPath = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                /** @type {?} */
                var s = field.fieldName;
                /** @type {?} */
                var tmp = ( /** @type {?} */(field));
                while (tmp.attachedField != null) {
                    s = tmp.attachedField.fieldName + "." + s;
                    tmp = ( /** @type {?} */(tmp.attachedField));
                }
                return s;
            };
        /**
         *
         * @param fields 
         * @param selectedFields 
         * @param showCustomFields 
         * @returns
         */
        /**
         *
         * @param {?} fields 
         * @param {?} selectedFields 
         * @param {?} showCustomFields 
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.extractFFields = /**
         *
         * @param {?} fields 
         * @param {?} selectedFields 
         * @param {?} showCustomFields 
         * @return {?}
         */
            function (fields, selectedFields, showCustomFields) {
                var _this = this;
                /** @type {?} */
                var ffields = [];
                fields.forEach(( /**
                 * @param {?} f
                 * @return {?}
                 */function (f) {
                    f.show = true;
                    //UDTName
                    if (f.fieldType == "Enum" || f.fieldType == "EnumSingleUdt") {
                        /** @type {?} */
                        var tempFPath_1 = _this.extractFieldPath(f);
                        /** @type {?} */
                        var sf = null;
                        if (showCustomFields) {
                            // 
                            sf = selectedFields.find(( /**
                             * @param {?} sfield
                             * @return {?}
                             */function (sfield) { return sfield.fieldPath == tempFPath_1; }));
                            if (sf == null) {
                                f.show = false;
                            }
                        }
                        f = ( /** @type {?} */(_this.setExtendProps(f, sf, tempFPath_1 + ".Name")));
                        ffields.push(f);
                    }
                    else if (f.GetSubFieldList() != null && f.GetSubFieldList().length > 0) {
                        ffields.push.apply(ffields, __spread(_this.extractFFields(f.GetSubFieldList(), selectedFields, showCustomFields)));
                    }
                    else {
                        /** @type {?} */
                        var tempFPath_2 = _this.extractFieldPath(f);
                        /** @type {?} */
                        var sf = null;
                        if (showCustomFields) {
                            // 
                            sf = selectedFields.find(( /**
                             * @param {?} sfield
                             * @return {?}
                             */function (sfield) { return sfield.fieldPath == tempFPath_2; }));
                            if (sf == null) {
                                f.show = false;
                            }
                        }
                        f = ( /** @type {?} */(_this.setExtendProps(f, sf, tempFPath_2)));
                        ffields.push(f);
                    }
                }));
                return ffields;
            };
        /**
         * 
         */
        /**
         * 
         * @param {?} row
         * @param {?} billInfo
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.hasChildData = /**
         * 
         * @param {?} row
         * @param {?} billInfo
         * @return {?}
         */
            function (row, billInfo) {
                var e_2, _a;
                /** @type {?} */
                var hasChildData = false;
                /** @type {?} */
                var schema = this.getBillTrackerSchema(billInfo);
                /** @type {?} */
                var children = row.GetChildTableList();
                try {
                    for (var children_1 = __values(children), children_1_1 = children_1.next(); !children_1_1.done; children_1_1 = children_1.next()) {
                        var c = children_1_1.value;
                        /** @type {?} */
                        var tableShow = false;
                        /** @type {?} */
                        var hasRows = false;
                        /** @type {?} */
                        var table = schema && schema[c.tableName];
                        if (table != null && table.show != null) {
                            tableShow = table.show;
                        }
                        else {
                            // show
                            tableShow = true;
                        }
                        if (c.GetRowList() && c.GetRowList().length > 0) {
                            hasRows = true;
                        }
                        hasChildData = tableShow && hasRows;
                        if (hasChildData == true) {
                            break;
                        }
                    }
                }
                catch (e_2_1) {
                    e_2 = { error: e_2_1 };
                }
                finally {
                    try {
                        if (children_1_1 && !children_1_1.done && (_a = children_1.return))
                            _a.call(children_1);
                    }
                    finally {
                        if (e_2)
                            throw e_2.error;
                    }
                }
                return hasChildData;
            };
        /**
         * @param {?} f
         * @param {?} rdfm
         * @param {?=} wholeFields
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.getFieldValue = /**
         * @param {?} f
         * @param {?} rdfm
         * @param {?=} wholeFields
         * @return {?}
         */
            function (f, rdfm, wholeFields) {
                /** @type {?} */
                var fields = f.fieldPath ? f.fieldPath.split(".") : [f.fieldName];
                /** @type {?} */
                var bdf = fields && rdfm[fields[0]];
                for (var i = 1; bdf != null && i < fields.length; i++) {
                    /** @type {?} */
                    var temp = bdf.GetSubFieldMap();
                    if (temp == null) {
                        break;
                    }
                    bdf = temp[fields[i]];
                }
                /** @type {?} */
                var textValue = bdf ? bdf.GetTextValue() : "";
                if (textValue == null) {
                    return null;
                }
                if (f.dataType == commonApi$1.DataType.String) {
                    if (f.formatInfo != null) {
                        /** @type {?} */
                        var stringMapFormatter = f.formatInfo.stringMapFormatter;
                        if (stringMapFormatter != null) {
                            /** @type {?} */
                            var v = stringMapFormatter[textValue] || textValue;
                            f.fieldValue = v;
                            return v;
                        }
                        else {
                            f.fieldValue = textValue;
                            return textValue || "";
                        }
                    }
                    else {
                        f.fieldValue = textValue;
                        return textValue || "";
                    }
                }
                else if (f.dataType == commonApi$1.DataType.Decimal) {
                    /** @type {?} */
                    var scale = f.scale;
                    if (f.formatInfo != null) {
                        if (f.formatInfo.scale != null) {
                            scale = f.formatInfo.scale;
                        }
                        if (f.formatInfo.enableScaleExpression) {
                            if (f.formatInfo.scaleExpression != null) {
                                /** @type {?} */
                                var scaleField = this.getFieldInFields(wholeFields, f.formatInfo.scaleExpression);
                                /** @type {?} */
                                var tmp = scaleField && parseInt(String(this.getFieldValue(scaleField, rdfm)));
                                // const tmp = parseInt(this.getFieldValueInFieldsWithValue(extactedFields, f.formatInfo.scaleExpression));
                                if (tmp != null && !isNaN(tmp)) {
                                    scale = tmp;
                                }
                            }
                        }
                    }
                    f.fieldValue = parseFloat(String(textValue));
                    /** @type {?} */
                    var dec = parseFloat(String(textValue)).toFixed(scale).toString();
                    return dec || "";
                }
                else if (f.dataType == commonApi$1.DataType.Boolean) {
                    if (textValue == "") {
                        f.fieldValue = null;
                        return textValue;
                    }
                    f.fieldValue = ( /** @type {?} */(JSON.parse(textValue)));
                    return ( /** @type {?} */(JSON.parse(textValue)));
                }
                else if (f.dataType == commonApi$1.DataType.DateTime) {
                    /** @type {?} */
                    var date = commonApi$1.BpmnModelJsonHelper.DateTimeFromString(textValue);
                    /** @type {?} */
                    var formatter = "yyyy-MM-dd";
                    if (f.fieldType == "DateTime") {
                        formatter = f.formatInfo && f.formatInfo.dateFormatter || "yyyy-MM-dd HH:mm:ss.SSS";
                    }
                    else if (f.fieldType == "Date") {
                        formatter = f.formatInfo && f.formatInfo.dateFormatter || "yyyy-MM-dd";
                    }
                    else {
                        formatter = f.formatInfo && f.formatInfo.dateFormatter || "yyyy-MM-dd";
                    }
                    f.fieldValue = date;
                    return this.dateFormat(date, formatter);
                }
                else {
                    f.fieldValue = textValue;
                    return textValue || "";
                }
            };
        /**
         * @param {?} fields
         * @param {?} fullPath
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.getFieldInFields = /**
         * @param {?} fields
         * @param {?} fullPath
         * @return {?}
         */
            function (fields, fullPath) {
                var e_3, _a;
                /** @type {?} */
                var v = null;
                try {
                    for (var fields_1 = __values(fields), fields_1_1 = fields_1.next(); !fields_1_1.done; fields_1_1 = fields_1.next()) {
                        var fv = fields_1_1.value;
                        while (fv.attachedField) {
                            fv = fv.attachedField;
                        }
                        /** @type {?} */
                        var rootFv = ( /** @type {?} */(fv));
                        rootFv.fullPath = commonApi.fullPathPrefix + rootFv.attachedTable.tableName + "." + rootFv.fieldPath;
                        if (fullPath == rootFv.fullPath) {
                            v = rootFv;
                            break;
                        }
                    }
                }
                catch (e_3_1) {
                    e_3 = { error: e_3_1 };
                }
                finally {
                    try {
                        if (fields_1_1 && !fields_1_1.done && (_a = fields_1.return))
                            _a.call(fields_1);
                    }
                    finally {
                        if (e_3)
                            throw e_3.error;
                    }
                }
                return v;
            };
        /**
         * @param {?} fieldsWithValue
         * @param {?} fullPath
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.getFieldValueInFieldsWithValue = /**
         * @param {?} fieldsWithValue
         * @param {?} fullPath
         * @return {?}
         */
            function (fieldsWithValue, fullPath) {
                var e_4, _a;
                /** @type {?} */
                var v = null;
                try {
                    for (var fieldsWithValue_1 = __values(fieldsWithValue), fieldsWithValue_1_1 = fieldsWithValue_1.next(); !fieldsWithValue_1_1.done; fieldsWithValue_1_1 = fieldsWithValue_1.next()) {
                        var fv = fieldsWithValue_1_1.value;
                        while (fv.attachedField) {
                            fv = fv.attachedField;
                        }
                        /** @type {?} */
                        var rootFv = ( /** @type {?} */(fv));
                        rootFv.fullPath = commonApi.fullPathPrefix + rootFv.attachedTable.tableName + "." + rootFv.fieldPath;
                        if (fullPath == rootFv.fullPath) {
                            v = rootFv.fieldValue;
                            break;
                        }
                    }
                }
                catch (e_4_1) {
                    e_4 = { error: e_4_1 };
                }
                finally {
                    try {
                        if (fieldsWithValue_1_1 && !fieldsWithValue_1_1.done && (_a = fieldsWithValue_1.return))
                            _a.call(fieldsWithValue_1);
                    }
                    finally {
                        if (e_4)
                            throw e_4.error;
                    }
                }
                return v;
            };
        /**
         * @param {?} billInfo
         * @param {?} schemaTable
         * @param {?} dataTable
         * @param {?=} filterFields
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.getBasicInfoFieldsWithValue = /**
         * @param {?} billInfo
         * @param {?} schemaTable
         * @param {?} dataTable
         * @param {?=} filterFields
         * @return {?}
         */
            function (billInfo, schemaTable, dataTable, filterFields) {
                var _this = this;
                if (filterFields === void 0) {
                    filterFields = true;
                }
                /** @type {?} */
                var fieldsWithValue = [];
                // 
                /** @type {?} */
                var bts = new commonApi.BillTrackingSettings();
                if (billInfo && billInfo.billTrackingSettings) {
                    bts.LoadFromJson(billInfo.billTrackingSettings);
                }
                /** @type {?} */
                var schema = this.getBillTrackerSchema(billInfo);
                /** @type {?} */
                var selectedFields = schema && schema[schemaTable.tableName] && schema[schemaTable.tableName].fields;
                selectedFields = selectedFields ? selectedFields : [];
                /** @type {?} */
                var showCustomFields = bts.billTrackingDataShownMode === commonApi.BillTrackingDataShownMode.CUSTOMFIELD;
                // 
                /** @type {?} */
                var fs = schemaTable.getFieldList();
                /** @type {?} */
                var r = dataTable.GetRowList()[0];
                // 
                /** @type {?} */
                var rdfm = r.GetFieldMap();
                // 
                /** @type {?} */
                var ffs = this.extractFFields(fs, selectedFields, showCustomFields);
                // 
                // 
                /** @type {?} */
                var decimalFfs = [];
                ffs.forEach(( /**
                 * @param {?} ff
                 * @return {?}
                 */function (ff) {
                    if (ff.dataType == commonApi$1.DataType.Decimal) {
                        decimalFfs.push(ff);
                    }
                    else {
                        ff.fieldValue = _this.getFieldValue(ff, rdfm);
                    }
                }));
                // 
                decimalFfs.forEach(( /**
                 * @param {?} ff
                 * @return {?}
                 */function (ff) {
                    ff.fieldValue = _this.getFieldValue(ff, rdfm, fs);
                }));
                fieldsWithValue.push.apply(fieldsWithValue, __spread(ffs));
                return fieldsWithValue;
            };
        /**
         * @param {?} f
         * @param {?} sf
         * @param {?} fieldPath
         * @param {?=} rdfm
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.setExtendProps = /**
         * @param {?} f
         * @param {?} sf
         * @param {?} fieldPath
         * @param {?=} rdfm
         * @return {?}
         */
            function (f, sf, fieldPath, rdfm) {
                f.captionPath = this.extractCaptionPath(f);
                f.fieldPath = fieldPath;
                if (sf) {
                    f.displayName = sf.displayName;
                    f.i18nCols = sf.i18nCols;
                    f.formatInfo = sf.formatInfo;
                    f.order = sf.order;
                }
                if (rdfm) {
                    f.fieldValue = this.getFieldValue(f, rdfm);
                }
                return f;
            };
        /**
         * order
         * @param fieldsWithValue
         * @returns
         */
        /**
         * order
         * @param {?} fieldsWithValue
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.sortFieldsByOrder = /**
         * order
         * @param {?} fieldsWithValue
         * @return {?}
         */
            function (fieldsWithValue) {
                return fieldsWithValue.sort(( /**
                 * @param {?} a
                 * @param {?} b
                 * @return {?}
                 */function (a, b) {
                    if (a.order != null && b.order != null) {
                        return a.order - b.order;
                    }
                    else if (a.order != null && b.order == null) {
                        return -1;
                    }
                    else if (a.order == null && b.order != null) {
                        return 1;
                    }
                    else {
                        return 0;
                    }
                }));
            };
        /**
         * @param {?} date
         * @param {?} fmt
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.dateFormat = /**
         * @param {?} date
         * @param {?} fmt
         * @return {?}
         */
            function (date, fmt) {
                /** @type {?} */
                var ret;
                /** @type {?} */
                var opt = {
                    "y+": date.getUTCFullYear().toString(),
                    // 
                    "M+": (date.getUTCMonth() + 1).toString(),
                    // 
                    "d+": date.getUTCDate().toString(),
                    // 
                    "H+": date.getUTCHours().toString(),
                    // 
                    "m+": date.getUTCMinutes().toString(),
                    // 
                    "s+": date.getUTCSeconds().toString(),
                    // 
                    "S+": date.getUTCMilliseconds().toString(),
                };
                for (var k in opt) {
                    ret = new RegExp("(" + k + ")").exec(fmt);
                    if (ret) {
                        if (!String.prototype.padStart) {
                            fmt = fmt.replace(ret[1], (ret[1].length == 1) ? (opt[k]) : (this.myPadStart(opt[k], ret[1].length, "0")));
                        }
                        else {
                            fmt = fmt.replace(ret[1], (ret[1].length == 1) ? (opt[k]) : (opt[k].padStart(ret[1].length, "0")));
                        }
                    }
                }
                return fmt;
            };
        /**
         * @param {?} src
         * @param {?} targetLength
         * @param {?} padString
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.myPadStart = /**
         * @param {?} src
         * @param {?} targetLength
         * @param {?} padString
         * @return {?}
         */
            function (src, targetLength, padString) {
                targetLength = targetLength >> 0; //floor if number or convert non-number to 0;
                padString = String(typeof padString !== 'undefined' ? padString : ' ');
                if (src.length > targetLength) {
                    return String(src);
                }
                else {
                    targetLength = targetLength - src.length;
                    if (targetLength > padString.length) {
                        padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed
                    }
                    return padString.slice(0, targetLength) + String(src);
                }
            };
        /**
         * 
         * @param f
         * @param langCode
         * @returns
         */
        /**
         * 
         * @param {?} f
         * @param {?=} langCode
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.getFieldLabel = /**
         * 
         * @param {?} f
         * @param {?=} langCode
         * @return {?}
         */
            function (f, langCode) {
                return (langCode && f.i18nCols && f.i18nCols.colI18nValues.displayName &&
                    f.i18nCols.colI18nValues.displayName[langCode]) || f.displayName || f.captionPath || f.caption;
            };
        /**
         * 
         */
        /**
         * 
         * @param {?} billInfo
         * @param {?} schemaTable
         * @param {?=} langCode
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.getTableLabel = /**
         * 
         * @param {?} billInfo
         * @param {?} schemaTable
         * @param {?=} langCode
         * @return {?}
         */
            function (billInfo, schemaTable, langCode) {
                /** @type {?} */
                var schema = this.getBillTrackerSchema(billInfo);
                /** @type {?} */
                var table = schema && schema[schemaTable.tableName];
                if (table != null) {
                    /** @type {?} */
                    var i18nCols = table.i18nCols;
                    /** @type {?} */
                    var tmp = (langCode && i18nCols && i18nCols.colI18nValues.displayName && i18nCols.colI18nValues.displayName[langCode]) || table.displayName || table.caption || table.code;
                    return tmp;
                }
                else {
                    return schemaTable.caption;
                }
            };
        /**
         * 
         */
        /**
         * 
         * @param {?} billInfo
         * @param {?} schemaTable
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.getChildTables = /**
         * 
         * @param {?} billInfo
         * @param {?} schemaTable
         * @return {?}
         */
            function (billInfo, schemaTable) {
                /** @type {?} */
                var result = [];
                /** @type {?} */
                var schema = this.getBillTrackerSchema(billInfo);
                /** @type {?} */
                var children = schemaTable.GetChildTableList();
                children && children.forEach(( /**
                 * @param {?} child
                 * @return {?}
                 */function (child) {
                    /** @type {?} */
                    var trackerTable = schema && schema[child.tableName];
                    if (trackerTable != null && trackerTable.show != null) {
                        if (trackerTable.show == true) {
                            child.order = trackerTable.order;
                            result.push(child);
                        }
                    }
                    else {
                        // show
                        result.push(child);
                    }
                }));
                result = this.sortTablesByOrder(result);
                return result;
            };
        /**
         * sort
         * @param schemaTables
         * @returns
         */
        /**
         * sort
         * @param {?} schemaTables
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.sortTablesByOrder = /**
         * sort
         * @param {?} schemaTables
         * @return {?}
         */
            function (schemaTables) {
                return schemaTables.sort(( /**
                 * @param {?} a
                 * @param {?} b
                 * @return {?}
                 */function (a, b) {
                    if (a.order != null && b.order != null) {
                        return a.order - b.order;
                    }
                    else if (a.order != null && b.order == null) {
                        return -1;
                    }
                    else if (a.order == null && b.order != null) {
                        return 1;
                    }
                    else {
                        return 0;
                    }
                }));
            };
        /**
         * billTrackerSchema
         * @param billInfo
         */
        /**
         * billTrackerSchema
         * @param {?} billInfo
         * @return {?}
         */
        BillTrackerDataInfoService.prototype.getBillTrackerSchema = /**
         * billTrackerSchema
         * @param {?} billInfo
         * @return {?}
         */
            function (billInfo) {
                /** @type {?} */
                var bts = new commonApi.BillTrackingSettings();
                if (billInfo && billInfo.billTrackingSettings) {
                    bts.LoadFromJson(billInfo.billTrackingSettings);
                }
                /** @type {?} */
                var fieldContent = bts.customFieldContent;
                /** @type {?} */
                var fieldConfig = fieldContent && (typeof fieldContent == "object" ? fieldContent : JSON.parse(fieldContent));
                /** @type {?} */
                var schema = fieldConfig && fieldConfig.schema;
                return schema;
            };
        BillTrackerDataInfoService.decorators = [
            { type: core$1.Injectable }
        ];
        return BillTrackerDataInfoService;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/i18n/lang.resource.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var BILL_TRACKER_LANG_RESOURCES = {
        "zh-CHS": {
            "billTracker": "",
            "noAssoBill": "",
            "modalOptionsCantBeEmpty": "",
            "downSearch": "",
            "upSearch": "",
            "folder": "",
            "caption": "",
            "summary": "",
            "basicInfo": "",
            "lineNumber": "",
            "childData": "",
            "selectOneFirst": "",
            "noChildData": "",
            "zoomIn": "Ctrl+",
            "zoomOut": "Ctrl+",
            "zoomReset": "",
            "print": "",
            "expandUp": "",
            "expandUpAll": "",
            "expandDown": "",
            "expandDownAll": "",
            "loading": "",
            "yes": "",
            "no": "",
            "currentNode": "",
        },
        "en": {
            "billTracker": "Bill Tracker",
            "noAssoBill": "There is no associated business bill.",
            "modalOptionsCantBeEmpty": "Modal options cant be empty",
            "downSearch": "Down search",
            "upSearch": "Up search",
            "folder": "Folder",
            "caption": "Caption",
            "summary": "Summary",
            "basicInfo": "Basic Information",
            "lineNumber": "No",
            "childData": "Detail",
            "selectOneFirst": "Please select an item at first",
            "noChildData": "No detail data",
            "zoomIn": "Zoom In(Ctrl+MouseWheel)",
            "zoomOut": "Zoom Out(Ctrl+MouseWheel)",
            "zoomReset": "Zoom Reset",
            "print": "Print",
            "expandUp": "Expand Upward",
            "expandUpAll": "Expand All Upward",
            "expandDown": "Expand Downward",
            "expandDownAll": "Expand All Downward",
            "loading": "Loading...",
            "yes": "Yes",
            "no": "No",
            "currentNode": "Entry",
        },
        "zh-CHT": {
            "billTracker": "",
            "noAssoBill": "",
            "modalOptionsCantBeEmpty": "",
            "downSearch": "",
            "upSearch": "",
            "folder": "",
            "caption": "",
            "summary": "",
            "basicInfo": "",
            "lineNumber": "",
            "childData": "",
            "selectOneFirst": "",
            "noChildData": "",
            "zoomIn": "Ctrl+",
            "zoomOut": "Ctrl+",
            "zoomReset": "",
            "print": "",
            "expandUp": "",
            "expandUpAll": "",
            "expandDown": "",
            "expandDownAll": "",
            "loading": "",
            "yes": "",
            "no": "",
            "currentNode": "",
        }
    };

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/pipe/bill-tracker-locale.pipe.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillTrackerLocalePipe = /** @class */ (function () {
        function BillTrackerLocalePipe(localeId) {
            this.defaultLang = "zh-CHS";
            this.langCode = localeId || this.defaultLang;
            this.lang = BILL_TRACKER_LANG_RESOURCES[this.langCode] || BILL_TRACKER_LANG_RESOURCES[this.defaultLang];
        }
        /**
         * @param {?} name
         * @return {?}
         */
        BillTrackerLocalePipe.prototype.transform = /**
         * @param {?} name
         * @return {?}
         */
            function (name) {
                return this.lang[name] || name;
            };
        BillTrackerLocalePipe.decorators = [
            { type: core$1.Pipe, args: [{ name: 'billTrackerLocale' },] }
        ];
        /** @nocollapse */
        BillTrackerLocalePipe.ctorParameters = function () {
            return [
                { type: String, decorators: [{ type: core$1.Inject, args: [core$1.LOCALE_ID,] }] }
            ];
        };
        return BillTrackerLocalePipe;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/services/bill-tracker-internal-ui.service.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillTrackerInternalUiService = /** @class */ (function () {
        function BillTrackerInternalUiService(framework, messager, loading, localeId, dataService, dataInfoService, modalService, cfr, injector, localePipe) {
            this.framework = framework;
            this.messager = messager;
            this.loading = loading;
            this.dataService = dataService;
            this.dataInfoService = dataInfoService;
            this.modalService = modalService;
            this.cfr = cfr;
            this.injector = injector;
            this.localePipe = localePipe;
        }
        /**
         * @param {?} billInfo
         * @param {?} billDataInfo
         * @return {?}
         */
        BillTrackerInternalUiService.prototype.openBillDetail = /**
         * @param {?} billInfo
         * @param {?} billDataInfo
         * @return {?}
         */
            function (billInfo, billDataInfo) {
                var _this = this;
                /** @type {?} */
                var jointQueryMode = billInfo.jointQueryMode;
                /** @type {?} */
                var jointQueryParameters = JSON.parse(billInfo.jointQueryParameters);
                /** @type {?} */
                var id = billDataInfo.dataId;
                if (this.dataService.hasDynamicParams(jointQueryParameters)) {
                    /** @type {?} */
                    var args = this.dataService.buildGetJointQueryParametersArgs(jointQueryParameters, billInfo, billDataInfo);
                    this.dataService.getJointQueryParameters(args).subscribe(( /**
                     * @param {?} results
                     * @return {?}
                     */function (results) {
                        if (jointQueryMode == commonApi.JointQueryMode.APP) {
                            _this.openMenu(jointQueryParameters, id, results);
                        }
                        else if (jointQueryMode == commonApi.JointQueryMode.URL) {
                            _this.openUrl(jointQueryParameters, id, results);
                        }
                    }));
                }
                else {
                    if (jointQueryMode == commonApi.JointQueryMode.APP) {
                        this.openMenu(jointQueryParameters, id);
                    }
                    else if (jointQueryMode == commonApi.JointQueryMode.URL) {
                        this.openUrl(jointQueryParameters, id);
                    }
                }
            };
        /**
         * @param {?} billInfo
         * @param {?} billDataInfo
         * @param {?} fieldsWithValue
         * @return {?}
         */
        BillTrackerInternalUiService.prototype.openBillDetailWithFields = /**
         * @param {?} billInfo
         * @param {?} billDataInfo
         * @param {?} fieldsWithValue
         * @return {?}
         */
            function (billInfo, billDataInfo, fieldsWithValue) {
                var _this = this;
                /** @type {?} */
                var id = billDataInfo.dataId;
                /** @type {?} */
                var jointQueryMode = billInfo.jointQueryMode;
                /** @type {?} */
                var jointQueryParameters = JSON.parse(billInfo.jointQueryParameters);
                if (this.dataService.hasDynamicParams(jointQueryParameters)) {
                    /** @type {?} */
                    var args = this.dataService.buildGetJointQueryParametersArgs(jointQueryParameters, billInfo, billDataInfo);
                    this.dataService.getJointQueryParameters(args).subscribe(( /**
                     * @param {?} results
                     * @return {?}
                     */function (results) {
                        if (jointQueryMode == commonApi.JointQueryMode.APP) {
                            _this.openMenu(jointQueryParameters, id, results);
                        }
                        else if (jointQueryMode == commonApi.JointQueryMode.URL) {
                            _this.openUrl(jointQueryParameters, id, results);
                        }
                    }));
                }
                else {
                    if (jointQueryMode == commonApi.JointQueryMode.APP) {
                        this.openMenu(jointQueryParameters, id);
                    }
                    else if (jointQueryMode == commonApi.JointQueryMode.URL) {
                        this.openUrl(jointQueryParameters, id);
                    }
                }
            };
        /**
         * 
         * @param jointQueryParameters
         * @param id
         */
        /**
         * 
         * @param {?} jointQueryParameters
         * @param {?} id
         * @param {?=} jqpr
         * @return {?}
         */
        BillTrackerInternalUiService.prototype.openMenu = /**
         * 
         * @param {?} jointQueryParameters
         * @param {?} id
         * @param {?=} jqpr
         * @return {?}
         */
            function (jointQueryParameters, id, jqpr) {
                /** @type {?} */
                var entityParams = {};
                entityParams["id"] = id;
                entityParams["action"] = "LoadAndView1";
                /** @type {?} */
                var map = new Map();
                map.set("id", id);
                map.set("action", "LoadAndView1");
                this.buildOpenMenuParams(jointQueryParameters, map, entityParams, jqpr);
                /** @type {?} */
                var WEB_FORM_ROUTE_PARAMS = encodeURIComponent(JSON.stringify(entityParams));
                map.set("WEB_FORM_ROUTE_PARAMS", WEB_FORM_ROUTE_PARAMS);
                /** @type {?} */
                var opts = {
                    appType: rtfCommon.AppType.Menu,
                    funcId: jointQueryParameters.funcId,
                    appEntrance: null,
                    appId: null,
                    tabId: id,
                    entityParams: entityParams,
                    queryStringParams: map,
                };
                this.framework.openMenu(opts);
            };
        /**
         * url
         * @param jointQueryParameters
         * @param id
         */
        /**
         * url
         * @param {?} jointQueryParameters
         * @param {?} id
         * @param {?=} jqpr
         * @return {?}
         */
        BillTrackerInternalUiService.prototype.openUrl = /**
         * url
         * @param {?} jointQueryParameters
         * @param {?} id
         * @param {?=} jqpr
         * @return {?}
         */
            function (jointQueryParameters, id, jqpr) {
                // console.log("open default container for url");
                var _this = this;
                // console.log("open default container for url");
                /** @type {?} */
                var url = this.appendQueryParam(jointQueryParameters.url, "id", id);
                // 
                if (Array.isArray(jointQueryParameters.params)) {
                    jointQueryParameters.params.forEach(( /**
                     * @param {?} p
                     * @return {?}
                     */function (p) {
                        /** @type {?} */
                        var value = p.value;
                        if (p.type == commonApi.JointQueryParameterType.Field || p.type == commonApi.JointQueryParameterType.Expression) {
                            /** @type {?} */
                            var r = jqpr.find(( /**
                             * @param {?} it
                             * @return {?}
                             */function (it) { return it.code == p.code; }));
                            value = r && r.value;
                        }
                        url = _this.appendQueryParam(url, p.code, value);
                    }));
                }
                else {
                    // key-valueparams
                    Object.keys(jointQueryParameters.params).forEach(( /**
                     * @param {?} k
                     * @return {?}
                     */function (k) {
                        url = _this.appendQueryParam(url, k, jointQueryParameters.params[k]);
                    }));
                }
                /** @type {?} */
                var entityParams = jointQueryParameters.params || {};
                entityParams["id"] = id;
                entityParams["url"] = url;
                entityParams["action"] = "LoadAndView1";
                /** @type {?} */
                var map = new Map();
                map.set("url", url);
                map.set("id", id);
                map.set("action", "LoadAndView1");
                this.buildOpenMenuParams(jointQueryParameters, map, undefined, jqpr);
                /** @type {?} */
                var opts = {
                    appType: rtfCommon.AppType.Menu,
                    funcId: BillTrackerConstant.BILL_VIEWER_FUNC_ID,
                    appEntrance: null,
                    appId: null,
                    tabId: id,
                    entityParams: entityParams,
                    queryStringParams: map,
                };
                this.framework.openMenu(opts);
            };
        /**
         * @param {?} jointQueryParameters
         * @param {?} map
         * @param {?=} entityParams
         * @param {?=} jqpr
         * @return {?}
         */
        BillTrackerInternalUiService.prototype.buildOpenMenuParams = /**
         * @param {?} jointQueryParameters
         * @param {?} map
         * @param {?=} entityParams
         * @param {?=} jqpr
         * @return {?}
         */
            function (jointQueryParameters, map, entityParams, jqpr) {
                if (entityParams === void 0) {
                    entityParams = {};
                }
                // 
                if (Array.isArray(jointQueryParameters.params)) {
                    jointQueryParameters.params.forEach(( /**
                     * @param {?} p
                     * @return {?}
                     */function (p) {
                        /** @type {?} */
                        var value = p.value;
                        if (p.type == commonApi.JointQueryParameterType.Field || p.type == commonApi.JointQueryParameterType.Expression) {
                            if (jqpr) {
                                /** @type {?} */
                                var r = jqpr.find(( /**
                                 * @param {?} it
                                 * @return {?}
                                 */function (it) { return it.code == p.code; }));
                                value = r.value;
                            }
                        }
                        entityParams[p.code] = value;
                        map.set(p.code, value);
                    }));
                }
                else {
                    // key-valueparams
                    Object.keys(jointQueryParameters.params).forEach(( /**
                     * @param {?} k
                     * @return {?}
                     */function (k) {
                        entityParams[k] = jointQueryParameters.params[k];
                        map.set(k, jointQueryParameters.params[k]);
                    }));
                }
            };
        /**
         * @param {?} url
         * @param {?} k
         * @param {?} v
         * @return {?}
         */
        BillTrackerInternalUiService.prototype.appendQueryParam = /**
         * @param {?} url
         * @param {?} k
         * @param {?} v
         * @return {?}
         */
            function (url, k, v) {
                if (url.indexOf(k) > -1) {
                    /** @type {?} */
                    var re1 = eval('/(\\?)(' + k + '=)([^&]*)/gi');
                    url = url.replace(re1, '?' + k + '=' + v);
                    /** @type {?} */
                    var re2 = eval('/(&)(' + k + '=)([^&]*)/gi');
                    url = url.replace(re2, '&' + k + '=' + v);
                }
                else {
                    /** @type {?} */
                    var paraStr = k + '=' + v;
                    /** @type {?} */
                    var idx = url.indexOf('?');
                    if (idx < 0)
                        url += '?';
                    else if (idx >= 0 && idx != url.length - 1)
                        url += '&';
                    url = url + paraStr;
                }
                return url;
            };
        BillTrackerInternalUiService.decorators = [
            { type: core$1.Injectable }
        ];
        /** @nocollapse */
        BillTrackerInternalUiService.ctorParameters = function () {
            return [
                { type: rtfCommon.FrameworkService },
                { type: uiMessager.MessagerService },
                { type: rtfCommon.LoadingService },
                { type: String, decorators: [{ type: core$1.Inject, args: [core$1.LOCALE_ID,] }] },
                { type: BillTrackerDataService },
                { type: BillTrackerDataInfoService },
                { type: uiModal.BsModalService },
                { type: core$1.ComponentFactoryResolver },
                { type: core$1.Injector },
                { type: BillTrackerLocalePipe }
            ];
        };
        return BillTrackerInternalUiService;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/components/bill-tracker/bill-tracker.component.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillTrackerComponent = /** @class */ (function () {
        function BillTrackerComponent(args, localeId, dataService, notify, messager, loading, modal, cdf, vcr, appr, inj, cfr) {
            this.localeId = localeId;
            this.dataService = dataService;
            this.notify = notify;
            this.messager = messager;
            this.loading = loading;
            this.modal = modal;
            this.cdf = cdf;
            this.vcr = vcr;
            this.appr = appr;
            this.inj = inj;
            this.cfr = cfr;
            this.defaultDataWrapperHeight = 180;
            this.dataWrapperHeight = 180;
            this.showData = false;
            this.dataFullScreen = false;
            this.billTrackerArgs = args;
            this.dataInfoService = new BillTrackerDataInfoService();
            this.newBTS = this.dataInfoService.isNewBTS(this.billTrackerArgs.canTrackingResult.billTrackingSettings);
            /** @type {?} */
            var inject = core$1.ReflectiveInjector.resolveAndCreate([
                BillTrackerInternalUiService
            ], this.inj);
            this.internalUiService = inject.get(BillTrackerInternalUiService, null);
            this.defaultDataWrapperHeight = args && args.gridOptions && args.gridOptions.defaultHeight ? args.gridOptions.defaultHeight : this.defaultDataWrapperHeight;
            this.dataWrapperHeight = this.defaultDataWrapperHeight;
        }
        /**
         * @return {?}
         */
        BillTrackerComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
            };
        /**
         * @return {?}
         */
        BillTrackerComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                setTimeout(( /**
                 * @return {?}
                 */function () {
                    _this.paintGraph();
                }), 0);
            };
        /**
         * @return {?}
         */
        BillTrackerComponent.prototype.paintGraph = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.billGraph.paint();
                this.graphZoomScale = this.billGraph.getZoomScale();
                this.billGraph.graph.view.addListener(mxEventType.SCALE, ( /**
                 * @param {?} sender
                 * @param {?} evt
                 * @return {?}
                 */function (sender, evt) {
                    // console.log(sender, evt);
                    _this.graphZoomScale = _this.billGraph.getZoomScale();
                }));
            };
        /**
         * @param {?} cell
         * @return {?}
         */
        BillTrackerComponent.prototype.selectHandler = /**
         * @param {?} cell
         * @return {?}
         */
            function (cell) {
                if (cell) {
                    /** @type {?} */
                    var billInfo = cell.billInfo;
                    /** @type {?} */
                    var billDataInfo = cell.billDataInfo;
                    if (billInfo == this.lastBillInfo && billDataInfo == this.lastBillDataInfo && this.showData == true) {
                        return;
                    }
                    /** @type {?} */
                    var args = this.dataService.buildGetMainEntityDataArgs(billInfo, billDataInfo);
                    this.billData.showDataGrid(args, billInfo, billDataInfo, null);
                    // 
                    this.divDataWrapperER.nativeElement.scrollTo({ top: 0 });
                    this.showData = true;
                    this.lastBillInfo = billInfo;
                    this.lastBillDataInfo = billDataInfo;
                }
                else {
                    this.billData.clearDataRegion();
                    this.showData = false;
                }
            };
        /**
         * @param {?} evt
         * @return {?}
         */
        BillTrackerComponent.prototype.stateChangeHandler = /**
         * @param {?} evt
         * @return {?}
         */
            function (evt) {
                if (evt.type == Events.CLICK_FIRST_SUMMARY) {
                    this.openBillDetail(evt.data);
                }
            };
        /**
         * @param {?} modalRef
         * @return {?}
         */
        BillTrackerComponent.prototype.setModalRef = /**
         * @param {?} modalRef
         * @return {?}
         */
            function (modalRef) {
                this.modalRef = modalRef;
                if (this.billGraph != null) {
                    this.billGraph.setModalRef(modalRef);
                }
            };
        /**
         * @param {?} evt
         * @return {?}
         */
        BillTrackerComponent.prototype.resetGraphHeight = /**
         * @param {?} evt
         * @return {?}
         */
            function (evt) {
                var _this = this;
                (( /** @type {?} */(evt.host))).style.top = '';
                (( /** @type {?} */(evt.host))).style.left = '';
                this.graphContainerER.nativeElement.style.height = this.mainContainerER.nativeElement.clientHeight - evt.size.height + "px";
                setTimeout(( /**
                 * @return {?}
                 */function () {
                    _this.billGraph.refresh();
                }));
            };
        /**
         * @return {?}
         */
        BillTrackerComponent.prototype.expandDataRegion = /**
         * @return {?}
         */
            function () {
                this.dataFullScreen = true;
                this.divDataWrapperER.nativeElement.style.height = '100%';
                this.divDataWrapperER.nativeElement.style.top = '0';
            };
        /**
         * @return {?}
         */
        BillTrackerComponent.prototype.collapseDataRegion = /**
         * @return {?}
         */
            function () {
                this.dataFullScreen = false;
                this.dataWrapperHeight = this.defaultDataWrapperHeight;
                this.divDataWrapperER.nativeElement.style.height = this.dataWrapperHeight + "px";
                this.divDataWrapperER.nativeElement.style.top = null;
            };
        /**
         * @param {?} evt
         * @return {?}
         */
        BillTrackerComponent.prototype.onRzResized = /**
         * @param {?} evt
         * @return {?}
         */
            function (evt) {
                if (evt.position.top < 0) {
                    this.divDataWrapperER.nativeElement.style.top = '0';
                    this.divDataWrapperER.nativeElement.style.height = '100%';
                    this.dataFullScreen = true;
                }
            };
        /**
         * @return {?}
         */
        BillTrackerComponent.prototype.graphZoomIn = /**
         * @return {?}
         */
            function () {
                this.billGraph.zoomIn();
            };
        /**
         * @return {?}
         */
        BillTrackerComponent.prototype.graphZoomOut = /**
         * @return {?}
         */
            function () {
                this.billGraph.zoomOut();
            };
        /**
         * @return {?}
         */
        BillTrackerComponent.prototype.graphZoomActual = /**
         * @return {?}
         */
            function () {
                this.billGraph.zoomActual();
            };
        /**
         * @return {?}
         */
        BillTrackerComponent.prototype.graphPrint = /**
         * @return {?}
         */
            function () {
                this.billGraph.print();
            };
        /**
         * @param {?} direction
         * @param {?=} all
         * @return {?}
         */
        BillTrackerComponent.prototype.graphExpand = /**
         * @param {?} direction
         * @param {?=} all
         * @return {?}
         */
            function (direction, all) {
                if (all === void 0) {
                    all = false;
                }
                this.billGraph.expand(direction, all);
            };
        /**
         * @return {?}
         */
        BillTrackerComponent.prototype.graphExpandUpAll = /**
         * @return {?}
         */
            function () {
                this.graphExpand(BillTrackerDirection.Up, true);
            };
        /**
         * @return {?}
         */
        BillTrackerComponent.prototype.graphExpandUp = /**
         * @return {?}
         */
            function () {
                this.graphExpand(BillTrackerDirection.Up, false);
            };
        /**
         * @return {?}
         */
        BillTrackerComponent.prototype.graphExpandDown = /**
         * @return {?}
         */
            function () {
                this.graphExpand(BillTrackerDirection.Down, false);
            };
        /**
         * @return {?}
         */
        BillTrackerComponent.prototype.graphExpandDownAll = /**
         * @return {?}
         */
            function () {
                this.graphExpand(BillTrackerDirection.Down, true);
            };
        /**
         * @param {?} cell
         * @return {?}
         */
        BillTrackerComponent.prototype.openBillDetail = /**
         * @param {?} cell
         * @return {?}
         */
            function (cell) {
                this.internalUiService.openBillDetail(cell.billInfo, cell.billDataInfo);
            };
        BillTrackerComponent.decorators = [
            { type: core$1.Component, args: [{
                        selector: 'lib-bill-tracker',
                        template: "<div class=\"g-main\" style=\"height: 100%; background-color: #ffffff;\" #mainContainer>\r\n    <div class=\"bill-tracker-toolbar-wrapper\" *ngIf=\"modalRef!=null\">\r\n        <button class=\"btn btn-secondary bill-tracker-toolbar-btn mr-1\" (click)=\"graphExpandUpAll()\">\r\n            {{'expandUpAll'|billTrackerLocale}}\r\n        </button>\r\n        <button class=\"btn btn-secondary bill-tracker-toolbar-btn mr-1\" (click)=\"graphExpandUp()\">\r\n            {{'expandUp'|billTrackerLocale}}\r\n        </button>\r\n        <button class=\"btn btn-secondary bill-tracker-toolbar-btn mr-1\" (click)=\"graphExpandDown()\">\r\n            {{'expandDown'|billTrackerLocale}}\r\n        </button>\r\n        <button class=\"btn btn-secondary bill-tracker-toolbar-btn mr-1\" (click)=\"graphExpandDownAll()\">\r\n            {{'expandDownAll'|billTrackerLocale}}\r\n        </button>\r\n        <div class=\"bill-tracker-toolbar-icon\" (click)=\"graphZoomOut()\">\r\n            <i class=\"f-icon f-icon-minus\" title=\"{{'zoomOut' | billTrackerLocale}}\"></i>\r\n        </div>\r\n        <div class=\"bill-tracker-toolbar-input\">\r\n            <input *ngIf=\"false\" type=\"text\" style=\"border: 0; width: 30px; text-align: right;\" readonly\r\n                [(ngModel)]=\"graphZoomScale\">\r\n            <span style=\"border: 0; width: 30px; text-align: right;\">{{graphZoomScale}}</span>\r\n            <span>%</span>\r\n        </div>\r\n        <div class=\"bill-tracker-toolbar-icon\" (click)=\"graphZoomIn()\">\r\n            <i class=\"f-icon f-icon-add\" title=\"{{'zoomIn' | billTrackerLocale}}\"></i>\r\n        </div>\r\n        <div class=\"bill-tracker-toolbar-icon\" (click)=\"graphZoomActual()\">\r\n            <i class=\"f-icon f-icon-reset\" title=\"{{'zoomReset' | billTrackerLocale}}\"></i>\r\n        </div>\r\n        <div class=\"bill-tracker-toolbar-icon\" (click)=\"graphPrint()\" *ngIf=\"false\">\r\n            <i class=\"f-icon f-icon-print\" title=\"{{'print' | billTrackerLocale}}\"></i>\r\n        </div>\r\n    </div>\r\n    <div class=\"bill-tracker-graph-wrapper\" #graphContainer>\r\n        <lib-bill-tracker-graph #billGraph [billTrackerArgs]=\"billTrackerArgs\" (select)=\"selectHandler($event)\"\r\n            (stateChange)=\"stateChangeHandler($event)\">\r\n        </lib-bill-tracker-graph>\r\n    </div>\r\n</div>\r\n<!-- todo: \u5206\u5272\u6761\u6682\u672A\u52A0\u6700\u5927\u9AD8\u5EA6\u9650\u5236 -->\r\n<div #divDataWrapper class=\"bill-tracker-data-wrapper\" [style.height]=\"dataWrapperHeight + 'px'\"\r\n    [style.display]=\"showData ? null : 'none'\" ngResizable rzAspectRatio=\"false\" [rzHandles]=\"'n'\" [rzMinHeight]=\"40\"\r\n    (rzStop)=\"onRzResized($event)\">\r\n    <div class=\"bill-tracker-divider-wrapper\">\r\n        <div class=\"bill-tracker-divider bill-tracker-divider-transparent bill-tracker-divider-img\">\r\n        </div>\r\n    </div>\r\n    <div class=\"bill-tracker-fold-wrapper\">\r\n        <div class=\"bill-tracker-fold-icon\">\r\n            <i class=\"f-icon f-icon-arrow-seek-up\" *ngIf=\"dataFullScreen==false\" (click)=\"expandDataRegion()\"></i>\r\n            <i class=\"f-icon f-icon-arrow-seek-down\" *ngIf=\"dataFullScreen==true\" (click)=\"collapseDataRegion()\"></i>\r\n        </div>\r\n    </div>\r\n    <div #divDataTable class=\"bill-tracker-data-table-wrapper\">\r\n        <lib-bill-tracker-data #billData></lib-bill-tracker-data>\r\n    </div>\r\n</div>",
                        providers: [
                            BillTrackerDataService
                        ],
                        changeDetection: core$1.ChangeDetectionStrategy.Default,
                        styles: [".bill-tracker-divider{position:relative;height:1px}.bill-tracker-divider-transparent:before{content:\"\";position:absolute;top:0;left:0;width:100%;height:1px;background-color:#e9ecf3}.bill-tracker-divider-transparent:hover:before{content:\"\";position:absolute;top:0;left:0;width:100%;height:1px;background-color:#3f65ff}.bill-tracker-divider-img:after{content:\"\";position:absolute;top:-1px;left:50%;width:60px;height:5px;background-image:url(/platform/runtime/common/web/@edp-bif/runtime-api/images/separator.svg);background-repeat:no-repeat}.bill-tracker-divider-img:hover:after{content:\"\";position:absolute;top:-1px;left:50%;width:60px;height:5px;background-image:url(/platform/runtime/common/web/@edp-bif/runtime-api/images/separator-hover.svg);background-repeat:no-repeat}.bill-tracker-graph-wrapper{height:100%;position:relative}.bill-tracker-data-wrapper{z-index:2;overflow-y:auto;position:absolute;left:0;width:100%;bottom:0;height:200px;background-color:#fff;border-top:1px solid #e9ecf3}.bill-tracker-data-table-wrapper{position:relative;width:100%;padding-top:6px}.bill-tracker-fold-wrapper{z-index:1;position:absolute;right:0;top:0;width:2rem;height:2rem}.bill-tracker-fold-icon{display:inline-flex;width:1.5em;height:1.5em;line-height:1.5em;text-align:center;color:#848c9a;background:#fff;border-radius:1.5em;border:1px solid #e9ecf3;justify-content:center;align-items:center;flex-shrink:0;overflow:hidden;margin:.5em .5em 0 0}.bill-tracker-fold-icon:hover{background-image:linear-gradient(214deg,#3f65ff 0,#4d9aff 100%);box-shadow:0 3px 8px 0 rgba(78,148,255,.4);color:#fff}.bill-tracker-toolbar-wrapper{z-index:1;position:absolute;right:0;top:0;display:flex;margin-right:14px;margin-top:14px;background-color:#fff}.bill-tracker-toolbar-icon{background:#fff;width:22px;height:22px;line-height:22px;text-align:center;color:#595d63;border:1px solid #e8ebf2;box-shadow:0 2px 6px 0 rgba(31,35,41,.06);border-radius:22px;justify-content:center;align-items:center;flex-shrink:0;overflow:hidden}.bill-tracker-toolbar-icon:hover{background-image:linear-gradient(214deg,#3f65ff 0,#4d9aff 100%);box-shadow:0 3px 8px 0 rgba(78,148,255,.4);color:#fff}.bill-tracker-toolbar-btn:hover{background-color:#fff}"]
                    }] }
        ];
        /** @nocollapse */
        BillTrackerComponent.ctorParameters = function () {
            return [
                { type: BillTrackerArgs },
                { type: String, decorators: [{ type: core$1.Inject, args: [core$1.LOCALE_ID,] }] },
                { type: BillTrackerDataService },
                { type: uiNotify.NotifyService },
                { type: uiMessager.MessagerService },
                { type: uiLoading.LoadingService },
                { type: uiModal.BsModalService },
                { type: core$1.ChangeDetectorRef },
                { type: core$1.ViewContainerRef },
                { type: core$1.ApplicationRef },
                { type: core$1.Injector, decorators: [{ type: core$1.Optional }] },
                { type: core$1.ComponentFactoryResolver, decorators: [{ type: core$1.Optional }] }
            ];
        };
        BillTrackerComponent.propDecorators = {
            billGraph: [{ type: core$1.ViewChild, args: ["billGraph",] }],
            billGraphVCR: [{ type: core$1.ViewChild, args: ["billGraph", { read: core$1.ViewContainerRef },] }],
            mainContainerER: [{ type: core$1.ViewChild, args: ["mainContainer",] }],
            graphContainerER: [{ type: core$1.ViewChild, args: ["graphContainer",] }],
            billData: [{ type: core$1.ViewChild, args: ["billData",] }],
            billDataVCR: [{ type: core$1.ViewChild, args: ["billData", { read: core$1.ViewContainerRef },] }],
            divDataTableER: [{ type: core$1.ViewChild, args: ["divDataTable",] }],
            divDataWrapperER: [{ type: core$1.ViewChild, args: ["divDataWrapper",] }],
            billTrackerArgs: [{ type: core$1.Input, args: ["billTrackerArgs",] }]
        };
        return BillTrackerComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/services/bill-tracker-ui.service.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillTrackerUiService = /** @class */ (function () {
        function BillTrackerUiService(frameworkService, messager, loading, localeId, dataService, modalService, cfr, injector) {
            this.frameworkService = frameworkService;
            this.messager = messager;
            this.loading = loading;
            this.dataService = dataService;
            this.modalService = modalService;
            this.cfr = cfr;
            this.injector = injector;
            /**
             * 
             */
            this.defaultModalOptions = {
                title: null,
                width: 1100,
                height: 480,
                buttons: null,
                showButtons: null,
            };
            this.localePipe = new BillTrackerLocalePipe(localeId);
        }
        /**
         * 
         * todo: spabodytab
         * @param args 
         * @param maximized 
         * @param modalOptions 
         * @param graphOptions 
         * @param gridOptions 
         */
        /**
         * 
         * todo: spabodytab
         * @param {?} args 
         * @param {?=} maximized 
         * @param {?=} modalOptions 
         * @param {?=} graphOptions 
         * @param {?=} gridOptions 
         * @return {?}
         */
        BillTrackerUiService.prototype.openDefaultBillTrackerDialog = /**
         * 
         * todo: spabodytab
         * @param {?} args 
         * @param {?=} maximized 
         * @param {?=} modalOptions 
         * @param {?=} graphOptions 
         * @param {?=} gridOptions 
         * @return {?}
         */
            function (args, maximized, modalOptions, graphOptions, gridOptions) {
                var _this = this;
                if (maximized === void 0) {
                    maximized = true;
                }
                if (typeof modalOptions == "string") {
                    if (modalOptions == "") {
                        this.messager.info(this.localePipe.transform("modalOptionsCantBeEmpty"));
                        return rxjs.of(null);
                    }
                    modalOptions = JSON.parse(modalOptions);
                }
                /** @type {?} */
                var modalOpts = {
                    title: this.localePipe.transform("billTracker")
                };
                modalOpts = Object.assign(modalOpts, this.defaultModalOptions, modalOptions);
                if (typeof graphOptions == "string") {
                    if (graphOptions != "") {
                        graphOptions = JSON.parse(graphOptions);
                    }
                    else {
                        graphOptions = null;
                    }
                }
                if (typeof gridOptions == "string") {
                    if (gridOptions != "") {
                        gridOptions = JSON.parse(gridOptions);
                    }
                    else {
                        gridOptions = null;
                    }
                }
                /** @type {?} */
                var downArgs = new GetDownBillsInfoArgs();
                downArgs.billDataId = args.billDataId;
                downArgs.documentTypeId = args.documentTypeId;
                downArgs.bizKind = args.bizKind;
                downArgs.bizType = args.bizType;
                downArgs.billChildInfos = args.billChildInfos;
                downArgs.curYear = args.curYear;
                this.loading.show({ message: this.localePipe.transform("loading") });
                return this.dataService.canTracking(downArgs).pipe(operators.switchMap(( /**
                 * @param {?} res
                 * @return {?}
                 */function (res) {
                    if (!res.canDownTracking && !res.canUpTracking) {
                        _this.messager.info(_this.localePipe.transform("noAssoBill"));
                        _this.loading.close();
                        return rxjs.of(null);
                    }
                    /** @type {?} */
                    var billTrackerArgs = new BillTrackerArgs();
                    billTrackerArgs.canTrackingResult = res;
                    billTrackerArgs.getBillsInfoArgs = args;
                    /** @type {?} */
                    var graphOpt = new BillTrackerGraphOptions();
                    graphOpt = Object.assign(graphOpt, graphOptions);
                    billTrackerArgs.graphOptions = graphOpt;
                    /** @type {?} */
                    var gridOpt = new BillTrackerGridOptions();
                    gridOpt = Object.assign(gridOpt, gridOptions);
                    billTrackerArgs.gridOptions = gridOpt;
                    /** @type {?} */
                    var cmpR = _this.createBillTrackerComponent(billTrackerArgs);
                    _this.loading.close();
                    /** @type {?} */
                    var modalRef = _this.modalService.show(cmpR, modalOpts);
                    if (maximized) {
                        modalRef.dialog.instance.maxDialog();
                    }
                    cmpR.instance.setModalRef(modalRef);
                    return rxjs.of(cmpR.instance);
                })), operators.catchError(( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    _this.loading.close();
                    //todo , 
                    _this.messager.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));
                    throw err;
                })));
            };
        /**
         * 
         * @param args 
         * @param graphOptions 
         * @param gridOptions 
         */
        /**
         * 
         * @param {?} args 
         * @param {?=} graphOptions 
         * @param {?=} gridOptions 
         * @return {?}
         */
        BillTrackerUiService.prototype.openDefaultBillTrackerApp = /**
         * 
         * @param {?} args 
         * @param {?=} graphOptions 
         * @param {?=} gridOptions 
         * @return {?}
         */
            function (args, graphOptions, gridOptions) {
                var _this = this;
                if (typeof graphOptions == "string") {
                    if (graphOptions == "") {
                        this.messager.info(this.localePipe.transform("modalOptionsCantBeEmpty"));
                        return;
                    }
                    graphOptions = JSON.parse(graphOptions);
                }
                if (typeof gridOptions == "string") {
                    if (gridOptions == "") {
                        this.messager.info(this.localePipe.transform("modalOptionsCantBeEmpty"));
                        return;
                    }
                    gridOptions = JSON.parse(gridOptions);
                }
                /** @type {?} */
                var downArgs = new GetDownBillsInfoArgs();
                downArgs.documentTypeId = args.documentTypeId;
                downArgs.billDataId = args.billDataId;
                downArgs.bizKind = args.bizKind;
                downArgs.bizType = args.bizType;
                downArgs.billChildInfos = args.billChildInfos;
                downArgs.curYear = args.curYear;
                this.loading.show({ message: this.localePipe.transform("loading") });
                this.dataService.canTracking(downArgs).subscribe(( /**
                 * @param {?} res
                 * @return {?}
                 */function (res) {
                    if (!res.canDownTracking && !res.canUpTracking) {
                        _this.messager.info(_this.localePipe.transform("noAssoBill"));
                        _this.loading.close();
                        return;
                    }
                    /** @type {?} */
                    var billTrackerArgs = new BillTrackerArgs();
                    billTrackerArgs.canTrackingResult = res;
                    billTrackerArgs.getBillsInfoArgs = args;
                    /** @type {?} */
                    var graphOpt = new BillTrackerGraphOptions();
                    graphOpt = Object.assign(graphOpt, graphOptions);
                    billTrackerArgs.graphOptions = graphOpt;
                    /** @type {?} */
                    var gridOpt = new BillTrackerGridOptions();
                    gridOpt = Object.assign(gridOpt, gridOptions);
                    billTrackerArgs.gridOptions = gridOpt;
                    /** @type {?} */
                    var opt = {
                        appId: BillTrackerConstant.DEFAULT_APP_ID,
                        appEntrance: BillTrackerConstant.DEFAULT_APP_ENTRANCE,
                        funcId: BillTrackerConstant.DEFAULT_FUNC_ID,
                        tabId: "billTracker" + Date.now(),
                        tabName: _this.localePipe.transform("billTracker"),
                        appType: rtfCommon.AppType.App,
                        entityParams: billTrackerArgs,
                        queryStringParams: _this.buildQueryMap(billTrackerArgs),
                        isReload: undefined,
                    };
                    _this.frameworkService.openMenu(opt);
                    _this.loading.close();
                }), ( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    _this.loading.close();
                    //todo , 
                    _this.messager.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));
                    throw err;
                }));
            };
        /**
         * 
         * @param billTrackerArgs 
         * @param cfr ComponentFactoryResolver
         * @param injector Injector
         * @param custProviders Provider
         * @returns
         */
        /**
         * 
         * @param {?} billTrackerArgs 
         * @param {?=} cfr ComponentFactoryResolver
         * @param {?=} injector Injector
         * @param {?=} custProviders Provider
         * @return {?}
         */
        BillTrackerUiService.prototype.createBillTrackerComponent = /**
         * 
         * @param {?} billTrackerArgs 
         * @param {?=} cfr ComponentFactoryResolver
         * @param {?=} injector Injector
         * @param {?=} custProviders Provider
         * @return {?}
         */
            function (billTrackerArgs, cfr, injector, custProviders) {
                cfr = cfr == null ? this.cfr : cfr;
                injector = injector == null ? this.injector : injector;
                custProviders = custProviders == null || Array.isArray(custProviders) == false ? [] : custProviders;
                /** @type {?} */
                var inj = core$1.ReflectiveInjector.resolveAndCreate(__spread([
                    { provide: BillTrackerArgs, useValue: billTrackerArgs }
                ], custProviders), injector);
                /** @type {?} */
                var cmpF = cfr.resolveComponentFactory(BillTrackerComponent);
                /** @type {?} */
                var cmpR = cmpF.create(inj);
                return cmpR;
            };
        /**
         * 
         * @param args
         * @returns
         */
        /**
         * 
         * @param {?} args
         * @return {?}
         */
        BillTrackerUiService.prototype.canTracking = /**
         * 
         * @param {?} args
         * @return {?}
         */
            function (args) {
                return this.dataService.canTracking(args);
            };
        /**
         * 
         * @param args
         * @returns
         */
        /**
         * 
         * @param {?} args
         * @return {?}
         */
        BillTrackerUiService.prototype.getDownBillsInfo = /**
         * 
         * @param {?} args
         * @return {?}
         */
            function (args) {
                return this.dataService.getDownBillsInfo(args);
            };
        /**
         * 
         * @param args
         * @returns
         */
        /**
         * 
         * @param {?} args
         * @return {?}
         */
        BillTrackerUiService.prototype.getUpBillsInfo = /**
         * 
         * @param {?} args
         * @return {?}
         */
            function (args) {
                return this.dataService.getUpBillsInfo(args);
            };
        /**
         * 
         * @param args
         * @returns
         */
        /**
         * 
         * @param {?} args
         * @return {?}
         */
        BillTrackerUiService.prototype.getEntityData = /**
         * 
         * @param {?} args
         * @return {?}
         */
            function (args) {
                return this.dataService.getEntityData(args);
            };
        /**
         * @private
         * @param {?} billTrackerArgs
         * @return {?}
         */
        BillTrackerUiService.prototype.buildQueryMap = /**
         * @private
         * @param {?} billTrackerArgs
         * @return {?}
         */
            function (billTrackerArgs) {
                /** @type {?} */
                var map = new Map();
                for (var key in billTrackerArgs) {
                    /** @type {?} */
                    var value = billTrackerArgs[key];
                    if (typeof value == "object") {
                        value = value && JSON.stringify(value);
                    }
                    map.set(key, value);
                }
                return map;
            };
        BillTrackerUiService.decorators = [
            { type: core$1.Injectable }
        ];
        /** @nocollapse */
        BillTrackerUiService.ctorParameters = function () {
            return [
                { type: rtfCommon.FrameworkService },
                { type: uiMessager.MessagerService },
                { type: uiLoading.LoadingService },
                { type: String, decorators: [{ type: core$1.Inject, args: [core$1.LOCALE_ID,] }] },
                { type: BillTrackerDataService },
                { type: uiModal.BsModalService },
                { type: core$1.ComponentFactoryResolver },
                { type: core$1.Injector }
            ];
        };
        return BillTrackerUiService;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/cell-data/CellData.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CellData = /** @class */ (function () {
        function CellData() {
            this.diagramInfo = {
                x: null,
                y: null,
                width: null,
                height: null,
                extProps: {}
            };
        }
        return CellData;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/cell-data/EntryCellData.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var EntryCellData = /** @class */ (function (_super) {
        __extends(EntryCellData, _super);
        function EntryCellData() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.ups = [];
            _this.downs = [];
            return _this;
        }
        return EntryCellData;
    }(CellData));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/cell-data/UpCellData.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var UpCellData = /** @class */ (function (_super) {
        __extends(UpCellData, _super);
        function UpCellData() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.ups = [];
            return _this;
        }
        return UpCellData;
    }(CellData));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/entity/tracking/cell-data/DownCellData.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var DownCellData = /** @class */ (function (_super) {
        __extends(DownCellData, _super);
        function DownCellData() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.downs = [];
            return _this;
        }
        return DownCellData;
    }(CellData));

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/config/bill-tracker-cell-css.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * 
     * @type {?}
     */
    var billTrackerCellCss = "\n.bif-cell-node { \n    position: relative;\n    height: 100%;\n    font-weight: normal;\n    font-family: PingFangSC-Regular;\n    display:block;\n    text-align: left;\n}\n.bif-cell-node-main { \n    height: 100%;\n    background: #FFFFFF;\n    border: 1px solid rgba(230,233,240,1);\n    box-shadow: 0px 2px 10px 0px rgba(3,18,51,0.08);\n    border-radius: 8px;\n    border-left-width: 4px;\n    border-left-color: #2A87FF;\n}\n.bif-cell-node-current {\n    position: absolute;\n    right: 0;\n    top: 0;\n    width: 50px;\n    height: 28px;\n    background-image: linear-gradient(39deg, #F5A144 0%, #FFC527 100%);\n    box-shadow: 0px 2px 6px 0px rgba(245,161,68,0.4);\n    border-radius: 0px 8px 0px 64px;\n    color: white;\n    text-align: center;\n}\n.bif-cell-node-current-text {\n    display: block;\n    margin: auto;\n    line-height: 28px;\n}\n.bif-cell-node-title {\n    padding-left:19px;\n    padding-right:12px;\n    padding-top: 16px;\n    padding-bottom: 6px;\n}\n.bif-cell-node-title-text { \n    font-size: 16px;\n    color: #2D2F33;\n    letter-spacing: 0;\n    line-height: 24px;\n    font-weight: 400;\n}\n.bif-cell-node-summary-list { \n    \n}\n.bif-cell-node-summary { \n    display: flex;\n    padding-left: 19px;\n    padding-right:12px;\n    font-size: 13px;\n    color: #5A5E66;\n    line-height: 24px;\n    font-weight: 400;\n}\n.bif-cell-node-summary-caption { \n    letter-spacing: 0;\n    margin-right: 4px;\n    width: 52px;\n    min-width: 52px;\n    text-align: right;\n}\n.bif-cell-node-summary-caption-text { \n    white-space: normal;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    word-break: break-all;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 1;\n}\n.bif-cell-node-summary-value { \n    \n}\n.bif-cell-node-summary-value-text { \n    font-family: PingFangSC-Regular,HelveticaNeue,Helvetica,Arial,sans-serif;\n    color: rgba(0,0,0,0.85);\n    text-align: left;\n    white-space: normal;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n    -webkit-line-clamp: 1;\n    word-break: break-all;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.bif-cell-node-title-link { \n}\n.bif-cell-node-title-link:hover { \n    text-decoration: underline;\n    cursor: pointer;\n}\n.bif-cell-node-title-link-color {\n    color: #56A0FF;\n}\n.bif-cell-node-title-only {\n    justify-content: center;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    border: 1px solid rgb(193,195,199,1);\n}\n.bif-cell-node-title-only-text {\n    font-size: xx-large;\n}\n.bif-cell-node-thumb {\n    height: 100%;\n    background: #FFFFFF;\n}\n.bif-cell-node-thumb-img-container {\n    height: 80%;\n}\n.bif-cell-node-thumb-img {\n    height: 100%;\n    width: 100%;\n}\n.bif-cell-node-thumb-title {\n    height: 20%;\n    display: flex;\n    justify-content: center;\n    display: flex;\n    align-items: center;\n}\n.bif-cell-node-thumb-title-text {\n    font-size: x-large;\n}\n";

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/utils/addCustomCSS.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * head
     * @param {?} cssText
     * @return {?}
     */
    function addCustomCSS(cssText) {
        /** @type {?} */
        var style = ( /** @type {?} */(document.createElement('style')));
        //style
        /** @type {?} */
        var head = document.head || document.getElementsByTagName('head')[0];
        style.type = 'text/css'; //styletypetext/cssie
        if (style.styleSheet) { //IE
            //IE
            /** @type {?} */
            var func = ( /**
             * @return {?}
             */function () {
                try { //IEstylesheet
                    style.styleSheet.cssText = cssText;
                }
                catch (e) {
                }
            });
            //styleSheet
            if (style.styleSheet.disabled) {
                setTimeout(func, 10);
            }
            else {
                func();
            }
        }
        else { //w3c
            //w3c
            //w3cstyle
            /** @type {?} */
            var textNode = document.createTextNode(cssText);
            style.appendChild(textNode);
        }
        head.appendChild(style); //stylehead    
    }

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/components/bill-tracker-graph/bill-tracker-graph.component.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    // head
    addCustomCSS(billTrackerCellCss);
    var BillTrackerGraphComponent = /** @class */ (function () {
        function BillTrackerGraphComponent(args, localeId, dataService, notify, messager, loading, modal, vcr, inj, cfr, cdr) {
            this.dataService = dataService;
            this.notify = notify;
            this.messager = messager;
            this.loading = loading;
            this.modal = modal;
            this.vcr = vcr;
            this.inj = inj;
            this.cfr = cfr;
            this.cdr = cdr;
            this.selectEventEmitter = new core$1.EventEmitter();
            this.stateChangeEventEmitter = new core$1.EventEmitter();
            this.hspace = 80;
            this.vspace = 28;
            this.defaultWidth = 250;
            this.defaultHeight = 138;
            this.nodeWidth = this.defaultWidth;
            this.nodeHeight = this.defaultHeight;
            this.defaultNonEntryImage = (!mxClientType.IS_SVG) ? BillTrackerConstant.IMAGE_PATH + '/non-entry-bill.png' : BillTrackerConstant.IMAGE_PATH + '/non-entry-bill.svg';
            this.defaultEntryImage = (!mxClientType.IS_SVG) ? BillTrackerConstant.IMAGE_PATH + '/entry-bill.png' : BillTrackerConstant.IMAGE_PATH + '/entry-bill.svg';
            this.defaultOverlayWidth = 26;
            this.defaultOverlayHeight = 26;
            this.overlayWidth = this.defaultOverlayWidth;
            this.overlayHeight = this.defaultOverlayHeight;
            this.defaultUpSearchImage = new mxImageType(BillTrackerConstant.IMAGE_PATH + '/tracker-plus.svg', this.overlayWidth, this.overlayHeight);
            this.defaultDownSearchImage = new mxImageType(BillTrackerConstant.IMAGE_PATH + '/tracker-plus.svg', this.overlayWidth, this.overlayHeight);
            this.defaultUpFolderImage = new mxImageType(BillTrackerConstant.IMAGE_PATH + '/tracker-minus.svg', this.overlayWidth, this.overlayHeight);
            this.defaultDownFolderImage = new mxImageType(BillTrackerConstant.IMAGE_PATH + '/tracker-minus.svg', this.overlayWidth, this.overlayHeight);
            this.upSearchImage = this.defaultUpSearchImage;
            this.downSearchImage = this.defaultDownSearchImage;
            this.upFolderImage = this.defaultUpFolderImage;
            this.downFolderImage = this.defaultDownFolderImage;
            this.upSearchOffset = new mxPointType(-50, 0);
            this.downSearchOffset = new mxPointType(50, 0);
            /**
             * 
             */
            this.numCellsAddingReq = 0;
            this.localePipe = new BillTrackerLocalePipe(localeId);
            this.dataInfoService = new BillTrackerDataInfoService();
            this.billTrackerArgs = args;
            /** @type {?} */
            var graphOptions = this.billTrackerArgs.graphOptions;
            this.graphOptions = graphOptions;
            /** @type {?} */
            var gridOptions = this.billTrackerArgs.gridOptions;
            this.gridOptions = gridOptions;
            this.upSearchImage = graphOptions && graphOptions.upSearchImage ? new mxImageType(graphOptions.upSearchImage, this.overlayWidth, this.overlayHeight) : this.upSearchImage;
            this.downSearchImage = graphOptions && graphOptions.downSearchImage ? new mxImageType(graphOptions.downSearchImage, this.overlayWidth, this.overlayHeight) : this.downSearchImage;
            this.upFolderImage = graphOptions && graphOptions.upFolderImage ? new mxImageType(graphOptions.upFolderImage, this.overlayWidth, this.overlayHeight) : this.upFolderImage;
            this.downFolderImage = graphOptions && graphOptions.downFolderImage ? new mxImageType(graphOptions.downFolderImage, this.overlayWidth, this.overlayHeight) : this.downFolderImage;
        }
        /**
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.graph = this.createGraph();
                this.createLayout(this.graph);
                this.layoutManager = new mxLayoutManagerType(this.graph);
                this.outline = new Outline(this.graph, this.mxOutlineContainer.nativeElement);
            };
        /**
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
            function () {
            };
        /**
         * @param {?=} sizeDidChange
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.refresh = /**
         * @param {?=} sizeDidChange
         * @return {?}
         */
            function (sizeDidChange) {
                if (sizeDidChange === void 0) {
                    sizeDidChange = true;
                }
                if (sizeDidChange && this.graph != null) {
                    this.graph.sizeDidChange();
                }
            };
        /**
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.paint = /**
         * @return {?}
         */
            function () {
                this.paintGraph(this.graph);
            };
        /**
         * @param {?} modalRef
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.setModalRef = /**
         * @param {?} modalRef
         * @return {?}
         */
            function (modalRef) {
                var _this = this;
                this.modalRef = modalRef;
                if (this.modalRef != null) {
                    this.modalRef.dialog.instance.closed.subscribe(( /**
                     * @param {?} evt
                     * @return {?}
                     */function (evt) {
                        _this.graph && _this.graph.destroy();
                    }));
                    // todo: 
                    /** @type {?} */
                    var flag_1 = 0;
                    this.modalRef.dialog.instance.resized.subscribe(( /**
                     * @param {?} evt
                     * @return {?}
                     */function (evt) {
                        if (flag_1 >= 2) {
                            _this.refresh();
                        }
                        flag_1++;
                    }));
                }
            };
        /**
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.createGraph = /**
         * @return {?}
         */
            function () {
                //mxGuide
                mxGraphHandlerType.prototype.guidesEnabled = true;
                //mxgraph
                mxEventType.disableContextMenu(this.mxContainerER.nativeElement);
                mxGraphHandlerType.prototype.scrollOnMove = false;
                mxGraphHandlerType.prototype.scaleGrid = true;
                //
                mxConstantsType.HANDLE_FILLCOLOR = '#29b6f2';
                mxHandleType.prototype.createShape = ( /**
                 * @param {?} html
                 * @return {?}
                 */function (html) {
                    /** @type {?} */
                    var bounds = new mxEllipseType(0, 0, mxConstantsType.HANDLE_SIZE, mxConstantsType.HANDLE_SIZE);
                    return new mxEllipseType(bounds, mxConstantsType.HANDLE_FILLCOLOR, mxConstantsType.HANDLE_STROKECOLOR);
                });
                mxVertexHandlerType.prototype.handleImage = (!mxClientType.IS_SVG) ? new mxImageType(BillTrackerConstant.IMAGE_PATH + '/handle-main.png', mxConstantsType.HANDLE_SIZE, mxConstantsType.HANDLE_SIZE) : Graph.createSvgImage(18, 18, '<circle cx="9" cy="9" r="3" stroke="#fff" fill="' + Graph.handleFill + '" stroke-width="1"/>');
                mxConstantsType.DEFAULT_VALID_COLOR = '#FFFFFF';
                mxConstantsType.HIGHLIGHT_STROKEWIDTH = 1;
                //mxGuide
                mxConstantsType.GUIDE_COLOR = '#0088cf';
                mxGuideType.prototype.createGuideShape = ( /**
                 * @param {?} horizontal
                 * @return {?}
                 */function (horizontal) { return new mxPolylineType([], mxConstantsType.GUIDE_COLOR, mxConstantsType.GUIDE_STROKEWIDTH); });
                //
                mxConstantsType.VERTEX_SELECTION_STROKEWIDTH = 1;
                mxConstantsType.VERTEX_SELECTION_COLOR = '#3E8DFF';
                mxConstantsType.VERTEX_SELECTION_DASHED = false;
                //
                mxConnectionHandlerType.prototype.getEdgeWidth = ( /**
                 * @param {?} valid
                 * @return {?}
                 */function (valid) { return 1; });
                mxConstantsType.VALID_COLOR = '#00CD66';
                //mxGraph
                /** @type {?} */
                var graph = new Graph(this.mxContainerER.nativeElement, undefined, undefined, undefined);
                graph.localePipe = this.localePipe;
                graph.graphOptions = this.graphOptions;
                graph.gridOptions = this.gridOptions;
                //
                this.addListener(graph);
                return graph;
            };
        /**
         * @param {?} graph
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.createLayout = /**
         * @param {?} graph
         * @return {?}
         */
            function (graph) {
                /** @type {?} */
                var upLayout = new RevertCompactTreeLayout(graph, true);
                upLayout.levelDistance = this.hspace;
                upLayout.edgeRouting = false;
                upLayout.resetEdges = false;
                this.upLayout = upLayout;
                /** @type {?} */
                var downLayout = new CompactTreeLayout(graph, true);
                downLayout.levelDistance = this.hspace;
                downLayout.edgeRouting = false;
                downLayout.resetEdges = true;
                this.downLayout = downLayout;
            };
        /**
         * @param {?} graph
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.addListener = /**
         * @param {?} graph
         * @return {?}
         */
            function (graph) {
                var _this = this;
                /** @type {?} */
                var autoAdjustHandler = ( /**
                 * @return {?}
                 */function () {
                    window.setTimeout(( /**
                     * @return {?}
                     */function () {
                        if (_this.graph != null) {
                            _this.refresh();
                        }
                    }), 0);
                });
                mxEventType.addListener(window, 'resize', autoAdjustHandler);
                /** @type {?} */
                var wheelResizeHandler = ( /**
                 * @param {?} evt
                 * @param {?} up
                 * @return {?}
                 */function (evt, up) {
                    // windowCtrlMacCommand
                    if (mxEventType.isControlDown(evt) || (mxClientType.IS_MAC && evt.metaKey)) {
                        if (up) {
                            _this.zoomIn();
                        }
                        else {
                            _this.zoomOut();
                        }
                        mxEventType.consume(evt);
                        return false;
                    }
                });
                mxEventType.addMouseWheelListener(wheelResizeHandler, this.mxContainerER.nativeElement);
                graph.getSelectionModel().addListener(mxEventType.CHANGE, ( /**
                 * @param {?} sender
                 * @param {?} evt
                 * @return {?}
                 */function (sender, evt) {
                    if (!(sender instanceof mxGraphSelectionModelType)) {
                        return;
                    }
                    /** @type {?} */
                    var selectionModel = sender;
                    //1
                    if (selectionModel.cells == null || selectionModel.cells.length != 1) {
                        _this.selectEventEmitter.emit(null);
                        return;
                    }
                    /** @type {?} */
                    var selectedCell = selectionModel.cells[0];
                    //
                    if (selectedCell.edge || !selectedCell.vertex) {
                        return;
                    }
                    _this.selectEventEmitter.emit(selectedCell);
                }));
                graph.addListener(Events.CLICK_FIRST_SUMMARY, ( /**
                 * @param {?} serder
                 * @param {?} evt
                 * @return {?}
                 */function (serder, evt) {
                    /** @type {?} */
                    var cell = evt.getProperty("cell");
                    _this.stateChangeEventEmitter.emit({
                        type: Events.CLICK_FIRST_SUMMARY,
                        data: cell
                    });
                }));
            };
        /**
         * @param {?} graph
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.paintGraph = /**
         * @param {?} graph
         * @return {?}
         */
            function (graph) {
                graph.getModel().beginUpdate();
                this.entry = this.paintEntry(graph);
                this.afterPaintGraph(this.graph, this.entry);
                graph.getModel().endUpdate();
            };
        /**
         * @param {?} graph
         * @param {?} entry
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.afterPaintGraph = /**
         * @param {?} graph
         * @param {?} entry
         * @return {?}
         */
            function (graph, entry) {
                if (entry == null) {
                    return;
                }
                // 
                this.billTrackerArgs.gridOptions.showEntryData && graph.setSelectionCell(this.entry);
                // 
                /** @type {?} */
                var canTrackingResult = this.billTrackerArgs.canTrackingResult;
                if (this.billTrackerArgs.graphOptions.showDownBills == true) {
                    canTrackingResult.canDownTracking && this.entry.downCellOverlay && this.entry.downCellOverlay.fireEvent(new mxEventObjectType(mxEventType.CLICK, "resetView", true));
                }
                if (this.billTrackerArgs.graphOptions.showUpBills == true) {
                    canTrackingResult.canUpTracking && this.entry.upCellOverlay && this.entry.upCellOverlay.fireEvent(new mxEventObjectType(mxEventType.CLICK, "resetView", true));
                }
            };
        /**
         * @param {?} graph
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.paintEntry = /**
         * @param {?} graph
         * @return {?}
         */
            function (graph) {
                /** @type {?} */
                var entry = null;
                if (this.billTrackerArgs == null || this.billTrackerArgs.canTrackingResult == null) {
                    return entry;
                }
                /** @type {?} */
                var canTrackingResult = this.billTrackerArgs.canTrackingResult;
                /** @type {?} */
                var info = this.dataService.buildEntryBillInfo(canTrackingResult);
                /** @type {?} */
                var dataInfo = info.billDataInfos[0];
                /** @type {?} */
                var bts = new commonApi.BillTrackingSettings();
                bts.LoadFromJson(canTrackingResult.billTrackingSettings);
                /** @type {?} */
                var parent = graph.getDefaultParent();
                graph.getModel().beginUpdate();
                try {
                    /** @type {?} */
                    var x0 = 0;
                    /** @type {?} */
                    var y0 = 0;
                    /** @type {?} */
                    var bts_1 = new commonApi.BillTrackingSettings();
                    if (info && info.billTrackingSettings) {
                        bts_1.LoadFromJson(info.billTrackingSettings);
                    }
                    /** @type {?} */
                    var customStyle = "";
                    entry = graph.insertBillCell(parent, null, dataInfo, info, true, x0, y0, this.nodeWidth, this.nodeHeight, "billNode;billNodeEntry;" + customStyle);
                    /** @type {?} */
                    var geometry = graph.getModel().getGeometry(entry);
                    /** @type {?} */
                    var size = graph.getPreferredSizeForCell(entry);
                    this.entryCellData = new EntryCellData();
                    this.setCellData(this.entryCellData, entry);
                    this.entryCellData.canTrackingResult = canTrackingResult;
                    entry.data = this.entryCellData;
                    // 
                    if (canTrackingResult.canDownTracking) {
                        /** @type {?} */
                        var overlay = this.addDownOverlay(graph, entry);
                        entry.downCellOverlay = overlay;
                    }
                    if (canTrackingResult.canUpTracking) {
                        /** @type {?} */
                        var overlay = this.addUpOverlay(graph, entry);
                        entry.upCellOverlay = overlay;
                    }
                    this.upParent = parent.clone();
                    this.downParent = parent.clone();
                    graph.addCells([this.upParent, this.downParent], parent);
                }
                finally {
                    graph.getModel().endUpdate();
                }
                return entry;
            };
        /**
         * @param {?} graph
         * @param {?} cell
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.addUpOverlay = /**
         * @param {?} graph
         * @param {?} cell
         * @return {?}
         */
            function (graph, cell) {
                var _this = this;
                /** @type {?} */
                var upSearch = new CellOverlay(this.upSearchImage, this.localePipe.transform("upSearch"), mxConstantsType.ALIGN_LEFT, mxConstantsType.ALIGN_MIDDLE, this.upSearchOffset, "hand");
                upSearch.state = CellOverlayState.Search;
                /** @type {?} */
                var upSearchHandler = ( /**
                 * @param {?} sender
                 * @param {?} evt
                 * @return {?}
                 */function (sender, evt) {
                    /** @type {?} */
                    var resetView = evt.getProperty("resetView");
                    graph.getModel().beginUpdate();
                    _this.addUpAssoCell(graph, cell, resetView);
                    upSearch.removeListener(upSearchHandler);
                    upSearch.tooltip = _this.localePipe.transform("folder");
                    upSearch.image = _this.upFolderImage;
                    upSearch.state = CellOverlayState.Fold;
                    upSearch.addListener(mxEventType.CLICK, upFolderHandler);
                    graph.removeCellOverlay(cell, upSearch);
                    graph.addCellOverlay(cell, upSearch);
                    graph.getModel().endUpdate();
                });
                /** @type {?} */
                var upFolderHandler = ( /**
                 * @param {?} sender
                 * @param {?} evt
                 * @return {?}
                 */function (sender, evt) {
                    graph.getModel().beginUpdate();
                    _this.removeAssoCell(graph, cell, BillTrackerDirection.Up);
                    upSearch.removeListener(upFolderHandler);
                    upSearch.tooltip = _this.localePipe.transform("upSearch");
                    upSearch.image = _this.upSearchImage;
                    upSearch.state = CellOverlayState.Search;
                    upSearch.addListener(mxEventType.CLICK, upSearchHandler);
                    graph.removeCellOverlay(cell, upSearch);
                    graph.addCellOverlay(cell, upSearch);
                    graph.model.endUpdate();
                });
                upSearch.addListener(mxEventType.CLICK, upSearchHandler);
                graph.removeCellOverlay(cell, upSearch);
                graph.addCellOverlay(cell, upSearch);
                return upSearch;
            };
        /**
         * @param {?} graph
         * @param {?} cell
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.addDownOverlay = /**
         * @param {?} graph
         * @param {?} cell
         * @return {?}
         */
            function (graph, cell) {
                var _this = this;
                /** @type {?} */
                var downSearch = new CellOverlay(this.downSearchImage, this.localePipe.transform("downSearch"), mxConstantsType.ALIGN_RIGHT, mxConstantsType.ALIGN_MIDDLE, this.downSearchOffset, "hand");
                downSearch.state = CellOverlayState.Search;
                /** @type {?} */
                var downSearchHandler = ( /**
                 * @param {?} sender
                 * @param {?} evt
                 * @return {?}
                 */function (sender, evt) {
                    /** @type {?} */
                    var resetView = evt.getProperty("resetView");
                    graph.getModel().beginUpdate();
                    _this.addDownAssoCell(graph, cell, resetView);
                    downSearch.image = _this.downFolderImage;
                    downSearch.tooltip = _this.localePipe.transform("folder");
                    downSearch.state = CellOverlayState.Fold;
                    downSearch.removeListener(downSearchHandler);
                    downSearch.addListener(mxEventType.CLICK, downFolderHandler);
                    graph.removeCellOverlay(cell, downSearch);
                    graph.addCellOverlay(cell, downSearch);
                    // graph.refresh(cell);
                    graph.getModel().endUpdate();
                });
                /** @type {?} */
                var downFolderHandler = ( /**
                 * @param {?} sender
                 * @param {?} evt
                 * @return {?}
                 */function (sender, evt) {
                    graph.getModel().beginUpdate();
                    _this.removeAssoCell(graph, cell, BillTrackerDirection.Down);
                    downSearch.image = _this.downSearchImage;
                    downSearch.tooltip = _this.localePipe.transform("downSearch");
                    downSearch.state = CellOverlayState.Search;
                    downSearch.removeListener(downFolderHandler);
                    downSearch.addListener(mxEventType.CLICK, downSearchHandler);
                    graph.removeCellOverlay(cell, downSearch);
                    graph.addCellOverlay(cell, downSearch);
                    // graph.refresh(cell);
                    graph.getModel().endUpdate();
                });
                downSearch.addListener(mxEventType.CLICK, downSearchHandler);
                graph.removeCellOverlay(cell, downSearch);
                graph.addCellOverlay(cell, downSearch);
                return downSearch;
            };
        /**
         * @param {?} graph
         * @param {?} cell
         * @param {?=} resetView
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.addUpAssoCell = /**
         * @param {?} graph
         * @param {?} cell
         * @param {?=} resetView
         * @return {?}
         */
            function (graph, cell, resetView) {
                var _this = this;
                if (resetView === void 0) {
                    resetView = false;
                }
                graph.getModel().beginUpdate();
                /** @type {?} */
                var args = this.dataService.buildGetUpBillsInfoArgs(cell);
                this.loading.show({ message: this.localePipe.transform("loading") });
                this.numCellsAddingReq++;
                this.dataService.getUpBillsInfo(args).subscribe(( /**
                 * @param {?} infos
                 * @return {?}
                 */function (infos) {
                    var e_1, _a, e_2, _b, e_3, _c, e_4, _d;
                    /** @type {?} */
                    var parent = graph.getDefaultParent();
                    /** @type {?} */
                    var newCells = [];
                    // graph.getModel().beginUpdate();
                    try {
                        try {
                            for (var infos_1 = __values(infos), infos_1_1 = infos_1.next(); !infos_1_1.done; infos_1_1 = infos_1.next()) {
                                var info = infos_1_1.value;
                                try {
                                    for (var _e = __values(info.billDataInfos), _f = _e.next(); !_f.done; _f = _e.next()) {
                                        var dataInfo = _f.value;
                                        /** @type {?} */
                                        var billCell = null;
                                        /** @type {?} */
                                        var bts = new commonApi.BillTrackingSettings();
                                        if (info && info.billTrackingSettings) {
                                            bts.LoadFromJson(info.billTrackingSettings);
                                        }
                                        /** @type {?} */
                                        var customStyle = "";
                                        billCell = graph.insertBillCell(_this.upParent, null, dataInfo, info, false, cell.geometry.x - _this.hspace, cell.geometry.y, _this.nodeWidth, _this.nodeHeight, "billNode;" + customStyle);
                                        newCells.push(billCell);
                                    }
                                }
                                catch (e_2_1) {
                                    e_2 = { error: e_2_1 };
                                }
                                finally {
                                    try {
                                        if (_f && !_f.done && (_b = _e.return))
                                            _b.call(_e);
                                    }
                                    finally {
                                        if (e_2)
                                            throw e_2.error;
                                    }
                                }
                            }
                        }
                        catch (e_1_1) {
                            e_1 = { error: e_1_1 };
                        }
                        finally {
                            try {
                                if (infos_1_1 && !infos_1_1.done && (_a = infos_1.return))
                                    _a.call(infos_1);
                            }
                            finally {
                                if (e_1)
                                    throw e_1.error;
                            }
                        }
                        _this.calCellsPosition(graph, cell, newCells, BillTrackerDirection.Up);
                        try {
                            for (var newCells_1 = __values(newCells), newCells_1_1 = newCells_1.next(); !newCells_1_1.done; newCells_1_1 = newCells_1.next()) {
                                var nc = newCells_1_1.value;
                                if (nc.billDataInfo.canContinueTracking) {
                                    /** @type {?} */
                                    var ol = _this.addUpOverlay(graph, nc);
                                    nc.upCellOverlay = ol;
                                }
                                graph.insertEdge(parent, null, '', nc, cell, "billAssociation;");
                            }
                        }
                        catch (e_3_1) {
                            e_3 = { error: e_3_1 };
                        }
                        finally {
                            try {
                                if (newCells_1_1 && !newCells_1_1.done && (_c = newCells_1.return))
                                    _c.call(newCells_1);
                            }
                            finally {
                                if (e_3)
                                    throw e_3.error;
                            }
                        }
                        /** @type {?} */
                        var oldGeo = _this.entry.getGeometry().clone();
                        _this.upLayout.execute(_this.upParent, _this.entry);
                        /** @type {?} */
                        var newGeo = _this.entry.getGeometry().clone();
                        /** @type {?} */
                        var dx = oldGeo.x - newGeo.x;
                        /** @type {?} */
                        var dy = oldGeo.y - newGeo.y;
                        _this.restoreEntryPosition(graph, _this.entry, dx, dy);
                        /** @type {?} */
                        var cellData = ( /** @type {?} */(cell.data));
                        cellData.ups.length = 0;
                        try {
                            for (var newCells_2 = __values(newCells), newCells_2_1 = newCells_2.next(); !newCells_2_1.done; newCells_2_1 = newCells_2.next()) {
                                var nc = newCells_2_1.value;
                                /** @type {?} */
                                var cd = new UpCellData();
                                _this.setCellData(cd, nc);
                                nc.data = cd;
                                cd.down = cellData;
                                cellData.ups.push(cd);
                            }
                        }
                        catch (e_4_1) {
                            e_4 = { error: e_4_1 };
                        }
                        finally {
                            try {
                                if (newCells_2_1 && !newCells_2_1.done && (_d = newCells_2.return))
                                    _d.call(newCells_2);
                            }
                            finally {
                                if (e_4)
                                    throw e_4.error;
                            }
                        }
                    }
                    finally {
                        graph.getModel().endUpdate();
                    }
                    // 
                    resetView && graph.fireEvent(new mxEventObjectType(Events.RESET_GRAPH_VIEW));
                    _this.numCellsAddingReq--;
                    // 
                    _this.graph.fireEvent(new mxEventObjectType(Events.BILL_CELLS_ADDED_AND_MOVED, 'cells', newCells, 'parent', _this.upParent));
                    _this.loading.close();
                }), ( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    _this.numCellsAddingReq--;
                    _this.loading.close();
                    _this.messager.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));
                    throw err;
                }));
            };
        /**
         * @param {?} graph
         * @param {?} cell
         * @param {?=} resetView
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.addDownAssoCell = /**
         * @param {?} graph
         * @param {?} cell
         * @param {?=} resetView
         * @return {?}
         */
            function (graph, cell, resetView) {
                var _this = this;
                if (resetView === void 0) {
                    resetView = false;
                }
                graph.getModel().beginUpdate();
                /** @type {?} */
                var args = this.dataService.buildGetDownBillsInfoArgs(cell);
                this.loading.show({ message: this.localePipe.transform("loading") });
                this.numCellsAddingReq++;
                this.dataService.getDownBillsInfo(args).subscribe(( /**
                 * @param {?} infos
                 * @return {?}
                 */function (infos) {
                    var e_5, _a, e_6, _b, e_7, _c, e_8, _d;
                    /** @type {?} */
                    var model = graph.getModel();
                    /** @type {?} */
                    var parent = graph.getDefaultParent();
                    /** @type {?} */
                    var newCells = [];
                    // graph.getModel().beginUpdate();
                    try {
                        try {
                            for (var infos_2 = __values(infos), infos_2_1 = infos_2.next(); !infos_2_1.done; infos_2_1 = infos_2.next()) {
                                var info = infos_2_1.value;
                                try {
                                    for (var _e = __values(info.billDataInfos), _f = _e.next(); !_f.done; _f = _e.next()) {
                                        var dataInfo = _f.value;
                                        /** @type {?} */
                                        var billCell = null;
                                        /** @type {?} */
                                        var bts = new commonApi.BillTrackingSettings();
                                        if (info && info.billTrackingSettings) {
                                            bts.LoadFromJson(info.billTrackingSettings);
                                        }
                                        /** @type {?} */
                                        var customStyle = "";
                                        billCell = graph.insertBillCell(_this.downParent, null, dataInfo, info, false, cell.geometry.x + _this.hspace, cell.geometry.y, _this.nodeWidth, _this.nodeHeight, "billNode;" + customStyle);
                                        newCells.push(billCell);
                                    }
                                }
                                catch (e_6_1) {
                                    e_6 = { error: e_6_1 };
                                }
                                finally {
                                    try {
                                        if (_f && !_f.done && (_b = _e.return))
                                            _b.call(_e);
                                    }
                                    finally {
                                        if (e_6)
                                            throw e_6.error;
                                    }
                                }
                            }
                        }
                        catch (e_5_1) {
                            e_5 = { error: e_5_1 };
                        }
                        finally {
                            try {
                                if (infos_2_1 && !infos_2_1.done && (_a = infos_2.return))
                                    _a.call(infos_2);
                            }
                            finally {
                                if (e_5)
                                    throw e_5.error;
                            }
                        }
                        _this.calCellsPosition(graph, cell, newCells, BillTrackerDirection.Down);
                        try {
                            for (var newCells_3 = __values(newCells), newCells_3_1 = newCells_3.next(); !newCells_3_1.done; newCells_3_1 = newCells_3.next()) {
                                var nc = newCells_3_1.value;
                                if (nc.billDataInfo.canContinueTracking) {
                                    /** @type {?} */
                                    var ol = _this.addDownOverlay(graph, nc);
                                    nc.downCellOverlay = ol;
                                }
                                graph.insertEdge(parent, null, '', cell, nc, "billAssociation;");
                            }
                        }
                        catch (e_7_1) {
                            e_7 = { error: e_7_1 };
                        }
                        finally {
                            try {
                                if (newCells_3_1 && !newCells_3_1.done && (_c = newCells_3.return))
                                    _c.call(newCells_3);
                            }
                            finally {
                                if (e_7)
                                    throw e_7.error;
                            }
                        }
                        /** @type {?} */
                        var oldGeo = _this.entry.getGeometry().clone();
                        _this.downLayout.execute(_this.downParent, _this.entry);
                        /** @type {?} */
                        var newGeo = _this.entry.getGeometry().clone();
                        /** @type {?} */
                        var dx = oldGeo.x - newGeo.x;
                        /** @type {?} */
                        var dy = oldGeo.y - newGeo.y;
                        _this.restoreEntryPosition(graph, _this.entry, dx, dy);
                        /** @type {?} */
                        var cellData = ( /** @type {?} */(cell.data));
                        cellData.downs.length = 0;
                        try {
                            for (var newCells_4 = __values(newCells), newCells_4_1 = newCells_4.next(); !newCells_4_1.done; newCells_4_1 = newCells_4.next()) {
                                var nc = newCells_4_1.value;
                                /** @type {?} */
                                var cd = new DownCellData();
                                _this.setCellData(cd, nc);
                                nc.data = cd;
                                cd.up = cellData;
                                cellData.downs.push(cd);
                            }
                        }
                        catch (e_8_1) {
                            e_8 = { error: e_8_1 };
                        }
                        finally {
                            try {
                                if (newCells_4_1 && !newCells_4_1.done && (_d = newCells_4.return))
                                    _d.call(newCells_4);
                            }
                            finally {
                                if (e_8)
                                    throw e_8.error;
                            }
                        }
                    }
                    finally {
                        graph.getModel().endUpdate();
                    }
                    // 
                    resetView && graph.fireEvent(new mxEventObjectType(Events.RESET_GRAPH_VIEW));
                    _this.numCellsAddingReq--;
                    // 
                    _this.graph.fireEvent(new mxEventObjectType(Events.BILL_CELLS_ADDED_AND_MOVED, 'cells', newCells, 'parent', _this.downParent));
                    _this.loading.close();
                }), ( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    _this.numCellsAddingReq--;
                    _this.loading.close();
                    _this.messager.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));
                    throw err;
                }));
            };
        /**
         * @param {?} graph
         * @param {?} cell
         * @param {?} dir
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.removeAssoCell = /**
         * @param {?} graph
         * @param {?} cell
         * @param {?} dir
         * @return {?}
         */
            function (graph, cell, dir) {
                /** @type {?} */
                var model = graph.getModel();
                /** @type {?} */
                var parent = graph.getDefaultParent();
                graph.getModel().beginUpdate();
                try {
                    /** @type {?} */
                    var assoCells = [];
                    if (dir == BillTrackerDirection.Down) {
                        /** @type {?} */
                        var edges = model.getOutgoingEdges(cell);
                        /** @type {?} */
                        var i = 0;
                        while (edges && edges.length > 0 && i < edges.length) {
                            if (edges[i].target && edges[i].target != this.entry) {
                                assoCells.push(( /** @type {?} */(edges[i].target)));
                                edges.push.apply(edges, __spread(model.getOutgoingEdges(edges[i].target)));
                            }
                            i++;
                        }
                    }
                    else if (dir == BillTrackerDirection.Up) {
                        /** @type {?} */
                        var edges = model.getIncomingEdges(cell);
                        /** @type {?} */
                        var i = 0;
                        while (edges && edges.length > 0 && i < edges.length) {
                            if (edges[i].source && edges[i].source != this.entry) {
                                assoCells.push(( /** @type {?} */(edges[i].source)));
                                edges.push.apply(edges, __spread(model.getIncomingEdges(edges[i].source)));
                            }
                            i++;
                        }
                    }
                    if (dir == BillTrackerDirection.Down) {
                        (( /** @type {?} */(cell.data))).downs.length = 0;
                    }
                    else if (dir == BillTrackerDirection.Up) {
                        (( /** @type {?} */(cell.data))).ups.length = 0;
                    }
                    graph.removeCells(assoCells);
                    /** @type {?} */
                    var oldGeo = this.entry.getGeometry().clone();
                    this.upLayout.execute(this.upParent, this.entry);
                    /** @type {?} */
                    var newGeo = this.entry.getGeometry().clone();
                    /** @type {?} */
                    var dx = oldGeo.x - newGeo.x;
                    /** @type {?} */
                    var dy = oldGeo.y - newGeo.y;
                    this.restoreEntryPosition(graph, this.entry, dx, dy);
                    /** @type {?} */
                    var oldGeo2 = this.entry.getGeometry().clone();
                    this.downLayout.execute(this.downParent, this.entry);
                    /** @type {?} */
                    var newGeo2 = this.entry.getGeometry().clone();
                    /** @type {?} */
                    var dx2 = oldGeo2.x - newGeo2.x;
                    /** @type {?} */
                    var dy2 = oldGeo2.y - newGeo2.y;
                    this.restoreEntryPosition(graph, this.entry, dx2, dy2);
                }
                finally {
                    graph.getModel().endUpdate();
                }
            };
        /**
         * @param {?} graph
         * @param {?} entry
         * @param {?} dx
         * @param {?} dy
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.restoreEntryPosition = /**
         * @param {?} graph
         * @param {?} entry
         * @param {?} dx
         * @param {?} dy
         * @return {?}
         */
            function (graph, entry, dx, dy) {
                graph.getModel().beginUpdate();
                try {
                    /** @type {?} */
                    var vertices = null;
                    vertices = __spread([entry], graph.getChildCells(this.upParent, true, false), graph.getChildCells(this.downParent, true, false));
                    graph.moveCells(vertices, dx, dy);
                }
                finally {
                    graph.getModel().endUpdate();
                }
            };
        /**
         * @param {?} graph
         * @param {?} cell
         * @param {?} newCells
         * @param {?} dir
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.calCellsPosition = /**
         * @param {?} graph
         * @param {?} cell
         * @param {?} newCells
         * @param {?} dir
         * @return {?}
         */
            function (graph, cell, newCells, dir) {
                if (dir == BillTrackerDirection.Down) {
                    this.resetDownCellsPosition(graph, cell, newCells);
                }
                else if (dir == BillTrackerDirection.Up) {
                    this.resetUpCellsPosition(graph, cell, newCells);
                }
            };
        /**
         * @param {?} graph
         * @param {?} cell
         * @param {?} newCells
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.resetDownCellsPosition = /**
         * @param {?} graph
         * @param {?} cell
         * @param {?} newCells
         * @return {?}
         */
            function (graph, cell, newCells) {
                graph.getModel().beginUpdate();
                try {
                    /** @type {?} */
                    var targets = graph.getOutgoingEdges(cell).map(( /**
                     * @param {?} edge
                     * @return {?}
                     */function (edge) { return edge.target; }));
                    /** @type {?} */
                    var deals = targets;
                    //
                    /** @type {?} */
                    var temp = deals.sort(( /**
                     * @param {?} c1
                     * @param {?} c2
                     * @return {?}
                     */function (c1, c2) { return c1.geometry && c2.geometry ? c2.geometry.y - c1.geometry.y : Number.MIN_VALUE; }));
                    //
                    /** @type {?} */
                    var minY = temp.length > 0 ? temp[temp.length - 1].geometry.y : cell.geometry.y;
                    //
                    /** @type {?} */
                    var maxY = temp.length > 0 ? temp[0].geometry.y : cell.geometry.y;
                    //
                    for (var i = 0; i < newCells.length; i++) {
                        maxY = deals.length > 0 ? maxY + this.vspace : maxY;
                        graph.translateCell(newCells[i], 0, maxY - newCells[i].geometry.y);
                        deals.push(newCells[i]);
                    }
                    /** @type {?} */
                    var midY = (maxY + minY) / 2;
                    /** @type {?} */
                    var diffY_1 = cell.geometry.y - midY;
                    //
                    deals.forEach(( /**
                     * @param {?} c
                     * @return {?}
                     */function (c) {
                        graph.translateCell(c, 0, diffY_1);
                    }));
                    minY += diffY_1;
                    maxY += diffY_1;
                    midY += diffY_1;
                    // <=midYminY-diffY,>=midYmaxY + diffY
                    for (var key in graph.model.cells) {
                        if (graph.model.cells[key] == graph.model.root || graph.model.cells[key].geometry == null || graph.model.cells[key].edge == true) {
                            continue;
                        }
                        if (graph.model.cells[key] == cell || newCells.indexOf(( /** @type {?} */(graph.model.cells[key]))) != -1) {
                            continue;
                        }
                        if (graph.model.cells[key] == this.entry) {
                            continue;
                        }
                        if (graph.model.cells[key].geometry.x < this.entry.geometry.x) {
                            continue;
                        }
                        /** @type {?} */
                        var c = graph.model.cells[key];
                        /** @type {?} */
                        var geo = c.geometry;
                        graph.translateCell(c, 0, geo.y <= cell.geometry.y ? minY - (cell.geometry.y - geo.y) - geo.y : maxY + (geo.y - cell.geometry.y) - geo.y);
                    }
                }
                finally {
                    graph.getModel().endUpdate();
                }
            };
        /**
         * @param {?} graph
         * @param {?} cell
         * @param {?} newCells
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.resetUpCellsPosition = /**
         * @param {?} graph
         * @param {?} cell
         * @param {?} newCells
         * @return {?}
         */
            function (graph, cell, newCells) {
                graph.getModel().beginUpdate();
                try {
                    /** @type {?} */
                    var sources = graph.getIncomingEdges(cell).map(( /**
                     * @param {?} edge
                     * @return {?}
                     */function (edge) { return edge.source; }));
                    /** @type {?} */
                    var deals = sources;
                    //
                    /** @type {?} */
                    var temp = deals.sort(( /**
                     * @param {?} c1
                     * @param {?} c2
                     * @return {?}
                     */function (c1, c2) { return c1.geometry && c2.geometry ? c2.geometry.y - c1.geometry.y : Number.MIN_VALUE; }));
                    //
                    /** @type {?} */
                    var minY = temp.length > 0 ? temp[temp.length - 1].geometry.y : cell.geometry.y;
                    //
                    /** @type {?} */
                    var maxY = temp.length > 0 ? temp[0].geometry.y : cell.geometry.y;
                    //
                    for (var i = 0; i < newCells.length; i++) {
                        maxY = deals.length > 0 ? maxY + this.vspace : maxY;
                        graph.translateCell(newCells[i], 0, maxY - newCells[i].geometry.y);
                        deals.push(newCells[i]);
                    }
                    /** @type {?} */
                    var midY = (maxY + minY) / 2;
                    /** @type {?} */
                    var diffY_2 = cell.geometry.y - midY;
                    //
                    deals.forEach(( /**
                     * @param {?} c
                     * @return {?}
                     */function (c) {
                        graph.translateCell(c, 0, diffY_2);
                    }));
                    minY += diffY_2;
                    maxY += diffY_2;
                    midY += diffY_2;
                    // <=midYminY-diffY,>=midYmaxY + diffY
                    for (var key in graph.model.cells) {
                        if (graph.model.cells[key] == graph.model.root || graph.model.cells[key].geometry == null || graph.model.cells[key].edge == true) {
                            continue;
                        }
                        if (graph.model.cells[key] == cell || newCells.indexOf(( /** @type {?} */(graph.model.cells[key]))) != -1) {
                            continue;
                        }
                        if (graph.model.cells[key] == this.entry) {
                            continue;
                        }
                        if (graph.model.cells[key].geometry.x > this.entry.geometry.x) {
                            continue;
                        }
                        /** @type {?} */
                        var c = graph.model.cells[key];
                        /** @type {?} */
                        var geo = c.geometry;
                        graph.translateCell(c, 0, geo.y <= cell.geometry.y ? minY - (cell.geometry.y - geo.y) - geo.y : maxY + (geo.y - cell.geometry.y) - geo.y);
                    }
                }
                finally {
                    graph.getModel().endUpdate();
                }
            };
        /**
         * @param {?} cellData
         * @param {?} cell
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.setCellData = /**
         * @param {?} cellData
         * @param {?} cell
         * @return {?}
         */
            function (cellData, cell) {
                cellData.billInfo = cell.billInfo;
                cellData.billDataInfo = cell.billDataInfo;
                cellData.visible = true;
                cellData.diagramInfo.x = cell.geometry.x;
                cellData.diagramInfo.y = cell.geometry.y;
                cellData.diagramInfo.width = cell.geometry.width;
                cellData.diagramInfo.height = cell.geometry.height;
                cellData.diagramInfo.extProps = {
                    style: cell.style
                };
            };
        /**
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.zoomOut = /**
         * @return {?}
         */
            function () {
                this.graph.zoomOut();
            };
        /**
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.zoomIn = /**
         * @return {?}
         */
            function () {
                this.graph.zoomIn();
            };
        /**
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.zoomActual = /**
         * @return {?}
         */
            function () {
                this.graph.zoomActual();
            };
        /**
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.getZoomScale = /**
         * @return {?}
         */
            function () {
                return Math.round(this.graph.view.scale * 100);
            };
        /**
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.print = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var preview = new mxPrintPreviewType(this.graph, 1);
                preview.printOverlays = true;
                preview.printControls = true;
                preview.printBackgroundImage = true;
                preview.open(billTrackerCellCss);
            };
        /**
         * @param {?} direction
         * @param {?=} all
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.expand = /**
         * @param {?} direction
         * @param {?=} all
         * @return {?}
         */
            function (direction, all) {
                if (all === void 0) {
                    all = false;
                }
                if (all) {
                    this.expandAll(direction);
                    return;
                }
                if (direction == BillTrackerDirection.Up) {
                    /** @type {?} */
                    var cells = [this.entry];
                    this.upParent.children && cells.push.apply(cells, __spread(this.upParent.children));
                    cells.forEach(( /**
                     * @param {?} cell
                     * @return {?}
                     */function (cell) {
                        if (cell.upCellOverlay && cell.upCellOverlay.state == CellOverlayState.Search) {
                            cell.upCellOverlay.fireEvent(new mxEventObjectType(mxEventType.CLICK));
                        }
                    }));
                }
                else if (direction == BillTrackerDirection.Down) {
                    /** @type {?} */
                    var cells = [this.entry];
                    this.downParent.children && cells.push.apply(cells, __spread(this.downParent.children));
                    cells.forEach(( /**
                     * @param {?} cell
                     * @return {?}
                     */function (cell) {
                        if (cell.downCellOverlay && cell.downCellOverlay.state == CellOverlayState.Search) {
                            cell.downCellOverlay.fireEvent(new mxEventObjectType(mxEventType.CLICK));
                        }
                    }));
                }
            };
        /**
         * @param {?} direction
         * @return {?}
         */
        BillTrackerGraphComponent.prototype.expandAll = /**
         * @param {?} direction
         * @return {?}
         */
            function (direction) {
                var _this = this;
                if (direction != BillTrackerDirection.Up && direction != BillTrackerDirection.Down) {
                    return;
                }
                // 
                /** @type {?} */
                var afterBillCellsAddedAndMoved = null;
                if (direction == BillTrackerDirection.Up) {
                    afterBillCellsAddedAndMoved = ( /**
                     * @return {?}
                     */function () {
                        /** @type {?} */
                        var cells = [_this.entry];
                        _this.upParent.children && cells.push.apply(cells, __spread(_this.upParent.children));
                        /** @type {?} */
                        var canTrackUpCells = cells.filter(( /**
                         * @param {?} cell
                         * @return {?}
                         */function (cell) {
                            return cell.upCellOverlay && cell.upCellOverlay.state == CellOverlayState.Search;
                        }));
                        // 
                        if (canTrackUpCells == null || canTrackUpCells.length == 0) {
                            if (_this.numCellsAddingReq === 0) {
                                // console.log("");
                                _this.graph.removeListener(afterBillCellsAddedAndMoved);
                                // console.timeEnd("ExpandAll");
                            }
                        }
                        else {
                            canTrackUpCells.forEach(( /**
                             * @param {?} cell
                             * @return {?}
                             */function (cell) {
                                if (cell.upCellOverlay && cell.upCellOverlay.state == CellOverlayState.Search) {
                                    cell.upCellOverlay.fireEvent(new mxEventObjectType(mxEventType.CLICK));
                                }
                            }));
                        }
                    });
                }
                else if (direction == BillTrackerDirection.Down) {
                    afterBillCellsAddedAndMoved = ( /**
                     * @return {?}
                     */function () {
                        /** @type {?} */
                        var cells = [_this.entry];
                        _this.downParent.children && cells.push.apply(cells, __spread(_this.downParent.children));
                        /** @type {?} */
                        var canTrackDownCells = cells.filter(( /**
                         * @param {?} cell
                         * @return {?}
                         */function (cell) {
                            return cell.downCellOverlay && cell.downCellOverlay.state == CellOverlayState.Search;
                        }));
                        // 
                        if (canTrackDownCells == null || canTrackDownCells.length == 0) {
                            if (_this.numCellsAddingReq === 0) {
                                // console.log("");
                                _this.graph.removeListener(afterBillCellsAddedAndMoved);
                                // console.timeEnd("ExpandAll");
                            }
                        }
                        else {
                            canTrackDownCells.forEach(( /**
                             * @param {?} cell
                             * @return {?}
                             */function (cell) {
                                if (cell.downCellOverlay && cell.downCellOverlay.state == CellOverlayState.Search) {
                                    cell.downCellOverlay.fireEvent(new mxEventObjectType(mxEventType.CLICK));
                                }
                            }));
                        }
                    });
                }
                // console.time("ExpandAll");
                // 
                // console.log("");
                this.graph.addListener("billCellsAddedAndMoved", afterBillCellsAddedAndMoved);
                // 
                afterBillCellsAddedAndMoved();
            };
        BillTrackerGraphComponent.decorators = [
            { type: core$1.Component, args: [{
                        selector: 'lib-bill-tracker-graph',
                        template: "<div #mxContainer id=\"mx-container\" class=\"mx-container-ng\">\r\n\r\n</div>\r\n\r\n<div #mxOutlineContainer id=\"mx-outline-container\" class=\"mx-outline-container\" [style.top]=\"modalRef?'50px':null\">\r\n\r\n</div>",
                        styles: [".mx-container-ng{position:absolute;top:0;left:0;bottom:0;right:0;cursor:default;overflow:auto;padding-right:16px;padding-bottom:16px;margin:4px}.mx-outline-container{z-index:1;position:absolute;overflow:hidden;top:20px;right:20px;width:160px;height:120px;background:#fff;border:1px solid #d3d3d3}"]
                    }] }
        ];
        /** @nocollapse */
        BillTrackerGraphComponent.ctorParameters = function () {
            return [
                { type: BillTrackerArgs },
                { type: String, decorators: [{ type: core$1.Inject, args: [core$1.LOCALE_ID,] }] },
                { type: BillTrackerDataService },
                { type: uiNotify.NotifyService },
                { type: uiMessager.MessagerService },
                { type: uiLoading.LoadingService },
                { type: uiModal.BsModalService },
                { type: core$1.ViewContainerRef },
                { type: core$1.Injector },
                { type: core$1.ComponentFactoryResolver },
                { type: core$1.ChangeDetectorRef }
            ];
        };
        BillTrackerGraphComponent.propDecorators = {
            mxContainerER: [{ type: core$1.ViewChild, args: ["mxContainer",] }],
            mxOutlineContainer: [{ type: core$1.ViewChild, args: ["mxOutlineContainer",] }],
            selectEventEmitter: [{ type: core$1.Output, args: ["select",] }],
            stateChangeEventEmitter: [{ type: core$1.Output, args: ["stateChange",] }],
            billTrackerArgs: [{ type: core$1.Input, args: ["billTrackerArgs",] }]
        };
        return BillTrackerGraphComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/components/basic-table/BillFrontField.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillFrontField = /** @class */ (function () {
        function BillFrontField() {
        }
        return BillFrontField;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/components/basic-table/BillFrontDataRow.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillFrontDataRow = /** @class */ (function () {
        function BillFrontDataRow() {
        }
        return BillFrontDataRow;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/components/basic-table/basic-table.component.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BasicTableComponent = /** @class */ (function () {
        function BasicTableComponent(viewContainerRef, inj, cfr, cdr) {
            this.viewContainerRef = viewContainerRef;
            this.inj = inj;
            this.cfr = cfr;
            this.cdr = cdr;
        }
        /**
         * @return {?}
         */
        BasicTableComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
            };
        /**
         * @param {?} item
         * @param {?} evt
         * @return {?}
         */
        BasicTableComponent.prototype.clickHandler = /**
         * @param {?} item
         * @param {?} evt
         * @return {?}
         */
            function (item, evt) {
                item['expanded'] = !item['expanded'];
            };
        /**
         * @param {?} res
         * @return {?}
         */
        BasicTableComponent.prototype.showMainTable = /**
         * @param {?} res
         * @return {?}
         */
            function (res) {
                this.showTable(res.billSchema.mainTable, res.billData.mainTable);
            };
        /**
         * @param {?} schemaTable
         * @param {?} dataTable
         * @return {?}
         */
        BasicTableComponent.prototype.showTable = /**
         * @param {?} schemaTable
         * @param {?} dataTable
         * @return {?}
         */
            function (schemaTable, dataTable) {
                this.billSchemaTable = schemaTable;
                this.billDataTable = dataTable;
                this.loadData(schemaTable.getFieldList(), dataTable.GetRowList());
                this.cdr.detectChanges();
            };
        /**
         * @param {?} billSchemaFields
         * @param {?} billDataRows
         * @return {?}
         */
        BasicTableComponent.prototype.loadData = /**
         * @param {?} billSchemaFields
         * @param {?} billDataRows
         * @return {?}
         */
            function (billSchemaFields, billDataRows) {
                this.fields = billSchemaFields;
                this.rows = billDataRows;
                /** @type {?} */
                var bts = new commonApi.BillTrackingSettings();
                if (this.billInfo && this.billInfo.billTrackingSettings) {
                    bts.LoadFromJson(this.billInfo.billTrackingSettings);
                }
                if (bts.billTrackingDataShownMode == commonApi.BillTrackingDataShownMode.CUSTOMFIELD) {
                    this.ffields = this.extractFFieldsWithCustomFields(billSchemaFields, bts.customFieldContent);
                    this.frows = this.extractFRows(billDataRows, this.ffields);
                }
                else {
                    this.ffields = this.extractFFields(billSchemaFields);
                    this.frows = this.extractFRows(billDataRows, this.ffields);
                }
            };
        /**
         * 
         * @param fields
         */
        /**
         * 
         * @private
         * @param {?} fields
         * @return {?}
         */
        BasicTableComponent.prototype.extractFFields = /**
         * 
         * @private
         * @param {?} fields
         * @return {?}
         */
            function (fields) {
                var e_1, _a;
                /** @type {?} */
                var ffields = [];
                try {
                    for (var fields_1 = __values(fields), fields_1_1 = fields_1.next(); !fields_1_1.done; fields_1_1 = fields_1.next()) {
                        var field = fields_1_1.value;
                        //UDTName
                        if (field.fieldType == "Enum" || field.fieldType == "EnumSingleUdt") {
                            /** @type {?} */
                            var ff = new BillFrontField();
                            ff.fieldName = field.fieldName;
                            ff.dataType = field.dataType;
                            ff.caption = field.caption;
                            ff.fieldType = field.fieldType;
                            ff.length = field.length;
                            ff.precision = field.precision;
                            ff.scale = field.scale;
                            ff.captionPath = this.extractCaptionPath(field);
                            ff.fieldPath = this.extractFieldPath(field) + ".Name";
                            ffields.push(ff);
                        }
                        else if (field.GetSubFieldList() != null && field.GetSubFieldList().length > 0) {
                            ffields.push.apply(ffields, __spread(this.extractFSubFields(field.GetSubFieldList())));
                        }
                        else {
                            /** @type {?} */
                            var ff = new BillFrontField();
                            ff.fieldName = field.fieldName;
                            ff.dataType = field.dataType;
                            ff.caption = field.caption;
                            ff.fieldType = field.fieldType;
                            ff.length = field.length;
                            ff.precision = field.precision;
                            ff.scale = field.scale;
                            ff.captionPath = this.extractCaptionPath(field);
                            ff.fieldPath = this.extractFieldPath(field);
                            ffields.push(ff);
                        }
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (fields_1_1 && !fields_1_1.done && (_a = fields_1.return))
                            _a.call(fields_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return ffields;
            };
        /**
         * @private
         * @param {?} fields
         * @param {?=} parentField
         * @return {?}
         */
        BasicTableComponent.prototype.extractFSubFields = /**
         * @private
         * @param {?} fields
         * @param {?=} parentField
         * @return {?}
         */
            function (fields, parentField) {
                var e_2, _a;
                /** @type {?} */
                var ffields = [];
                try {
                    for (var fields_2 = __values(fields), fields_2_1 = fields_2.next(); !fields_2_1.done; fields_2_1 = fields_2.next()) {
                        var field = fields_2_1.value;
                        //UDTName
                        if (field.fieldType == "Enum" || field.fieldType == "EnumSingleUdt") {
                            /** @type {?} */
                            var ff = new BillFrontField();
                            ff.fieldName = field.fieldName;
                            ff.dataType = field.dataType;
                            ff.caption = field.caption;
                            ff.fieldType = field.fieldType;
                            ff.length = field.length;
                            ff.precision = field.precision;
                            ff.scale = field.scale;
                            ff.captionPath = this.extractCaptionPath(field);
                            ff.fieldPath = this.extractFieldPath(field) + ".Name";
                            ffields.push(ff);
                        }
                        else if (field.GetSubFieldList() != null && field.GetSubFieldList().length > 0) {
                            ffields.push.apply(ffields, __spread(this.extractFSubFields(field.GetSubFieldList())));
                        }
                        else {
                            /** @type {?} */
                            var ff = new BillFrontField();
                            ff.fieldName = field.fieldName;
                            ff.dataType = field.dataType;
                            ff.caption = field.caption;
                            ff.fieldType = field.fieldType;
                            ff.length = field.length;
                            ff.precision = field.precision;
                            ff.scale = field.scale;
                            ff.captionPath = this.extractCaptionPath(field);
                            ff.fieldPath = this.extractFieldPath(field);
                            ffields.push(ff);
                        }
                    }
                }
                catch (e_2_1) {
                    e_2 = { error: e_2_1 };
                }
                finally {
                    try {
                        if (fields_2_1 && !fields_2_1.done && (_a = fields_2.return))
                            _a.call(fields_2);
                    }
                    finally {
                        if (e_2)
                            throw e_2.error;
                    }
                }
                return ffields;
            };
        /**
         * 
         */
        /**
         * 
         * @private
         * @param {?} fields
         * @param {?} fieldContent
         * @return {?}
         */
        BasicTableComponent.prototype.extractFFieldsWithCustomFields = /**
         * 
         * @private
         * @param {?} fields
         * @param {?} fieldContent
         * @return {?}
         */
            function (fields, fieldContent) {
                var e_3, _a;
                // code
                /** @type {?} */
                var tableCode = this.billSchemaTable.tableName;
                // 
                /** @type {?} */
                var bts = new commonApi.BillTrackingSettings();
                if (this.billInfo && this.billInfo.billTrackingSettings) {
                    bts.LoadFromJson(this.billInfo.billTrackingSettings);
                }
                /** @type {?} */
                var fieldConfig = typeof fieldContent == "object" ? fieldContent : JSON.parse(fieldContent);
                /** @type {?} */
                var ffields = [];
                var _loop_1 = function (field) {
                    // ID
                    /** @type {?} */
                    var fieldPath = this_1.extractFieldPath(field);
                    /** @type {?} */
                    var sf = null;
                    for (var k in fieldConfig.schema) {
                        if (k == 'selectedAll') {
                            continue;
                        }
                        if (k == tableCode) {
                            /** @type {?} */
                            var s = fieldConfig.schema[k];
                            sf = s && s.fields.find(( /**
                             * @param {?} elt
                             * @return {?}
                             */function (elt) { return elt.fieldPath == fieldPath; }));
                            break;
                        }
                    }
                    if (sf == null) {
                        return "continue";
                    }
                    //UDTName
                    if (field.fieldType == "Enum" || field.fieldType == "EnumSingleUdt") {
                        /** @type {?} */
                        var ff = new BillFrontField();
                        ff.fieldName = field.fieldName;
                        ff.dataType = field.dataType;
                        ff.caption = field.caption;
                        ff.fieldType = field.fieldType;
                        ff.length = field.length;
                        ff.precision = field.precision;
                        ff.scale = field.scale;
                        ff.captionPath = sf.displayName || field.caption;
                        ff.fieldPath = this_1.extractFieldPath(field) + ".Name";
                        ffields.push(ff);
                    }
                    else if (field.GetSubFieldList() != null && field.GetSubFieldList().length > 0) {
                        ffields.push.apply(ffields, __spread(this_1.extractFSubFieldsWithCustomFields(field.GetSubFieldList(), fieldContent, field)));
                    }
                    else {
                        /** @type {?} */
                        var ff = new BillFrontField();
                        ff.fieldName = field.fieldName;
                        ff.dataType = field.dataType;
                        ff.caption = field.caption;
                        ff.fieldType = field.fieldType;
                        ff.length = field.length;
                        ff.precision = field.precision;
                        ff.scale = field.scale;
                        ff.captionPath = sf.displayName || field.caption;
                        ff.fieldPath = this_1.extractFieldPath(field);
                        ffields.push(ff);
                    }
                };
                var this_1 = this;
                try {
                    for (var fields_3 = __values(fields), fields_3_1 = fields_3.next(); !fields_3_1.done; fields_3_1 = fields_3.next()) {
                        var field = fields_3_1.value;
                        _loop_1(field);
                    }
                }
                catch (e_3_1) {
                    e_3 = { error: e_3_1 };
                }
                finally {
                    try {
                        if (fields_3_1 && !fields_3_1.done && (_a = fields_3.return))
                            _a.call(fields_3);
                    }
                    finally {
                        if (e_3)
                            throw e_3.error;
                    }
                }
                return ffields;
            };
        /**
         * @private
         * @param {?} fields
         * @param {?} fieldContent
         * @param {?=} parentField
         * @return {?}
         */
        BasicTableComponent.prototype.extractFSubFieldsWithCustomFields = /**
         * @private
         * @param {?} fields
         * @param {?} fieldContent
         * @param {?=} parentField
         * @return {?}
         */
            function (fields, fieldContent, parentField) {
                var e_4, _a;
                // 
                /** @type {?} */
                var tableCode = this.billSchemaTable.tableName;
                // 
                /** @type {?} */
                var bts = new commonApi.BillTrackingSettings();
                if (this.billInfo && this.billInfo.billTrackingSettings) {
                    bts.LoadFromJson(this.billInfo.billTrackingSettings);
                }
                /** @type {?} */
                var fieldConfig = typeof fieldContent == "object" ? fieldContent : JSON.parse(fieldContent);
                /** @type {?} */
                var ffields = [];
                var _loop_2 = function (field) {
                    // ID
                    /** @type {?} */
                    var fieldPath = this_2.extractFieldPath(field);
                    /** @type {?} */
                    var sf = null;
                    for (var k in fieldConfig.schema) {
                        if (k == 'selectedAll') {
                            continue;
                        }
                        if (k == tableCode) {
                            /** @type {?} */
                            var s = fieldConfig.schema[k];
                            sf = s && s.fields.find(( /**
                             * @param {?} elt
                             * @return {?}
                             */function (elt) { return elt.fieldPath == fieldPath; }));
                            break;
                        }
                    }
                    if (sf == null) {
                        return "continue";
                    }
                    //UDTName
                    if (field.fieldType == "Enum" || field.fieldType == "EnumSingleUdt") {
                        /** @type {?} */
                        var ff = new BillFrontField();
                        ff.fieldName = field.fieldName;
                        ff.dataType = field.dataType;
                        ff.caption = field.caption;
                        ff.fieldType = field.fieldType;
                        ff.length = field.length;
                        ff.precision = field.precision;
                        ff.scale = field.scale;
                        ff.captionPath = sf.displayName || field.caption;
                        ff.fieldPath = this_2.extractFieldPath(field) + ".Name";
                        ffields.push(ff);
                    }
                    else if (field.GetSubFieldList() != null && field.GetSubFieldList().length > 0) {
                        ffields.push.apply(ffields, __spread(this_2.extractFSubFieldsWithCustomFields(field.GetSubFieldList(), fieldContent, field)));
                    }
                    else {
                        /** @type {?} */
                        var ff = new BillFrontField();
                        ff.fieldName = field.fieldName;
                        ff.dataType = field.dataType;
                        ff.caption = field.caption;
                        ff.fieldType = field.fieldType;
                        ff.length = field.length;
                        ff.precision = field.precision;
                        ff.scale = field.scale;
                        ff.captionPath = sf.displayName || field.caption;
                        ff.fieldPath = this_2.extractFieldPath(field);
                        ffields.push(ff);
                    }
                };
                var this_2 = this;
                try {
                    for (var fields_4 = __values(fields), fields_4_1 = fields_4.next(); !fields_4_1.done; fields_4_1 = fields_4.next()) {
                        var field = fields_4_1.value;
                        _loop_2(field);
                    }
                }
                catch (e_4_1) {
                    e_4 = { error: e_4_1 };
                }
                finally {
                    try {
                        if (fields_4_1 && !fields_4_1.done && (_a = fields_4.return))
                            _a.call(fields_4);
                    }
                    finally {
                        if (e_4)
                            throw e_4.error;
                    }
                }
                return ffields;
            };
        /**
         * @private
         * @param {?} field
         * @return {?}
         */
        BasicTableComponent.prototype.extractCaptionPath = /**
         * @private
         * @param {?} field
         * @return {?}
         */
            function (field) {
                /** @type {?} */
                var s = field.caption;
                /** @type {?} */
                var tmp = ( /** @type {?} */(field));
                while (tmp.attachedField != null) {
                    s = tmp.attachedField.caption + "." + s;
                    tmp = ( /** @type {?} */(tmp.attachedField));
                }
                return s;
            };
        /**
         * @private
         * @param {?} field
         * @return {?}
         */
        BasicTableComponent.prototype.extractFieldPath = /**
         * @private
         * @param {?} field
         * @return {?}
         */
            function (field) {
                /** @type {?} */
                var s = field.fieldName;
                /** @type {?} */
                var tmp = ( /** @type {?} */(field));
                while (tmp.attachedField != null) {
                    s = tmp.attachedField.fieldName + "." + s;
                    tmp = ( /** @type {?} */(tmp.attachedField));
                }
                return s;
            };
        /**
         * @private
         * @param {?} rows
         * @param {?} ffields
         * @return {?}
         */
        BasicTableComponent.prototype.extractFRows = /**
         * @private
         * @param {?} rows
         * @param {?} ffields
         * @return {?}
         */
            function (rows, ffields) {
                var e_5, _a, e_6, _b;
                /** @type {?} */
                var frows = [];
                try {
                    for (var rows_1 = __values(rows), rows_1_1 = rows_1.next(); !rows_1_1.done; rows_1_1 = rows_1.next()) {
                        var row = rows_1_1.value;
                        /** @type {?} */
                        var fr = new BillFrontDataRow();
                        fr.expanded = row.GetChildTableList().length == 0 ? null : row.attachedTable && row.attachedTable.attachedRow == null ? true : false;
                        fr.hasChildren = this.hasChildren(row);
                        fr.data = {};
                        try {
                            for (var ffields_1 = __values(ffields), ffields_1_1 = ffields_1.next(); !ffields_1_1.done; ffields_1_1 = ffields_1.next()) {
                                var ff = ffields_1_1.value;
                                fr.data[ff.fieldPath] = this.extractFieldPathValue(row.GetFieldMap(), ff.fieldPath);
                            }
                        }
                        catch (e_6_1) {
                            e_6 = { error: e_6_1 };
                        }
                        finally {
                            try {
                                if (ffields_1_1 && !ffields_1_1.done && (_b = ffields_1.return))
                                    _b.call(ffields_1);
                            }
                            finally {
                                if (e_6)
                                    throw e_6.error;
                            }
                        }
                        frows.push(fr);
                    }
                }
                catch (e_5_1) {
                    e_5 = { error: e_5_1 };
                }
                finally {
                    try {
                        if (rows_1_1 && !rows_1_1.done && (_a = rows_1.return))
                            _a.call(rows_1);
                    }
                    finally {
                        if (e_5)
                            throw e_5.error;
                    }
                }
                return frows;
            };
        /**
         * @param {?} row
         * @return {?}
         */
        BasicTableComponent.prototype.hasChildren = /**
         * @param {?} row
         * @return {?}
         */
            function (row) {
                var e_7, _a;
                /** @type {?} */
                var flag = row.GetChildTableList() && row.GetChildTableList().length > 0;
                if (flag) {
                    /** @type {?} */
                    var cf = false;
                    try {
                        for (var _b = __values(row.GetChildTableList()), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var ct = _c.value;
                            if (ct.GetRowList() && ct.GetRowList().length > 0) {
                                cf = true;
                                break;
                            }
                        }
                    }
                    catch (e_7_1) {
                        e_7 = { error: e_7_1 };
                    }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return))
                                _a.call(_b);
                        }
                        finally {
                            if (e_7)
                                throw e_7.error;
                        }
                    }
                    flag = cf;
                }
                return flag;
            };
        /**
         * @param {?} billDataFieldMap
         * @param {?} fieldPath
         * @return {?}
         */
        BasicTableComponent.prototype.extractFieldPathValue = /**
         * @param {?} billDataFieldMap
         * @param {?} fieldPath
         * @return {?}
         */
            function (billDataFieldMap, fieldPath) {
                /** @type {?} */
                var fields = fieldPath.split(".");
                /** @type {?} */
                var bdf = billDataFieldMap[fields[0]];
                for (var i = 1; bdf != null && i < fields.length; i++) {
                    /** @type {?} */
                    var temp = bdf.GetSubFieldMap();
                    if (temp == null) {
                        break;
                    }
                    bdf = temp[fields[i]];
                }
                return bdf ? bdf.GetTextValue() : "";
            };
        /**
         * @param {?} obj
         * @param {?} ffield
         * @return {?}
         */
        BasicTableComponent.prototype.getShownText = /**
         * @param {?} obj
         * @param {?} ffield
         * @return {?}
         */
            function (obj, ffield) {
                if (obj[ffield.fieldPath] == null) {
                    return "";
                }
                if (ffield.dataType == commonApi$1.DataType.String) {
                    return obj[ffield.fieldPath] || "";
                }
                else if (ffield.dataType == commonApi$1.DataType.Decimal) {
                    /** @type {?} */
                    var dec = parseFloat(String(obj[ffield.fieldPath])).toFixed(ffield.scale).toString();
                    return dec || "";
                }
                else if (ffield.dataType == commonApi$1.DataType.DateTime) {
                    /** @type {?} */
                    var date = commonApi$1.BpmnModelJsonHelper.DateTimeFromString(obj[ffield.fieldPath]);
                    if (ffield.fieldType == "DateTime") {
                        return this.dateFormat(date, "yyyy-MM-dd HH:mm:ss.SSS");
                    }
                    else if (ffield.fieldType == "Date") {
                        return this.dateFormat(date, "yyyy-MM-dd");
                    }
                    else {
                        return this.dateFormat(date, "yyyy-MM-dd");
                    }
                }
                else {
                    return obj[ffield.fieldPath] || "";
                }
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        BasicTableComponent.prototype.isObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                return typeof (obj) == "object";
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        BasicTableComponent.prototype.isArray = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                return Array.isArray(obj);
            };
        /**
         * @private
         * @param {?} date
         * @param {?} fmt
         * @return {?}
         */
        BasicTableComponent.prototype.dateFormat = /**
         * @private
         * @param {?} date
         * @param {?} fmt
         * @return {?}
         */
            function (date, fmt) {
                /** @type {?} */
                var ret;
                /** @type {?} */
                var opt = {
                    "y+": date.getUTCFullYear().toString(),
                    // 
                    "M+": (date.getUTCMonth() + 1).toString(),
                    // 
                    "d+": date.getUTCDate().toString(),
                    // 
                    "H+": date.getUTCHours().toString(),
                    // 
                    "m+": date.getUTCMinutes().toString(),
                    // 
                    "s+": date.getUTCSeconds().toString(),
                    // 
                    "S+": date.getUTCMilliseconds().toString(),
                };
                for (var k in opt) {
                    ret = new RegExp("(" + k + ")").exec(fmt);
                    if (ret) {
                        if (!String.prototype.padStart) {
                            fmt = fmt.replace(ret[1], (ret[1].length == 1) ? (opt[k]) : (this.myPadStart(opt[k], ret[1].length, "0")));
                        }
                        else {
                            fmt = fmt.replace(ret[1], (ret[1].length == 1) ? (opt[k]) : (opt[k].padStart(ret[1].length, "0")));
                        }
                    }
                }
                return fmt;
            };
        /**
         * @private
         * @param {?} src
         * @param {?} targetLength
         * @param {?} padString
         * @return {?}
         */
        BasicTableComponent.prototype.myPadStart = /**
         * @private
         * @param {?} src
         * @param {?} targetLength
         * @param {?} padString
         * @return {?}
         */
            function (src, targetLength, padString) {
                targetLength = targetLength >> 0; //floor if number or convert non-number to 0;
                padString = String(typeof padString !== 'undefined' ? padString : ' ');
                if (src.length > targetLength) {
                    return String(src);
                }
                else {
                    targetLength = targetLength - src.length;
                    if (targetLength > padString.length) {
                        padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed
                    }
                    return padString.slice(0, targetLength) + String(src);
                }
            };
        BasicTableComponent.decorators = [
            { type: core$1.Component, args: [{
                        selector: "app-basic-table",
                        template: "<table class=\"table table-striped table-hover text-nowrap\" [ngStyle]=\"{'margin-left': isMain ? null : '24px'}\"\r\n    style=\"min-width: 100%; width: auto;\" *ngIf=\"ffields && ffields.length > 0 && frows && frows.length > 0\">\r\n    <thead class=\"thead-light\">\r\n        <tr>\r\n            <th style=\"width: 40px;\"><span></span></th>\r\n            <th *ngFor=\"let ffield of ffields\">\r\n                <span>{{ffield.captionPath}}</span>\r\n            </th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        <ng-container *ngFor=\"let frow of frows;let rowIdx = index;\">\r\n            <tr #tr>\r\n                <td>\r\n                    <span *ngIf=\"frow.hasChildren\" style=\"cursor:pointer;\" (click)=\"clickHandler(frow, $event)\"\r\n                        [ngClass]=\"{'k-icon': true, 'k-i-plus-outline': !frow.expanded, 'k-i-minus-outline': frow.expanded}\"></span>\r\n                </td>\r\n                <ng-container *ngFor=\"let ffield of ffields\">\r\n                    <td>\r\n                        <span>{{getShownText(frow.data, ffield)}}</span>\r\n                        <span *ngIf=\"ffield.showMore\" class=\"f-icon f-icon-more\"></span>\r\n                    </td>\r\n                </ng-container>\r\n            </tr>\r\n            <tr *ngIf=\"frow.expanded&&frow.hasChildren\">\r\n                <td [attr.colspan]=\"tr.cells.length\">\r\n                    <ng-container appChildRowTable [parentRow]=\"rows[rowIdx]\" [parentSchemaTable]=\"billSchemaTable\"\r\n                        [parentDataTable]=\"billDataTable\" [billInfo]=\"billInfo\" [expanded]=\"frow.expanded\"\r\n                        [colspan]=\"tr.cells.length\">\r\n                    </ng-container>\r\n                </td>\r\n            </tr>\r\n        </ng-container>\r\n    </tbody>\r\n    <tfoot>\r\n    </tfoot>\r\n</table>",
                        changeDetection: core$1.ChangeDetectionStrategy.OnPush,
                        styles: ["./basic-table.component.css"]
                    }] }
        ];
        /** @nocollapse */
        BasicTableComponent.ctorParameters = function () {
            return [
                { type: core$1.ViewContainerRef },
                { type: core$1.Injector },
                { type: core$1.ComponentFactoryResolver },
                { type: core$1.ChangeDetectorRef }
            ];
        };
        BasicTableComponent.propDecorators = {
            childTrTable: [{ type: core$1.ViewChild, args: ["childTrTable",] }],
            childTrTableVCR: [{ type: core$1.ViewChild, args: ["childTrTable", { read: core$1.ViewContainerRef },] }]
        };
        return BasicTableComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/components/basic-info/basic-info.component.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BasicInfoComponent = /** @class */ (function () {
        function BasicInfoComponent(framework, dataInfoService, notify, messager, loading, modal, localePipe, vcr, inj, cfr, cdr, localeId) {
            this.framework = framework;
            this.dataInfoService = dataInfoService;
            this.notify = notify;
            this.messager = messager;
            this.loading = loading;
            this.modal = modal;
            this.localePipe = localePipe;
            this.vcr = vcr;
            this.inj = inj;
            this.cfr = cfr;
            this.cdr = cdr;
            this.localeId = localeId;
            this.fieldsWithValue = [];
            this.childSchemaTables = [];
            this.childDataTableMap = {};
            this.dateType = commonApi$1.DataType;
            this.secTitle = "";
            this.localeId = localeId || this.inj.get(core$1.LOCALE_ID);
            /** @type {?} */
            var inject = core$1.ReflectiveInjector.resolveAndCreate([
                BillTrackerInternalUiService
            ], this.inj);
            this.internalUiService = inject.get(BillTrackerInternalUiService, null);
        }
        /**
         * @return {?}
         */
        BasicInfoComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                // section
                this.secTitle = this.localePipe.transform("basicInfo");
                // 
                this.secTitle = this.dataInfoService.getTableLabel(this.billInfo, this.schemaTable, this.localeId);
                // 
                this.fieldsWithValue = this.dataInfoService.getBasicInfoFieldsWithValue(this.billInfo, this.schemaTable, this.dataTable);
                // order
                this.fieldsWithValue = this.dataInfoService.sortFieldsByOrder(this.fieldsWithValue);
                //
                /** @type {?} */
                var r = this.dataTable.GetRowList()[0];
                // 
                this.childSchemaTables = this.dataInfoService.getChildTables(this.billInfo, this.schemaTable);
                this.childDataTableMap = r.GetChildTableMap();
                if (this.billInfo.jointQueryParameters != null) {
                    /** @type {?} */
                    var jointQueryParameters = JSON.parse(this.billInfo.jointQueryParameters);
                    this.hasLink = (this.billInfo.jointQueryMode == commonApi.JointQueryMode.APP && jointQueryParameters.funcId != null)
                        || (this.billInfo.jointQueryMode == commonApi.JointQueryMode.URL && jointQueryParameters.url != null);
                }
                else {
                    this.hasLink = false;
                }
            };
        /**
         * @return {?}
         */
        BasicInfoComponent.prototype.clickLink = /**
         * @return {?}
         */
            function () {
                this.internalUiService.openBillDetailWithFields(this.billInfo, this.billDataInfo, this.fieldsWithValue);
                event.stopPropagation();
                return false;
            };
        BasicInfoComponent.decorators = [
            { type: core$1.Component, args: [{
                        selector: "lib-bill-tracker-main-table",
                        template: "<farris-section class=\"f-section-form f-section-in-mainsubcard\" [mainTitle]=\"secTitle\">\r\n    <div class=\"f-form-layout farris-form farris-form-controls-inline\">\r\n        <ng-container *ngFor=\"let field of fieldsWithValue; let i = index\">\r\n            <div class=\"col-12 col-md-6 col-xl-3 col-el-2\" *ngIf=\"field.show\">\r\n                <!-- \u4EC5\u663E\u793Ashow\u5C5E\u6027\u4E3Atrue\u7684\u5B57\u6BB5 -->\r\n                <!-- <div class=\"farris-group-wrap\" *ngIf=\"!(hasLink && i==0); else linkTemp\"> -->\r\n                <div class=\"farris-group-wrap\">\r\n                    <!-- \u975E\u5E03\u5C14\u503C\u4F7F\u7528\u6587\u672C\u6846 -->\r\n                    <div class=\"form-group farris-form-group\" *ngIf=\"field.dataType!=dateType.Boolean\">\r\n                        <label class=\"col-form-label\">\r\n                            <span class=\"farris-label-text\" title=\"{{field | billTrackerFieldLabel}}\">\r\n                                {{field | billTrackerFieldLabel}}\r\n                            </span>\r\n                        </label>\r\n                        <div class=\"farris-input-wrap\">\r\n                            <div class=\"f-component-text\" *ngIf=\"field.dataType!=dateType.Boolean\">\r\n                                <span class=\"f-form-control-text\" title=\"{{field.fieldValue}}\">\r\n                                    {{field.fieldValue}}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- \u5E03\u5C14\u503C\u4F7F\u7528\u590D\u9009\u6846 -->\r\n                    <div class=\"form-group farris-form-group\" *ngIf=\"field.dataType==dateType.Boolean\">\r\n                        <label class=\"col-form-label\">\r\n                            <span class=\"farris-label-text\" title=\"{{field | billTrackerFieldLabel}}\">\r\n                                {{field | billTrackerFieldLabel}}\r\n                            </span>\r\n                        </label>\r\n                        <div class=\"farris-input-wrap\">\r\n                            <div class=\"custom-control custom-checkbox\">\r\n                                <input class=\"custom-control-input\" type=\"checkbox\" readonly\r\n                                    [checked]=\"field.fieldValue\" />\r\n                                <label class=\"custom-control-label\"></label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- \u6709\u8054\u67E5\u914D\u7F6E\u65F6\uFF0C\u9ED8\u8BA4\u53D6\u7B2C\u4E00\u4E2A\u5B57\u6BB5\u4F5C\u4E3A\u8D85\u94FE\u63A5 -->\r\n                <!-- <ng-template #linkTemp> -->\r\n                <!-- <div class=\"farris-group-wrap\"> -->\r\n                <!-- \u975E\u5E03\u5C14\u503C\u94FE\u63A5\u5728value\u4E0A -->\r\n                <!-- <div class=\"form-group farris-form-group\" *ngIf=\"field.dataType!=dateType.Boolean\">\r\n                            <label class=\"col-form-label\">\r\n                                <span class=\"farris-label-text\" title=\"{{field | billTrackerFieldLabel}}\">\r\n                                    {{field | billTrackerFieldLabel}}\r\n                                </span>\r\n                            </label>\r\n                            <div class=\"farris-input-wrap\">\r\n                                <div class=\"f-component-text\">\r\n                                    <span class=\"f-form-control-text\" title=\"{{field.fieldValue}}\">\r\n                                        <a href=\"javascript:void(0);\" (click)=\"clickLink()\">{{field.fieldValue}}</a>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div> -->\r\n\r\n                <!-- \u5E03\u5C14\u503C\u94FE\u63A5\u5728label\u4E0A -->\r\n                <!-- <div class=\"form-group farris-form-group\" *ngIf=\"field.dataType==dateType.Boolean\">\r\n                            <label class=\"col-form-label\">\r\n                                <span class=\"farris-label-text\" title=\"{{field | billTrackerFieldLabel}}\">\r\n                                    <a href=\"javascript:void(0);\" (click)=\"clickLink()\">\r\n                                        {{field | billTrackerFieldLabel}}\r\n                                    </a>\r\n                                </span>\r\n                            </label>\r\n                            <div class=\"farris-input-wrap\">\r\n                                <div class=\"farris-input-wrap\">\r\n                                    <div class=\"custom-control custom-checkbox\">\r\n                                        <input class=\"custom-control-input\" type=\"checkbox\" readonly\r\n                                            [checked]=\"field.fieldValue\" />\r\n                                        <label class=\"custom-control-label\"></label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div> -->\r\n                <!-- </div> -->\r\n                <!-- </ng-template> -->\r\n            </div>\r\n        </ng-container>\r\n    </div>\r\n</farris-section>\r\n<lib-bill-tracker-child-info-list [childSchemaTables]=\"childSchemaTables\" [childDataTableMap]=\"childDataTableMap\"\r\n    [billInfo]=\"billInfo\">\r\n</lib-bill-tracker-child-info-list>"
                    }] }
        ];
        /** @nocollapse */
        BasicInfoComponent.ctorParameters = function () {
            return [
                { type: rtfCommon.FrameworkService },
                { type: BillTrackerDataInfoService },
                { type: uiNotify.NotifyService },
                { type: uiMessager.MessagerService },
                { type: uiLoading.LoadingService },
                { type: uiModal.BsModalService },
                { type: BillTrackerLocalePipe },
                { type: core$1.ViewContainerRef },
                { type: core$1.Injector },
                { type: core$1.ComponentFactoryResolver },
                { type: core$1.ChangeDetectorRef },
                { type: String, decorators: [{ type: core$1.Optional }, { type: core$1.Inject, args: [core$1.LOCALE_ID,] }] }
            ];
        };
        BasicInfoComponent.propDecorators = {
            schemaTable: [{ type: core$1.Input, args: ["schemaTable",] }],
            dataTable: [{ type: core$1.Input, args: ["dataTable",] }],
            billInfo: [{ type: core$1.Input, args: ["billInfo",] }],
            billDataInfo: [{ type: core$1.Input, args: ["billDataInfo",] }]
        };
        return BasicInfoComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/components/bill-tracker-data/bill-tracker-data.component.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillTrackerDataComponent = /** @class */ (function () {
        function BillTrackerDataComponent(notify, messager, loading, modal, dataService, inj, cfr, cdf, loader, localeId) {
            this.notify = notify;
            this.messager = messager;
            this.loading = loading;
            this.modal = modal;
            this.dataService = dataService;
            this.inj = inj;
            this.cfr = cfr;
            this.cdf = cdf;
            this.loader = loader;
            this.dataInfoService = new BillTrackerDataInfoService();
            this.localeId = localeId || this.inj.get(core$1.LOCALE_ID, null) || 'zh-CHS';
            this.localePipe = new BillTrackerLocalePipe(localeId);
        }
        /**
         * @return {?}
         */
        BillTrackerDataComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
            };
        /**
         * @return {?}
         */
        BillTrackerDataComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
            function () {
            };
        /**
         * @return {?}
         */
        BillTrackerDataComponent.prototype.clearDataRegion = /**
         * @return {?}
         */
            function () {
                this.dataRegion.clear();
            };
        /**
         * @param {?} args
         * @param {?=} billInfo
         * @param {?=} billDataInfo
         * @param {?=} res
         * @return {?}
         */
        BillTrackerDataComponent.prototype.showDataGrid = /**
         * @param {?} args
         * @param {?=} billInfo
         * @param {?=} billDataInfo
         * @param {?=} res
         * @return {?}
         */
            function (args, billInfo, billDataInfo, res) {
                // 
                /** @type {?} */
                var bts = new commonApi.BillTrackingSettings();
                if (billInfo && billInfo.billTrackingSettings) {
                    bts.LoadFromJson(billInfo.billTrackingSettings);
                }
                if (bts.billTrackingDataShownMode == commonApi.BillTrackingDataShownMode.CUSTOMFORM) {
                    this.showCustomForm(args, billInfo, billDataInfo);
                }
                else {
                    this.showGeneralForm(args, billInfo, billDataInfo, res);
                }
            };
        /**
         * 
         * @param args
         * @param billInfo
         * @param res
         */
        /**
         * 
         * @private
         * @param {?} args
         * @param {?=} billInfo
         * @param {?=} billDataInfo
         * @param {?=} res
         * @param {?=} newBTS
         * @return {?}
         */
        BillTrackerDataComponent.prototype.showGeneralForm = /**
         * 
         * @private
         * @param {?} args
         * @param {?=} billInfo
         * @param {?=} billDataInfo
         * @param {?=} res
         * @param {?=} newBTS
         * @return {?}
         */
            function (args, billInfo, billDataInfo, res, newBTS) {
                var _this = this;
                if (res != null) {
                    this.createDataComp(res, billInfo, billDataInfo);
                }
                else {
                    /** @type {?} */
                    var l_1 = this.loading.show({ message: this.localePipe.transform("loading") });
                    this.dataService.getEntityData(args).subscribe(( /**
                     * @param {?} res
                     * @return {?}
                     */function (res) {
                        _this.createDataComp(res, billInfo, billDataInfo);
                        l_1.close();
                    }), ( /**
                     * @param {?} err
                     * @return {?}
                     */function (err) {
                        l_1.close();
                        _this.messager.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));
                        throw err;
                    }));
                }
            };
        /**
         * 
         * @param args
         * @param billInfo
         */
        /**
         * 
         * @private
         * @param {?} args
         * @param {?=} billInfo
         * @param {?=} billDataInfo
         * @return {?}
         */
        BillTrackerDataComponent.prototype.showCustomForm = /**
         * 
         * @private
         * @param {?} args
         * @param {?=} billInfo
         * @param {?=} billDataInfo
         * @return {?}
         */
            function (args, billInfo, billDataInfo) {
                var _this = this;
                /** @type {?} */
                var bts = new commonApi.BillTrackingSettings();
                if (billInfo && billInfo.billTrackingSettings) {
                    bts.LoadFromJson(billInfo.billTrackingSettings);
                }
                /** @type {?} */
                var formContent = JSON.parse(bts.customFormContent);
                /** @type {?} */
                var moduleF$ = null;
                if (formContent.form.endsWith(".js")) {
                    // url[js]
                    moduleF$ = rxjs.from(System.import(formContent.form.toLowerCase()).then(( /**
                     * @param {?} m
                     * @return {?}
                     */function (m) { return m; }))).pipe(operators.switchMap(( /**
                     * @param {?} m
                     * @return {?}
                     */function (m) {
                        for (var key in m) {
                            return rxjs.of(m[key]);
                        }
                        return rxjs.of(null);
                    })));
                }
                else {
                    // url[js#]
                    moduleF$ = rxjs.from(this.loader.load(formContent.form));
                }
                moduleF$.subscribe(( /**
                 * @param {?} moduleFactory
                 * @return {?}
                 */function (moduleFactory) {
                    /** @type {?} */
                    var moduleRef = moduleFactory.create(_this.inj);
                    /** @type {?} */
                    var cmpR$ = moduleRef.instance.createDataShownComponent(_this.inj, args);
                    if (cmpR$ instanceof core$1.ComponentRef) {
                        cmpR$ = rxjs.of(cmpR$);
                    }
                    cmpR$.subscribe(( /**
                     * @param {?} cmpR
                     * @return {?}
                     */function (cmpR) {
                        // 
                        /** @type {?} */
                        var elt = ( /** @type {?} */(_this.dataRegion.element.nativeElement.parentElement));
                        elt.scrollTo({ left: 0 });
                        _this.dataRegion.clear();
                        _this.dataRegion.insert(cmpR.hostView);
                    }));
                }));
            };
        /**
       * 
       * @param res
       * @param billInfo
       */
        /**
         * 
         * @param {?} res
         * @param {?} billInfo
         * @param {?} billDataInfo
         * @return {?}
         */
        BillTrackerDataComponent.prototype.createDataComp = /**
         * 
         * @param {?} res
         * @param {?} billInfo
         * @param {?} billDataInfo
         * @return {?}
         */
            function (res, billInfo, billDataInfo) {
                /** @type {?} */
                var newBTS = this.dataInfoService.isNewBTS(billInfo.billTrackingSettings);
                // if (newBTS) {
                try {
                    this.createNewDataComp(res, billInfo, billDataInfo);
                }
                catch (e) {
                    // 
                    /** @type {?} */
                    var elt = ( /** @type {?} */(this.dataRegion.element.nativeElement.parentElement));
                    elt && elt.scrollTo({ left: 0 });
                    this.dataRegion.clear();
                    /** @type {?} */
                    var cmf = this.cfr.resolveComponentFactory(BasicTableComponent);
                    /** @type {?} */
                    var cmpR = this.dataRegion.createComponent(cmf);
                    cmpR.instance.billInfo = billInfo;
                    cmpR.instance.isMain = true;
                    cmpR.instance.showMainTable(res);
                    this.dataRegion.insert(cmpR.hostView);
                }
                // }
            };
        /**
       * 
       * @param res
       * @param billInfo
       */
        /**
         * 
         * @param {?} res
         * @param {?=} billInfo
         * @param {?=} billDataInfo
         * @return {?}
         */
        BillTrackerDataComponent.prototype.createNewDataComp = /**
         * 
         * @param {?} res
         * @param {?=} billInfo
         * @param {?=} billDataInfo
         * @return {?}
         */
            function (res, billInfo, billDataInfo) {
                // 
                /** @type {?} */
                var elt = ( /** @type {?} */(this.dataRegion.element.nativeElement.parentElement));
                elt && elt.scrollTo({ left: 0 });
                this.dataRegion.clear();
                /** @type {?} */
                var cmf = this.cfr.resolveComponentFactory(BasicInfoComponent);
                /** @type {?} */
                var cmpR = this.dataRegion.createComponent(cmf);
                cmpR.instance.schemaTable = res.billSchema.mainTable;
                cmpR.instance.dataTable = res.billData.mainTable;
                cmpR.instance.billInfo = billInfo;
                cmpR.instance.billDataInfo = billDataInfo;
                this.dataRegion.insert(cmpR.hostView);
            };
        BillTrackerDataComponent.decorators = [
            { type: core$1.Component, args: [{
                        selector: 'lib-bill-tracker-data',
                        template: "<div style=\"\">\r\n    <ng-container #dataRegion></ng-container>\r\n</div>",
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        BillTrackerDataComponent.ctorParameters = function () {
            return [
                { type: uiNotify.NotifyService },
                { type: uiMessager.MessagerService },
                { type: uiLoading.LoadingService },
                { type: uiModal.BsModalService },
                { type: BillTrackerDataService },
                { type: core$1.Injector },
                { type: core$1.ComponentFactoryResolver },
                { type: core$1.ChangeDetectorRef },
                { type: core$1.NgModuleFactoryLoader },
                { type: String, decorators: [{ type: core$1.Inject, args: [core$1.LOCALE_ID,] }] }
            ];
        };
        BillTrackerDataComponent.propDecorators = {
            dataRegion: [{ type: core$1.ViewChild, args: ["dataRegion", { read: core$1.ViewContainerRef },] }]
        };
        return BillTrackerDataComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/components/basic-table/child-row-table.directive.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ChildRowTableDirective = /** @class */ (function () {
        function ChildRowTableDirective(cfr, vcRef, cdr) {
            this.cfr = cfr;
            this.vcRef = vcRef;
            this.cdr = cdr;
            this.hasChildren = new core$1.EventEmitter();
        }
        Object.defineProperty(ChildRowTableDirective.prototype, "expanded", {
            get: /**
             * @return {?}
             */ function () {
                return this._expanded;
            },
            set: /**
             * @param {?} val
             * @return {?}
             */ function (val) {
                this._expanded = val;
                if (val) {
                    this.showChildTable();
                }
                else {
                    this.clearChildTable();
                }
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        ChildRowTableDirective.prototype.showChildTable = /**
         * @return {?}
         */
            function () {
                var e_1, _a;
                if (this.parentRow == null) {
                    return;
                }
                this.clearChildTable();
                /** @type {?} */
                var cmpF = this.cfr.resolveComponentFactory(BasicTableComponent);
                try {
                    for (var _b = __values(this.parentRow.GetChildTableList()), _c = _b.next(); !_c.done; _c = _b.next()) {
                        var childTable = _c.value;
                        /** @type {?} */
                        var cmpR = this.vcRef.createComponent(cmpF);
                        cmpR.instance.billInfo = this.billInfo;
                        cmpR.instance.isMain = false;
                        cmpR.instance.showTable(this.parentSchemaTable.GetChildTableMap()[childTable.tableName], childTable);
                        this.vcRef.insert(cmpR.hostView);
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (_c && !_c.done && (_a = _b.return))
                            _a.call(_b);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                this.cdr.markForCheck();
            };
        /**
         * @return {?}
         */
        ChildRowTableDirective.prototype.clearChildTable = /**
         * @return {?}
         */
            function () {
                this.vcRef.clear();
            };
        ChildRowTableDirective.decorators = [
            { type: core$1.Directive, args: [{
                        selector: '[appChildRowTable]'
                    },] }
        ];
        /** @nocollapse */
        ChildRowTableDirective.ctorParameters = function () {
            return [
                { type: core$1.ComponentFactoryResolver },
                { type: core$1.ViewContainerRef },
                { type: core$1.ChangeDetectorRef }
            ];
        };
        ChildRowTableDirective.propDecorators = {
            billInfo: [{ type: core$1.Input, args: ["billInfo",] }],
            colspan: [{ type: core$1.Input, args: ["colspan",] }],
            parentRow: [{ type: core$1.Input, args: ["parentRow",] }],
            parentSchemaTable: [{ type: core$1.Input, args: ["parentSchemaTable",] }],
            parentDataTable: [{ type: core$1.Input, args: ["parentDataTable",] }],
            expanded: [{ type: core$1.Input, args: ["expanded",] }],
            hasChildren: [{ type: core$1.Output, args: ["hasChildren",] }]
        };
        return ChildRowTableDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/components/child-info-list/child-info-list.component.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ChildInfoListComponent = /** @class */ (function () {
        function ChildInfoListComponent(dataInfoService, notify, messager, loading, modal, localePipe, vcr, inj, cfr, cdr) {
            this.dataInfoService = dataInfoService;
            this.notify = notify;
            this.messager = messager;
            this.loading = loading;
            this.modal = modal;
            this.localePipe = localePipe;
            this.vcr = vcr;
            this.inj = inj;
            this.cfr = cfr;
            this.cdr = cdr;
        }
        /**
         * @return {?}
         */
        ChildInfoListComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
            };
        ChildInfoListComponent.decorators = [
            { type: core$1.Component, args: [{
                        selector: "lib-bill-tracker-child-info-list",
                        template: "<ng-container *ngFor=\"let childTable of childSchemaTables\">\r\n    <lib-bill-tracker-child-info [schemaTable]=\"childTable\" [dataTable]=\"childDataTableMap[childTable.tableName]\"\r\n        [billInfo]=\"billInfo\">\r\n    </lib-bill-tracker-child-info>\r\n</ng-container>"
                    }] }
        ];
        /** @nocollapse */
        ChildInfoListComponent.ctorParameters = function () {
            return [
                { type: BillTrackerDataInfoService },
                { type: uiNotify.NotifyService },
                { type: uiMessager.MessagerService },
                { type: uiLoading.LoadingService },
                { type: uiModal.BsModalService },
                { type: BillTrackerLocalePipe },
                { type: core$1.ViewContainerRef },
                { type: core$1.Injector },
                { type: core$1.ComponentFactoryResolver },
                { type: core$1.ChangeDetectorRef }
            ];
        };
        ChildInfoListComponent.propDecorators = {
            childSchemaTables: [{ type: core$1.Input, args: ["childSchemaTables",] }],
            childDataTableMap: [{ type: core$1.Input, args: ["childDataTableMap",] }],
            billInfo: [{ type: core$1.Input, args: ["billInfo",] }]
        };
        return ChildInfoListComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/components/child-info/child-info.component.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ChildInfoComponent = /** @class */ (function () {
        function ChildInfoComponent(notify, messager, loading, modal, dataInfoService, localePipe, vcr, inj, cfr, cdr, localeId) {
            this.notify = notify;
            this.messager = messager;
            this.loading = loading;
            this.modal = modal;
            this.dataInfoService = dataInfoService;
            this.localePipe = localePipe;
            this.vcr = vcr;
            this.inj = inj;
            this.cfr = cfr;
            this.cdr = cdr;
            this.localeId = localeId;
            this.secTitle = null;
            this.showDetail = false;
            this.dgCols = [];
            this.dgData = [];
            this.dgLineNumberTitle = this.localePipe.transform("lineNumber");
            this.dgIdField = "bifDgId0d63";
            this.localeId = localeId || this.inj.get(core$1.LOCALE_ID);
        }
        /**
         * @return {?}
         */
        ChildInfoComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                // section
                this.secTitle = this.localePipe.transform("basicInfo");
                // 
                this.secTitle = this.dataInfoService.getTableLabel(this.billInfo, this.schemaTable, this.localeId);
                // 
                /** @type {?} */
                var bts = new commonApi.BillTrackingSettings();
                if (this.billInfo && this.billInfo.billTrackingSettings) {
                    bts.LoadFromJson(this.billInfo.billTrackingSettings);
                }
                // 
                /** @type {?} */
                var fieldContent = bts.customFieldContent;
                /** @type {?} */
                var fieldConfig = fieldContent && (typeof fieldContent == "object" ? fieldContent : JSON.parse(fieldContent));
                /** @type {?} */
                var selectedFields = fieldConfig && fieldConfig.schema && fieldConfig.schema[this.schemaTable.tableName] && fieldConfig.schema[this.schemaTable.tableName].fields;
                selectedFields = selectedFields ? selectedFields : [];
                /** @type {?} */
                var showCustomFields = bts.billTrackingDataShownMode === commonApi.BillTrackingDataShownMode.CUSTOMFIELD;
                /** @type {?} */
                var fs = this.schemaTable.getFieldList();
                // 
                /** @type {?} */
                var ffs = this.dataInfoService.extractFFields(fs, selectedFields, showCustomFields);
                // 
                ffs = ffs.filter(( /**
                 * @param {?} f
                 * @return {?}
                 */function (f) { return f.show; }));
                // order
                ffs = this.dataInfoService.sortFieldsByOrder(ffs);
                // 
                this.dgCols = [];
                ffs.forEach(( /**
                 * @param {?} f
                 * @return {?}
                 */function (f) {
                    /** @type {?} */
                    var c = {
                        field: f.fieldPath || f.fieldName,
                        title: _this.dataInfoService.getFieldLabel(f, _this.localeId),
                        width: 120
                    };
                    if (f.dataType == commonApi$1.DataType.Boolean) {
                        c.formatter = ( /**
                         * @param {?} value
                         * @param {?} rowData
                         * @param {?} rowIndex
                         * @return {?}
                         */function (value, rowData, rowIndex) {
                            if (value == true) {
                                return _this.localePipe.transform("yes");
                            }
                            else if (value == false) {
                                return _this.localePipe.transform("no");
                            }
                            else {
                                return "-";
                            }
                        });
                    }
                    _this.dgCols.push(c);
                }));
                // 
                /** @type {?} */
                var rows = this.dataTable.GetRowList();
                this.dgData = __spread(this.dataInfoService.extractDataRows(rows, ffs, fs, this.dgIdField));
                if (this.dgData.length > 0) {
                    setTimeout(( /**
                     * @return {?}
                     */function () {
                        _this.dg && _this.dg.selectRow(_this.dgData[0][_this.dgIdField]);
                    }), 500);
                }
            };
        /**
         * @param {?} row
         * @return {?}
         */
        ChildInfoComponent.prototype.selectChanged = /**
         * @param {?} row
         * @return {?}
         */
            function (row) {
                /** @type {?} */
                var r = this.dataTable.GetRowMap()[row.id];
                this.showDetail = this.dataInfoService.hasChildData(r, this.billInfo);
                this.cdr.detectChanges();
            };
        /**
         * @return {?}
         */
        ChildInfoComponent.prototype.viewChildData = /**
         * @return {?}
         */
            function () {
                if (this.dg.selectedRow == null) {
                    this.notify.warning(this.localePipe.transform("selectOneFirst"));
                    return;
                }
                /** @type {?} */
                var row = this.dataTable.GetRowMap()[this.dg.selectedRow.id];
                if (!this.dataInfoService.hasChildData(row, this.billInfo)) {
                    this.notify.info(this.localePipe.transform("noChildData"));
                    return;
                }
                /** @type {?} */
                var cmpF = this.cfr.resolveComponentFactory(ChildInfoListComponent);
                /** @type {?} */
                var cmpR = cmpF.create(this.inj, []);
                // 
                /** @type {?} */
                var childSchemaTables = this.dataInfoService.getChildTables(this.billInfo, this.schemaTable);
                cmpR.instance.childSchemaTables = childSchemaTables;
                cmpR.instance.childDataTableMap = row.GetChildTableMap();
                cmpR.instance.billInfo = this.billInfo;
                /** @type {?} */
                var bsModalRef = this.modal.show(cmpR, {
                    title: this.localePipe.transform("childData"),
                    width: 900,
                    height: 600,
                    showButtons: false,
                });
                cmpR.instance.bsModalRef = bsModalRef;
            };
        ChildInfoComponent.decorators = [
            { type: core$1.Component, args: [{
                        selector: "lib-bill-tracker-child-info",
                        template: "<div class=\"f-struct-wrapper\" *ngIf=\"dgCols&&dgCols.length>0&&dgData&&dgData.length>0\">\r\n    <farris-section class=\"f-section-tabs f-section-in-mainsubcard\" [mainTitle]=\"secTitle\">\r\n        <ng-template farrisSectionToolbar [toolbarCls]=\"'section-test-toolbar'\">\r\n            <button class=\"btn btn-secondary f-btn-ml\" *ngIf=\"showDetail\" (click)=\"viewChildData()\">\r\n                {{ \"childData\" | billTrackerLocale}}\r\n            </button>\r\n        </ng-template>\r\n        <div class=\"\">\r\n            <div class=\"f-utils-fill\">\r\n                <farris-datagrid #dg [data]=\"dgData\" [idField]=\"dgIdField\" [fields]=\"dgCols\" [showLineNumber]=\"true\"\r\n                    [striped]=\"true\" [virtualized]=\"false\" [pagination]=\"false\" [virtualizedAsyncLoad]=\"false\"\r\n                    [multiSelect]=\"false\" [fit]=\"true\" [showCheckbox]=\"false\" [showAllCheckbox]=\"false\"\r\n                    [lineNumberTitle]=\"dgLineNumberTitle\" [mergeCell]=\"false\" [showBorder]=\"true\"\r\n                    [checkOnSelect]=\"false\" [selectOnCheck]=\"false\" [nowrap]=\"true\" [autoFitColumns]=\"true\"\r\n                    [fitColumns]=\"true\" [autoHeight]=\"false\" (selectChanged)=\"selectChanged($event)\">\r\n                </farris-datagrid>\r\n            </div>\r\n        </div>\r\n    </farris-section>\r\n</div>"
                    }] }
        ];
        /** @nocollapse */
        ChildInfoComponent.ctorParameters = function () {
            return [
                { type: uiNotify.NotifyService },
                { type: uiMessager.MessagerService },
                { type: uiLoading.LoadingService },
                { type: uiModal.BsModalService },
                { type: BillTrackerDataInfoService },
                { type: BillTrackerLocalePipe },
                { type: core$1.ViewContainerRef },
                { type: core$1.Injector },
                { type: core$1.ComponentFactoryResolver },
                { type: core$1.ChangeDetectorRef },
                { type: String, decorators: [{ type: core$1.Optional }, { type: core$1.Inject, args: [core$1.LOCALE_ID,] }] }
            ];
        };
        ChildInfoComponent.propDecorators = {
            schemaTable: [{ type: core$1.Input, args: ["schemaTable",] }],
            dataTable: [{ type: core$1.Input, args: ["dataTable",] }],
            billInfo: [{ type: core$1.Input, args: ["billInfo",] }],
            dg: [{ type: core$1.ViewChild, args: ["dg",] }]
        };
        return ChildInfoComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/pipe/bill-tracker-field-label.pipe.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BillTrackerFieldLabelPipe = /** @class */ (function () {
        function BillTrackerFieldLabelPipe(dataInfoService, localeId) {
            this.dataInfoService = dataInfoService;
            this.localeId = localeId;
        }
        /**
         * @param {?} f
         * @param {?=} langCode
         * @return {?}
         */
        BillTrackerFieldLabelPipe.prototype.transform = /**
         * @param {?} f
         * @param {?=} langCode
         * @return {?}
         */
            function (f, langCode) {
                return this.dataInfoService.getFieldLabel(f, langCode || this.localeId);
            };
        BillTrackerFieldLabelPipe.decorators = [
            { type: core$1.Pipe, args: [{ name: 'billTrackerFieldLabel' },] }
        ];
        /** @nocollapse */
        BillTrackerFieldLabelPipe.ctorParameters = function () {
            return [
                { type: BillTrackerDataInfoService },
                { type: String, decorators: [{ type: core$1.Inject, args: [core$1.LOCALE_ID,] }] }
            ];
        };
        return BillTrackerFieldLabelPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/bill-tracker/bill-tracker.module.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var 0$1 = localStorage.getItem('languageCode') || 'zh-CHS', 1$1 = {};
    var BillTrackerModule = /** @class */ (function () {
        function BillTrackerModule() {
        }
        /**
         * @param {?=} config
         * @return {?}
         */
        BillTrackerModule.forRoot = /**
         * @param {?=} config
         * @return {?}
         */
            function (config) {
                return {
                    ngModule: BillTrackerModule,
                    providers: [
                        { provide: BillTrackerModuleConfig, useValue: config || {} },
                    ]
                };
            };
        BillTrackerModule.decorators = [
            { type: core$1.NgModule, args: [{
                        declarations: [
                            BillTrackerComponent,
                            BillTrackerGraphComponent,
                            BillTrackerDataComponent,
                            BasicTableComponent,
                            ChildRowTableDirective,
                            BillTrackerLocalePipe,
                            BasicInfoComponent,
                            ChildInfoComponent,
                            ChildInfoListComponent,
                            BillTrackerFieldLabelPipe,
                        ],
                        imports: [
                            common.CommonModule,
                            http.HttpClientModule,
                            forms.FormsModule,
                            uiDraggable.AngularDraggableModule,
                            uiMessager.MessagerModule.forRoot(),
                            uiLoading.LoadingModule.forRoot(),
                            uiNotify.NotifyModule,
                            uiText.TextModule,
                            uiSection.FarrisSectionModule,
                            uiDatagrid.DatagridModule.forRoot(),
                            uiDialog.FarrisDialogModule,
                        ],
                        providers: [
                            { provide: core$1.LOCALE_ID, useValue: 0$1 },
                            { provide: BillTrackerModuleConfig, useValue: 1$1 },
                            { provide: core$1.NgModuleFactoryLoader, useClass: core$1.SystemJsNgModuleLoader },
                            cafCommon.CacheService,
                            cafCommon.SessionService,
                            cafCommon.HttpService,
                            rtfCommon.FrmEventBus,
                            rtfCommon.FuncsService,
                            rtfCommon.LoadingService,
                            rtfCommon.AppService,
                            rtfCommon.FrameworkService,
                            BillTrackerDataService,
                            BillTrackerUiService,
                            BillTrackerLocalePipe,
                            BillTrackerDataInfoService,
                        ],
                        bootstrap: [BillTrackerComponent],
                        exports: [BillTrackerComponent],
                        entryComponents: [
                            BillTrackerComponent,
                            BasicTableComponent,
                            BasicInfoComponent,
                            ChildInfoComponent,
                            ChildInfoListComponent,
                        ]
                    },] }
        ];
        return BillTrackerModule;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/webcmp/bif-bill-tracker.webcmp.service.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * web
     */
    var BifBillTrackerWebCmpService = /** @class */ (function () {
        function BifBillTrackerWebCmpService(trackerUiService, bindingData, viewModel, frameContext) {
            this.trackerUiService = trackerUiService;
            this.bindingData = bindingData;
            this.viewModel = viewModel;
            this.frameContext = frameContext;
        }
        /**
         * 
         * @param args Id
         * @param maximized 
         * @param modalOptions 
         * @param graphOptions 
         * @param gridOptions 
         * @returns billTrackerComponent  @type { Observable<BillTrackerComponent> }
         */
        /**
         * 
         * @param {?} args Id
         * @param {?=} maximized 
         * @param {?=} modalOptions 
         * @param {?=} graphOptions 
         * @param {?=} gridOptions 
         * @return {?} billTrackerComponent  \@type { Observable<BillTrackerComponent> }
         */
        BifBillTrackerWebCmpService.prototype.openDialog = /**
         * 
         * @param {?} args Id
         * @param {?=} maximized 
         * @param {?=} modalOptions 
         * @param {?=} graphOptions 
         * @param {?=} gridOptions 
         * @return {?} billTrackerComponent  \@type { Observable<BillTrackerComponent> }
         */
            function (args, maximized, modalOptions, graphOptions, gridOptions) {
                if (typeof args == "string" && canJSONParse(( /** @type {?} */(args)))) {
                    args = JSON.parse(( /** @type {?} */(args)));
                }
                else {
                    args = ( /** @type {?} */(args));
                }
                maximized = ( /** @type {?} */(maximized)) === "" || maximized == null ? undefined : maximized;
                modalOptions = ( /** @type {?} */(modalOptions)) === "" || modalOptions == null ? undefined : modalOptions;
                graphOptions = ( /** @type {?} */(graphOptions)) === "" || graphOptions == null ? undefined : graphOptions;
                gridOptions = ( /** @type {?} */(gridOptions)) === "" || gridOptions == null ? undefined : gridOptions;
                /** @type {?} */
                var argz = new GetBillsInfoArgs();
                if (typeof args == "string") {
                    argz.billDataId = args;
                }
                else {
                    argz.LoadFromJsonObject(args);
                }
                return this.trackerUiService.openDefaultBillTrackerDialog(argz, maximized, modalOptions, graphOptions, gridOptions);
            };
        /**
         * App
         * @param args Id
         * @param graphOptions 
         * @param gridOptions 
         */
        /**
         * App
         * @param {?} args Id
         * @param {?=} graphOptions 
         * @param {?=} gridOptions 
         * @return {?}
         */
        BifBillTrackerWebCmpService.prototype.openApp = /**
         * App
         * @param {?} args Id
         * @param {?=} graphOptions 
         * @param {?=} gridOptions 
         * @return {?}
         */
            function (args, graphOptions, gridOptions) {
                if (typeof args == "string" && canJSONParse(( /** @type {?} */(args)))) {
                    args = JSON.parse(( /** @type {?} */(args)));
                }
                else {
                    args = ( /** @type {?} */(args));
                }
                graphOptions = ( /** @type {?} */(graphOptions)) === "" || graphOptions == null ? undefined : graphOptions;
                gridOptions = ( /** @type {?} */(gridOptions)) === "" || gridOptions == null ? undefined : gridOptions;
                /** @type {?} */
                var argz = new GetBillsInfoArgs();
                if (typeof args == "string") {
                    argz.billDataId = args;
                }
                else {
                    argz.LoadFromJsonObject(args);
                }
                this.trackerUiService.openDefaultBillTrackerApp(argz, graphOptions, gridOptions);
            };
        BifBillTrackerWebCmpService.decorators = [
            { type: core$1.Injectable }
        ];
        /** @nocollapse */
        BifBillTrackerWebCmpService.ctorParameters = function () {
            return [
                { type: BillTrackerUiService },
                { type: devkit.BindingData, decorators: [{ type: core$1.Optional }] },
                { type: devkit.ViewModel, decorators: [{ type: core$1.Optional }] },
                { type: devkit.FrameContext, decorators: [{ type: core$1.Optional }] }
            ];
        };
        return BifBillTrackerWebCmpService;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/webcmp/bif-manual-creation-data.webcmp.service.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * 
     */
    var BifManualCreationDataWebCmpService = /** @class */ (function () {
        function BifManualCreationDataWebCmpService(dataService, bindingData, messagerService, viewModel, frameContext) {
            this.dataService = dataService;
            this.bindingData = bindingData;
            this.messagerService = messagerService;
            this.viewModel = viewModel;
            this.frameContext = frameContext;
        }
        /**
         * Id
         * @param processId  Id
         * @returns creationProcess  @type { Observable<IRtSlimBillCreationProcessEntityEx> }
         */
        /**
         * Id
         * @param {?} processId  Id
         * @return {?} creationProcess  \@type { Observable<IRtSlimBillCreationProcessEntityEx> }
         */
        BifManualCreationDataWebCmpService.prototype.getSlimBillCreationProcessEntityExById = /**
         * Id
         * @param {?} processId  Id
         * @return {?} creationProcess  \@type { Observable<IRtSlimBillCreationProcessEntityEx> }
         */
            function (processId) {
                return this.dataService.getSlimBillCreationProcessEntityExById(processId);
            };
        /**
         * 
         * @param formSettingsId Id
         * @returns formSettings  @type { Observable<FormSettings> }
         */
        /**
         * 
         * @param {?} formSettingsId Id
         * @return {?} formSettings  \@type { Observable<FormSettings> }
         */
        BifManualCreationDataWebCmpService.prototype.getFormSettingsById = /**
         * 
         * @param {?} formSettingsId Id
         * @return {?} formSettings  \@type { Observable<FormSettings> }
         */
            function (formSettingsId) {
                return this.dataService.getFormSettingsById(formSettingsId);
            };
        /**
         * 
         * @param entities 
         * @param creationProcessId  Id
         * @param creationRuleId Id
         * @returns creationResult  @type { Observable<FormBillCreationProcessExecutorResult> }
         */
        /**
         * 
         * @param {?} entities 
         * @param {?} creationProcessId  Id
         * @param {?} creationRuleId Id
         * @param {?} targetDataIds
         * @param {?} manualCreationMode
         * @return {?} creationResult  \@type { Observable<FormBillCreationProcessExecutorResult> }
         */
        BifManualCreationDataWebCmpService.prototype.executeBillCreationProcess = /**
         * 
         * @param {?} entities 
         * @param {?} creationProcessId  Id
         * @param {?} creationRuleId Id
         * @param {?} targetDataIds
         * @param {?} manualCreationMode
         * @return {?} creationResult  \@type { Observable<FormBillCreationProcessExecutorResult> }
         */
            function (entities, creationProcessId, creationRuleId, targetDataIds, manualCreationMode) {
                if (entities == null) {
                    throw "entities is null.";
                }
                if (entities instanceof Map) {
                    entities = Array.from(entities.values());
                }
                entities = Array.isArray(entities) ? entities : [entities];
                //
                /** @type {?} */
                var args = new FormBillCreationProcessExecutorArgs();
                args.billCreationProcessId = creationProcessId;
                args.creationRuleId = creationRuleId;
                //FormCreationRuleExecutorArgssourceVoEntityDatas
                //sourceVoEntityDatas
                args.sourceVoEntityDatas = entities.map(( /**
                 * @param {?} item
                 * @return {?}
                 */function (item) { return JSON.stringify(item.toJSON(false, true)); }));
                //IdtargetVoDataIds
                args.targetVoDataIds = targetDataIds;
                args.manualCreationMode = manualCreationMode;
                return this.dataService.executeBillCreationProcess(args);
            };
        /**
         * RetrieveDefault
         * @param formVoId VO Id
         * @param res 
         * @returns formCreateResult  @type { Observable<FormCreateResult> }
         */
        /**
         * RetrieveDefault
         * @param {?} formVoId VO Id
         * @param {?} res 
         * @return {?} formCreateResult  \@type { Observable<FormCreateResult> }
         */
        BifManualCreationDataWebCmpService.prototype.createEntityDatas = /**
         * RetrieveDefault
         * @param {?} formVoId VO Id
         * @param {?} res 
         * @return {?} formCreateResult  \@type { Observable<FormCreateResult> }
         */
            function (formVoId, res) {
                /** @type {?} */
                var args = new runtimeApi.FormCreateArgs();
                args.formVoId = formVoId;
                //
                args.rpcCreationRuleExecutorResult = res.creationRuleExecutorResult.ConvertToJson();
                //
                return this.dataService.createEntityDatas(args);
            };
        /**
         * 
         * @param res 
         * @returns formUpdateResult  @type { Observable<FormUpdateResult> }
         */
        /**
         * 
         * @param {?} res 
         * @return {?} formUpdateResult  \@type { Observable<FormUpdateResult> }
         */
        BifManualCreationDataWebCmpService.prototype.updateEntityDatas = /**
         * 
         * @param {?} res 
         * @return {?} formUpdateResult  \@type { Observable<FormUpdateResult> }
         */
            function (res) {
                /** @type {?} */
                var args = new runtimeApi.FormUpdateArgs();
                //Mappingtrue
                if (res.conditionResult.conditionExecutionResult == true) {
                    //
                    if (res.creationRuleExecutorResult && res.creationRuleExecutorResult.mappingResults && res.creationRuleExecutorResult.mappingResults.length > 0) {
                        args.rpcCreationRuleExecutorResult = res.creationRuleExecutorResult.ConvertToJson();
                        return this.dataService.updateEntityDatas(args);
                    }
                    else {
                        return rxjs.throwError("creationRuleExecutorResult is empty!");
                    }
                }
                else {
                    return rxjs.throwError("conditionExecutionResult is false!");
                }
            };
        /**
         * 
         * @param res 
         * @returns formUpdateResult  @type { Observable<FormUpdateResult> }
         */
        /**
         * 
         * @param {?} res 
         * @return {?} formUpdateResult  \@type { Observable<FormUpdateResult> }
         */
        BifManualCreationDataWebCmpService.prototype.pushTaskCenter = /**
         * 
         * @param {?} res 
         * @return {?} formUpdateResult  \@type { Observable<FormUpdateResult> }
         */
            function (res) {
                /** @type {?} */
                var args = new PushTaskArgs();
                //Mappingtrue
                if (res.conditionResult.conditionExecutionResult == true) {
                    //
                    if (res.creationRuleExecutorResult && res.creationRuleExecutorResult.mappingResults && res.creationRuleExecutorResult.mappingResults.length > 0) {
                        if (res.pushCreationMode == commonApi$1.PushCreationMode.TASKCENTER) {
                            args.suCode = res.downBillSuCode;
                            args.creationRuleExecutorResult = res.creationRuleExecutorResult;
                            return this.dataService.pushTaskCenter(args);
                        }
                        else {
                            return rxjs.throwError("creationRuleExecutorResult can't be pushed to task center!");
                        }
                    }
                    else {
                        return rxjs.throwError("creationRuleExecutorResult is empty!");
                    }
                }
                else {
                    return rxjs.throwError("conditionExecutionResult is false!");
                }
            };
        /**
         * 
         * @param creationResultId id
         */
        /**
         * 
         * @param {?} creationResultId id
         * @return {?}
         */
        BifManualCreationDataWebCmpService.prototype.getCreationResultById = /**
         * 
         * @param {?} creationResultId id
         * @return {?}
         */
            function (creationResultId) {
                return this.dataService.getCreationResultById(creationResultId);
            };
        /**
         * 
         */
        /**
         * 
         * @param {?} creationResult
         * @return {?}
         */
        BifManualCreationDataWebCmpService.prototype.addFormBillCreationProcessExecutorResult = /**
         * 
         * @param {?} creationResult
         * @return {?}
         */
            function (creationResult) {
                if (creationResult == null) {
                    throw "creationResult";
                }
                if (typeof creationResult == "string") {
                    if (creationResult == "") {
                        throw "creationResult";
                    }
                    /** @type {?} */
                    var temp = new runtimeApi.FormBillCreationProcessExecutorResult();
                    temp.LoadFromJson(creationResult);
                    creationResult = temp;
                }
                if ((creationResult instanceof runtimeApi.FormBillCreationProcessExecutorResult) == false) {
                    /** @type {?} */
                    var res = new runtimeApi.FormBillCreationProcessExecutorResult();
                    res.LoadFromJsonObject(creationResult);
                    creationResult = res;
                }
                return this.dataService.addFormBillCreationProcessExecutorResult(creationResult);
            };
        /**
         * VO
         */
        /**
         * VO
         * @param args
         * @returns
         */
        /**
             * VO
             */
        /**
         * VO
         * @param {?} dataId
         * @param {?} voId
         * @param {?} suCode
         * @return {?}
         */
        BifManualCreationDataWebCmpService.prototype.getEntityDatas = /**
             * VO
             */
            /**
             * VO
             * @param {?} dataId
             * @param {?} voId
             * @param {?} suCode
             * @return {?}
             */
            function (dataId, voId, suCode) {
                if (dataId == null) {
                    throw "dataId";
                }
                if (voId == null) {
                    throw "voId";
                }
                if (suCode == null) {
                    throw "suCode";
                }
                /** @type {?} */
                var args = new GetEntityDatasArgs();
                args.dataId = dataId;
                args.suCode = suCode;
                args.voId = voId;
                return this.dataService.getEntityDatas(args);
            };
        BifManualCreationDataWebCmpService.decorators = [
            { type: core$1.Injectable }
        ];
        /** @nocollapse */
        BifManualCreationDataWebCmpService.ctorParameters = function () {
            return [
                { type: BifDataService },
                { type: devkit.BindingData },
                { type: uiMessager.MessagerService },
                { type: devkit.ViewModel, decorators: [{ type: core$1.Optional }] },
                { type: devkit.FrameContext, decorators: [{ type: core$1.Optional }] }
            ];
        };
        return BifManualCreationDataWebCmpService;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/webcmp/bif-manual-creation-source.webcmp.service.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * 
     */
    var BifManualCreationSourceWebCmpService = /** @class */ (function () {
        function BifManualCreationSourceWebCmpService(sourceUiService, dataService, bindingData, messagerService, viewModel, frameContext) {
            this.sourceUiService = sourceUiService;
            this.dataService = dataService;
            this.bindingData = bindingData;
            this.messagerService = messagerService;
            this.viewModel = viewModel;
            this.frameContext = frameContext;
            this.localePipe = new LocalePipe(this.sourceUiService && this.sourceUiService.localeId || 'zh-CHS');
        }
        /**
         * VO Id
         *
         * @param sourceVoId  Id
         * @param entities 
         * @param targetCommand ''
         * @param bizFlowchartId Id
         * @param modalOptions 
         * @param customSelectorModuleUrl url
         * @param extParams1 
         * @param extParams2 
         */
        /**
         * VO Id
         *
         * @param {?} sourceVoId  Id
         * @param {?} entities 
         * @param {?=} targetCommand ''
         * @param {?=} bizFlowchartId Id
         * @param {?=} modalOptions 
         * @param {?=} customSelectorModuleUrl url
         * @param {?=} extParams1 
         * @param {?=} extParams2 
         * @return {?}
         */
        BifManualCreationSourceWebCmpService.prototype.pushBySourceVoId = /**
         * VO Id
         *
         * @param {?} sourceVoId  Id
         * @param {?} entities 
         * @param {?=} targetCommand ''
         * @param {?=} bizFlowchartId Id
         * @param {?=} modalOptions 
         * @param {?=} customSelectorModuleUrl url
         * @param {?=} extParams1 
         * @param {?=} extParams2 
         * @return {?}
         */
            function (sourceVoId, entities, targetCommand, bizFlowchartId, modalOptions, customSelectorModuleUrl, extParams1, extParams2) {
                var _this = this;
                if (entities == null) {
                    throw "entities is null.";
                }
                if (entities instanceof Map) {
                    entities = Array.from(entities.values());
                }
                entities = Array.isArray(entities) ? entities : [entities];
                if (targetCommand == null || targetCommand == "") {
                    targetCommand = "rootviewmodelbifLoad1";
                }
                bizFlowchartId = bizFlowchartId === "" || bizFlowchartId == null ? undefined : bizFlowchartId;
                modalOptions = ( /** @type {?} */(modalOptions)) === "" || modalOptions == null ? undefined : modalOptions;
                customSelectorModuleUrl = customSelectorModuleUrl === "" || customSelectorModuleUrl == null ? undefined : customSelectorModuleUrl;
                extParams1 = extParams1 === "" || extParams1 == null ? undefined : extParams1;
                extParams2 = extParams2 === "" || extParams2 == null ? undefined : extParams2;
                //
                this.sourceUiService.openBillCreationProcessSelector4Push(sourceVoId, bizFlowchartId, modalOptions, customSelectorModuleUrl, extParams1).subscribe(( /**
                 * @param {?} cp
                 * @return {?}
                 */function (cp) {
                    //
                    _this.dataService.getFormSettingsById(cp.formSettingsId).subscribe(( /**
                     * @param {?} formSettings
                     * @return {?}
                     */function (formSettings) {
                        //
                        /** @type {?} */
                        var args = new FormBillCreationProcessExecutorArgs();
                        args.billCreationProcessId = cp.id;
                        args.creationRuleId = cp.creationRuleId;
                        //FormCreationRuleExecutorArgssourceVoEntityDatas
                        //sourceVoEntityDatas
                        args.sourceVoEntityDatas = entities.map(( /**
                         * @param {?} item
                         * @return {?}
                         */function (item) {
                            if (item instanceof devkit.Entity) {
                                // Entity
                                return JSON.stringify(item.toJSON(false, true));
                            }
                            else if (item["__type__"] == "BindingObject") {
                                //BindingData
                                /** @type {?} */
                                var bindingObject = ( /** @type {?} */(item));
                                return JSON.stringify(bindingObject.toJSON({ useFullMultiLangProperty: true }));
                            }
                            else {
                                /** @type {?} */
                                var e = ( /** @type {?} */(item));
                                return JSON.stringify(e.toJSON(false, true));
                            }
                        }));
                        //IdtargetVoDataIds
                        args.targetVoDataIds = [];
                        args.manualCreationMode = ManualCreationMode.Push;
                        //
                        _this.dataService.executeBillCreationProcess(args).subscribe(( /**
                         * @param {?} result
                         * @return {?}
                         */function (result) {
                            //Mappingtrue
                            if (result.conditionResult.conditionExecutionResult == true) {
                                //
                                if (result.creationRuleExecutorResult && result.creationRuleExecutorResult.mappingResults && result.creationRuleExecutorResult.mappingResults.length > 0) {
                                    if (result.pushCreationMode == null || result.pushCreationMode == commonApi$1.PushCreationMode.CREATION) {
                                        _this.dataService.addFormBillCreationProcessExecutorResult(result).subscribe(( /**
                                         * @param {?} res
                                         * @return {?}
                                         */function (res) {
                                            //
                                            _this.sourceUiService.openTargetApp(formSettings, result.conditionResult, res, __assign({ action: targetCommand }, extParams2));
                                        }));
                                    }
                                    else if (result.pushCreationMode == commonApi$1.PushCreationMode.TASKCENTER) {
                                        //
                                        /** @type {?} */
                                        var pushTaskArgs = new PushTaskArgs();
                                        pushTaskArgs.suCode = result.downBillSuCode;
                                        pushTaskArgs.creationRuleExecutorResult = result.creationRuleExecutorResult;
                                        _this.dataService.pushTaskCenter(pushTaskArgs).subscribe(( /**
                                         * @return {?}
                                         */function () {
                                            _this.messagerService.success(_this.localePipe.transform("pushTaskCenterSuccess"));
                                        }), ( /**
                                         * @param {?} err
                                         * @return {?}
                                         */function (err) {
                                            _this.messagerService.error((err.error == null ? err.message : (err.error.innerMessage || err.error.Message || err.error.message || err.message)) || _this.localePipe.transform("pushTaskCenterFailed"));
                                        }));
                                    }
                                }
                                else {
                                    _this.messagerService.error(_this.localePipe.transform("creationResultEmpty"));
                                }
                            }
                            else {
                                //false
                                _this.messagerService.error(result.conditionResult.message || _this.localePipe.transform("creationExecutionError"));
                            }
                        }), ( /**
                         * @param {?} err
                         * @return {?}
                         */function (err) {
                            _this.messagerService.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));
                        }));
                    }));
                }));
            };
        /**
         * VO IdVO Id
         *
         * @param sourceVoId  Id
         * @param targetVoId  Id
         * @param entities 
         * @param targetCommand ''
         * @param bizFlowchartId Id
         * @param modalOptions 
         * @param customSelectorModuleUrl url
         * @param extParams1 
         * @param extParams2 
         */
        /**
         * VO IdVO Id
         *
         * @param {?} sourceVoId  Id
         * @param {?} targetVoId  Id
         * @param {?} entities 
         * @param {?=} targetCommand ''
         * @param {?=} bizFlowchartId Id
         * @param {?=} modalOptions 
         * @param {?=} customSelectorModuleUrl url
         * @param {?=} extParams1 
         * @param {?=} extParams2 
         * @return {?}
         */
        BifManualCreationSourceWebCmpService.prototype.pushBySourceVoIdAndTargetVoId = /**
         * VO IdVO Id
         *
         * @param {?} sourceVoId  Id
         * @param {?} targetVoId  Id
         * @param {?} entities 
         * @param {?=} targetCommand ''
         * @param {?=} bizFlowchartId Id
         * @param {?=} modalOptions 
         * @param {?=} customSelectorModuleUrl url
         * @param {?=} extParams1 
         * @param {?=} extParams2 
         * @return {?}
         */
            function (sourceVoId, targetVoId, entities, targetCommand, bizFlowchartId, modalOptions, customSelectorModuleUrl, extParams1, extParams2) {
                var _this = this;
                if (entities == null) {
                    throw "entities is null.";
                }
                if (entities instanceof Map) {
                    entities = Array.from(entities.values());
                }
                entities = Array.isArray(entities) ? entities : [entities];
                if (targetCommand == null || targetCommand == "") {
                    targetCommand = "rootviewmodelbifLoad1";
                }
                bizFlowchartId = bizFlowchartId === "" || bizFlowchartId == null ? undefined : bizFlowchartId;
                modalOptions = ( /** @type {?} */(modalOptions)) === "" || modalOptions == null ? undefined : modalOptions;
                customSelectorModuleUrl = customSelectorModuleUrl === "" || customSelectorModuleUrl == null ? undefined : customSelectorModuleUrl;
                extParams1 = extParams1 === "" || extParams1 == null ? undefined : extParams1;
                extParams2 = extParams2 === "" || extParams2 == null ? undefined : extParams2;
                //
                this.sourceUiService.openBillCreationProcessSelector4SpecificPush(sourceVoId, targetVoId, bizFlowchartId, modalOptions, customSelectorModuleUrl, extParams1).subscribe(( /**
                 * @param {?} cp
                 * @return {?}
                 */function (cp) {
                    //
                    _this.dataService.getFormSettingsById(cp.formSettingsId).subscribe(( /**
                     * @param {?} formSettings
                     * @return {?}
                     */function (formSettings) {
                        //
                        /** @type {?} */
                        var args = new FormBillCreationProcessExecutorArgs();
                        args.billCreationProcessId = cp.id;
                        args.creationRuleId = cp.creationRuleId;
                        //FormCreationRuleExecutorArgssourceVoEntityDatas
                        //sourceVoEntityDatas
                        args.sourceVoEntityDatas = entities.map(( /**
                         * @param {?} item
                         * @return {?}
                         */function (item) {
                            if (item instanceof devkit.Entity) {
                                // Entity
                                return JSON.stringify(item.toJSON(false, true));
                            }
                            else if (item["__type__"] == "BindingObject") {
                                //BindingData
                                /** @type {?} */
                                var bindingObject = ( /** @type {?} */(item));
                                return JSON.stringify(bindingObject.toJSON({ useFullMultiLangProperty: true }));
                            }
                            else {
                                /** @type {?} */
                                var e = ( /** @type {?} */(item));
                                return JSON.stringify(e.toJSON(false, true));
                            }
                        }));
                        //IdtargetVoDataIds
                        args.targetVoDataIds = [];
                        args.manualCreationMode = ManualCreationMode.SpecificPush;
                        //
                        _this.dataService.executeBillCreationProcess(args).subscribe(( /**
                         * @param {?} result
                         * @return {?}
                         */function (result) {
                            //Mappingtrue
                            if (result.conditionResult.conditionExecutionResult == true) {
                                //
                                if (result.creationRuleExecutorResult && result.creationRuleExecutorResult.mappingResults && result.creationRuleExecutorResult.mappingResults.length > 0) {
                                    if (result.pushCreationMode == null || result.pushCreationMode == commonApi$1.PushCreationMode.CREATION) {
                                        _this.dataService.addFormBillCreationProcessExecutorResult(result).subscribe(( /**
                                         * @param {?} res
                                         * @return {?}
                                         */function (res) {
                                            //
                                            _this.sourceUiService.openTargetApp(formSettings, result.conditionResult, res, __assign({ action: targetCommand }, extParams2));
                                        }));
                                    }
                                    else if (result.pushCreationMode == commonApi$1.PushCreationMode.TASKCENTER) {
                                        //
                                        /** @type {?} */
                                        var pushTaskArgs = new PushTaskArgs();
                                        pushTaskArgs.suCode = result.downBillSuCode;
                                        pushTaskArgs.creationRuleExecutorResult = result.creationRuleExecutorResult;
                                        _this.dataService.pushTaskCenter(pushTaskArgs).subscribe(( /**
                                         * @return {?}
                                         */function () {
                                            _this.messagerService.success(_this.localePipe.transform("pushTaskCenterSuccess"));
                                        }), ( /**
                                         * @param {?} err
                                         * @return {?}
                                         */function (err) {
                                            _this.messagerService.error((err.error == null ? err.message : (err.error.innerMessage || err.error.Message || err.error.message || err.message)) || _this.localePipe.transform("pushTaskCenterFailed"));
                                        }));
                                    }
                                }
                                else {
                                    _this.messagerService.error(_this.localePipe.transform("creationResultEmpty"));
                                }
                            }
                            else {
                                //false
                                _this.messagerService.error(result.conditionResult.message || _this.localePipe.transform("creationExecutionError"));
                            }
                        }), ( /**
                         * @param {?} err
                         * @return {?}
                         */function (err) {
                            _this.messagerService.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));
                        }));
                    }));
                }));
            };
        /**
         * ID
         *
         * @param processId  Id
         * @param entities 
         * @param targetCommand ''
         * @param extParams 
         */
        /**
         * ID
         *
         * @param {?} processId  Id
         * @param {?} entities 
         * @param {?=} targetCommand ''
         * @param {?=} extParams 
         * @return {?}
         */
        BifManualCreationSourceWebCmpService.prototype.pushByCreationProcessId = /**
         * ID
         *
         * @param {?} processId  Id
         * @param {?} entities 
         * @param {?=} targetCommand ''
         * @param {?=} extParams 
         * @return {?}
         */
            function (processId, entities, targetCommand, extParams) {
                var _this = this;
                if (entities == null) {
                    throw "entities is null.";
                }
                if (entities instanceof Map) {
                    entities = Array.from(entities.values());
                }
                entities = Array.isArray(entities) ? entities : [entities];
                extParams = extParams === "" || extParams == null ? undefined : extParams;
                if (targetCommand == null || targetCommand == "") {
                    targetCommand = "rootviewmodelbifLoad1";
                }
                //
                this.dataService.getSlimBillCreationProcessEntityExById(processId).subscribe(( /**
                 * @param {?} cp
                 * @return {?}
                 */function (cp) {
                    //
                    _this.dataService.getFormSettingsById(cp.formSettingsId).subscribe(( /**
                     * @param {?} formSettings
                     * @return {?}
                     */function (formSettings) {
                        //
                        /** @type {?} */
                        var args = new FormBillCreationProcessExecutorArgs();
                        args.billCreationProcessId = cp.id;
                        args.creationRuleId = cp.creationRuleId;
                        //FormCreationRuleExecutorArgssourceVoEntityDatas
                        //sourceVoEntityDatas
                        args.sourceVoEntityDatas = entities.map(( /**
                         * @param {?} item
                         * @return {?}
                         */function (item) {
                            if (item instanceof devkit.Entity) {
                                // Entity
                                return JSON.stringify(item.toJSON(false, true));
                            }
                            else if (item["__type__"] == "BindingObject") {
                                //BindingData
                                /** @type {?} */
                                var bindingObject = ( /** @type {?} */(item));
                                return JSON.stringify(bindingObject.toJSON({ useFullMultiLangProperty: true }));
                            }
                            else {
                                /** @type {?} */
                                var e = ( /** @type {?} */(item));
                                return JSON.stringify(e.toJSON(false, true));
                            }
                        }));
                        //IdtargetVoDataIds
                        args.targetVoDataIds = [];
                        args.manualCreationMode = ManualCreationMode.SpecificPush;
                        //
                        _this.dataService.executeBillCreationProcess(args).subscribe(( /**
                         * @param {?} result
                         * @return {?}
                         */function (result) {
                            //Mappingtrue
                            if (result.conditionResult.conditionExecutionResult == true) {
                                //
                                if (result.creationRuleExecutorResult && result.creationRuleExecutorResult.mappingResults && result.creationRuleExecutorResult.mappingResults.length > 0) {
                                    if (result.pushCreationMode == null || result.pushCreationMode == commonApi$1.PushCreationMode.CREATION) {
                                        _this.dataService.addFormBillCreationProcessExecutorResult(result).subscribe(( /**
                                         * @param {?} res
                                         * @return {?}
                                         */function (res) {
                                            //
                                            _this.sourceUiService.openTargetApp(formSettings, result.conditionResult, res, __assign({ action: targetCommand }, extParams));
                                        }));
                                    }
                                    else if (result.pushCreationMode == commonApi$1.PushCreationMode.TASKCENTER) {
                                        //
                                        /** @type {?} */
                                        var pushTaskArgs = new PushTaskArgs();
                                        pushTaskArgs.suCode = result.downBillSuCode;
                                        pushTaskArgs.creationRuleExecutorResult = result.creationRuleExecutorResult;
                                        _this.dataService.pushTaskCenter(pushTaskArgs).subscribe(( /**
                                         * @return {?}
                                         */function () {
                                            _this.messagerService.success(_this.localePipe.transform("pushTaskCenterSuccess"));
                                        }), ( /**
                                         * @param {?} err
                                         * @return {?}
                                         */function (err) {
                                            _this.messagerService.error((err.error == null ? err.message : (err.error.innerMessage || err.error.Message || err.error.message || err.message)) || _this.localePipe.transform("pushTaskCenterFailed"));
                                        }));
                                    }
                                }
                                else {
                                    _this.messagerService.error(_this.localePipe.transform("creationResultEmpty"));
                                }
                            }
                            else {
                                //false
                                _this.messagerService.error(result.conditionResult.message || _this.localePipe.transform("creationExecutionError"));
                            }
                        }), ( /**
                         * @param {?} err
                         * @return {?}
                         */function (err) {
                            _this.messagerService.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));
                        }));
                    }));
                }));
            };
        /**
         * VO Id
         * @param sourceVoId VO Id
         * @param bizFlowchartId Id
         * @param modalOptions 
         * @param customSelectorModuleUrl Url
         * @param extParams 
         * @returns creationProcess  @type { Observable<IRtSlimBillCreationProcessEntityEx> }
         */
        /**
         * VO Id
         * @param {?} sourceVoId VO Id
         * @param {?=} bizFlowchartId Id
         * @param {?=} modalOptions 
         * @param {?=} customSelectorModuleUrl Url
         * @param {?=} extParams 
         * @return {?} creationProcess  \@type { Observable<IRtSlimBillCreationProcessEntityEx> }
         */
        BifManualCreationSourceWebCmpService.prototype.openBillCreationProcessSelector4Push = /**
         * VO Id
         * @param {?} sourceVoId VO Id
         * @param {?=} bizFlowchartId Id
         * @param {?=} modalOptions 
         * @param {?=} customSelectorModuleUrl Url
         * @param {?=} extParams 
         * @return {?} creationProcess  \@type { Observable<IRtSlimBillCreationProcessEntityEx> }
         */
            function (sourceVoId, bizFlowchartId, modalOptions, customSelectorModuleUrl, extParams) {
                bizFlowchartId = bizFlowchartId === "" || bizFlowchartId == null ? undefined : bizFlowchartId;
                modalOptions = ( /** @type {?} */(modalOptions)) === "" || modalOptions == null ? undefined : modalOptions;
                customSelectorModuleUrl = customSelectorModuleUrl === "" || customSelectorModuleUrl == null ? undefined : customSelectorModuleUrl;
                extParams = extParams === "" || extParams == null ? undefined : extParams;
                return this.sourceUiService.openBillCreationProcessSelector4Push(sourceVoId, bizFlowchartId, modalOptions, customSelectorModuleUrl, extParams);
            };
        /**
         * VO IdVO Id
         * @param sourceVoId VO Id
         * @param targetVoId VO Id
         * @param bizFlowchartId Id
         * @param modalOptions 
         * @param customSelectorModuleUrl Url
         * @param extParams 
         * @returns creationProcess  @type { Observable<IRtSlimBillCreationProcessEntityEx> }
         */
        /**
         * VO IdVO Id
         * @param {?} sourceVoId VO Id
         * @param {?} targetVoId VO Id
         * @param {?=} bizFlowchartId Id
         * @param {?=} modalOptions 
         * @param {?=} customSelectorModuleUrl Url
         * @param {?=} extParams 
         * @return {?} creationProcess  \@type { Observable<IRtSlimBillCreationProcessEntityEx> }
         */
        BifManualCreationSourceWebCmpService.prototype.openBillCreationProcessSelector4SpecificPush = /**
         * VO IdVO Id
         * @param {?} sourceVoId VO Id
         * @param {?} targetVoId VO Id
         * @param {?=} bizFlowchartId Id
         * @param {?=} modalOptions 
         * @param {?=} customSelectorModuleUrl Url
         * @param {?=} extParams 
         * @return {?} creationProcess  \@type { Observable<IRtSlimBillCreationProcessEntityEx> }
         */
            function (sourceVoId, targetVoId, bizFlowchartId, modalOptions, customSelectorModuleUrl, extParams) {
                bizFlowchartId = bizFlowchartId === "" || bizFlowchartId == null ? undefined : bizFlowchartId;
                modalOptions = ( /** @type {?} */(modalOptions)) === "" || modalOptions == null ? undefined : modalOptions;
                customSelectorModuleUrl = customSelectorModuleUrl === "" || customSelectorModuleUrl == null ? undefined : customSelectorModuleUrl;
                extParams = extParams === "" || extParams == null ? undefined : extParams;
                //
                return this.sourceUiService.openBillCreationProcessSelector4SpecificPush(sourceVoId, targetVoId, bizFlowchartId, modalOptions, customSelectorModuleUrl, extParams);
            };
        /**
         * @Deprecated  {@link openTargetApp }
         * 
         * @param formSettings 
         * @param result 
         * @param targetCommand 
         * @param extParams 
         */
        /**
         * \@Deprecated  {\@link openTargetApp }
         * 
         * @param {?} formSettings 
         * @param {?} result 
         * @param {?=} targetCommand 
         * @param {?=} extParams 
         * @return {?}
         */
        BifManualCreationSourceWebCmpService.prototype.openTargetForm = /**
         * \@Deprecated  {\@link openTargetApp }
         * 
         * @param {?} formSettings 
         * @param {?} result 
         * @param {?=} targetCommand 
         * @param {?=} extParams 
         * @return {?}
         */
            function (formSettings, result, targetCommand, extParams) {
                if (targetCommand == null || targetCommand == "") {
                    targetCommand = "rootviewmodelbifLoad1";
                }
                this.sourceUiService.openTargetForm(formSettings, result, __assign({ action: targetCommand }, extParams));
            };
        /**
         * 
         * @param formSettings 
         * @param conditionResult 
         * @param targetCommand 
         * @param extParams 
         */
        /**
         * 
         * @param {?} formSettings 
         * @param {?} conditionResult 
         * @param {?} textIdWithDataIds
         * @param {?=} targetCommand 
         * @param {?=} extParams 
         * @return {?}
         */
        BifManualCreationSourceWebCmpService.prototype.openTargetApp = /**
         * 
         * @param {?} formSettings 
         * @param {?} conditionResult 
         * @param {?} textIdWithDataIds
         * @param {?=} targetCommand 
         * @param {?=} extParams 
         * @return {?}
         */
            function (formSettings, conditionResult, textIdWithDataIds, targetCommand, extParams) {
                if (targetCommand == null || targetCommand == "") {
                    targetCommand = "rootviewmodelbifLoad1";
                }
                this.sourceUiService.openTargetApp(formSettings, conditionResult, textIdWithDataIds, __assign({ action: targetCommand }, extParams));
            };
        BifManualCreationSourceWebCmpService.decorators = [
            { type: core$1.Injectable }
        ];
        /** @nocollapse */
        BifManualCreationSourceWebCmpService.ctorParameters = function () {
            return [
                { type: BifSourceUiService },
                { type: BifDataService },
                { type: devkit.BindingData },
                { type: uiMessager.MessagerService },
                { type: devkit.ViewModel, decorators: [{ type: core$1.Optional }] },
                { type: devkit.FrameContext, decorators: [{ type: core$1.Optional }] }
            ];
        };
        return BifManualCreationSourceWebCmpService;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/webcmp/bif-manual-creation-target.webcmp.service.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * 
     */
    var BifManualCreationTargetWebCmpService = /** @class */ (function () {
        function BifManualCreationTargetWebCmpService(dataService, targetUiService, stateMachineService, bindingData, messagerService, cardDataService, viewModel, frameContext) {
            this.dataService = dataService;
            this.targetUiService = targetUiService;
            this.stateMachineService = stateMachineService;
            this.bindingData = bindingData;
            this.messagerService = messagerService;
            this.cardDataService = cardDataService;
            this.viewModel = viewModel;
            this.frameContext = frameContext;
            this.localePipe = new LocalePipe(this.targetUiService && this.targetUiService.localeId || 'zh-CHS');
        }
        /**
         * 
         * @param formVoId  Id
         */
        /**
         * 
         * @param {?} formVoId  Id
         * @return {?}
         */
        BifManualCreationTargetWebCmpService.prototype.bifLoad = /**
         * 
         * @param {?} formVoId  Id
         * @return {?}
         */
            function (formVoId) {
                var _this = this;
                /** @type {?} */
                var args = new runtimeApi.FormCreateArgs();
                args.formVoId = formVoId;
                //
                this.targetUiService.getCreationResult().subscribe(( /**
                 * @param {?} res
                 * @return {?}
                 */function (res) {
                    args.rpcCreationRuleExecutorResult = res.creationRuleExecutorResult.ConvertToJson();
                    //
                    _this.dataService.createEntityDatas(args).subscribe(( /**
                     * @param {?} result
                     * @return {?}
                     */function (result) {
                        // 
                        _this.stateMachineService.transit("Create");
                    }), ( /**
                     * @param {?} err
                     * @return {?}
                     */function (err) {
                        _this.messagerService.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));
                    }));
                }));
            };
        /**
         * VO Id
         *
         * @param targetVoId  Id
         * @param targetDataIds Id
         * @param bizFlowchartId Id
         * @param modalOptions1 
         * @param customSelectorModuleUrl url
         * @param modalOptions2 
         * @param extParams1 
         * @param extParams2 
         */
        /**
         * VO Id
         *
         * @param {?} targetVoId  Id
         * @param {?=} targetDataIds Id
         * @param {?=} bizFlowchartId Id
         * @param {?=} modalOptions1 
         * @param {?=} customSelectorModuleUrl url
         * @param {?=} modalOptions2 
         * @param {?=} extParams1 
         * @param {?=} extParams2 
         * @return {?}
         */
        BifManualCreationTargetWebCmpService.prototype.referByTargetVoId = /**
         * VO Id
         *
         * @param {?} targetVoId  Id
         * @param {?=} targetDataIds Id
         * @param {?=} bizFlowchartId Id
         * @param {?=} modalOptions1 
         * @param {?=} customSelectorModuleUrl url
         * @param {?=} modalOptions2 
         * @param {?=} extParams1 
         * @param {?=} extParams2 
         * @return {?}
         */
            function (targetVoId, targetDataIds, bizFlowchartId, modalOptions1, customSelectorModuleUrl, modalOptions2, extParams1, extParams2) {
                var _this = this;
                bizFlowchartId = bizFlowchartId === "" || bizFlowchartId == null ? undefined : bizFlowchartId;
                targetDataIds = ( /** @type {?} */(targetDataIds)) === "" || targetDataIds == null ? [this.bindingData.getObject().id] : targetDataIds;
                modalOptions1 = ( /** @type {?} */(modalOptions1)) === "" || modalOptions1 == null ? undefined : modalOptions1;
                customSelectorModuleUrl = customSelectorModuleUrl === "" || customSelectorModuleUrl == null ? undefined : customSelectorModuleUrl;
                modalOptions2 = ( /** @type {?} */(modalOptions2)) === "" || modalOptions2 == null ? {
                    title: this.localePipe.transform("selectUpstreamBill"),
                    width: 1100,
                    height: 550,
                } : modalOptions2;
                extParams1 = extParams1 === "" || extParams1 == null ? undefined : extParams1;
                extParams2 = ( /** @type {?} */(extParams2)) === "" || extParams2 == null ? undefined : extParams2;
                //
                this.cardDataService.update().subscribe(( /**
                 * @return {?}
                 */function () {
                    //
                    _this.targetUiService.openBillCreationProcessSelector4Pull(targetVoId, bizFlowchartId, modalOptions1, customSelectorModuleUrl, extParams1).subscribe(( /**
                     * @param {?} cp
                     * @return {?}
                     */function (cp) {
                        //
                        _this.dataService.getFormSettingsById(cp.formSettingsId).subscribe(( /**
                         * @param {?} formSettings
                         * @return {?}
                         */function (formSettings) {
                            //
                            _this.targetUiService.openSourceDataSelector4Pull(formSettings, modalOptions2, extParams2).subscribe(( /**
                             * @param {?} entities
                             * @return {?}
                             */function (entities) {
                                //
                                /** @type {?} */
                                var args = new FormBillCreationProcessExecutorArgs();
                                args.billCreationProcessId = cp.id;
                                args.creationRuleId = cp.creationRuleId;
                                //FormBillCreationProcessExecutorArgssourceVoEntityDatas
                                //sourceVoEntityDatas
                                args.sourceVoEntityDatas = entities.map(( /**
                                 * @param {?} item
                                 * @return {?}
                                 */function (item) {
                                    if (item instanceof devkit.Entity) {
                                        // Entity
                                        return JSON.stringify(item.toJSON(false, true));
                                    }
                                    else if (item["__type__"] == "BindingObject") {
                                        //BindingData
                                        /** @type {?} */
                                        var bindingObject = ( /** @type {?} */(item));
                                        return JSON.stringify(bindingObject.toJSON({ useFullMultiLangProperty: true }));
                                    }
                                    else {
                                        /** @type {?} */
                                        var e = ( /** @type {?} */(item));
                                        return JSON.stringify(e.toJSON(false, true));
                                    }
                                }));
                                args.targetVoDataIds = targetDataIds;
                                args.manualCreationMode = ManualCreationMode.Pull;
                                //
                                _this.dataService.executeBillCreationProcess(args).subscribe(( /**
                                 * @param {?} result
                                 * @return {?}
                                 */function (result) {
                                    /** @type {?} */
                                    var args = new runtimeApi.FormUpdateArgs();
                                    //Mappingtrue
                                    if (result.conditionResult.conditionExecutionResult == true) {
                                        //
                                        if (result.creationRuleExecutorResult && result.creationRuleExecutorResult.mappingResults && result.creationRuleExecutorResult.mappingResults.length > 0) {
                                            args.rpcCreationRuleExecutorResult = result.creationRuleExecutorResult.ConvertToJson();
                                            //
                                            _this.dataService.updateEntityDatas(args).subscribe(( /**
                                             * @param {?} res
                                             * @return {?}
                                             */function (res) {
                                                //
                                                _this.cardDataService.load(targetDataIds[0]).subscribe();
                                            }), ( /**
                                             * @param {?} err
                                             * @return {?}
                                             */function (err) {
                                                _this.messagerService.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));
                                            }));
                                        }
                                        else {
                                            _this.messagerService.error(_this.localePipe.transform("creationResultEmpty"));
                                        }
                                    }
                                    else {
                                        //false
                                        _this.messagerService.error(result.conditionResult.message || _this.localePipe.transform("creationExecutionError"));
                                    }
                                }));
                            }));
                        }));
                    }));
                }), ( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    _this.messagerService.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));
                }));
            };
        /**
         * VO IdVO Id
         *
         * @param sourceVoId  Id
         * @param targetVoId  Id
         * @param targetDataIds Id
         * @param bizFlowchartId Id
         * @param modalOptions1 
         * @param customSelectorModuleUrl url
         * @param modalOptions2 
         * @param extParams1 
         * @param extParams2 
         */
        /**
         * VO IdVO Id
         *
         * @param {?} sourceVoId  Id
         * @param {?} targetVoId  Id
         * @param {?=} targetDataIds Id
         * @param {?=} bizFlowchartId Id
         * @param {?=} modalOptions1 
         * @param {?=} customSelectorModuleUrl url
         * @param {?=} modalOptions2 
         * @param {?=} extParams1 
         * @param {?=} extParams2 
         * @return {?}
         */
        BifManualCreationTargetWebCmpService.prototype.referBySourceVoIdAndTargetVoId = /**
         * VO IdVO Id
         *
         * @param {?} sourceVoId  Id
         * @param {?} targetVoId  Id
         * @param {?=} targetDataIds Id
         * @param {?=} bizFlowchartId Id
         * @param {?=} modalOptions1 
         * @param {?=} customSelectorModuleUrl url
         * @param {?=} modalOptions2 
         * @param {?=} extParams1 
         * @param {?=} extParams2 
         * @return {?}
         */
            function (sourceVoId, targetVoId, targetDataIds, bizFlowchartId, modalOptions1, customSelectorModuleUrl, modalOptions2, extParams1, extParams2) {
                var _this = this;
                bizFlowchartId = bizFlowchartId === "" || bizFlowchartId == null ? undefined : bizFlowchartId;
                targetDataIds = ( /** @type {?} */(targetDataIds)) === "" || targetDataIds == null ? [this.bindingData.getObject().id] : targetDataIds;
                modalOptions1 = ( /** @type {?} */(modalOptions1)) === "" || modalOptions1 == null ? undefined : modalOptions1;
                customSelectorModuleUrl = customSelectorModuleUrl === "" || customSelectorModuleUrl == null ? undefined : customSelectorModuleUrl;
                modalOptions2 = ( /** @type {?} */(modalOptions2)) === "" || modalOptions2 == null ? {
                    title: this.localePipe.transform("selectUpstreamBill"),
                    width: 1100,
                    height: 550,
                } : modalOptions2;
                extParams1 = extParams1 === "" || extParams1 == null ? undefined : extParams1;
                extParams2 = ( /** @type {?} */(extParams2)) === "" || extParams2 == null ? undefined : extParams2;
                //
                this.cardDataService.update().subscribe(( /**
                 * @return {?}
                 */function () {
                    //
                    _this.targetUiService.openBillCreationProcessSelector4SpecificPull(sourceVoId, targetVoId, bizFlowchartId, modalOptions1, customSelectorModuleUrl, extParams1).subscribe(( /**
                     * @param {?} cp
                     * @return {?}
                     */function (cp) {
                        //
                        _this.dataService.getFormSettingsById(cp.formSettingsId).subscribe(( /**
                         * @param {?} formSettings
                         * @return {?}
                         */function (formSettings) {
                            //
                            _this.targetUiService.openSourceDataSelector4Pull(formSettings, modalOptions2, extParams2).subscribe(( /**
                             * @param {?} entities
                             * @return {?}
                             */function (entities) {
                                //
                                /** @type {?} */
                                var args = new FormBillCreationProcessExecutorArgs();
                                args.billCreationProcessId = cp.id;
                                args.creationRuleId = cp.creationRuleId;
                                //FormBillCreationProcessExecutorArgssourceVoEntityDatas
                                //sourceVoEntityDatas
                                args.sourceVoEntityDatas = entities.map(( /**
                                 * @param {?} item
                                 * @return {?}
                                 */function (item) {
                                    if (item instanceof devkit.Entity) {
                                        // Entity
                                        return JSON.stringify(item.toJSON(false, true));
                                    }
                                    else if (item["__type__"] == "BindingObject") {
                                        //BindingData
                                        /** @type {?} */
                                        var bindingObject = ( /** @type {?} */(item));
                                        return JSON.stringify(bindingObject.toJSON({ useFullMultiLangProperty: true }));
                                    }
                                    else {
                                        /** @type {?} */
                                        var e = ( /** @type {?} */(item));
                                        return JSON.stringify(e.toJSON(false, true));
                                    }
                                }));
                                args.targetVoDataIds = targetDataIds;
                                args.manualCreationMode = ManualCreationMode.SpecificPull;
                                //
                                _this.dataService.executeBillCreationProcess(args).subscribe(( /**
                                 * @param {?} result
                                 * @return {?}
                                 */function (result) {
                                    /** @type {?} */
                                    var args = new runtimeApi.FormUpdateArgs();
                                    //Mappingtrue
                                    if (result.conditionResult.conditionExecutionResult == true) {
                                        //
                                        if (result.creationRuleExecutorResult && result.creationRuleExecutorResult.mappingResults && result.creationRuleExecutorResult.mappingResults.length > 0) {
                                            args.rpcCreationRuleExecutorResult = result.creationRuleExecutorResult.ConvertToJson();
                                            //
                                            _this.dataService.updateEntityDatas(args).subscribe(( /**
                                             * @param {?} res
                                             * @return {?}
                                             */function (res) {
                                                //
                                                _this.cardDataService.load(targetDataIds[0]).subscribe();
                                            }), ( /**
                                             * @param {?} err
                                             * @return {?}
                                             */function (err) {
                                                _this.messagerService.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));
                                            }));
                                        }
                                        else {
                                            _this.messagerService.error(_this.localePipe.transform("creationResultEmpty"));
                                        }
                                    }
                                    else {
                                        //false
                                        _this.messagerService.error(result.conditionResult.message || _this.localePipe.transform("creationExecutionError"));
                                    }
                                }));
                            }));
                        }));
                    }));
                }), ( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    _this.messagerService.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));
                }));
            };
        /**
         * ID
         *
         * @param processId  Id
         * @param targetDataIds Id
         * @param modalOptions 
         * @param extParams 
         */
        /**
         * ID
         *
         * @param {?} processId  Id
         * @param {?=} targetDataIds Id
         * @param {?=} modalOptions 
         * @param {?=} extParams 
         * @return {?}
         */
        BifManualCreationTargetWebCmpService.prototype.referByCreationProcessId = /**
         * ID
         *
         * @param {?} processId  Id
         * @param {?=} targetDataIds Id
         * @param {?=} modalOptions 
         * @param {?=} extParams 
         * @return {?}
         */
            function (processId, targetDataIds, modalOptions, extParams) {
                var _this = this;
                targetDataIds = ( /** @type {?} */(targetDataIds)) === "" || targetDataIds == null ? [this.bindingData.getObject().id] : targetDataIds;
                modalOptions = ( /** @type {?} */(modalOptions)) === "" || modalOptions == null ? {
                    title: this.localePipe.transform("selectUpstreamBill"),
                    width: 1100,
                    height: 550,
                } : modalOptions;
                extParams = ( /** @type {?} */(extParams)) === "" || extParams == null ? undefined : extParams;
                //
                this.cardDataService.update().subscribe(( /**
                 * @return {?}
                 */function () {
                    //
                    _this.dataService.getSlimBillCreationProcessEntityExById(processId).subscribe(( /**
                     * @param {?} cp
                     * @return {?}
                     */function (cp) {
                        //
                        _this.dataService.getFormSettingsById(cp.formSettingsId).subscribe(( /**
                         * @param {?} formSettings
                         * @return {?}
                         */function (formSettings) {
                            //
                            _this.targetUiService.openSourceDataSelector4Pull(formSettings, modalOptions, extParams).subscribe(( /**
                             * @param {?} entities
                             * @return {?}
                             */function (entities) {
                                //
                                /** @type {?} */
                                var args = new FormBillCreationProcessExecutorArgs();
                                args.billCreationProcessId = cp.id;
                                args.creationRuleId = cp.creationRuleId;
                                //FormBillCreationProcessExecutorArgssourceVoEntityDatas
                                //sourceVoEntityDatas
                                args.sourceVoEntityDatas = entities.map(( /**
                                 * @param {?} item
                                 * @return {?}
                                 */function (item) {
                                    if (item instanceof devkit.Entity) {
                                        // Entity
                                        return JSON.stringify(item.toJSON(false, true));
                                    }
                                    else if (item["__type__"] == "BindingObject") {
                                        //BindingData
                                        /** @type {?} */
                                        var bindingObject = ( /** @type {?} */(item));
                                        return JSON.stringify(bindingObject.toJSON({ useFullMultiLangProperty: true }));
                                    }
                                    else {
                                        /** @type {?} */
                                        var e = ( /** @type {?} */(item));
                                        return JSON.stringify(e.toJSON(false, true));
                                    }
                                }));
                                args.targetVoDataIds = targetDataIds;
                                args.manualCreationMode = ManualCreationMode.SpecificPull;
                                //
                                _this.dataService.executeBillCreationProcess(args).subscribe(( /**
                                 * @param {?} result
                                 * @return {?}
                                 */function (result) {
                                    /** @type {?} */
                                    var args = new runtimeApi.FormUpdateArgs();
                                    //Mappingtrue
                                    if (result.conditionResult.conditionExecutionResult == true) {
                                        //
                                        if (result.creationRuleExecutorResult && result.creationRuleExecutorResult.mappingResults && result.creationRuleExecutorResult.mappingResults.length > 0) {
                                            args.rpcCreationRuleExecutorResult = result.creationRuleExecutorResult.ConvertToJson();
                                            //
                                            _this.dataService.updateEntityDatas(args).subscribe(( /**
                                             * @param {?} res
                                             * @return {?}
                                             */function (res) {
                                                //
                                                _this.cardDataService.load(targetDataIds[0]).subscribe();
                                            }), ( /**
                                             * @param {?} err
                                             * @return {?}
                                             */function (err) {
                                                _this.messagerService.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));
                                            }));
                                        }
                                        else {
                                            _this.messagerService.error(_this.localePipe.transform("creationResultEmpty"));
                                        }
                                    }
                                    else {
                                        //false
                                        _this.messagerService.error(result.conditionResult.message || _this.localePipe.transform("creationExecutionError"));
                                    }
                                }));
                            }));
                        }));
                    }));
                }), ( /**
                 * @param {?} err
                 * @return {?}
                 */function (err) {
                    _this.messagerService.error(err.error == null ? err.message : (err.error.Message || err.error.message || err.message));
                }));
            };
        /**
         * @Deprecated  {@link getCreationResult }
         * 
         * @returns creationResult  @type { FormBillCreationProcessExecutorResult }
         */
        /**
         * \@Deprecated  {\@link getCreationResult }
         * 
         * @return {?} creationResult  \@type { FormBillCreationProcessExecutorResult }
         */
        BifManualCreationTargetWebCmpService.prototype.getFormBillCreationProcessExecutorResult = /**
         * \@Deprecated  {\@link getCreationResult }
         * 
         * @return {?} creationResult  \@type { FormBillCreationProcessExecutorResult }
         */
            function () {
                return this.targetUiService.getFormBillCreationProcessExecutorResult();
            };
        /**
         * VO Id
         * @param targetVoId VO Id
         * @param bizFlowchartId Id
         * @param modalOptions 
         * @param customSelectorModuleUrl Url
         * @param extParams 
         * @returns creationProcess  @type { Observable<IRtSlimBillCreationProcessEntityEx> }
         */
        /**
         * VO Id
         * @param {?} targetVoId VO Id
         * @param {?=} bizFlowchartId Id
         * @param {?=} modalOptions 
         * @param {?=} customSelectorModuleUrl Url
         * @param {?=} extParams 
         * @return {?} creationProcess  \@type { Observable<IRtSlimBillCreationProcessEntityEx> }
         */
        BifManualCreationTargetWebCmpService.prototype.openBillCreationProcessSelector4Pull = /**
         * VO Id
         * @param {?} targetVoId VO Id
         * @param {?=} bizFlowchartId Id
         * @param {?=} modalOptions 
         * @param {?=} customSelectorModuleUrl Url
         * @param {?=} extParams 
         * @return {?} creationProcess  \@type { Observable<IRtSlimBillCreationProcessEntityEx> }
         */
            function (targetVoId, bizFlowchartId, modalOptions, customSelectorModuleUrl, extParams) {
                bizFlowchartId = bizFlowchartId === "" || bizFlowchartId == null ? undefined : bizFlowchartId;
                modalOptions = ( /** @type {?} */(modalOptions)) === "" || modalOptions == null ? undefined : modalOptions;
                customSelectorModuleUrl = customSelectorModuleUrl === "" || customSelectorModuleUrl == null ? undefined : customSelectorModuleUrl;
                extParams = extParams === "" || extParams == null ? undefined : extParams;
                //
                return this.targetUiService.openBillCreationProcessSelector4Pull(targetVoId, bizFlowchartId, modalOptions, customSelectorModuleUrl, extParams);
            };
        /**
         * VO IdVO Id
         * @param sourceVoId VO Id
         * @param targetVoId VO Id
         * @param bizFlowchartId Id
         * @param modalOptions 
         * @param customSelectorModuleUrl Url
         * @param extParams 
         * @returns creationProcess  @type { Observable<IRtSlimBillCreationProcessEntityEx> }
         */
        /**
         * VO IdVO Id
         * @param {?} sourceVoId VO Id
         * @param {?} targetVoId VO Id
         * @param {?=} bizFlowchartId Id
         * @param {?=} modalOptions 
         * @param {?=} customSelectorModuleUrl Url
         * @param {?=} extParams 
         * @return {?} creationProcess  \@type { Observable<IRtSlimBillCreationProcessEntityEx> }
         */
        BifManualCreationTargetWebCmpService.prototype.openBillCreationProcessSelector4SpecificPull = /**
         * VO IdVO Id
         * @param {?} sourceVoId VO Id
         * @param {?} targetVoId VO Id
         * @param {?=} bizFlowchartId Id
         * @param {?=} modalOptions 
         * @param {?=} customSelectorModuleUrl Url
         * @param {?=} extParams 
         * @return {?} creationProcess  \@type { Observable<IRtSlimBillCreationProcessEntityEx> }
         */
            function (sourceVoId, targetVoId, bizFlowchartId, modalOptions, customSelectorModuleUrl, extParams) {
                bizFlowchartId = bizFlowchartId === "" || bizFlowchartId == null ? undefined : bizFlowchartId;
                modalOptions = ( /** @type {?} */(modalOptions)) === "" || modalOptions == null ? undefined : modalOptions;
                customSelectorModuleUrl = customSelectorModuleUrl === "" || customSelectorModuleUrl == null ? undefined : customSelectorModuleUrl;
                extParams = ( /** @type {?} */(extParams)) === "" || extParams == null ? undefined : extParams;
                return this.targetUiService.openBillCreationProcessSelector4SpecificPull(sourceVoId, targetVoId, bizFlowchartId, modalOptions, customSelectorModuleUrl, extParams);
            };
        /**
         * 
         * @param formSettings 
         * @param modalOptions 
         * @param extParams 
         * @returns entities  @type { Observable<Entity[]> }
         */
        /**
         * 
         * @param {?} formSettings 
         * @param {?=} modalOptions 
         * @param {?=} extParams 
         * @return {?} entities  \@type { Observable<Entity[]> }
         */
        BifManualCreationTargetWebCmpService.prototype.openSourceDataSelector4Pull = /**
         * 
         * @param {?} formSettings 
         * @param {?=} modalOptions 
         * @param {?=} extParams 
         * @return {?} entities  \@type { Observable<Entity[]> }
         */
            function (formSettings, modalOptions, extParams) {
                modalOptions = ( /** @type {?} */(modalOptions)) === "" || modalOptions == null ? {
                    title: this.localePipe.transform("selectUpstreamBill"),
                    width: 1100,
                    height: 550,
                } : modalOptions;
                extParams = ( /** @type {?} */(extParams)) === "" || extParams == null ? undefined : extParams;
                //
                return this.targetUiService.openSourceDataSelector4Pull(formSettings, modalOptions, extParams);
            };
        /**
         * UIState
         * @returns creationResult  @type { FormBillCreationProcessExecutorResult }
         */
        /**
         * UIState
         * @return {?} creationResult  \@type { FormBillCreationProcessExecutorResult }
         */
        BifManualCreationTargetWebCmpService.prototype.getCreationResult = /**
         * UIState
         * @return {?} creationResult  \@type { FormBillCreationProcessExecutorResult }
         */
            function () {
                return this.targetUiService.getCreationResult();
            };
        BifManualCreationTargetWebCmpService.decorators = [
            { type: core$1.Injectable }
        ];
        /** @nocollapse */
        BifManualCreationTargetWebCmpService.ctorParameters = function () {
            return [
                { type: BifDataService },
                { type: BifTargetUiService },
                { type: commandServices.StateMachineService },
                { type: devkit.BindingData },
                { type: uiMessager.MessagerService },
                { type: commandServices.CardDataService },
                { type: devkit.ViewModel, decorators: [{ type: core$1.Optional }] },
                { type: devkit.FrameContext, decorators: [{ type: core$1.Optional }] }
            ];
        };
        return BifManualCreationTargetWebCmpService;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/webcmp/providers.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * BifDataService,BifSourceUiService,BifTargetUiService\@farris/devkit
     * FrameContextBindingDataRepositoryRootComponent
     * BIF_MANUAL_CREATION_PROVIDERS
     * BIF_MANUAL_CREATION_PROVIDERSRootComponent
     * @type {?}
     */
    var BIF_MANUAL_CREATION_PROVIDERS = [
        BifDataService,
        BifSourceUiService,
        BifTargetUiService,
        BifManualCreationDataWebCmpService,
        BifManualCreationSourceWebCmpService,
        BifManualCreationTargetWebCmpService,
    ];
    /**
     * BIF_BILL_TRACKER_PROVIDERS\@farris/devkit
     * root-component
     * @type {?}
     */
    var BIF_BILL_TRACKER_PROVIDERS = [
        BillTrackerUiService,
        BifBillTrackerWebCmpService,
    ];
    /** @type {?} */
    var BIF_DEVKIT_PROVIDERS = __spread(BIF_MANUAL_CREATION_PROVIDERS, BIF_BILL_TRACKER_PROVIDERS);

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/webcmp/bif-bill-tracker-webcmp.module.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BifBillTrackerWebCmpModule = /** @class */ (function () {
        function BifBillTrackerWebCmpModule() {
        }
        BifBillTrackerWebCmpModule.decorators = [
            { type: core$1.NgModule, args: [{
                        providers: BIF_BILL_TRACKER_PROVIDERS,
                    },] }
        ];
        return BifBillTrackerWebCmpModule;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: lib/webcmp/bif-manual-creation-webcmp.module.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BifManualCreationWebCmpModule = /** @class */ (function () {
        function BifManualCreationWebCmpModule() {
        }
        BifManualCreationWebCmpModule.decorators = [
            { type: core$1.NgModule, args: [{
                        providers: BIF_MANUAL_CREATION_PROVIDERS,
                    },] }
        ];
        return BifManualCreationWebCmpModule;
    }());

    /**
     * @fileoverview added by tsickle
     * Generated from: public-api.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * Generated from: edp-bif-runtime-api.ts
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    exports.FormBillCreationProcessExecutorResult = runtimeApi.FormBillCreationProcessExecutorResult;
    exports.FormCreationRuleExecutorArgs = runtimeApi.FormCreationRuleExecutorArgs;
    exports.FormCreateArgs = runtimeApi.FormCreateArgs;
    exports.FormCreateResult = runtimeApi.FormCreateResult;
    exports.FormUpdateArgs = runtimeApi.FormUpdateArgs;
    exports.FormUpdateResult = runtimeApi.FormUpdateResult;
    exports.RpcCreationRuleExecutorResult = runtimeApi.RpcCreationRuleExecutorResult;
    exports.RpcCreationMappingResult = runtimeApi.RpcCreationMappingResult;
    exports.MappingAssociation = runtimeApi.MappingAssociation;
    exports.RpcMappingResult = runtimeApi.RpcMappingResult;
    exports.BifDataService = BifDataService;
    exports.AbstractBifDataSelectorService = AbstractBifDataSelectorService;
    exports.DefaultBifDataSelectorService = DefaultBifDataSelectorService;
    exports.BifSourceUiService = BifSourceUiService;
    exports.BifTargetUiService = BifTargetUiService;
    exports.PushSelectorComponent = PushSelectorComponent;
    exports.PullSelectorComponent = PullSelectorComponent;
    exports.BifManualCreationModule = BifManualCreationModule;
    exports.BillTrackerArgs = BillTrackerArgs;
    exports.BillTrackerUiService = BillTrackerUiService;
    exports.BillTrackerComponent = BillTrackerComponent;
    exports.BillTrackerModule = BillTrackerModule;
    exports.BifBillTrackerWebCmpService = BifBillTrackerWebCmpService;
    exports.BifManualCreationDataWebCmpService = BifManualCreationDataWebCmpService;
    exports.BifManualCreationSourceWebCmpService = BifManualCreationSourceWebCmpService;
    exports.BifManualCreationTargetWebCmpService = BifManualCreationTargetWebCmpService;
    exports.BifBillTrackerWebCmpModule = BifBillTrackerWebCmpModule;
    exports.BifManualCreationWebCmpModule = BifManualCreationWebCmpModule;
    exports.mxDefaultKeyHandler = mxDefaultKeyHandlerType;
    exports.mxDefaultPopupMenu = mxDefaultPopupMenuType;
    exports.mxDefaultToolbar = mxDefaultToolbarType;
    exports.mxEditor = mxEditorType;
    exports.mxCellHighlight = mxCellHighlightType;
    exports.mxCellMarker = mxCellMarkerType;
    exports.mxCellTracker = mxCellTrackerType;
    exports.mxConnectionHandler = mxConnectionHandlerType;
    exports.mxConstraintHandler = mxConstraintHandlerType;
    exports.mxEdgeHandler = mxEdgeHandlerType;
    exports.mxEdgeSegmentHandler = mxEdgeSegmentHandlerType;
    exports.mxElbowEdgeHandler = mxElbowEdgeHandlerType;
    exports.mxGraphHandler = mxGraphHandlerType;
    exports.mxHandle = mxHandleType;
    exports.mxKeyHandler = mxKeyHandlerType;
    exports.mxPanningHandler = mxPanningHandlerType;
    exports.mxPopupMenuHandler = mxPopupMenuHandlerType;
    exports.mxRubberband = mxRubberbandType;
    exports.mxSelectionCellsHandler = mxSelectionCellsHandlerType;
    exports.mxTooltipHandler = mxTooltipHandlerType;
    exports.mxVertexHandler = mxVertexHandlerType;
    exports.mxCellCodec = mxCellCodecType;
    exports.mxChildChangeCodec = mxChildChangeCodecType;
    exports.mxDefaultKeyHandlerCodec = mxDefaultKeyHandlerCodecType;
    exports.mxDefaultPopupMenuCodec = mxDefaultPopupMenuCodecType;
    exports.mxDefaultToolbarCodec = mxDefaultToolbarCodecType;
    exports.mxEditorCodec = mxEditorCodecType;
    exports.mxGenericChangeCodec = mxGenericChangeCodecType;
    exports.mxGraphCodec = mxGraphCodecType;
    exports.mxGraphViewCodec = mxGraphViewCodecType;
    exports.mxModelCodec = mxModelCodecType;
    exports.mxObjectCodec = mxObjectCodecType;
    exports.mxRootChangeCodec = mxRootChangeCodecType;
    exports.mxStylesheetCodec = mxStylesheetCodecType;
    exports.mxTerminalChangeCodec = mxTerminalChangeCodecType;
    exports.mxCircleLayout = mxCircleLayoutType;
    exports.mxCompactTreeLayout = mxCompactTreeLayoutType;
    exports.mxCompositeLayout = mxCompositeLayoutType;
    exports.mxEdgeLabelLayout = mxEdgeLabelLayoutType;
    exports.mxFastOrganicLayout = mxFastOrganicLayoutType;
    exports.mxGraphLayout = mxGraphLayoutType;
    exports.mxParallelEdgeLayout = mxParallelEdgeLayoutType;
    exports.mxPartitionLayout = mxPartitionLayoutType;
    exports.mxRadialTreeLayout = mxRadialTreeLayoutType;
    exports.mxStackLayout = mxStackLayoutType;
    exports.mxHierarchicalLayout = mxHierarchicalLayoutType;
    exports.mxSwimlaneLayout = mxSwimlaneLayoutType;
    exports.mxGraphAbstractHierarchyCell = mxGraphAbstractHierarchyCellType;
    exports.mxGraphHierarchyEdge = mxGraphHierarchyEdgeType;
    exports.mxGraphHierarchyModel = mxGraphHierarchyModelType;
    exports.mxGraphHierarchyNode = mxGraphHierarchyNodeType;
    exports.mxSwimlaneModel = mxSwimlaneModelType;
    exports.mxCoordinateAssignment = mxCoordinateAssignmentType;
    exports.mxHierarchicalLayoutStage = mxHierarchicalLayoutStageType;
    exports.mxMedianHybridCrossingReduction = mxMedianHybridCrossingReductionType;
    exports.mxMinimumCycleRemover = mxMinimumCycleRemoverType;
    exports.mxSwimlaneOrdering = mxSwimlaneOrderingType;
    exports.mxCell = mxCellType;
    exports.mxCellPath = mxCellPathType;
    exports.mxGeometry = mxGeometryType;
    exports.mxGraphModel = mxGraphModelType;
    exports.renderingHint = renderingHintType;
    exports.mxActor = mxActorType;
    exports.mxArrow = mxArrowType;
    exports.mxArrowConnector = mxArrowConnectorType;
    exports.mxCloud = mxCloudType;
    exports.mxConnector = mxConnectorType;
    exports.mxCylinder = mxCylinderType;
    exports.mxDoubleEllipse = mxDoubleEllipseType;
    exports.mxEllipse = mxEllipseType;
    exports.mxHexagon = mxHexagonType;
    exports.mxImageShape = mxImageShapeType;
    exports.mxLabel = mxLabelType;
    exports.mxLine = mxLineType;
    exports.mxMarker = mxMarkerType;
    exports.mxPolyline = mxPolylineType;
    exports.mxRectangleShape = mxRectangleShapeType;
    exports.mxRhombus = mxRhombusType;
    exports.mxShape = mxShapeType;
    exports.mxStencil = mxStencilType;
    exports.mxStencilRegistry = mxStencilRegistryType;
    exports.mxSwimlane = mxSwimlaneType;
    exports.mxText = mxTextType;
    exports.mxTriangle = mxTriangleType;
    exports.mxAbstractCanvas2D = mxAbstractCanvas2DType;
    exports.mxAnimation = mxAnimationType;
    exports.mxAutoSaveManager = mxAutoSaveManagerType;
    exports.mxClipboard = mxClipboardType;
    exports.mxConstants = mxConstantsType;
    exports.mxDictionary = mxDictionaryType;
    exports.mxDivResizer = mxDivResizerType;
    exports.mxDragSource = mxDragSourceType;
    exports.mxEffects = mxEffectsType;
    exports.mxEvent = mxEventType;
    exports.mxEventObject = mxEventObjectType;
    exports.mxEventSource = mxEventSourceType;
    exports.mxForm = mxFormType;
    exports.mxGuide = mxGuideType;
    exports.mxImage = mxImageType;
    exports.mxImageBundle = mxImageBundleType;
    exports.mxImageExport = mxImageExportType;
    exports.mxLog = mxLogType;
    exports.mxMorphing = mxMorphingType;
    exports.mxMouseEvent = mxMouseEventType;
    exports.mxObjectIdentity = mxObjectIdentityType;
    exports.mxPanningManager = mxPanningManagerType;
    exports.mxPoint = mxPointType;
    exports.mxPopupMenu = mxPopupMenuType;
    exports.mxRectangle = mxRectangleType;
    exports.mxResources = mxResourcesType;
    exports.mxSvgCanvas2D = mxSvgCanvas2DType;
    exports.mxToolbar = mxToolbarType;
    exports.mxUndoableEdit = mxUndoableEditType;
    exports.mxUndoManager = mxUndoManagerType;
    exports.mxUrlConverter = mxUrlConverterType;
    exports.mxUtils = mxUtilsType;
    exports.mxVmlCanvas2D = mxVmlCanvas2DType;
    exports.mxWindow = mxWindowType;
    exports.mxXmlCanvas2D = mxXmlCanvas2DType;
    exports.mxXmlRequest = mxXmlRequestType;
    exports.mxCellEditor = mxCellEditorType;
    exports.mxCellOverlay = mxCellOverlayType;
    exports.mxCellRenderer = mxCellRendererType;
    exports.mxCellState = mxCellStateType;
    exports.mxCellStatePreview = mxCellStatePreviewType;
    exports.mxConnectionConstraint = mxConnectionConstraintType;
    exports.mxEdgeStyle = mxEdgeStyleType;
    exports.mxGraph = mxGraphType;
    exports.mxGraphSelectionModel = mxGraphSelectionModelType;
    exports.mxGraphView = mxGraphViewType;
    exports.mxLayoutManager = mxLayoutManagerType;
    exports.mxMultiplicity = mxMultiplicityType;
    exports.mxOutline = mxOutlineType;
    exports.mxPerimeter = mxPerimeterType;
    exports.mxPrintPreview = mxPrintPreviewType;
    exports.mxStyleRegistry = mxStyleRegistryType;
    exports.mxStylesheet = mxStylesheetType;
    exports.mxSwimlaneManager = mxSwimlaneManagerType;
    exports.mxTemporaryCellStates = mxTemporaryCellStatesType;
    exports.mxClient = mxClientType;
    exports.mxgraph = mxgraph;
    exports.BillData = BillData;
    exports.FormBillCreationProcessExecutorArgs = FormBillCreationProcessExecutorArgs;
    exports.FormGetBillCreationProcessEntityExArgs = FormGetBillCreationProcessEntityExArgs;
    exports.FormGetBillCreationProcessEntityExResult = FormGetBillCreationProcessEntityExResult;
    exports.ManualCreationMode = ManualCreationMode;
    exports.GeneralTextIdWithDataId = GeneralTextIdWithDataId;
    exports.BillDataInfo = BillDataInfo;
    exports.BillInfo = BillInfo;
    exports.CanTrackingInfo = CanTrackingInfo;
    exports.DownBillInfo = DownBillInfo;
    exports.GetBillsInfoArgs = GetBillsInfoArgs;
    exports.GetDownBillsInfoArgs = GetDownBillsInfoArgs;
    exports.GetUpBillsInfoArgs = GetUpBillsInfoArgs;
    exports.TrackingHelper = TrackingHelper;
    exports.TrackingMappingAssociation = TrackingMappingAssociation;
    exports.UpBillInfo = UpBillInfo;
    exports.BillChildInfo = BillChildInfo;
    exports.BillDetailInfo = BillDetailInfo;
    exports.BillItemInfo = BillItemInfo;
    exports.FieldsWithOrder = FieldsWithOrder;
    exports.SummaryFieldsInfo = SummaryFieldsInfo;
    exports.FieldNameAndValue = FieldNameAndValue;
    exports.DateTypeFormatInfo = DateTypeFormatInfo;
    exports.DecimalTypeFormatInfo = DecimalTypeFormatInfo;
    exports.TypeToFormat = TypeToFormat$1;
    exports.ScaleMode = ScaleMode;
    exports.ExpressionJointQueryParameterContent = ExpressionJointQueryParameterContent;
    exports.FieldJointQueryParameterContent = FieldJointQueryParameterContent;
    exports.JointQueryParameterContent = JointQueryParameterContent;
    exports.JointQueryParameterMode = JointQueryParameterMode;
    exports.JointQueryParameterResult = JointQueryParameterResult;
    exports.JointQueryParametersContent = JointQueryParametersContent;
    exports.SimpleValueMappingInfo = SimpleValueMappingInfo;
    exports.StringDisplayMode = StringDisplayMode;
    exports.StringTypeFormatInfo = StringTypeFormatInfo;
    exports.BIF_UISTATE_KEY_CREATION_RESULT = BIF_UISTATE_KEY_CREATION_RESULT;
    exports.BIF_UISTATE_KEY_OPEN_TYPE = BIF_UISTATE_KEY_OPEN_TYPE;
    exports.ModuleConfig = ModuleConfig;
    exports.SELECTOR_ARGS_INJECTOR = SELECTOR_ARGS_INJECTOR;
    exports.DEFAULT_SELECTOR_ARGS = DEFAULT_SELECTOR_ARGS;
    exports.PushTaskArgs = PushTaskArgs;
    exports.GetEntityDatasArgs = GetEntityDatasArgs;
    exports.CanTrackingResult = CanTrackingResult;
    exports.GetChildrenEntityDataArgs = GetChildrenEntityDataArgs;
    exports.DownBillInfoResult = DownBillInfoResult;
    exports.EntityDataResult = EntityDataResult;
    exports.GetEntityDataArgs = GetEntityDataArgs;
    exports.GetMainEntityDataArgs = GetMainEntityDataArgs;
    exports.UpBillInfoResult = UpBillInfoResult;
    exports.GetJointQueryParametersArgs = GetJointQueryParametersArgs;
    exports.BillTrackerConstant = BillTrackerConstant;
    exports.BillTrackerModuleConfig = BillTrackerModuleConfig;
    exports.BillTrackerDirection = BillTrackerDirection;
    exports.BillTrackerGraphOptions = BillTrackerGraphOptions;
    exports.BillTrackerGridOptions = BillTrackerGridOptions;
    exports.Graph = Graph;
    exports.GraphView = GraphView;
    exports.BillNodeShape = BillNodeShape;
    exports.BillAssociationLine = BillAssociationLine;
    exports.CompactTreeLayout = CompactTreeLayout;
    exports.RevertCompactTreeLayout = RevertCompactTreeLayout;
    exports.VertexHandler = VertexHandler;
    exports.Events = Events;
    exports.BillCell = BillCell;
    exports.CellOverlay = CellOverlay;
    exports.CellOverlayState = CellOverlayState;
    exports.Outline = Outline;
    exports.Styles = Styles;
    exports.BIF_MANUAL_CREATION_PROVIDERS = BIF_MANUAL_CREATION_PROVIDERS;
    exports.BIF_BILL_TRACKER_PROVIDERS = BIF_BILL_TRACKER_PROVIDERS;
    exports.BIF_DEVKIT_PROVIDERS = BIF_DEVKIT_PROVIDERS;
    exports.e = ModuleConfig;
    exports.d = SELECTOR_ARGS_INJECTOR;
    exports.a = LocalePipe;
    exports.b = AbstractUiService;
    exports.l = BasicInfoComponent;
    exports.i = BasicTableComponent;
    exports.j = ChildRowTableDirective;
    exports.h = BillTrackerDataComponent;
    exports.g = BillTrackerGraphComponent;
    exports.o = ChildInfoListComponent;
    exports.n = ChildInfoComponent;
    exports.q = BillTrackerModuleConfig;
    exports.p = BillTrackerFieldLabelPipe;
    exports.k = BillTrackerLocalePipe;
    exports.m = BillTrackerDataInfoService;
    exports.f = BillTrackerDataService;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=edp-bif-runtime-api.umd.js.map