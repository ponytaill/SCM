/**
 * @fileoverview added by tsickle
 * Generated from: lib/summary-condition/summary-condition.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Injector } from '@angular/core';
import { QueryCondition, ControlType } from '@farris/component-querycondition';
import { DateTimeHelperService } from '@farris/ui-common/date';
import { NumberHelperService } from '@farris/ui-common/number';
import { LocaleService } from '@farris/ui-locale';
export class SummaryConditionComponent {
    /**
     * @param {?} dtHelper
     * @param {?} numberHelper
     * @param {?} injector
     */
    constructor(dtHelper, numberHelper, injector) {
        this.dtHelper = dtHelper;
        this.numberHelper = numberHelper;
        this.injector = injector;
        // 分隔符
        this._spliter = '';
        // 是否区间
        this._isRange = false;
        this.showTime = false;
        this.textField = 'name';
        this.valueField = 'value';
        // 从服务器端取值是格式化后的
        this.returnFormat = '';
        // 文本显示
        this.text = "";
        // 千分位符号
        this.thousand = ',';
        // 小数点处符号
        this.decimal = '.';
        // 货币符号及值展现形式
        this.expression = '%s%v';
        // formControl显示的文本
        /**
         * 国际化类型
         * \@Input() localizationType: string;
         */
        // 货币符号，默认是RMB
        this.currencySymbol = '￥';
        // 十进制前面填充的符号
        this.filledSymbol = '0';
        this.localeService = this.injector.get(LocaleService);
    }
    /**
     * @param {?} qCondition
     * @return {?}
     */
    set condition(qCondition) {
        this._condition = qCondition;
        this.formatCondition();
    }
    /**
     * @return {?}
     */
    get condition() {
        return this._condition;
    }
    ;
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @return {?}
     */
    formatCondition() {
        /** @type {?} */
        let qCondition = this.condition;
        if (qCondition) {
            this._conditionType = qCondition.control.getControlType();
            /** @type {?} */
            let textValueObj;
            /** @type {?} */
            let textOriginalValue = qCondition.value.getOriginalValue();
            /** @type {?} */
            let startValue;
            /** @type {?} */
            let endValue;
            switch (this._conditionType) {
                case ControlType.Text:
                    //文本
                    textValueObj = (/** @type {?} */ (qCondition.value));
                    textOriginalValue = textValueObj.value && textValueObj.value.trim();
                    break;
                case ControlType.SingleNumber:
                    // 数值
                    this.numberOptions = { precision: qCondition.control['precision'], type: 'number' };
                    break;
                case ControlType.NumberRange:
                    // 数值区间
                    this._isRange = true;
                    this._spliter = '~';
                    this.numberOptions = { precision: qCondition.control['precision'], type: 'number' };
                    startValue = qCondition.value['startValue'] ? qCondition.value['startValue'] : '';
                    endValue = qCondition.value['endValue'] ? qCondition.value['endValue'] : '';
                    textOriginalValue = [startValue, endValue].join(this._spliter);
                    break;
                case ControlType.SingleDate:
                    //单个日期
                    this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : "yyyy-MM-dd";
                    this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : "yyyy-MM-dd";
                    break;
                case ControlType.DateRange:
                    //日期区间
                    this._isRange = true;
                    this._spliter = '~';
                    this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : "yyyy-MM-dd";
                    this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : "yyyy-MM-dd";
                    startValue = qCondition.value['startTime'] ? qCondition.value['startTime'] : '';
                    endValue = qCondition.value['endTime'] ? qCondition.value['endTime'] : '';
                    textOriginalValue = [startValue, endValue].join(this._spliter);
                    break;
                case ControlType.SingleYear:
                    // 只有年
                    this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : "yyyy";
                    this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : "yyyy";
                    break;
                case ControlType.SingleMonth:
                    // 只有月
                    this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : "yyyy-MM";
                    this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : "yyyy-MM";
                    break;
                case ControlType.MonthRange:
                    // 月范围
                    this._isRange = true;
                    this._spliter = '~';
                    this.returnFormat = qCondition.control && qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : "yyyy-MM";
                    this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] : "yyyy-MM";
                    startValue = qCondition.value['startTime'] ? qCondition.value['startTime'] : '';
                    endValue = qCondition.value['endTime'] ? qCondition.value['endTime'] : '';
                    break;
                case ControlType.SingleDateTime:
                    // 时间
                    this.showTime = true;
                    this.returnFormat = qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : this.returnFormat;
                    this.format = 'yyyy-MM-dd HH:mm:ss';
                    if (qCondition.control) {
                        if (qCondition.control['enableCustomFormat']) {
                            this.format = qCondition.control['format'] ? qCondition.control['format'] : this.returnFormat;
                        }
                        else {
                            this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] + ' HH:mm:ss' : this.returnFormat;
                        }
                    }
                    break;
                case ControlType.DateTimeRange:
                    // 时间区间
                    this.showTime = true;
                    this._isRange = true;
                    this._spliter = '~';
                    this.returnFormat = qCondition.control['returnFormat'] ? qCondition.control['returnFormat'] : this.returnFormat;
                    this.format = 'yyyy-MM-dd HH:mm:ss';
                    if (qCondition.control) {
                        if (qCondition.control['enableCustomFormat']) {
                            this.format = qCondition.control['format'] ? qCondition.control['format'] : this.returnFormat;
                        }
                        else {
                            this.format = qCondition.control && qCondition.control['format'] ? qCondition.control['format'] + ' HH:mm:ss' : this.returnFormat;
                        }
                    }
                    startValue = qCondition.value['startTime'] ? qCondition.value['startTime'] : '';
                    endValue = qCondition.value['endTime'] ? qCondition.value['endTime'] : '';
                    break;
                case ControlType.BoolCheck:
                    // 布尔值-单个值
                    /** @type {?} */
                    let checkValue = ((/** @type {?} */ (qCondition.value))).value;
                    textOriginalValue = checkValue.length > 0 ? checkValue['0'] : null;
                    break;
                case ControlType.DropDownList:
                    // 下拉
                    this._spliter = ',';
                    break;
                case ControlType.Radio:
                    // 单选组
                    this._spliter = ',';
                    break;
                case ControlType.InputGroup:
                    // inputgroup
                    textValueObj = (/** @type {?} */ (qCondition.value));
                    textOriginalValue = textValueObj.textValue && textValueObj.textValue.trim();
                    break;
                case ControlType.SmartHelp:
                    // 帮助
                    textValueObj = (/** @type {?} */ (qCondition.value));
                    textOriginalValue = textValueObj.textValue && textValueObj.textValue.trim();
                    break;
                default:
                    textOriginalValue = qCondition.value.getOriginalValue();
            }
            this.text = this.formatValue(textOriginalValue);
        }
        else {
            this.text = '';
        }
    }
    /**
     * 处理多语言，待定
     * @param {?} value
     * @return {?}
     */
    formatLang(value) {
        return value && value[this.currentLanguage] ? value[this.currentLanguage] : '';
    }
    /**
     * C货币
     * D十进制
     * F浮点数
     * N数字，带千分位
     * P百分比
     * @param {?} value
     * @return {?}
     */
    getFormatNumberValue(value) {
        if (!this.format && !this.numberOptions) {
            return value.toString();
        }
        if (this.numberOptions && this.numberOptions.type && this.numberOptions.type == 'number') {
            if (this.numberOptions.formatter) {
                return this.numberOptions.formatter(value);
            }
            else {
                if (this.numberOptions.useThousands) {
                    // 设置了千分位
                    if (this.numberOptions.precision != undefined) {
                        this.format = 'n' + this.numberOptions.precision;
                    }
                    else {
                        this.format = 'n';
                    }
                }
                else {
                    // 没有设置千分位
                    if (this.numberOptions.precision != undefined) {
                        this.format = 'f' + this.numberOptions.precision;
                    }
                    else {
                        // 没有设置精度，没有设置千分位
                        return value.toString();
                    }
                }
            }
        }
        else {
            return value.toString();
        }
        /** @type {?} */
        const firstLetter = this.currencyToUpperCase(this.format.substring(0, 1));
        /** @type {?} */
        const precision = Number(this.format.substring(1));
        /** @type {?} */
        let config = {};
        /** @type {?} */
        let result;
        if (!/C|D|F|N|P/g.test(firstLetter)) {
            console.warn(`不支持format为 ${this.format} 类型的数字格式化`);
            return;
        }
        if (this.thousand) {
            Object.assign(config, { thousand: this.thousand });
        }
        if (this.decimal) {
            Object.assign(config, { decimal: this.decimal });
        }
        if (this.expression) {
            Object.assign(config, { format: this.expression });
        }
        switch (firstLetter) {
            case 'C':
                Object.assign(config, { prefix: this.currencySymbol, precision });
                result = this.numberHelper.formatMoney(value, config);
                break;
            case 'D':
                result = this.toDecimal(value, precision);
                break;
            case 'F':
                Object.assign(config, { prefix: '', thousand: '', precision });
                result = this.numberHelper.formatMoney(value, config);
                break;
            case 'N':
                Object.assign(config, { prefix: '', precision });
                result = this.numberHelper.formatMoney(value, config);
                break;
            case 'P':
                result = this.toPercent(value, precision);
                break;
        }
        return result;
    }
    /**
     * @param {?} value 转换成十进制的数字
     * @param {?} precision 十进制数字的长度
     * @return {?}
     */
    toDecimal(value, precision) {
        if (value.toString().indexOf('.') > -1) {
            console.warn('十进制转换仅限整型类型');
            return;
        }
        return (Array(precision).join(this.filledSymbol) + value).slice(-precision);
    }
    /**
     * @param {?} value 转换成百分数的数字
     * @param {?} precision
     * @return {?}
     */
    toPercent(value, precision) {
        return Number(value * 100).toFixed(Number(precision)) + '%';
    }
    /**
     * 将货币符号首字母转换成大写
     * @param {?} value
     * @return {?}
     */
    currencyToUpperCase(value) {
        return value.replace(/[a-z]+/g, (/**
         * @param {?} word
         * @return {?}
         */
        (word) => {
            return word.toUpperCase();
        }));
    }
    /**
     * 处理年，Y=>y, D=>d
     * @param {?} value
     * @return {?}
     */
    dateToUpperCase(value) {
        /** @type {?} */
        let newFormat;
        if (/Y/g.test(value) === true) {
            newFormat = value.replace(/Y/g, 'y');
        }
        else {
            newFormat = value;
        }
        if (/D/g.test(newFormat) === true) {
            newFormat = newFormat.replace(/D/g, 'd');
        }
        return newFormat;
    }
    /**
     * 枚举类型处理
     * @param {?} value
     * @return {?}
     */
    getFormatEnumValue(value) {
        if (value == undefined || value === null || value === '') {
            return '';
        }
        if (this.dataSource && this.dataSource.length) {
            // 可能存在多选枚举，作为分隔符  
            // let curVals = ('' + value).split(',');
            /** @type {?} */
            let curVals = ('' + value).split(this._spliter);
            /** @type {?} */
            let nameResult = [];
            for (let k = 0; k < curVals.length; k++) {
                /** @type {?} */
                let findObj = this.dataSource.find((/**
                 * @param {?} item
                 * @return {?}
                 */
                item => {
                    return item[this.valueField] == curVals[k];
                }));
                if (findObj) {
                    nameResult.push(findObj[this.textField]);
                }
                else {
                    nameResult.push(curVals[k]);
                }
            }
            if (nameResult.length > 0) {
                // return nameResult.join(',');
                return nameResult.join(this._spliter);
            }
            return '';
        }
        else {
            return value;
        }
    }
    /**
     * boolean值处理
     * @param {?} value
     * @return {?}
     */
    getFormatCheckBoxValue(value) {
        if (value === true) {
            return this.localeService.getValue('text.yes');
        }
        else if (value === false || value == null || typeof value === 'undefined') {
            return this.localeService.getValue('text.no');
        }
        else {
            return value;
        }
    }
    /*
      * 日期格式化
      */
    /**
     * @param {?} value
     * @return {?}
     */
    dateformat(value) {
        /** @type {?} */
        let str;
        if (!this.format) {
            this.format = 'YYYY-MM-dd';
        }
        // 当前值是已经格式化后的日期字符串
        if (this.returnFormat && typeof value == 'string') {
            value = this.getDateFromFormatedString(value, this.returnFormat);
        }
        if (this.format === 'hh:mm:ss' || this.format === 'HH:mm:ss') {
            // 格式化时间  临时处理
            str = value;
        }
        else {
            // 格式化日期
            str = this.dtHelper.formatTo(value, this.dateToUpperCase(this.format));
        }
        return str;
    }
    /**
     * @private
     * @param {?} dateString
     * @param {?} format
     * @return {?}
     */
    getDateFromFormatedString(dateString, format) {
        /** @type {?} */
        var result = { year: 0, month: 0, day: 0, hour: 0, minite: 0, second: 0 };
        if (dateString) {
            format.replace(/y{4}|Y{4}|M+|d+|D+|h+|H+|m+|s+/g, (/**
             * @param {?} m
             * @param {?} a
             * @param {?} b
             * @param {?} c
             * @return {?}
             */
            function (m, a, b, c) {
                dateString.substring(a).replace(/\d+/, (/**
                 * @param {?} d
                 * @return {?}
                 */
                function (d) {
                    if (d) {
                        c = parseInt(d.substr(0, m.length), 10);
                    }
                }));
                if (/y+/i.test(m) && !result.year)
                    result.year = c;
                if (/M+/.test(m) && !result.month)
                    result.month = c;
                if (/d+/i.test(m) && !result.day)
                    result.day = c;
                if (/h+/i.test(m) && !result.hour)
                    result.hour = c;
                if (/m+/.test(m) && !result.minite)
                    result.minite = c;
                if (/s+/.test(m) && !result.second)
                    result.second = c;
            }));
        }
        result.day = result.day ? result.day : 1;
        result.month = result.month ? result.month : 1;
        /** @type {?} */
        var resultDate = new Date(result.year + '/' + result.month + '/' + result.day + ' ' + result.hour + ':' + result.minite + ':' + result.second);
        return resultDate;
    }
    /**
     * @param {?} date
     * @param {?} fmt
     * @return {?}
     */
    function(date, fmt) {
        /** @type {?} */
        var o = {
            'M+': date.getMonth() + 1,
            //月份
            'd+': date.getDate(),
            //日
            'h+': date.getHours(),
            //小时
            'm+': date.getMinutes(),
            //分
            's+': date.getSeconds(),
            //秒
            'q+': Math.floor((date.getMonth() + 3) / 3),
            //季度
            'S': date.getMilliseconds() //毫秒
        };
        if (!fmt) {
            fmt = 'yyyy-MM-dd hh:mm:ss';
        }
        if (/(y+)/.test(fmt)) {
            fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));
        }
        for (var k in o) {
            if (new RegExp('(' + k + ')').test(fmt)) {
                fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)));
            }
        }
        return fmt;
    }
    /**
     * 格式化处理
     * @param {?} value
     * @return {?}
     */
    formatValue(value) {
        /** @type {?} */
        let str;
        if (this.currentLanguage) {
            return this.formatLang(value);
        }
        // 标记类型
        if (this._conditionType !== ControlType.BoolCheck && (value == null || typeof value === 'undefined')) {
            return '';
        }
        switch (this._conditionType) {
            case ControlType.Text:
                str = value;
                break;
            case ControlType.DateRange:
            case ControlType.MonthRange:
            case ControlType.DateTimeRange:
                /** @type {?} */
                const dateValues = value.split(this._spliter);
                /** @type {?} */
                let dataStr = [];
                if (dateValues && dateValues.length) {
                    dateValues.forEach((/**
                     * @param {?} date
                     * @return {?}
                     */
                    date => {
                        /** @type {?} */
                        let val = this.dateformat(date);
                        dataStr.push(val);
                    }));
                }
                str = dataStr.join(this._spliter);
                break;
            case ControlType.SingleDate:
            case ControlType.SingleDateTime:
            case ControlType.SingleMonth:
            case ControlType.SingleYear:
                str = this.dateformat(value);
                break;
            case ControlType.SingleNumber:
                // 数字
                str = this.getFormatNumberValue(value);
                break;
            case ControlType.NumberRange:
                // 数字 区间     
                /** @type {?} */
                const numberValues = value.split(this._spliter);
                /** @type {?} */
                let resultStr = [];
                if (numberValues && numberValues.length) {
                    numberValues.forEach((/**
                     * @param {?} date
                     * @return {?}
                     */
                    date => {
                        /** @type {?} */
                        let val = this.getFormatNumberValue(date);
                        resultStr.push(val);
                    }));
                }
                str = resultStr.join(this._spliter);
                break;
            case ControlType.Radio:
                // 单选组
                this.dataSource = ((/** @type {?} */ (this.condition.control))).enumValues;
                str = this.getFormatEnumValue(value);
                break;
            case ControlType.DropDownList:
                // 下拉
                this.dataSource = ((/** @type {?} */ (this.condition.control))).enumValues;
                str = this.getFormatEnumValue(value);
                break;
            case ControlType.BoolCheck:
                // 布尔
                //this.dataSource = (this.condition.control as CheckBoxControl).data;
                str = this.getFormatCheckBoxValue(value);
                break;
            default:
                str = value;
        }
        return str;
    }
}
SummaryConditionComponent.decorators = [
    { type: Component, args: [{
                selector: 'lib-summary-condition',
                template: "<span class=\"summary-condition--label\">{{condition.fieldName}}</span>:<span class=\"summary-condition--text\">{{text}}</span>",
                styles: [""]
            }] }
];
/** @nocollapse */
SummaryConditionComponent.ctorParameters = () => [
    { type: DateTimeHelperService },
    { type: NumberHelperService },
    { type: Injector }
];
SummaryConditionComponent.propDecorators = {
    condition: [{ type: Input }],
    filledSymbol: [{ type: Input }]
};
if (false) {
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype._condition;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype._conditionType;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype._spliter;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype._isRange;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.showTime;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.textField;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.valueField;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.returnFormat;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.format;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.dataSource;
    /** @type {?} */
    SummaryConditionComponent.prototype.text;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.currentLanguage;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.thousand;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.decimal;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.expression;
    /**
     * 国际化类型
     * \@Input() localizationType: string;
     * @type {?}
     */
    SummaryConditionComponent.prototype.currencySymbol;
    /** @type {?} */
    SummaryConditionComponent.prototype.filledSymbol;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.numberOptions;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.localeService;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.dtHelper;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.numberHelper;
    /**
     * @type {?}
     * @private
     */
    SummaryConditionComponent.prototype.injector;
    /* Skipping unhandled member: ;*/
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3VtbWFyeS1jb25kaXRpb24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGdzcC1jbXAvcXVlcnlzb2x1dGlvbi8iLCJzb3VyY2VzIjpbImxpYi9zdW1tYXJ5LWNvbmRpdGlvbi9zdW1tYXJ5LWNvbmRpdGlvbi5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFVLEtBQUssRUFBRSxRQUFRLEVBQWEsTUFBTSxlQUFlLENBQUM7QUFDOUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQW1JLE1BQU0sa0NBQWtDLENBQUM7QUFDaE4sT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDL0QsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDL0QsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBT2xELE1BQU0sT0FBTyx5QkFBeUI7Ozs7OztJQW9EcEMsWUFDVSxRQUErQixFQUMvQixZQUFpQyxFQUNqQyxRQUFrQjtRQUZsQixhQUFRLEdBQVIsUUFBUSxDQUF1QjtRQUMvQixpQkFBWSxHQUFaLFlBQVksQ0FBcUI7UUFDakMsYUFBUSxHQUFSLFFBQVEsQ0FBVTs7UUFoRHBCLGFBQVEsR0FBRyxFQUFFLENBQUM7O1FBRWQsYUFBUSxHQUFHLEtBQUssQ0FBQztRQUNqQixhQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ2pCLGNBQVMsR0FBRyxNQUFNLENBQUM7UUFDbkIsZUFBVSxHQUFHLE9BQU8sQ0FBQzs7UUFFckIsaUJBQVksR0FBRyxFQUFFLENBQUM7O1FBTTFCLFNBQUksR0FBRyxFQUFFLENBQUM7O1FBYUYsYUFBUSxHQUFHLEdBQUcsQ0FBQzs7UUFFZixZQUFPLEdBQUcsR0FBRyxDQUFDOztRQUVkLGVBQVUsR0FBRyxNQUFNLENBQUM7Ozs7Ozs7UUFRNUIsbUJBQWMsR0FBRyxHQUFHLENBQUM7O1FBRVosaUJBQVks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QUFDO1NBQ2Y7UUFFRCxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7OztZQTFmRixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLHVCQUF1QjtnQkFDakMsMklBQWlEOzthQUVsRDs7OztZQVJRLHFCQUFxQjtZQUNyQixtQkFBbUI7WUFITyxRQUFROzs7d0JBaUN4QyxLQUFLOzJCQXlCTCxLQUFLOzs7Ozs7O0lBNUNOLCtDQUFtQzs7Ozs7SUFFbkMsbURBQXVCOzs7OztJQUV2Qiw2Q0FBc0I7Ozs7O0lBRXRCLDZDQUF5Qjs7Ozs7SUFDekIsNkNBQXlCOzs7OztJQUN6Qiw4Q0FBMkI7Ozs7O0lBQzNCLCtDQUE2Qjs7Ozs7SUFFN0IsaURBQTBCOzs7OztJQUUxQiwyQ0FBb0I7Ozs7O0lBRXBCLCtDQUFtQjs7SUFFbkIseUNBQVU7Ozs7O0lBV1Ysb0RBQWdDOzs7OztJQUVoQyw2Q0FBdUI7Ozs7O0lBRXZCLDRDQUFzQjs7Ozs7SUFFdEIsK0NBQTRCOzs7Ozs7SUFRNUIsbURBQXFCOztJQUVyQixpREFBNEI7Ozs7O0lBRTVCLGtEQUFzQjs7Ozs7SUFFdEIsa0RBQTJCOzs7OztJQUV6Qiw2Q0FBdUM7Ozs7O0lBQ3ZDLGlEQUF5Qzs7Ozs7SUFDekMsNkNBQTBCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBJbmplY3RvciwgT25EZXN0cm95IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFF1ZXJ5Q29uZGl0aW9uLCBDb250cm9sVHlwZSwgVGV4dFZhbHVlLCBEcm9wRG93bkxpc3RDb250cm9sLCBJbnB1dEdyb3VwVmFsdWUsIFNtYXJ0SGVscFZhbHVlLCBOdW1iZXJSYW5nZVZhbHVlLCBSYWRpb0NvbnRyb2wsIENoZWNrQm94Q29udHJvbCwgQ2hlY2tCb3hWYWx1ZSB9IGZyb20gJ0BmYXJyaXMvY29tcG9uZW50LXF1ZXJ5Y29uZGl0aW9uJztcclxuaW1wb3J0IHsgRGF0ZVRpbWVIZWxwZXJTZXJ2aWNlIH0gZnJvbSAnQGZhcnJpcy91aS1jb21tb24vZGF0ZSc7XHJcbmltcG9ydCB7IE51bWJlckhlbHBlclNlcnZpY2UgfSBmcm9tICdAZmFycmlzL3VpLWNvbW1vbi9udW1iZXInO1xyXG5pbXBvcnQgeyBMb2NhbGVTZXJ2aWNlIH0gZnJvbSAnQGZhcnJpcy91aS1sb2NhbGUnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdsaWItc3VtbWFyeS1jb25kaXRpb24nLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9zdW1tYXJ5LWNvbmRpdGlvbi5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vc3VtbWFyeS1jb25kaXRpb24uY29tcG9uZW50LmNzcyddXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBTdW1tYXJ5Q29uZGl0aW9uQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuXHJcblxyXG4gIHByaXZhdGUgX2NvbmRpdGlvbjogUXVlcnlDb25kaXRpb247XHJcbiAgLy8g5b2T5YmNY29udHJvbFR5cGVcclxuICBwcml2YXRlIF9jb25kaXRpb25UeXBlO1xyXG4gIC8vIOWIhumalOesplxyXG4gIHByaXZhdGUgX3NwbGl0ZXIgPSAnJztcclxuICAvLyDmmK/lkKbljLrpl7RcclxuICBwcml2YXRlIF9pc1JhbmdlID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBzaG93VGltZSA9IGZhbHNlO1xyXG4gIHByaXZhdGUgdGV4dEZpZWxkID0gJ25hbWUnO1xyXG4gIHByaXZhdGUgdmFsdWVGaWVsZCA9ICd2YWx1ZSc7XHJcbiAgLy8g5LuO5pyN5Yqh5Zmo56uv5Y+W5YC85piv5qC85byP5YyW5ZCO55qEXHJcbiAgcHJpdmF0ZSByZXR1cm5Gb3JtYXQgPSAnJztcclxuICAvLyDpnIDopoHovazljJbnsbvlnovmoLzlvI/nmoTooajovr7lvI9cclxuICBwcml2YXRlIGZvcm1hdDogYW55O1xyXG4gIC8vIOi9rOaNouexu+Wei+eUqOWIsOeahOaVsOaNrlxyXG4gIHByaXZhdGUgZGF0YVNvdXJjZTtcclxuICAvLyDmlofmnKzmmL7npLpcclxuICB0ZXh0ID0gXCJcIjtcclxuXHJcbiAgQElucHV0KClcclxuICBzZXQgY29uZGl0aW9uKHFDb25kaXRpb24pIHtcclxuICAgIHRoaXMuX2NvbmRpdGlvbj1xQ29uZGl0aW9uO1xyXG4gICAgdGhpcy5mb3JtYXRDb25kaXRpb24oKTtcclxuICB9XHJcbiAgZ2V0IGNvbmRpdGlvbigpOiBRdWVyeUNvbmRpdGlvbiB7XHJcbiAgICByZXR1cm4gdGhpcy5fY29uZGl0aW9uO1xyXG4gIH07XHJcbiAgLy8g5aSa6K+t6KiAXHJcbiAgcHJpdmF0ZSBjdXJyZW50TGFuZ3VhZ2U6IHN0cmluZztcclxuICAvLyDljYPliIbkvY3nrKblj7dcclxuICBwcml2YXRlIHRob3VzYW5kID0gJywnO1xyXG4gIC8vIOWwj+aVsOeCueWkhOespuWPt1xyXG4gIHByaXZhdGUgZGVjaW1hbCA9ICcuJztcclxuICAvLyDotKfluIHnrKblj7flj4rlgLzlsZXnjrDlvaLlvI9cclxuICBwcml2YXRlIGV4cHJlc3Npb24gPSAnJXMldic7XHJcblxyXG4gIC8vIGZvcm1Db250cm9s5pi+56S655qE5paH5pysXHJcbiAgLyoqXHJcbiAgICog5Zu96ZmF5YyW57G75Z6LXHJcbiAgIFxyXG4gIEBJbnB1dCgpIGxvY2FsaXphdGlvblR5cGU6IHN0cmluZzsqL1xyXG4gIC8vIOi0p+W4geespuWPt++8jOm7mOiupOaYr1JNQlxyXG4gIGN1cnJlbmN5U3ltYm9sID0gJ++/pSc7XHJcbiAgLy8g5Y2B6L+b5Yi25YmN6Z2i5aGr5YWF55qE56ym5Y+3XHJcbiAgQElucHV0KCkgZmlsbGVkU3ltYm9sID0gJzAnO1xyXG4gIC8v5pWw5YC85qC85byP5Y+C5pWwXHJcbiAgcHJpdmF0ZSBudW1iZXJPcHRpb25zO1xyXG5cclxuICBwcml2YXRlIGxvY2FsZVNlcnZpY2U6IGFueTtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgZHRIZWxwZXI6IERhdGVUaW1lSGVscGVyU2VydmljZSxcclxuICAgIHByaXZhdGUgbnVtYmVySGVscGVyOiBOdW1iZXJIZWxwZXJTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBpbmplY3RvcjogSW5qZWN0b3JcclxuICApIHtcclxuICAgIHRoaXMubG9jYWxlU2VydmljZSA9IHRoaXMuaW5qZWN0b3IuZ2V0KExvY2FsZVNlcnZpY2UpO1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcblxyXG4gIH1cclxuXHJcbiAgZm9ybWF0Q29uZGl0aW9uKCkge1xyXG4gICAgbGV0IHFDb25kaXRpb24gPSB0aGlzLmNvbmRpdGlvbjtcclxuICAgIGlmIChxQ29uZGl0aW9uKSB7XHJcbiAgICAgIHRoaXMuX2NvbmRpdGlvblR5cGUgPSBxQ29uZGl0aW9uLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKTtcclxuICAgICAgbGV0IHRleHRWYWx1ZU9iajtcclxuICAgICAgbGV0IHRleHRPcmlnaW5hbFZhbHVlID0gcUNvbmRpdGlvbi52YWx1ZS5nZXRPcmlnaW5hbFZhbHVlKCk7XHJcbiAgICAgIGxldCBzdGFydFZhbHVlO1xyXG4gICAgICBsZXQgZW5kVmFsdWVcclxuICAgICAgc3dpdGNoICh0aGlzLl9jb25kaXRpb25UeXBlKSB7XHJcbiAgICAgICAgY2FzZSBDb250cm9sVHlwZS5UZXh0OlxyXG4gICAgICAgICAgLy/mlofmnKxcclxuICAgICAgICAgIHRleHRWYWx1ZU9iaiA9IHFDb25kaXRpb24udmFsdWUgYXMgVGV4dFZhbHVlO1xyXG4gICAgICAgICAgdGV4dE9yaWdpbmFsVmFsdWUgPSB0ZXh0VmFsdWVPYmoudmFsdWUgJiYgdGV4dFZhbHVlT2JqLnZhbHVlLnRyaW0oKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQ29udHJvbFR5cGUuU2luZ2xlTnVtYmVyOlxyXG4gICAgICAgICAgLy8g5pWw5YC8XHJcbiAgICAgICAgICB0aGlzLm51bWJlck9wdGlvbnMgPSB7IHByZWNpc2lvbjogcUNvbmRpdGlvbi5jb250cm9sWydwcmVjaXNpb24nXSx0eXBlOidudW1iZXInIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQ29udHJvbFR5cGUuTnVtYmVyUmFuZ2U6XHJcbiAgICAgICAgICAvLyDmlbDlgLzljLrpl7RcclxuICAgICAgICAgIHRoaXMuX2lzUmFuZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgdGhpcy5fc3BsaXRlciA9ICd+JztcclxuICAgICAgICAgIHRoaXMubnVtYmVyT3B0aW9ucyA9IHsgcHJlY2lzaW9uOiBxQ29uZGl0aW9uLmNvbnRyb2xbJ3ByZWNpc2lvbiddLHR5cGU6J251bWJlcicgfTtcclxuICAgICAgICAgIHN0YXJ0VmFsdWUgPSBxQ29uZGl0aW9uLnZhbHVlWydzdGFydFZhbHVlJ10gPyBxQ29uZGl0aW9uLnZhbHVlWydzdGFydFZhbHVlJ10gOiAnJztcclxuICAgICAgICAgIGVuZFZhbHVlID0gcUNvbmRpdGlvbi52YWx1ZVsnZW5kVmFsdWUnXSA/IHFDb25kaXRpb24udmFsdWVbJ2VuZFZhbHVlJ10gOiAnJztcclxuICAgICAgICAgIHRleHRPcmlnaW5hbFZhbHVlID0gW3N0YXJ0VmFsdWUsIGVuZFZhbHVlXS5qb2luKHRoaXMuX3NwbGl0ZXIpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBDb250cm9sVHlwZS5TaW5nbGVEYXRlOlxyXG4gICAgICAgICAgLy/ljZXkuKrml6XmnJ9cclxuICAgICAgICAgIHRoaXMucmV0dXJuRm9ybWF0ID0gIHFDb25kaXRpb24uY29udHJvbCYmcUNvbmRpdGlvbi5jb250cm9sWydyZXR1cm5Gb3JtYXQnXT9xQ29uZGl0aW9uLmNvbnRyb2xbJ3JldHVybkZvcm1hdCddOlwieXl5eS1NTS1kZFwiO1xyXG4gICAgICAgICAgdGhpcy5mb3JtYXQgPSAgcUNvbmRpdGlvbi5jb250cm9sJiZxQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddP3FDb25kaXRpb24uY29udHJvbFsnZm9ybWF0J106XCJ5eXl5LU1NLWRkXCI7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBDb250cm9sVHlwZS5EYXRlUmFuZ2U6XHJcbiAgICAgICAgICAvL+aXpeacn+WMuumXtFxyXG4gICAgICAgICAgdGhpcy5faXNSYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICB0aGlzLl9zcGxpdGVyID0gJ34nO1xyXG4gICAgICAgICAgdGhpcy5yZXR1cm5Gb3JtYXQgPSBxQ29uZGl0aW9uLmNvbnRyb2wmJnFDb25kaXRpb24uY29udHJvbFsncmV0dXJuRm9ybWF0J10/cUNvbmRpdGlvbi5jb250cm9sWydyZXR1cm5Gb3JtYXQnXTpcInl5eXktTU0tZGRcIjtcclxuICAgICAgICAgIHRoaXMuZm9ybWF0ID0gIHFDb25kaXRpb24uY29udHJvbCYmcUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXT9xQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddOlwieXl5eS1NTS1kZFwiO1xyXG5cclxuICAgICAgICAgIHN0YXJ0VmFsdWUgPSBxQ29uZGl0aW9uLnZhbHVlWydzdGFydFRpbWUnXSA/IHFDb25kaXRpb24udmFsdWVbJ3N0YXJ0VGltZSddIDogJyc7XHJcbiAgICAgICAgICBlbmRWYWx1ZSA9IHFDb25kaXRpb24udmFsdWVbJ2VuZFRpbWUnXSA/IHFDb25kaXRpb24udmFsdWVbJ2VuZFRpbWUnXSA6ICcnO1xyXG4gICAgICAgICAgdGV4dE9yaWdpbmFsVmFsdWUgPSBbc3RhcnRWYWx1ZSwgZW5kVmFsdWVdLmpvaW4odGhpcy5fc3BsaXRlcik7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBDb250cm9sVHlwZS5TaW5nbGVZZWFyOlxyXG4gICAgICAgICAgLy8g5Y+q5pyJ5bm0XHJcbiAgICAgICAgICB0aGlzLnJldHVybkZvcm1hdCA9IHFDb25kaXRpb24uY29udHJvbCYmcUNvbmRpdGlvbi5jb250cm9sWydyZXR1cm5Gb3JtYXQnXT9xQ29uZGl0aW9uLmNvbnRyb2xbJ3JldHVybkZvcm1hdCddOlwieXl5eVwiO1xyXG4gICAgICAgICAgdGhpcy5mb3JtYXQgPSAgcUNvbmRpdGlvbi5jb250cm9sJiZxQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddP3FDb25kaXRpb24uY29udHJvbFsnZm9ybWF0J106XCJ5eXl5XCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIENvbnRyb2xUeXBlLlNpbmdsZU1vbnRoOlxyXG4gICAgICAgICAgLy8g5Y+q5pyJ5pyIXHJcbiAgICAgICAgICB0aGlzLnJldHVybkZvcm1hdCA9IHFDb25kaXRpb24uY29udHJvbCYmcUNvbmRpdGlvbi5jb250cm9sWydyZXR1cm5Gb3JtYXQnXT9xQ29uZGl0aW9uLmNvbnRyb2xbJ3JldHVybkZvcm1hdCddOlwieXl5eS1NTVwiO1xyXG4gICAgICAgICAgdGhpcy5mb3JtYXQgPSAgcUNvbmRpdGlvbi5jb250cm9sJiZxQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddP3FDb25kaXRpb24uY29udHJvbFsnZm9ybWF0J106XCJ5eXl5LU1NXCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIENvbnRyb2xUeXBlLk1vbnRoUmFuZ2U6XHJcbiAgICAgICAgICAvLyDmnIjojIPlm7RcclxuICAgICAgICAgIHRoaXMuX2lzUmFuZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgdGhpcy5fc3BsaXRlciA9ICd+JztcclxuICAgICAgICAgIHRoaXMucmV0dXJuRm9ybWF0ID1xQ29uZGl0aW9uLmNvbnRyb2wmJnFDb25kaXRpb24uY29udHJvbFsncmV0dXJuRm9ybWF0J10/cUNvbmRpdGlvbi5jb250cm9sWydyZXR1cm5Gb3JtYXQnXTpcInl5eXktTU1cIjtcclxuICAgICAgICAgIHRoaXMuZm9ybWF0ID0gIHFDb25kaXRpb24uY29udHJvbCYmcUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXT9xQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddOlwieXl5eS1NTVwiO1xyXG4gICAgICAgICAgc3RhcnRWYWx1ZSA9IHFDb25kaXRpb24udmFsdWVbJ3N0YXJ0VGltZSddID8gcUNvbmRpdGlvbi52YWx1ZVsnc3RhcnRUaW1lJ10gOiAnJztcclxuICAgICAgICAgIGVuZFZhbHVlID0gcUNvbmRpdGlvbi52YWx1ZVsnZW5kVGltZSddID8gcUNvbmRpdGlvbi52YWx1ZVsnZW5kVGltZSddIDogJyc7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIENvbnRyb2xUeXBlLlNpbmdsZURhdGVUaW1lOlxyXG4gICAgICAgICAgLy8g5pe26Ze0XHJcbiAgICAgICAgICB0aGlzLnNob3dUaW1lID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMucmV0dXJuRm9ybWF0PXFDb25kaXRpb24uY29udHJvbFsncmV0dXJuRm9ybWF0J10/cUNvbmRpdGlvbi5jb250cm9sWydyZXR1cm5Gb3JtYXQnXTp0aGlzLnJldHVybkZvcm1hdDtcclxuICAgICAgICAgIHRoaXMuZm9ybWF0ID0neXl5eS1NTS1kZCBISDptbTpzcyc7XHJcbiAgICAgICAgICBpZihxQ29uZGl0aW9uLmNvbnRyb2wpe1xyXG4gICAgICAgICAgICBpZihxQ29uZGl0aW9uLmNvbnRyb2xbJ2VuYWJsZUN1c3RvbUZvcm1hdCddKXtcclxuICAgICAgICAgICAgICB0aGlzLmZvcm1hdD1xQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddP3FDb25kaXRpb24uY29udHJvbFsnZm9ybWF0J106dGhpcy5yZXR1cm5Gb3JtYXQ7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgIHRoaXMuZm9ybWF0PXFDb25kaXRpb24uY29udHJvbCYmcUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXT9xQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddKycgSEg6bW06c3MnOnRoaXMucmV0dXJuRm9ybWF0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9ICAgICAgICAgXHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIENvbnRyb2xUeXBlLkRhdGVUaW1lUmFuZ2U6XHJcbiAgICAgICAgICAvLyDml7bpl7TljLrpl7RcclxuICAgICAgICAgIHRoaXMuc2hvd1RpbWUgPSB0cnVlO1xyXG4gICAgICAgICAgdGhpcy5faXNSYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICB0aGlzLl9zcGxpdGVyID0gJ34nO1xyXG4gICAgICAgICAgdGhpcy5yZXR1cm5Gb3JtYXQ9cUNvbmRpdGlvbi5jb250cm9sWydyZXR1cm5Gb3JtYXQnXT9xQ29uZGl0aW9uLmNvbnRyb2xbJ3JldHVybkZvcm1hdCddOnRoaXMucmV0dXJuRm9ybWF0O1xyXG4gICAgICAgICAgdGhpcy5mb3JtYXQgPSd5eXl5LU1NLWRkIEhIOm1tOnNzJztcclxuICAgICAgICAgIGlmKHFDb25kaXRpb24uY29udHJvbCl7XHJcbiAgICAgICAgICAgIGlmKHFDb25kaXRpb24uY29udHJvbFsnZW5hYmxlQ3VzdG9tRm9ybWF0J10pe1xyXG4gICAgICAgICAgICAgIHRoaXMuZm9ybWF0PXFDb25kaXRpb24uY29udHJvbFsnZm9ybWF0J10/cUNvbmRpdGlvbi5jb250cm9sWydmb3JtYXQnXTp0aGlzLnJldHVybkZvcm1hdDtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgdGhpcy5mb3JtYXQ9cUNvbmRpdGlvbi5jb250cm9sJiZxQ29uZGl0aW9uLmNvbnRyb2xbJ2Zvcm1hdCddP3FDb25kaXRpb24uY29udHJvbFsnZm9ybWF0J10rJyBISDptbTpzcyc6dGhpcy5yZXR1cm5Gb3JtYXQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHN0YXJ0VmFsdWUgPSBxQ29uZGl0aW9uLnZhbHVlWydzdGFydFRpbWUnXSA/IHFDb25kaXRpb24udmFsdWVbJ3N0YXJ0VGltZSddIDogJyc7XHJcbiAgICAgICAgICBlbmRWYWx1ZSA9IHFDb25kaXRpb24udmFsdWVbJ2VuZFRpbWUnXSA/IHFDb25kaXRpb24udmFsdWVbJ2VuZFRpbWUnXSA6ICcnO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgQ29udHJvbFR5cGUuQm9vbENoZWNrOlxyXG4gICAgICAgICAgLy8g5biD5bCU5YC8LeWNleS4quWAvFxyXG4gICAgICAgICAgbGV0IGNoZWNrVmFsdWU9IChxQ29uZGl0aW9uLnZhbHVlIGFzIENoZWNrQm94VmFsdWUpLnZhbHVlO1xyXG4gICAgICAgICAgdGV4dE9yaWdpbmFsVmFsdWUgPWNoZWNrVmFsdWUubGVuZ3RoPjA/Y2hlY2tWYWx1ZVsnMCddOm51bGw7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIENvbnRyb2xUeXBlLkRyb3BEb3duTGlzdDpcclxuICAgICAgICAgIC8vIOS4i+aLiVxyXG4gICAgICAgICAgdGhpcy5fc3BsaXRlciA9ICcsJztcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQ29udHJvbFR5cGUuUmFkaW86XHJcbiAgICAgICAgICAvLyDljZXpgInnu4RcclxuICAgICAgICAgIHRoaXMuX3NwbGl0ZXIgPSAnLCc7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIENvbnRyb2xUeXBlLklucHV0R3JvdXA6XHJcbiAgICAgICAgICAvLyBpbnB1dGdyb3VwXHJcbiAgICAgICAgICB0ZXh0VmFsdWVPYmogPSBxQ29uZGl0aW9uLnZhbHVlIGFzIElucHV0R3JvdXBWYWx1ZTtcclxuICAgICAgICAgIHRleHRPcmlnaW5hbFZhbHVlID0gdGV4dFZhbHVlT2JqLnRleHRWYWx1ZSAmJiB0ZXh0VmFsdWVPYmoudGV4dFZhbHVlLnRyaW0oKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQ29udHJvbFR5cGUuU21hcnRIZWxwOlxyXG4gICAgICAgICAgLy8g5biu5YqpXHJcbiAgICAgICAgICB0ZXh0VmFsdWVPYmogPSBxQ29uZGl0aW9uLnZhbHVlIGFzIFNtYXJ0SGVscFZhbHVlO1xyXG4gICAgICAgICAgdGV4dE9yaWdpbmFsVmFsdWUgPSB0ZXh0VmFsdWVPYmoudGV4dFZhbHVlICYmIHRleHRWYWx1ZU9iai50ZXh0VmFsdWUudHJpbSgpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIHRleHRPcmlnaW5hbFZhbHVlID0gcUNvbmRpdGlvbi52YWx1ZS5nZXRPcmlnaW5hbFZhbHVlKCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy50ZXh0ID0gdGhpcy5mb3JtYXRWYWx1ZSh0ZXh0T3JpZ2luYWxWYWx1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnRleHQgPSAnJztcclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICog5aSE55CG5aSa6K+t6KiA77yM5b6F5a6aXHJcbiAgICovXHJcbiAgZm9ybWF0TGFuZyh2YWx1ZTogYW55KSB7XHJcbiAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWVbdGhpcy5jdXJyZW50TGFuZ3VhZ2VdID8gdmFsdWVbdGhpcy5jdXJyZW50TGFuZ3VhZ2VdIDogJyc7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEPotKfluIFcclxuICAgKiBE5Y2B6L+b5Yi2XHJcbiAgICogRua1rueCueaVsFxyXG4gICAqIE7mlbDlrZfvvIzluKbljYPliIbkvY1cclxuICAgKiBQ55m+5YiG5q+UXHJcbiAgICovXHJcbiAgZ2V0Rm9ybWF0TnVtYmVyVmFsdWUodmFsdWU6IGFueSkge1xyXG4gICAgaWYgKCF0aGlzLmZvcm1hdCAmJiAhdGhpcy5udW1iZXJPcHRpb25zKSB7XHJcbiAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMubnVtYmVyT3B0aW9ucyAmJiB0aGlzLm51bWJlck9wdGlvbnMudHlwZSAmJiB0aGlzLm51bWJlck9wdGlvbnMudHlwZSA9PSAnbnVtYmVyJykge1xyXG4gICAgICBpZiAodGhpcy5udW1iZXJPcHRpb25zLmZvcm1hdHRlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm51bWJlck9wdGlvbnMuZm9ybWF0dGVyKHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBpZiAodGhpcy5udW1iZXJPcHRpb25zLnVzZVRob3VzYW5kcykge1xyXG4gICAgICAgICAgLy8g6K6+572u5LqG5Y2D5YiG5L2NXHJcbiAgICAgICAgICBpZiAodGhpcy5udW1iZXJPcHRpb25zLnByZWNpc2lvbiAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5mb3JtYXQgPSAnbicgKyB0aGlzLm51bWJlck9wdGlvbnMucHJlY2lzaW9uO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0ID0gJ24nO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIC8vIOayoeacieiuvue9ruWNg+WIhuS9jVxyXG4gICAgICAgICAgaWYgKHRoaXMubnVtYmVyT3B0aW9ucy5wcmVjaXNpb24gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0ID0gJ2YnICsgdGhpcy5udW1iZXJPcHRpb25zLnByZWNpc2lvbjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyDmsqHmnInorr7nva7nsr7luqbvvIzmsqHmnInorr7nva7ljYPliIbkvY1cclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9ZWxzZXtcclxuICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBmaXJzdExldHRlciA9IHRoaXMuY3VycmVuY3lUb1VwcGVyQ2FzZSh0aGlzLmZvcm1hdC5zdWJzdHJpbmcoMCwgMSkpO1xyXG4gICAgY29uc3QgcHJlY2lzaW9uID0gTnVtYmVyKHRoaXMuZm9ybWF0LnN1YnN0cmluZygxKSk7XHJcbiAgICBsZXQgY29uZmlnID0ge307XHJcbiAgICBsZXQgcmVzdWx0OiBhbnk7XHJcbiAgICBpZiAoIS9DfER8RnxOfFAvZy50ZXN0KGZpcnN0TGV0dGVyKSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oYOS4jeaUr+aMgWZvcm1hdOS4uiAke3RoaXMuZm9ybWF0fSDnsbvlnovnmoTmlbDlrZfmoLzlvI/ljJZgKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMudGhvdXNhbmQpIHtcclxuICAgICAgT2JqZWN0LmFzc2lnbihjb25maWcsIHsgdGhvdXNhbmQ6IHRoaXMudGhvdXNhbmQgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5kZWNpbWFsKSB7XHJcbiAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCB7IGRlY2ltYWw6IHRoaXMuZGVjaW1hbCB9KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmV4cHJlc3Npb24pIHtcclxuICAgICAgT2JqZWN0LmFzc2lnbihjb25maWcsIHsgZm9ybWF0OiB0aGlzLmV4cHJlc3Npb24gfSk7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKGZpcnN0TGV0dGVyKSB7XHJcbiAgICAgIGNhc2UgJ0MnOlxyXG4gICAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCB7IHByZWZpeDogdGhpcy5jdXJyZW5jeVN5bWJvbCwgcHJlY2lzaW9uIH0pO1xyXG4gICAgICAgIHJlc3VsdCA9IHRoaXMubnVtYmVySGVscGVyLmZvcm1hdE1vbmV5KHZhbHVlLCBjb25maWcpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdEJzpcclxuICAgICAgICByZXN1bHQgPSB0aGlzLnRvRGVjaW1hbCh2YWx1ZSwgcHJlY2lzaW9uKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnRic6XHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbihjb25maWcsIHsgcHJlZml4OiAnJywgdGhvdXNhbmQ6ICcnLCBwcmVjaXNpb24gfSk7XHJcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5udW1iZXJIZWxwZXIuZm9ybWF0TW9uZXkodmFsdWUsIGNvbmZpZyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ04nOlxyXG4gICAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCB7IHByZWZpeDogJycsIHByZWNpc2lvbiB9KTtcclxuICAgICAgICByZXN1bHQgPSB0aGlzLm51bWJlckhlbHBlci5mb3JtYXRNb25leSh2YWx1ZSwgY29uZmlnKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnUCc6XHJcbiAgICAgICAgcmVzdWx0ID0gdGhpcy50b1BlcmNlbnQodmFsdWUsIHByZWNpc2lvbik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuICAvKipcclxuICAgKiBAcGFyYW0gdmFsdWUg6L2s5o2i5oiQ5Y2B6L+b5Yi255qE5pWw5a2XXHJcbiAgICogQHBhcmFtIHByZWNpc2lvbiDljYHov5vliLbmlbDlrZfnmoTplb/luqZcclxuICAgKi9cclxuICB0b0RlY2ltYWwodmFsdWU6IGFueSwgcHJlY2lzaW9uOiBhbnkpIHtcclxuICAgIGlmICh2YWx1ZS50b1N0cmluZygpLmluZGV4T2YoJy4nKSA+IC0xKSB7XHJcbiAgICAgIGNvbnNvbGUud2Fybign5Y2B6L+b5Yi26L2s5o2i5LuF6ZmQ5pW05Z6L57G75Z6LJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHJldHVybiAoQXJyYXkocHJlY2lzaW9uKS5qb2luKHRoaXMuZmlsbGVkU3ltYm9sKSArIHZhbHVlKS5zbGljZSgtcHJlY2lzaW9uKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHZhbHVlIOi9rOaNouaIkOeZvuWIhuaVsOeahOaVsOWtl1xyXG4gICAqIEBwYXJhbSBkZWNpbWFsIOWwj+aVsOeCueS/neeVmeWHoOS9jVxyXG4gICAqL1xyXG4gIHRvUGVyY2VudCh2YWx1ZTogYW55LCBwcmVjaXNpb246IGFueSkge1xyXG4gICAgcmV0dXJuIE51bWJlcih2YWx1ZSAqIDEwMCkudG9GaXhlZChOdW1iZXIocHJlY2lzaW9uKSkgKyAnJSc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlsIbotKfluIHnrKblj7fpppblrZfmr43ovazmjaLmiJDlpKflhplcclxuICAgKi9cclxuICBjdXJyZW5jeVRvVXBwZXJDYXNlKHZhbHVlOiBhbnkpIHtcclxuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9bYS16XSsvZywgKHdvcmQ6IGFueSkgPT4ge1xyXG4gICAgICByZXR1cm4gd29yZC50b1VwcGVyQ2FzZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlpITnkIblubTvvIxZPT55LCBEPT5kXHJcbiAgICovXHJcbiAgZGF0ZVRvVXBwZXJDYXNlKHZhbHVlOiBhbnkpIHtcclxuICAgIGxldCBuZXdGb3JtYXQ6IGFueTtcclxuICAgIGlmICgvWS9nLnRlc3QodmFsdWUpID09PSB0cnVlKSB7XHJcbiAgICAgIG5ld0Zvcm1hdCA9IHZhbHVlLnJlcGxhY2UoL1kvZywgJ3knKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG5ld0Zvcm1hdCA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgaWYgKC9EL2cudGVzdChuZXdGb3JtYXQpID09PSB0cnVlKSB7XHJcbiAgICAgIG5ld0Zvcm1hdCA9IG5ld0Zvcm1hdC5yZXBsYWNlKC9EL2csICdkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ld0Zvcm1hdDtcclxuICB9XHJcbiAgLyoqXHJcbiAgICog5p6a5Li+57G75Z6L5aSE55CGXHJcbiAgICovXHJcbiAgZ2V0Rm9ybWF0RW51bVZhbHVlKHZhbHVlOiBhbnkpIHtcclxuICAgIGlmICh2YWx1ZSA9PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09ICcnKSB7XHJcbiAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmRhdGFTb3VyY2UgJiYgdGhpcy5kYXRhU291cmNlLmxlbmd0aCkge1xyXG4gICAgICAvLyDlj6/og73lrZjlnKjlpJrpgInmnprkuL7vvIzkvZzkuLrliIbpmpTnrKYgIFxyXG4gICAgICAvLyBsZXQgY3VyVmFscyA9ICgnJyArIHZhbHVlKS5zcGxpdCgnLCcpO1xyXG4gICAgICBsZXQgY3VyVmFscyA9ICgnJyArIHZhbHVlKS5zcGxpdCh0aGlzLl9zcGxpdGVyKTtcclxuICAgICAgbGV0IG5hbWVSZXN1bHQgPSBbXTtcclxuICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBjdXJWYWxzLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgbGV0IGZpbmRPYmogPSB0aGlzLmRhdGFTb3VyY2UuZmluZChpdGVtID0+IHtcclxuICAgICAgICAgIHJldHVybiBpdGVtW3RoaXMudmFsdWVGaWVsZF0gPT0gY3VyVmFsc1trXTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoZmluZE9iaikge1xyXG4gICAgICAgICAgbmFtZVJlc3VsdC5wdXNoKGZpbmRPYmpbdGhpcy50ZXh0RmllbGRdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBuYW1lUmVzdWx0LnB1c2goY3VyVmFsc1trXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChuYW1lUmVzdWx0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAvLyByZXR1cm4gbmFtZVJlc3VsdC5qb2luKCcsJyk7XHJcbiAgICAgICAgcmV0dXJuIG5hbWVSZXN1bHQuam9pbih0aGlzLl9zcGxpdGVyKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAnJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogYm9vbGVhbuWAvOWkhOeQhlxyXG4gICAqL1xyXG4gIGdldEZvcm1hdENoZWNrQm94VmFsdWUodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5sb2NhbGVTZXJ2aWNlLmdldFZhbHVlKCd0ZXh0LnllcycpO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmxvY2FsZVNlcnZpY2UuZ2V0VmFsdWUoJ3RleHQubm8nKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICB9XHJcbiAgLypcclxuICAqIOaXpeacn+agvOW8j+WMllxyXG4gICovXHJcbiAgZGF0ZWZvcm1hdCh2YWx1ZSkge1xyXG4gICAgbGV0IHN0cjtcclxuICAgIGlmICghdGhpcy5mb3JtYXQpIHtcclxuICAgICAgdGhpcy5mb3JtYXQgPSAnWVlZWS1NTS1kZCc7XHJcbiAgICB9XHJcbiAgICAvLyDlvZPliY3lgLzmmK/lt7Lnu4/moLzlvI/ljJblkI7nmoTml6XmnJ/lrZfnrKbkuLJcclxuICAgIGlmICh0aGlzLnJldHVybkZvcm1hdCAgJiYgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHZhbHVlID0gdGhpcy5nZXREYXRlRnJvbUZvcm1hdGVkU3RyaW5nKHZhbHVlLCB0aGlzLnJldHVybkZvcm1hdCk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5mb3JtYXQgPT09ICdoaDptbTpzcycgfHwgdGhpcy5mb3JtYXQgPT09ICdISDptbTpzcycpIHtcclxuICAgICAgLy8g5qC85byP5YyW5pe26Ze0ICDkuLTml7blpITnkIZcclxuICAgICAgc3RyID0gdmFsdWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIOagvOW8j+WMluaXpeacn1xyXG4gICAgICAgIHN0ciA9IHRoaXMuZHRIZWxwZXIuZm9ybWF0VG8odmFsdWUsIHRoaXMuZGF0ZVRvVXBwZXJDYXNlKHRoaXMuZm9ybWF0KSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RyO1xyXG4gIH1cclxuICBwcml2YXRlIGdldERhdGVGcm9tRm9ybWF0ZWRTdHJpbmcoZGF0ZVN0cmluZywgZm9ybWF0KSB7XHJcbiAgICB2YXIgcmVzdWx0ID0geyB5ZWFyOiAwLCBtb250aDogMCwgZGF5OiAwLCBob3VyOiAwLCBtaW5pdGU6IDAsIHNlY29uZDogMCB9Oy8v5b2T54S26L+Z6YeM5Y+v5Lul6buY6K6kMTk3MC0xLTHml6VcclxuICAgIGlmIChkYXRlU3RyaW5nKSB7XHJcbiAgICAgIGZvcm1hdC5yZXBsYWNlKC95ezR9fFl7NH18TSt8ZCt8RCt8aCt8SCt8bSt8cysvZywgZnVuY3Rpb24gKG0sIGEsIGIsIGMpIHsvL+i/memHjOWPquWBmuS6huW5tOaciOaXpSAg5Yqg5pe25YiG56eS5Lmf5piv5Y+v5Lul55qEXHJcbiAgICAgICAgZGF0ZVN0cmluZy5zdWJzdHJpbmcoYSkucmVwbGFjZSgvXFxkKy8sIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgaWYoZCl7XHJcbiAgICAgICAgICAgICAgYyA9IHBhcnNlSW50KGQuc3Vic3RyKDAsbS5sZW5ndGgpLCAxMCk7IFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKC95Ky9pLnRlc3QobSkgJiYgIXJlc3VsdC55ZWFyKSByZXN1bHQueWVhciA9IGM7XHJcbiAgICAgICAgaWYgKC9NKy8udGVzdChtKSAmJiAhcmVzdWx0Lm1vbnRoKSByZXN1bHQubW9udGggPSBjO1xyXG4gICAgICAgIGlmICgvZCsvaS50ZXN0KG0pICYmICFyZXN1bHQuZGF5KSByZXN1bHQuZGF5ID0gYztcclxuICAgICAgICBpZiAoL2grL2kudGVzdChtKSAmJiAhcmVzdWx0LmhvdXIpIHJlc3VsdC5ob3VyID0gYztcclxuICAgICAgICBpZiAoL20rLy50ZXN0KG0pICYmICFyZXN1bHQubWluaXRlKSByZXN1bHQubWluaXRlID0gYztcclxuICAgICAgICBpZiAoL3MrLy50ZXN0KG0pICYmICFyZXN1bHQuc2Vjb25kKSByZXN1bHQuc2Vjb25kID0gYztcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXN1bHQuZGF5PXJlc3VsdC5kYXk/cmVzdWx0LmRheToxO1xyXG4gICAgcmVzdWx0Lm1vbnRoPXJlc3VsdC5tb250aD9yZXN1bHQubW9udGg6MTtcclxuICAgIHZhciByZXN1bHREYXRlID0gbmV3IERhdGUocmVzdWx0LnllYXIgKyAnLycgKyByZXN1bHQubW9udGggKyAnLycgKyByZXN1bHQuZGF5ICsgJyAnICsgcmVzdWx0LmhvdXIgKyAnOicgKyByZXN1bHQubWluaXRlICsgJzonICsgcmVzdWx0LnNlY29uZCk7XHJcbiAgICByZXR1cm4gcmVzdWx0RGF0ZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIChkYXRlLCBmbXQpIHtcclxuICAgIHZhciBvID0ge1xyXG4gICAgICAnTSsnOiBkYXRlLmdldE1vbnRoKCkgKyAxLCAvL+aciOS7vVxyXG4gICAgICAnZCsnOiBkYXRlLmdldERhdGUoKSwgLy/ml6VcclxuICAgICAgJ2grJzogZGF0ZS5nZXRIb3VycygpLCAvL+Wwj+aXtlxyXG4gICAgICAnbSsnOiBkYXRlLmdldE1pbnV0ZXMoKSwgLy/liIZcclxuICAgICAgJ3MrJzogZGF0ZS5nZXRTZWNvbmRzKCksIC8v56eSXHJcbiAgICAgICdxKyc6IE1hdGguZmxvb3IoKGRhdGUuZ2V0TW9udGgoKSArIDMpIC8gMyksIC8v5a2j5bqmXHJcbiAgICAgICdTJzogZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSAvL+avq+enklxyXG4gICAgfTtcclxuICAgIGlmICghZm10KSB7XHJcbiAgICAgIGZtdCA9ICd5eXl5LU1NLWRkIGhoOm1tOnNzJztcclxuICAgIH1cclxuICAgIGlmICgvKHkrKS8udGVzdChmbXQpKSB7XHJcbiAgICAgIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKGRhdGUuZ2V0RnVsbFllYXIoKSArICcnKS5zdWJzdHIoNCAtIFJlZ0V4cC4kMS5sZW5ndGgpKTtcclxuICAgIH1cclxuICAgIGZvciAodmFyIGsgaW4gbykge1xyXG4gICAgICBpZiAobmV3IFJlZ0V4cCgnKCcgKyBrICsgJyknKS50ZXN0KGZtdCkpIHtcclxuICAgICAgICBmbXQgPSBmbXQucmVwbGFjZShSZWdFeHAuJDEsIChSZWdFeHAuJDEubGVuZ3RoID09IDEpID8gKG9ba10pIDogKCgnMDAnICsgb1trXSkuc3Vic3RyKCgnJyArIG9ba10pLmxlbmd0aCkpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZtdDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOagvOW8j+WMluWkhOeQhlxyXG4gICAqL1xyXG4gIGZvcm1hdFZhbHVlKHZhbHVlOiBhbnkpIHtcclxuICAgIGxldCBzdHI6IGFueTtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRMYW5ndWFnZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5mb3JtYXRMYW5nKHZhbHVlKTtcclxuICAgIH1cclxuICAgIC8vIOagh+iusOexu+Wei1xyXG4gICAgaWYgKHRoaXMuX2NvbmRpdGlvblR5cGUgIT09IENvbnRyb2xUeXBlLkJvb2xDaGVjayAmJiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSkge1xyXG4gICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKHRoaXMuX2NvbmRpdGlvblR5cGUpIHtcclxuICAgICAgY2FzZSBDb250cm9sVHlwZS5UZXh0OlxyXG4gICAgICAgIHN0ciA9IHZhbHVlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIENvbnRyb2xUeXBlLkRhdGVSYW5nZTpcclxuICAgICAgY2FzZSBDb250cm9sVHlwZS5Nb250aFJhbmdlOlxyXG4gICAgICBjYXNlIENvbnRyb2xUeXBlLkRhdGVUaW1lUmFuZ2U6XHJcbiAgICAgICAgY29uc3QgZGF0ZVZhbHVlcyA9IHZhbHVlLnNwbGl0KHRoaXMuX3NwbGl0ZXIpO1xyXG4gICAgICAgIGxldCBkYXRhU3RyID0gW107XHJcbiAgICAgICAgaWYgKGRhdGVWYWx1ZXMgJiYgZGF0ZVZhbHVlcy5sZW5ndGgpIHtcclxuICAgICAgICAgIGRhdGVWYWx1ZXMuZm9yRWFjaChkYXRlID0+IHtcclxuICAgICAgICAgICAgbGV0IHZhbCA9IHRoaXMuZGF0ZWZvcm1hdChkYXRlKTtcclxuICAgICAgICAgICAgZGF0YVN0ci5wdXNoKHZhbCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RyID0gZGF0YVN0ci5qb2luKHRoaXMuX3NwbGl0ZXIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIENvbnRyb2xUeXBlLlNpbmdsZURhdGU6XHJcbiAgICAgIGNhc2UgQ29udHJvbFR5cGUuU2luZ2xlRGF0ZVRpbWU6XHJcbiAgICAgIGNhc2UgQ29udHJvbFR5cGUuU2luZ2xlTW9udGg6XHJcbiAgICAgIGNhc2UgQ29udHJvbFR5cGUuU2luZ2xlWWVhcjpcclxuICAgICAgICBzdHIgPSB0aGlzLmRhdGVmb3JtYXQodmFsdWUpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIENvbnRyb2xUeXBlLlNpbmdsZU51bWJlcjpcclxuICAgICAgICAvLyDmlbDlrZdcclxuICAgICAgICBzdHIgPSB0aGlzLmdldEZvcm1hdE51bWJlclZhbHVlKHZhbHVlKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBDb250cm9sVHlwZS5OdW1iZXJSYW5nZTpcclxuICAgICAgICAvLyDmlbDlrZcg5Yy66Ze0ICAgICBcclxuICAgICAgICBjb25zdCBudW1iZXJWYWx1ZXMgPSB2YWx1ZS5zcGxpdCh0aGlzLl9zcGxpdGVyKTtcclxuICAgICAgICBsZXQgcmVzdWx0U3RyID0gW107XHJcbiAgICAgICAgaWYgKG51bWJlclZhbHVlcyAmJiBudW1iZXJWYWx1ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICBudW1iZXJWYWx1ZXMuZm9yRWFjaChkYXRlID0+IHtcclxuICAgICAgICAgICAgbGV0IHZhbCA9IHRoaXMuZ2V0Rm9ybWF0TnVtYmVyVmFsdWUoZGF0ZSk7XHJcbiAgICAgICAgICAgIHJlc3VsdFN0ci5wdXNoKHZhbCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RyID0gcmVzdWx0U3RyLmpvaW4odGhpcy5fc3BsaXRlcik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgQ29udHJvbFR5cGUuUmFkaW86XHJcbiAgICAgICAgLy8g5Y2V6YCJ57uEXHJcbiAgICAgICAgdGhpcy5kYXRhU291cmNlID0gKHRoaXMuY29uZGl0aW9uLmNvbnRyb2wgYXMgUmFkaW9Db250cm9sKS5lbnVtVmFsdWVzO1xyXG4gICAgICAgIHN0ciA9IHRoaXMuZ2V0Rm9ybWF0RW51bVZhbHVlKHZhbHVlKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBDb250cm9sVHlwZS5Ecm9wRG93bkxpc3Q6XHJcbiAgICAgICAgLy8g5LiL5ouJXHJcbiAgICAgICAgdGhpcy5kYXRhU291cmNlID0gKHRoaXMuY29uZGl0aW9uLmNvbnRyb2wgYXMgRHJvcERvd25MaXN0Q29udHJvbCkuZW51bVZhbHVlcztcclxuICAgICAgICBzdHIgPSB0aGlzLmdldEZvcm1hdEVudW1WYWx1ZSh2YWx1ZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgQ29udHJvbFR5cGUuQm9vbENoZWNrOlxyXG4gICAgICAgIC8vIOW4g+WwlFxyXG4gICAgICAgIC8vdGhpcy5kYXRhU291cmNlID0gKHRoaXMuY29uZGl0aW9uLmNvbnRyb2wgYXMgQ2hlY2tCb3hDb250cm9sKS5kYXRhO1xyXG4gICAgICAgIHN0ciA9IHRoaXMuZ2V0Rm9ybWF0Q2hlY2tCb3hWYWx1ZSh2YWx1ZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgc3RyID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHN0cjtcclxuICB9XHJcbn1cclxuIl19