/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Output, EventEmitter, ViewChild } from '@angular/core';
import { of } from 'rxjs';
import { LookupGridComponent, ServerSideToken } from '@farris/ui-lookup';
import { WfReportDefHelpService } from './wf-report-def-help.service';
export class WfReportDefHelpComponent {
    constructor() {
        /**
         * 宽度
         */
        this.width = 550;
        /**
         * 只读
         */
        this.disabled = false;
        /**
         * 是否单选
         */
        this.singleSelect = true;
        /**
         * 是否分页，默认true
         */
        this.pagination = true;
        /**
         * 首次加载第几页，默认1
         */
        this.pageIndex = 1;
        /**
         * 每页加载数，默认20
         */
        this.pageSize = 20;
        /**
         * 过滤条件
         */
        this.filter = {};
        // @Input() beforeClose: (selectData: any) => Observable<PickedResult>;
        /**
         * 帮助选择后事件
         */
        this.afterConfirm = new EventEmitter();
        this.dialogClosed = new EventEmitter();
        this.clear = new EventEmitter();
        this.columns = [];
        /**
         * 帮助前事件,强行传递过滤条件
         */
        this.beforeOpen = (/**
         * @param {?} arg
         * @return {?}
         */
        (arg) => {
            // 把过滤数据和当前的数据传递到service层
            return of({
                showDialog: true, data: {
                    filter: this.filter
                }
            });
        });
        this.dictPicked = (/**
         * @param {?} arg
         * @return {?}
         */
        (arg) => {
            this.afterConfirm.next(arg);
            return of({ closeDialog: true });
        });
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.columns = [
            { title: '编号', field: 'code', width: '80', searchField: 'code', },
            { title: '名称', field: 'name', width: '100', searchField: 'name', }
        ];
        // this.dataUri = this.uiState.dataUri;
        this.dataUri = '/api/runtime/wf/v1.0/reportingLineDefinitions/query';
        // 必须要有，否则初始选中不起作用
        this.lookUp.mapFields = { id: 'id', name: 'name' };
    }
    /**
     * @param {?} arg
     * @return {?}
     */
    afterClear(arg) {
        this.clear.next(arg);
    }
    /**
     * 手动显示帮助
     * @return {?}
     */
    showHelp() {
        this.lookUp.showDialog();
    }
}
WfReportDefHelpComponent.decorators = [
    { type: Component, args: [{
                selector: 'app-wf-report-def-help',
                template: `
    <farris-lookup-grid #lookup
      [disabled]="disabled"
      [editable]="false"
      [bindingData]="bindingData"
      [(ngModel)]="displayTxt"
      [columns]="columns"
      [singleSelect]="singleSelect"
      [title]="title"
      [displayType]="'List'"
      [uri]="dataUri"
      [idField]="'id'"
      [pageIndex]="pageIndex"
      [pageSize]="pageSize"
      [pagination]="pagination"
      [valueField]="'id'"
      [textField]="'name'"
      (clear)="afterClear($event)"
      [dialogWidth]="width"
      [dictPicking]="beforeOpen"
      [dictPicked]="dictPicked">
    </farris-lookup-grid>
  `,
                providers: [{ provide: ServerSideToken, useClass: WfReportDefHelpService }]
            }] }
];
/** @nocollapse */
WfReportDefHelpComponent.ctorParameters = () => [];
WfReportDefHelpComponent.propDecorators = {
    title: [{ type: Input }],
    width: [{ type: Input }],
    sourceType: [{ type: Input }],
    disabled: [{ type: Input }],
    singleSelect: [{ type: Input }],
    pagination: [{ type: Input }],
    pageIndex: [{ type: Input }],
    pageSize: [{ type: Input }],
    displayTxt: [{ type: Input }],
    bindingData: [{ type: Input }],
    filter: [{ type: Input }],
    afterConfirm: [{ type: Output }],
    dialogClosed: [{ type: Output }],
    clear: [{ type: Output }],
    lookUp: [{ type: ViewChild, args: ['lookup',] }]
};
if (false) {
    /**
     * 标题
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.title;
    /**
     * 宽度
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.width;
    /**
     * 取数源
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.sourceType;
    /**
     * 只读
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.disabled;
    /**
     * 是否单选
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.singleSelect;
    /**
     * 是否分页，默认true
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.pagination;
    /**
     * 首次加载第几页，默认1
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.pageIndex;
    /**
     * 每页加载数，默认20
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.pageSize;
    /**
     * 绑定到帮助上的数据，初始显示值用
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.displayTxt;
    /**
     * 存储帮助选择的对象
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.bindingData;
    /**
     * 过滤条件
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.filter;
    /**
     * 帮助选择后事件
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.afterConfirm;
    /** @type {?} */
    WfReportDefHelpComponent.prototype.dialogClosed;
    /** @type {?} */
    WfReportDefHelpComponent.prototype.clear;
    /** @type {?} */
    WfReportDefHelpComponent.prototype.dataUri;
    /** @type {?} */
    WfReportDefHelpComponent.prototype.columns;
    /** @type {?} */
    WfReportDefHelpComponent.prototype.lookUp;
    /**
     * 帮助前事件,强行传递过滤条件
     * @type {?}
     */
    WfReportDefHelpComponent.prototype.beforeOpen;
    /** @type {?} */
    WfReportDefHelpComponent.prototype.dictPicked;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2YtcmVwb3J0LWRlZi1oZWxwLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bnc3Atd2Yvd2YtcHJvY2Vzcy1lZGl0b3IvIiwic291cmNlcyI6WyJsaWIvdmlld3MvcGVyZm9ybWVyL3ZpZXdzL3JlcG9ydGluZy1saW5lL3NlcnZpY2Uvd2YtcmVwb3J0LWRlZi1oZWxwLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxLQUFLLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDMUYsT0FBTyxFQUFjLEVBQUUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUN0QyxPQUFPLEVBQWdCLG1CQUFtQixFQUFFLGVBQWUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3ZGLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBK0J0RSxNQUFNLE9BQU8sd0JBQXdCO0lBa0NuQzs7OztRQTlCUyxVQUFLLEdBQUcsR0FBRyxDQUFDOzs7O1FBSVosYUFBUSxHQUFHLEtBQUssQ0FBQzs7OztRQUVqQixpQkFBWSxHQUFHLElBQUksQ0FBQzs7OztRQUVwQixlQUFVLEdBQUcsSUFBSSxDQUFDOzs7O1FBRWxCLGNBQVMsR0FBRyxDQUFDLENBQUM7Ozs7UUFFZCxhQUFRLEdBQUcsRUFBRSxDQUFDOzs7O1FBTWQsV0FBTSxHQUFRLEVBQUUsQ0FBQzs7Ozs7UUFJaEIsaUJBQVksR0FBc0IsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUMxRCxpQkFBWSxHQUFzQixJQUFJLFlBQVksRUFBTyxDQUFDO1FBQzFELFVBQUssR0FBc0IsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUU3RCxZQUFPLEdBQVUsRUFBRSxDQUFDOzs7O1FBc0JwQixlQUFVOzs7O1FBQUcsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUNuQix5QkFBeUI7WUFDekIsT0FBTyxFQUFFLENBQUM7Z0JBQ1IsVUFBVSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7b0JBQ3RCLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTtpQkFDcEI7YUFDRixDQUFDLENBQUM7UUFDTCxDQUFDLEVBQUE7UUFDRCxlQUFVOzs7O1FBQUcsQ0FBQyxHQUFRLEVBQTRCLEVBQUU7WUFDbEQsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDNUIsT0FBTyxFQUFFLENBQUMsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztRQUNuQyxDQUFDLEVBQUE7SUE3QmUsQ0FBQzs7OztJQUVqQixRQUFRO1FBQ04sSUFBSSxDQUFDLE9BQU8sR0FBRztZQUNiLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLE1BQU0sR0FBRztZQUNqRSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxNQUFNLEdBQUc7U0FDbkUsQ0FBQztRQUNGLHVDQUF1QztRQUN2QyxJQUFJLENBQUMsT0FBTyxHQUFHLHFEQUFxRCxDQUFDO1FBQ3JFLGtCQUFrQjtRQUNsQixJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsR0FBRyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDO0lBQ3JELENBQUM7Ozs7O0lBRUQsVUFBVSxDQUFDLEdBQVE7UUFDakIsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdkIsQ0FBQzs7Ozs7SUFrQk0sUUFBUTtRQUNiLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDM0IsQ0FBQzs7O1lBakdGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsd0JBQXdCO2dCQUNsQyxRQUFRLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FzQlQ7Z0JBRUQsU0FBUyxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUUsZUFBZSxFQUFFLFFBQVEsRUFBRSxzQkFBc0IsRUFBRSxDQUFDO2FBQzVFOzs7OztvQkFHRSxLQUFLO29CQUVMLEtBQUs7eUJBRUwsS0FBSzt1QkFFTCxLQUFLOzJCQUVMLEtBQUs7eUJBRUwsS0FBSzt3QkFFTCxLQUFLO3VCQUVMLEtBQUs7eUJBRUwsS0FBSzswQkFFTCxLQUFLO3FCQUVMLEtBQUs7MkJBSUwsTUFBTTsyQkFDTixNQUFNO29CQUNOLE1BQU07cUJBSU4sU0FBUyxTQUFDLFFBQVE7Ozs7Ozs7SUE5Qm5CLHlDQUF1Qjs7Ozs7SUFFdkIseUNBQXFCOzs7OztJQUVyQiw4Q0FBbUM7Ozs7O0lBRW5DLDRDQUEwQjs7Ozs7SUFFMUIsZ0RBQTZCOzs7OztJQUU3Qiw4Q0FBMkI7Ozs7O0lBRTNCLDZDQUF1Qjs7Ozs7SUFFdkIsNENBQXVCOzs7OztJQUV2Qiw4Q0FBNEI7Ozs7O0lBRTVCLCtDQUFtRDs7Ozs7SUFFbkQsMENBQTBCOzs7OztJQUkxQixnREFBb0U7O0lBQ3BFLGdEQUFvRTs7SUFDcEUseUNBQTZEOztJQUM3RCwyQ0FBZ0I7O0lBQ2hCLDJDQUFvQjs7SUFFcEIsMENBQXdEOzs7OztJQW9CeEQsOENBT0M7O0lBQ0QsOENBR0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgb2YgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgUGlja2VkUmVzdWx0LCBMb29rdXBHcmlkQ29tcG9uZW50LCBTZXJ2ZXJTaWRlVG9rZW4gfSBmcm9tICdAZmFycmlzL3VpLWxvb2t1cCc7XHJcbmltcG9ydCB7IFdmUmVwb3J0RGVmSGVscFNlcnZpY2UgfSBmcm9tICcuL3dmLXJlcG9ydC1kZWYtaGVscC5zZXJ2aWNlJztcclxuXHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2FwcC13Zi1yZXBvcnQtZGVmLWhlbHAnLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8ZmFycmlzLWxvb2t1cC1ncmlkICNsb29rdXBcclxuICAgICAgW2Rpc2FibGVkXT1cImRpc2FibGVkXCJcclxuICAgICAgW2VkaXRhYmxlXT1cImZhbHNlXCJcclxuICAgICAgW2JpbmRpbmdEYXRhXT1cImJpbmRpbmdEYXRhXCJcclxuICAgICAgWyhuZ01vZGVsKV09XCJkaXNwbGF5VHh0XCJcclxuICAgICAgW2NvbHVtbnNdPVwiY29sdW1uc1wiXHJcbiAgICAgIFtzaW5nbGVTZWxlY3RdPVwic2luZ2xlU2VsZWN0XCJcclxuICAgICAgW3RpdGxlXT1cInRpdGxlXCJcclxuICAgICAgW2Rpc3BsYXlUeXBlXT1cIidMaXN0J1wiXHJcbiAgICAgIFt1cmldPVwiZGF0YVVyaVwiXHJcbiAgICAgIFtpZEZpZWxkXT1cIidpZCdcIlxyXG4gICAgICBbcGFnZUluZGV4XT1cInBhZ2VJbmRleFwiXHJcbiAgICAgIFtwYWdlU2l6ZV09XCJwYWdlU2l6ZVwiXHJcbiAgICAgIFtwYWdpbmF0aW9uXT1cInBhZ2luYXRpb25cIlxyXG4gICAgICBbdmFsdWVGaWVsZF09XCInaWQnXCJcclxuICAgICAgW3RleHRGaWVsZF09XCInbmFtZSdcIlxyXG4gICAgICAoY2xlYXIpPVwiYWZ0ZXJDbGVhcigkZXZlbnQpXCJcclxuICAgICAgW2RpYWxvZ1dpZHRoXT1cIndpZHRoXCJcclxuICAgICAgW2RpY3RQaWNraW5nXT1cImJlZm9yZU9wZW5cIlxyXG4gICAgICBbZGljdFBpY2tlZF09XCJkaWN0UGlja2VkXCI+XHJcbiAgICA8L2ZhcnJpcy1sb29rdXAtZ3JpZD5cclxuICBgLFxyXG4gIHN0eWxlczogW10sXHJcbiAgcHJvdmlkZXJzOiBbeyBwcm92aWRlOiBTZXJ2ZXJTaWRlVG9rZW4sIHVzZUNsYXNzOiBXZlJlcG9ydERlZkhlbHBTZXJ2aWNlIH1dXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBXZlJlcG9ydERlZkhlbHBDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG4gIC8qKiDmoIfpopggKi9cclxuICBASW5wdXQoKSB0aXRsZTogc3RyaW5nO1xyXG4gIC8qKiDlrr3luqYgKi9cclxuICBASW5wdXQoKSB3aWR0aCA9IDU1MDtcclxuICAvKiog5Y+W5pWw5rqQICovXHJcbiAgQElucHV0KCkgc291cmNlVHlwZTogJ21hdHJpeEZpZWxkJztcclxuICAvKiog5Y+q6K+7ICovXHJcbiAgQElucHV0KCkgZGlzYWJsZWQgPSBmYWxzZTtcclxuICAvKiog5piv5ZCm5Y2V6YCJICovXHJcbiAgQElucHV0KCkgc2luZ2xlU2VsZWN0ID0gdHJ1ZTtcclxuICAvKiog5piv5ZCm5YiG6aG177yM6buY6K6kdHJ1ZSAqL1xyXG4gIEBJbnB1dCgpIHBhZ2luYXRpb24gPSB0cnVlO1xyXG4gIC8qKiDpppbmrKHliqDovb3nrKzlh6DpobXvvIzpu5jorqQxICovXHJcbiAgQElucHV0KCkgcGFnZUluZGV4ID0gMTtcclxuICAvKiog5q+P6aG15Yqg6L295pWw77yM6buY6K6kMjAgKi9cclxuICBASW5wdXQoKSBwYWdlU2l6ZSA9IDIwO1xyXG4gIC8qKiDnu5HlrprliLDluK7liqnkuIrnmoTmlbDmja7vvIzliJ3lp4vmmL7npLrlgLznlKggKi9cclxuICBASW5wdXQoKSBkaXNwbGF5VHh0OiBzdHJpbmc7XHJcbiAgLyoqIOWtmOWCqOW4ruWKqemAieaLqeeahOWvueixoSAqL1xyXG4gIEBJbnB1dCgpIGJpbmRpbmdEYXRhOiB7IGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZyB9O1xyXG4gIC8qKiDov4fmu6TmnaHku7YgKi9cclxuICBASW5wdXQoKSBmaWx0ZXI6IGFueSA9IHt9O1xyXG5cclxuICAvLyBASW5wdXQoKSBiZWZvcmVDbG9zZTogKHNlbGVjdERhdGE6IGFueSkgPT4gT2JzZXJ2YWJsZTxQaWNrZWRSZXN1bHQ+O1xyXG4gIC8qKiDluK7liqnpgInmi6nlkI7kuovku7YgKi9cclxuICBAT3V0cHV0KCkgYWZ0ZXJDb25maXJtOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKSBkaWFsb2dDbG9zZWQ6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIGNsZWFyOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIGRhdGFVcmk6IHN0cmluZztcclxuICBjb2x1bW5zOiBhbnlbXSA9IFtdO1xyXG5cclxuICBAVmlld0NoaWxkKCdsb29rdXAnKSBwdWJsaWMgbG9va1VwOiBMb29rdXBHcmlkQ29tcG9uZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIHRoaXMuY29sdW1ucyA9IFtcclxuICAgICAgeyB0aXRsZTogJ+e8luWPtycsIGZpZWxkOiAnY29kZScsIHdpZHRoOiAnODAnLCBzZWFyY2hGaWVsZDogJ2NvZGUnLCB9LFxyXG4gICAgICB7IHRpdGxlOiAn5ZCN56ewJywgZmllbGQ6ICduYW1lJywgd2lkdGg6ICcxMDAnLCBzZWFyY2hGaWVsZDogJ25hbWUnLCB9XHJcbiAgICBdO1xyXG4gICAgLy8gdGhpcy5kYXRhVXJpID0gdGhpcy51aVN0YXRlLmRhdGFVcmk7XHJcbiAgICB0aGlzLmRhdGFVcmkgPSAnL2FwaS9ydW50aW1lL3dmL3YxLjAvcmVwb3J0aW5nTGluZURlZmluaXRpb25zL3F1ZXJ5JztcclxuICAgIC8vIOW/hemhu+imgeacie+8jOWQpuWImeWIneWni+mAieS4reS4jei1t+S9nOeUqFxyXG4gICAgdGhpcy5sb29rVXAubWFwRmllbGRzID0geyBpZDogJ2lkJywgbmFtZTogJ25hbWUnIH07XHJcbiAgfVxyXG5cclxuICBhZnRlckNsZWFyKGFyZzogYW55KSB7XHJcbiAgICB0aGlzLmNsZWFyLm5leHQoYXJnKTtcclxuICB9XHJcblxyXG4gIC8qKiDluK7liqnliY3kuovku7Ys5by66KGM5Lyg6YCS6L+H5ruk5p2h5Lu2ICovXHJcbiAgYmVmb3JlT3BlbiA9IChhcmcpID0+IHtcclxuICAgIC8vIOaKiui/h+a7pOaVsOaNruWSjOW9k+WJjeeahOaVsOaNruS8oOmAkuWIsHNlcnZpY2XlsYJcclxuICAgIHJldHVybiBvZih7XHJcbiAgICAgIHNob3dEaWFsb2c6IHRydWUsIGRhdGE6IHtcclxuICAgICAgICBmaWx0ZXI6IHRoaXMuZmlsdGVyXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBkaWN0UGlja2VkID0gKGFyZzogYW55KTogT2JzZXJ2YWJsZTxQaWNrZWRSZXN1bHQ+ID0+IHtcclxuICAgIHRoaXMuYWZ0ZXJDb25maXJtLm5leHQoYXJnKTtcclxuICAgIHJldHVybiBvZih7IGNsb3NlRGlhbG9nOiB0cnVlIH0pO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qKiDmiYvliqjmmL7npLrluK7liqkgKi9cclxuICBwdWJsaWMgc2hvd0hlbHAoKSB7XHJcbiAgICB0aGlzLmxvb2tVcC5zaG93RGlhbG9nKCk7XHJcbiAgfVxyXG59XHJcbiJdfQ==