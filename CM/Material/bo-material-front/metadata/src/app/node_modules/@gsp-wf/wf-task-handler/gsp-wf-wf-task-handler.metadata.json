{"__symbolic":"module","version":4,"metadata":{"WfTaskHandlerService":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":24,"character":1}}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","module":"@gsp-wf/wf-approval-logs","name":"WfApprovalLogsService","line":42,"character":24},{"__symbolic":"reference","module":"@gsp-wf/ui-flowchart","name":"WFFlowchartService","line":43,"character":30},{"__symbolic":"reference","module":"@angular/core","name":"Injector","line":44,"character":22},{"__symbolic":"reference","module":"@angular/core","name":"ComponentFactoryResolver","line":45,"character":22},{"__symbolic":"reference","module":"@farris/ui-modal","name":"BsModalService","line":46,"character":26},{"__symbolic":"reference","name":"TaskService"},{"__symbolic":"reference","module":"@farris/ui-notify","name":"NotifyService","line":48,"character":20},{"__symbolic":"reference","name":"I18nService"},{"__symbolic":"reference","module":"@gsp-sys/rtf-common","name":"FrameworkService","line":50,"character":30},{"__symbolic":"reference","module":"@angular/core","name":"ApplicationRef","line":51,"character":20}]}],"execute":[{"__symbolic":"method"}],"assignByInfo":[{"__symbolic":"method"}],"complete":[{"__symbolic":"method"}],"openApp":[{"__symbolic":"method"}],"refreshActions":[{"__symbolic":"method"}],"executeByProcInstId":[{"__symbolic":"method"}],"executeByWorkItemId":[{"__symbolic":"method"}],"startProcess":[{"__symbolic":"method"}],"showStartProcessDialog":[{"__symbolic":"method"}],"cancelSubmit":[{"__symbolic":"method"}],"submitWithBizDefKey":[{"__symbolic":"method"}],"cancelSubmitWithDataId":[{"__symbolic":"method"}],"batchSubmitWithBizDefKey":[{"__symbolic":"method"}],"batchSubmitHelpFunction":[{"__symbolic":"method"}],"batchCancelSubmitWithDataId":[{"__symbolic":"method"}],"batchCancelHelpFunction":[{"__symbolic":"method"}],"childSubmit":[{"__symbolic":"method"}],"childCancelSubmit":[{"__symbolic":"method"}],"childBatchSubmit":[{"__symbolic":"method"}],"childBatchCancelSubmit":[{"__symbolic":"method"}],"showBatchSubmitInfo":[{"__symbolic":"method"}],"showBatchCancelSubmitInfo":[{"__symbolic":"method"}],"handleSubmitMessage":[{"__symbolic":"method"}],"processSimulate":[{"__symbolic":"method"}],"viewFlowChartByDataId":[{"__symbolic":"method"}],"viewFlowChartWithForecast":[{"__symbolic":"method"}]}},"WfTaskHandlerModule":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"NgModule","line":41,"character":1},"arguments":[{"declarations":[{"__symbolic":"reference","name":"TranslatePipe"},{"__symbolic":"reference","name":"TaskExecuteComponent"},{"__symbolic":"reference","name":"TaskAssigninfoComponent"},{"__symbolic":"reference","name":"ProcessSelectorComponent"},{"__symbolic":"reference","name":"AssigneeInfoComponent"},{"__symbolic":"reference","name":"ɵb"},{"__symbolic":"reference","name":"TaskCommentComponent"},{"__symbolic":"reference","name":"ɵa"}],"imports":[{"__symbolic":"reference","module":"@angular/common","name":"CommonModule","line":53,"character":4},{"__symbolic":"reference","module":"@angular/forms","name":"FormsModule","line":54,"character":4},{"__symbolic":"reference","module":"@farris/ui-datatable","name":"DataTableModule","line":55,"character":4},{"__symbolic":"reference","module":"@farris/ui-dialog","name":"FarrisDialogModule","line":56,"character":4},{"__symbolic":"reference","module":"@farris/ui-pagination","name":"PaginationModule","line":57,"character":4},{"__symbolic":"reference","module":"@farris/ui-notify","name":"NotifyModule","line":58,"character":4},{"__symbolic":"reference","module":"@farris/ui-combo-list","name":"ComboListModule","line":59,"character":4},{"__symbolic":"reference","module":"@gsp-sys/sysmgr-ui","name":"SysManagerUIModule","line":60,"character":4},{"__symbolic":"reference","module":"@gsp-wf/wf-approval-logs","name":"WfApprovalLogsModule","line":61,"character":4},{"__symbolic":"reference","module":"@gsp-wf/ui-flowchart","name":"UiFlowchartModule","line":62,"character":4},{"__symbolic":"reference","module":"@gsp-sys/rtf-common","name":"CommonSharedModule","line":63,"character":4},{"__symbolic":"reference","module":"@farris/ui-loading","name":"LoadingModule","line":64,"character":4},{"__symbolic":"reference","module":"@gsp-wf/task-impl-api","name":"TaskImplApiModule","line":65,"character":4},{"__symbolic":"reference","module":"@farris/ui-messager","name":"MessagerModule","line":66,"character":4},{"__symbolic":"reference","module":"@farris/ui-input-group","name":"InputGroupModule","line":67,"character":4},{"__symbolic":"reference","module":"@gsp-wf/wf-sign","name":"WfSignModule","line":68,"character":4},{"__symbolic":"reference","module":"@farris/ui-avatar","name":"AvatarModule","line":69,"character":4},{"__symbolic":"reference","module":"@farris/ui-dropdown","name":"FDropdownDirectiveTypeModule","line":70,"character":4},{"__symbolic":"reference","module":"@farris/ui-datagrid","name":"DatagridModule","line":71,"character":4},{"__symbolic":"reference","module":"@farris/ui-datagrid-editors","name":"DatagridEditorsModule","line":72,"character":4},{"__symbolic":"call","expression":{"__symbolic":"select","expression":{"__symbolic":"reference","module":"@farris/ui-datagrid","name":"DatagridModule","line":73,"character":4},"member":"forRoot"},"arguments":[[{"__symbolic":"spread","expression":{"__symbolic":"reference","module":"@farris/ui-datagrid-editors","name":"EditorProviders","line":74,"character":9}}]]},{"__symbolic":"reference","module":"@farris/ui-forms","name":"FarrisFormsModule","line":76,"character":4},{"__symbolic":"reference","module":"@farris/ui-switch","name":"SwitchModule","line":77,"character":4}],"providers":[{"__symbolic":"reference","name":"TaskService"},{"__symbolic":"reference","name":"I18nService"},{"__symbolic":"reference","name":"WfTaskHandlerService"},{"__symbolic":"reference","module":"@gsp-sys/rtf-common","name":"FrameworkService","line":83,"character":4},{"__symbolic":"reference","module":"@ecp-caf/caf-common","name":"SessionService","line":84,"character":4},{"__symbolic":"reference","module":"@ecp-caf/caf-common","name":"HttpService","line":85,"character":4},{"__symbolic":"reference","module":"@ecp-caf/caf-common","name":"CacheService","line":86,"character":4},{"__symbolic":"reference","module":"@gsp-sys/rtf-common","name":"FrmEventBus","line":87,"character":4},{"__symbolic":"reference","module":"@gsp-sys/rtf-common","name":"FuncsService","line":88,"character":4}],"exports":[{"__symbolic":"reference","name":"TaskExecuteComponent"},{"__symbolic":"reference","name":"TaskAssigninfoComponent"},{"__symbolic":"reference","name":"ProcessSelectorComponent"}],"entryComponents":[{"__symbolic":"reference","name":"TaskExecuteComponent"},{"__symbolic":"reference","name":"TaskAssigninfoComponent"},{"__symbolic":"reference","name":"ProcessSelectorComponent"}]}]}],"members":{}},"TaskExecuteComponent":{"__symbolic":"class","extends":{"__symbolic":"reference","module":"@gsp-wf/task-impl-api","name":"ActionBaseImplComponent","line":45,"character":42},"decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Component","line":40,"character":1},"arguments":[{"selector":"lib-task-execute","template":"<!-- 意见输入 -->\r\n<wf-comment\r\n  *ngIf=\"!showUrgeMessageSubject\"\r\n  class=\"w-100\"\r\n  name=\"comment\"\r\n  [(ngModel)]=\"comment\"\r\n  [placeholder]=\"commentPlaceHolder\"\r\n  [processInstanceId]=\"processInstanceId\"\r\n  [showAttachment]=\"showAttachment\"\r\n  [showCommonComment]=\"showCommonComment\"\r\n  [showSign]=\"showSign\"\r\n  [textAreaHeight]=\"textAreaHeight\"\r\n  [TaskCenterConfig]=\"configList\"\r\n  (attachment)=\"addAttachment($event)\"\r\n  (signature)=\"addSignature($event)\"\r\n>\r\n</wf-comment>\r\n\r\n<!--催办消息-->\r\n<urge-handle\r\n  *ngIf=\"showUrgeMessageSubject\"\r\n  [placeholder]=\"commentPlaceHolder\"\r\n  [showMessageSubject]=\"showUrgeMessageSubject\"\r\n  [urgeMessageSubject]=\"urgeMessageSubject\"\r\n  [urgeMessageContent]=\"urgeMessageContent\"\r\n  [subjectEditable]=\"subjectEditable\"\r\n  [contentEditable]=\"contentEditable\"\r\n  [textAreaHeight]=\"textAreaHeight\"\r\n>\r\n</urge-handle>\r\n\r\n<!-- 审批记录隐藏（仅对自己可见） -->\r\n<div\r\n  *ngIf=\"ifShowCommentToMySelf\"\r\n  class=\"custom-control custom-checkbox custom-control-inline\"\r\n  style=\"margin-bottom: 10px\"\r\n>\r\n  <input\r\n    type=\"checkbox\"\r\n    class=\"custom-control-input\"\r\n    [(ngModel)]=\"hideComment\"\r\n    id=\"taskcenterhidecomment\"\r\n    name=\"taskcenterhidecomment\"\r\n  />\r\n  <label class=\"custom-control-label\" for=\"taskcenterhidecomment\">{{\r\n    \"static.hideComment\" | translate\r\n  }}</label>\r\n</div>\r\n\r\n<!-- 下一环节 -->\r\n<div *ngIf=\"ifSelectNode\" class=\"wf-task-handler-help-div\">\r\n  <div class=\"wf-task-handler-help-text\">{{ selectNodeText }}</div>\r\n  <div class=\"d-flex\" style=\"flex: 1\">\r\n    <farris-combo-list\r\n      style=\"flex: 1\"\r\n      [data]=\"destNodes\"\r\n      [editable]=\"false\"\r\n      [textField]=\"'name'\"\r\n      [valueField]=\"'id'\"\r\n      [idField]=\"'id'\"\r\n      [readonly]=\"destNodes.length > 1 ? false : true\"\r\n      (selectChange)=\"selectNodeChange($event)\"\r\n      (clear)=\"selectNodeClear()\"\r\n      [placeholder]=\"nodePlaceholder\"\r\n      [forcePlaceholder]=\"true\"\r\n    >\r\n    </farris-combo-list>\r\n  </div>\r\n</div>\r\n\r\n<!-- 办理人员（指派） -->\r\n<div *ngIf=\"ifAssignUser || ifUrgeType\">\r\n  <lib-assignee-info\r\n    *ngFor=\"let assignInfo of assignInfos; let i = index\"\r\n    [assigneeInfo]=\"assignInfo.assigneeInfo\"\r\n    [setAnonymous]=\"assignInfo.anonymous\"\r\n    [setAnonymousText]=\"assignInfo.anonymousText\"\r\n    [selectedAssignees]=\"assignInfo.selectedAssignees\"\r\n    [activityName]=\"\r\n      assignInfos.length > 1\r\n        ? assignInfo.activityName\r\n        : ifUrgeType\r\n        ? ('task.urgeText' | translate)\r\n        : ''\r\n    \"\r\n    [ifShowBlank]=\"assignInfos.length > 1 ? false : true\"\r\n    [wfContext]=\"wfContext\"\r\n    (afterConfirm)=\"afterConfirmForAssign($event, i)\"\r\n  ></lib-assignee-info>\r\n</div>\r\n\r\n<!-- 移交、加签、征询、知会 人员帮助-->\r\n<lib-assignee-info\r\n  *ngIf=\"ifSelectUser\"\r\n  [activityName]=\"selectUserText\"\r\n  [singleSelect]=\"singleSelect\"\r\n  [filter]=\"filter\"\r\n  [disabled]=\"false\"\r\n  [placeholder]=\"'task.selectPlaceholder' | translate\"\r\n  [allowGlobalAssign]=\"true\"\r\n  [wfContext]=\"wfContext\"\r\n  (afterConfirm)=\"afterConfirmForTransfer($event)\"\r\n>\r\n</lib-assignee-info>\r\n\r\n<!-- 加签 -->\r\n<!-- 审批策略 -->\r\n<div *ngIf=\"addSign.showMultiInstanceType\" class=\"wf-task-handler-help-div\">\r\n  <div class=\"wf-task-handler-help-text\">\r\n    {{ \"addSign.multiInstanceType\" | translate }}\r\n  </div>\r\n  <div class=\"d-flex\" style=\"flex: 1\">\r\n    <farris-radiogroup\r\n      [(ngModel)]=\"addSign.curMultiInstType\"\r\n      [data]=\"addSign.multiInstanceType\"\r\n      [horizontal]=\"true\"\r\n    >\r\n    </farris-radiogroup>\r\n  </div>\r\n</div>\r\n\r\n<!-- 允许再加签 -->\r\n<div *ngIf=\"addSign.showSignToSign\" class=\"wf-task-handler-help-div\">\r\n  <div class=\"wf-task-handler-help-text\">\r\n    {{ \"addSign.allowSignToSign\" | translate }}{{ actionEntity.name }}\r\n  </div>\r\n  <farris-switch\r\n    [(ngModel)]=\"addSign.allowSignToSIgn\"\r\n    [size]=\"'small'\"\r\n    trueValue=\"true\"\r\n    falseValue=\"false\"\r\n  >\r\n  </farris-switch>\r\n</div>\r\n\r\n<!-- 驳回后再次提交时直接回到本节点 -->\r\n<div\r\n  *ngIf=\"showBackWardConfig.dynamicBackWardRuleAble\"\r\n  class=\"wf-task-handler-help-div\"\r\n>\r\n  <div class=\"wf-task-handler-help-text\">\r\n    {{ actionEntity.name\r\n    }}{{ \"backWardConfig.allowResubmitToThisNode\" | translate }}\r\n  </div>\r\n  <farris-switch\r\n    [(ngModel)]=\"showBackWardConfig.enable\"\r\n    [size]=\"'small'\"\r\n    trueValue=\"true\"\r\n    falseValue=\"false\"\r\n  >\r\n  </farris-switch>\r\n</div>\r\n\r\n<!-- 按钮 -->\r\n<ng-template #taskExecuteButtons>\r\n  <button type=\"button\" class=\"btn btn-secondary\" (click)=\"cancel()\">\r\n    {{ \"static.footCancel\" | translate }}\r\n  </button>\r\n  <button\r\n    type=\"button\"\r\n    class=\"btn btn-primary\"\r\n    (click)=\"submit()\"\r\n    [disabled]=\"submitDisable\"\r\n  >\r\n    {{ \"static.footOk\" | translate }}\r\n  </button>\r\n</ng-template>\r\n","styles":[".wf-task-handler-help-div{font-size:13px;color:#2d2f33;margin-bottom:20px}.wf-task-handler-help-div-submit{margin-bottom:20px}.wf-task-handler-help-text{padding-bottom:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}]}],"members":{"buttons":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":74,"character":3},"arguments":["taskExecuteButtons"]}]}],"sysUserHelp":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":75,"character":3},"arguments":[{"__symbolic":"reference","module":"@gsp-sys/sysmgr-ui","name":"SysFarrisLookupComponent","line":75,"character":13}]}]}],"urgeHandleComponent":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":76,"character":3},"arguments":[{"__symbolic":"reference","name":"ɵa"}]}]}],"cls":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"HostBinding","line":154,"character":3},"arguments":["class"]}]}],"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","name":"TaskService"},{"__symbolic":"reference","module":"@farris/ui-notify","name":"NotifyService","line":162,"character":20},{"__symbolic":"reference","name":"I18nService"},{"__symbolic":"reference","name":"WfTaskHandlerService"},{"__symbolic":"reference","module":"@farris/ui-loading","name":"LoadingService","line":165,"character":28},{"__symbolic":"reference","module":"@farris/ui-messager","name":"MessagerService","line":166,"character":21},{"__symbolic":"reference","module":"@angular/core","name":"Injector","line":167,"character":22},{"__symbolic":"reference","module":"@angular/core","name":"ChangeDetectorRef","line":168,"character":16}]}],"ngAfterViewInit":[{"__symbolic":"method"}],"ngOnInit":[{"__symbolic":"method"}],"addMessageListener":[{"__symbolic":"method"}],"setTask":[{"__symbolic":"method"}],"setAction":[{"__symbolic":"method"}],"initFormEvent":[{"__symbolic":"method"}],"beforeCompleteSubmit":[{"__symbolic":"method"}],"executeFormActions":[{"__symbolic":"method"}],"execute":[{"__symbolic":"method"}],"submit":[{"__symbolic":"method"}],"batchSubmit":[{"__symbolic":"method"}],"batchverifySubmit":[{"__symbolic":"method"}],"batchComplete":[{"__symbolic":"method"}],"showBatchSubmitInfo":[{"__symbolic":"method"}],"executeBatchEvent":[{"__symbolic":"method"}],"assignSimulate":[{"__symbolic":"method"}],"transferSimulate":[{"__symbolic":"method"}],"addSignFrontSimulate":[{"__symbolic":"method"}],"addSignSimulate":[{"__symbolic":"method"}],"notifySimulate":[{"__symbolic":"method"}],"getOrganizationScope":[{"__symbolic":"method"}],"urgeHandleSimulate":[{"__symbolic":"method"}],"completeSimulate":[{"__symbolic":"method"}],"clearSimulateResult":[{"__symbolic":"method"}],"setAssignInfo":[{"__symbolic":"method"}],"assignSubmit":[{"__symbolic":"method"}],"claimSubmit":[{"__symbolic":"method"}],"unClaimSubmit":[{"__symbolic":"method"}],"retrieveSubmit":[{"__symbolic":"method"}],"transferSubmit":[{"__symbolic":"method"}],"commentSubmit":[{"__symbolic":"method"}],"addSignFrontSubmit":[{"__symbolic":"method"}],"addSignSubmit":[{"__symbolic":"method"}],"readSubmit":[{"__symbolic":"method"}],"notifySubmit":[{"__symbolic":"method"}],"urgeHandleSubmit":[{"__symbolic":"method"}],"cancelConsultSubmit":[{"__symbolic":"method"}],"completeSubmit":[{"__symbolic":"method"}],"completeTask":[{"__symbolic":"method"}],"executeFormActionsAfterCompleteTask":[{"__symbolic":"method"}],"executePostFormActions":[{"__symbolic":"method"}],"afterConfirmForTransfer":[{"__symbolic":"method"}],"cancel":[{"__symbolic":"method"}],"getSubject":[{"__symbolic":"method"}],"selectNodeChange":[{"__symbolic":"method"}],"selectNodeClear":[{"__symbolic":"method"}],"afterConfirmForAssign":[{"__symbolic":"method"}],"addAttachment":[{"__symbolic":"method"}],"addSignature":[{"__symbolic":"method"}],"addPadding":[{"__symbolic":"method"}],"sendMessage":[{"__symbolic":"method"}],"verifySignature":[{"__symbolic":"method"}],"taskComplete":[{"__symbolic":"method"}]},"statics":{"func":null}},"TaskAssigninfoComponent":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Component","line":2,"character":1},"arguments":[{"selector":"lib-task-assigninfo","template":"","styles":[""]}]}],"members":{"ngOnInit":[{"__symbolic":"method"}]}},"TaskService":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":14,"character":1}}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","module":"@ecp-caf/caf-common","name":"HttpService","line":18,"character":25},{"__symbolic":"reference","module":"@farris/ui-messager","name":"MessagerService","line":19,"character":25}]}],"getUsersByIds":[{"__symbolic":"method"}],"getWorkItemActions":[{"__symbolic":"method"}],"complete":[{"__symbolic":"method"}],"completeSimulate":[{"__symbolic":"method"}],"getDestinationScope":[{"__symbolic":"method"}],"getSimulationAssigneeInfo":[{"__symbolic":"method"}],"addSign":[{"__symbolic":"method"}],"readTask":[{"__symbolic":"method"}],"getAppInfo":[{"__symbolic":"method"}],"getAssigneeInfo":[{"__symbolic":"method"}],"getOrganizationScope":[{"__symbolic":"method"}],"getTaskByProcInstId":[{"__symbolic":"method"}],"getTaskByWorkItemId":[{"__symbolic":"method"}],"assignNextUsersByWorkItemId":[{"__symbolic":"method"}],"retrieve":[{"__symbolic":"method"}],"transfer":[{"__symbolic":"method"}],"comment":[{"__symbolic":"method"}],"claim":[{"__symbolic":"method"}],"unClaim":[{"__symbolic":"method"}],"error":[{"__symbolic":"method"}],"startProcess":[{"__symbolic":"method"}],"startProcessSimulate":[{"__symbolic":"method"}],"cancelSubmit":[{"__symbolic":"method"}],"getCommentList":[{"__symbolic":"method"}],"addComment":[{"__symbolic":"method"}],"getTaskCenterConfigByCode":[{"__symbolic":"method"}],"addTaskCenterConfig":[{"__symbolic":"method"}],"getAllUserConfig":[{"__symbolic":"method"}],"uploadAttachment":[{"__symbolic":"method"}],"deleteAttachment":[{"__symbolic":"method"}],"uploadSignature":[{"__symbolic":"method"}],"createNM":[{"__symbolic":"method"}],"getUserInfo":[{"__symbolic":"method"}],"getUserSign":[{"__symbolic":"method"}],"createItem":[{"__symbolic":"method"}],"subjectRegister":[{"__symbolic":"method"}],"subjectNotify":[{"__symbolic":"method"}],"subjectResponse":[{"__symbolic":"method"}],"urgeHandleSimulate":[{"__symbolic":"method"}],"urgeHandle":[{"__symbolic":"method"}],"batchVerifySigned":[{"__symbolic":"method"}],"getWfUserHelpConfig":[{"__symbolic":"method"}],"getAdhocConfig":[{"__symbolic":"method"}],"adhocAssignee":[{"__symbolic":"method"}],"cancelConsult":[{"__symbolic":"method"}]}},"I18nService":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":4,"character":1}}],"members":{"__ctor__":[{"__symbolic":"constructor"}],"getValue":[{"__symbolic":"method"}]}},"TranslatePipe":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Pipe","line":3,"character":1},"arguments":[{"name":"translate"}]}],"members":{"__ctor__":[{"__symbolic":"constructor","parameterDecorators":[[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Optional","line":5,"character":17}}]],"parameters":[{"__symbolic":"reference","name":"I18nService"}]}],"transform":[{"__symbolic":"method"}]}},"ProcessSelectorComponent":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Component","line":20,"character":1},"arguments":[{"selector":"lib-process-selector","template":"<div style=\"padding: 10px 20px; overflow: hidden; background-color: white;\">\r\n  <!-- 选择流程定义，下拉 -->\r\n  <div class=\"wf-task-handler-help-div wf-task-handler-help-div-submit\">\r\n    <div class=\"wf-task-handler-help-text\">\r\n      {{ \"startProcess.title\" | translate }}\r\n    </div>\r\n    <div class=\"d-flex\" style=\"flex: 1;\">\r\n      <farris-combo-list style=\"flex: 1;\"\r\n        [data]=\"destProcesses\"\r\n        [editable]=\"false\"\r\n        [textField]=\"'name'\"\r\n        [valueField]=\"'id'\"\r\n        [idField]=\"'id'\"\r\n        [readonly]=\"destProcesses.length > 1 ? false : true\"\r\n        (selectChange)=\"selectProcessChange($event)\"\r\n        (clear)=\"selectProcessClear()\"\r\n        [placeholder]=\"processPlaceholder\"\r\n        [forcePlaceholder]=\"true\"\r\n      >\r\n      </farris-combo-list>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- 下一节点，下拉 -->\r\n  <div class=\"wf-task-handler-help-div wf-task-handler-help-div-submit\">\r\n    <div class=\"wf-task-handler-help-text\">{{ \"task.nextNodeText\" | translate }}</div>\r\n    <div class=\"d-flex\" style=\"flex: 1;\">\r\n      <farris-combo-list style=\"flex: 1;\"\r\n        #nodeCombo\r\n        [data]=\"destNodes\"\r\n        [editable]=\"false\"\r\n        [textField]=\"'name'\"\r\n        [valueField]=\"'id'\"\r\n        [idField]=\"'id'\"\r\n        [readonly]=\"destNodes.length > 1 ? false : true\"\r\n        (selectChange)=\"selectNodeChange($event)\"\r\n        (clear)=\"selectNodeClear()\"\r\n        [placeholder]=\"nodePlaceholder\"\r\n        [forcePlaceholder]=\"true\"\r\n      >\r\n      </farris-combo-list>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- 办理人员 -->\r\n  <lib-assignee-info *ngFor=\"let assignInfo of assignInfos; let i = index\"\r\n    [assigneeInfo]=\"assignInfo.assigneeInfo\"\r\n    [setAnonymous]=\"assignInfo.anonymous\"\r\n    [setAnonymousText]=\"assignInfo.anonymousText\"\r\n    [selectedAssignees]=\"assignInfo.selectedAssignees\"\r\n    [activityName]=\"assignInfos.length > 1 ? assignInfo.activityName : ''\"\r\n    [ifShowBlank]=\"assignInfos.length > 1 ? false : true\"\r\n    [openFromIframe]=\"openFromIframe\"\r\n    [wfContext]=\"wfContext\"\r\n    (afterConfirm)=\"afterConfirm($event, i)\"\r\n  ></lib-assignee-info>\r\n</div>\r\n\r\n\r\n<!-- 弹框显示时，显示按钮 -->\r\n<div *ngIf=\"showButtons\" class=\"modal-footer\" style=\"float: right; width: 100%;\">\r\n  <div *ngIf=\"showButtons; then buttons\"></div>\r\n</div>\r\n\r\n<!-- 按钮 -->\r\n<ng-template #buttons>\r\n  <button type=\"button\" class=\"btn btn-secondary\" (click)=\"cancel()\">\r\n    {{ \"static.footCancel\" | translate }}\r\n  </button>\r\n  <button type=\"button\" class=\"btn btn-primary\" [disabled]=\"submitDisable\" directive-throttle (throttleClick)=\"startProcessSubmit()\">\r\n    {{ \"static.footOk\" | translate }}\r\n  </button>\r\n</ng-template>\r\n","styles":[".wf-task-handler-help-div{font-size:13px;color:#2d2f33;margin-bottom:20px}.wf-task-handler-help-div-submit{margin-bottom:20px}.wf-task-handler-help-text{padding-bottom:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}]}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","name":"TaskService"},{"__symbolic":"reference","module":"@farris/ui-loading","name":"LoadingService","line":30,"character":28},{"__symbolic":"reference","module":"@farris/ui-notify","name":"NotifyService","line":31,"character":20},{"__symbolic":"reference","name":"I18nService"},{"__symbolic":"reference","module":"@farris/ui-messager","name":"MessagerService","line":33,"character":22},{"__symbolic":"reference","module":"@angular/core","name":"Injector","line":34,"character":22},{"__symbolic":"reference","name":"WfTaskHandlerService"}]}],"ngOnInit":[{"__symbolic":"method"}],"nodeCombo":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":72,"character":3},"arguments":["nodeCombo"]}]}],"buttons":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":73,"character":3},"arguments":["buttons"]}]}],"openFromIframe":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":74,"character":3}}]}],"dataId":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":76,"character":3}}]}],"bizDefKey":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":84,"character":3}}]}],"setParam":[{"__symbolic":"method"}],"startProcessSimulate":[{"__symbolic":"method"}],"selectProcessChange":[{"__symbolic":"method"}],"getDestNodes":[{"__symbolic":"method"}],"selectNodeChange":[{"__symbolic":"method"}],"startProcessSubmit":[{"__symbolic":"method"}],"selectProcessClear":[{"__symbolic":"method"}],"selectNodeClear":[{"__symbolic":"method"}],"afterConfirm":[{"__symbolic":"method"}],"cancel":[{"__symbolic":"method"}],"getSubject":[{"__symbolic":"method"}],"getSubjectWithResponse":[{"__symbolic":"method"}],"getSubjectCancel":[{"__symbolic":"method"}],"setNextNode":[{"__symbolic":"method"}],"setAssignInfo":[{"__symbolic":"method"}],"clearAssignInfos":[{"__symbolic":"method"}],"getSelectedProcessCache":[{"__symbolic":"method"}],"setSelectedProcessCache":[{"__symbolic":"method"}]}},"AssigneeInfoComponent":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Component","line":14,"character":1},"arguments":[{"selector":"lib-assignee-info","template":"<!-- 指定参与者（指派） -->\r\n<div\r\n  *ngIf=\"\r\n    ifShowBlank ||\r\n    _assigneeInfo || (_selectedAssignees && _selectedAssignees.length)\r\n  \"\r\n  class=\"wf-task-handler-help-div\"\r\n>\r\n  <div class=\"wf-task-handler-help-text\" title=\"{{ activityName }}\">\r\n    {{ activityName ? activityName : (\"task.assignText\" | translate) }}\r\n  </div>\r\n  <div\r\n    style=\"flex: 1\"\r\n    title=\"{{ assignUserNgModule ? assignUserNgModule : placeholder }}\"\r\n  >\r\n    <input-group\r\n      [editable]=\"false\"\r\n      [disabled]=\"disabled\"\r\n      [customCls]=\"'custom-cls'\"\r\n      [groupText]=\"groupIcon\"\r\n      [placeholder]=\"placeholder\"\r\n      [forcePlaceholder]=\"true\"\r\n      [(value)]=\"assignUserNgModule\"\r\n      (clickHandle)=\"clickAssignUser()\"\r\n      (clear)=\"assignUserClear()\"\r\n    ></input-group>\r\n  </div>\r\n</div>\r\n\r\n<!-- 系统帮助，用于全员指派 -->\r\n<sys-farris-grid-lookup\r\n  #sysUserHelp\r\n  style=\"display: none\"\r\n  [singleSelect]=\"singleSelect\"\r\n  [bindingData]=\"bindingData\"\r\n  [pagination]=\"true\"\r\n  [pageSize]=\"20\"\r\n  [title]=\"'static.selectUser' | translate\"\r\n  [sourceType]=\"'user'\"\r\n  [filter]=\"filter\"\r\n  [showUserUnitInfo]=\"true\"\r\n  [typeMode]=\"1\"\r\n  (afterConfirm)=\"afterUsersSelect($event)\"\r\n>\r\n</sys-farris-grid-lookup>\r\n\r\n<!-- 指派自己画的帮助 -->\r\n<farris-dialog\r\n  #allUserDialog\r\n  [buttons]=\"buttonRef\"\r\n  [width]=\"850\"\r\n  [height]=\"520\"\r\n  [title]=\"'static.selectUser' | translate\"\r\n>\r\n  <div\r\n    class=\"d-flex flex-column my-data-grid h-100\"\r\n    style=\"padding: 0 14px; overflow: hidden\"\r\n  >\r\n    <div class=\"flex-auto\" style=\"position: relative\">\r\n      <farris-datatable\r\n        #allUserTable\r\n        [columns]=\"columns\"\r\n        [data]=\"searchAssignUserList\"\r\n        [showFilterBar]=\"true\"\r\n        [singleSelect]=\"singleSelect\"\r\n        [idField]=\"'ID'\"\r\n        [remote]=\"'server'\"\r\n        (search)=\"myUserHelpSearch($event)\"\r\n        [pagination]=\"false\"\r\n        [showPageList]=\"false\"\r\n      ></farris-datatable>\r\n    </div>\r\n  </div>\r\n</farris-dialog>\r\n<ng-template #buttonRef>\r\n  <button class=\"btn btn-secondary\" (click)=\"myUserHelpCancel()\">\r\n    {{ \"static.footCancel\" | translate }}\r\n  </button>\r\n  <button class=\"btn btn-primary\" (click)=\"myUserHelpAfterSelect()\">\r\n    {{ \"static.footOk\" | translate }}\r\n  </button>\r\n</ng-template>\r\n","styles":[".wf-task-handler-help-div{font-size:13px;color:#2d2f33;margin-bottom:20px}.wf-task-handler-help-div-submit{margin-bottom:20px}.wf-task-handler-help-text{padding-bottom:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}]}],"members":{"disabled":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":31,"character":3}}]}],"placeholder":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":32,"character":3}}]}],"singleSelect":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":33,"character":3}}]}],"filter":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":34,"character":3}}]}],"ifShowBlank":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":35,"character":3}}]}],"openFromIframe":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":36,"character":3}}]}],"activityName":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":37,"character":3}}]}],"allowGlobalAssign":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":38,"character":3}}]}],"wfContext":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":39,"character":3}}]}],"myUserHelp":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":41,"character":3},"arguments":["allUserDialog"]}]}],"buttons":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":42,"character":3},"arguments":["taskExecuteButtons"]}]}],"myUserHelpTable":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":43,"character":3},"arguments":["allUserTable"]}]}],"dataTableEle":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":44,"character":3},"arguments":["allUserTable",{"read":{"__symbolic":"reference","module":"@angular/core","name":"ElementRef","line":44,"character":37}}]}]}],"sysUserHelp":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":46,"character":3},"arguments":[{"__symbolic":"reference","module":"@gsp-sys/sysmgr-ui","name":"SysFarrisLookupComponent","line":46,"character":13}]}]}],"sysUserHelpEle":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":47,"character":3},"arguments":["sysUserHelp",{"read":{"__symbolic":"reference","module":"@angular/core","name":"ElementRef","line":47,"character":36}}]}]}],"myUserHelpEle":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":48,"character":3},"arguments":["allUserDialog",{"read":{"__symbolic":"reference","module":"@angular/core","name":"ElementRef","line":48,"character":38}}]}]}],"afterConfirm":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Output","line":50,"character":3}}]}],"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","name":"I18nService"},{"__symbolic":"reference","module":"@farris/ui-notify","name":"NotifyService","line":71,"character":20},{"__symbolic":"reference","module":"@angular/core","name":"ChangeDetectorRef","line":72,"character":16},{"__symbolic":"reference","name":"TaskService"},{"__symbolic":"reference","module":"@angular/core","name":"Injector","line":74,"character":22}]}],"ngAfterViewInit":[{"__symbolic":"method"}],"ngOnInit":[{"__symbolic":"method"}],"assigneeInfo":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":97,"character":3}}]}],"setAnonymous":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":127,"character":3}}]}],"setAnonymousText":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":132,"character":3}}]}],"selectedAssignees":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":140,"character":3}}]}],"clickAssignUser":[{"__symbolic":"method"}],"showExtendUserHelp":[{"__symbolic":"method"}],"showSysUserHelp":[{"__symbolic":"method"}],"openMyUserHelpOutIframe":[{"__symbolic":"method"}],"beforeOpenSysUserHelpOutIframe":[{"__symbolic":"method"}],"openSysUserHelpOutIframe":[{"__symbolic":"method"}],"afterUsersSelect":[{"__symbolic":"method"}],"getAssignUsersByIds":[{"__symbolic":"method"}],"myUserHelpSearch":[{"__symbolic":"method"}],"myUserHelpAfterSelect":[{"__symbolic":"method"}],"myUserHelpCancel":[{"__symbolic":"method"}],"assignUserClear":[{"__symbolic":"method"}]}},"TaskCommentComponent":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Component","line":21,"character":1},"arguments":[{"selector":"wf-comment","providers":[{"provide":{"__symbolic":"reference","module":"@angular/forms","name":"NG_VALUE_ACCESSOR","line":26,"character":13},"useExisting":{"__symbolic":"reference","name":"TaskCommentComponent"},"multi":true}],"template":"<div\r\n  class=\"fa-approve-comment fa-approve-common-gutter\"\r\n  style=\"margin-bottom: 20px\"\r\n>\r\n  <!-- 输入框 -->\r\n  <div class=\"fa-approve-comment--content\">\r\n    <textarea\r\n      class=\"form-control content-textarea\"\r\n      style=\"font-size: 13px\"\r\n      [(ngModel)]=\"value\"\r\n      [attr.placeholder]=\"placeholder\"\r\n      [style.height.px]=\"textAreaHeight\"\r\n    ></textarea>\r\n  </div>\r\n  <!-- 输入框下方一排按钮 -->\r\n  <div class=\"fa-approve-comment--footer\">\r\n    <div\r\n      *ngIf=\"showAttachment || showSign || showCommonComment\"\r\n      class=\"approve-comment--text-btns\"\r\n    >\r\n      <!-- 常用意见 -->\r\n      <div *ngIf=\"showCommonComment\" class=\"text-btns-item\">\r\n        <span class=\"f-icon f-icon-message\"></span>\r\n        <div fDropdown #dropdownEl=\"fDropdown\">\r\n          <span fDropdownToggle>\r\n            {{ \"comment.static.inputLabel\" | translate }}\r\n          </span>\r\n          <div class=\"dropdown-menu\" fDropdownMenu>\r\n            <li\r\n              class=\"dropdown-item\"\r\n              *ngFor=\"let comment of commentList\"\r\n              (click)=\"buttonClick(comment.message)\"\r\n            >\r\n              <span>{{ comment.message }}</span>\r\n            </li>\r\n            <div class=\"dropdown-divider\"></div>\r\n            <!-- 意见管理 -->\r\n            <div class=\"dropdown-item\" (click)=\"onEditComment()\">\r\n              <span class=\"f-icon f-icon-home-setup\"></span>\r\n              <span>{{ \"comment.static.manage\" | translate }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 上传附件 -->\r\n      <div\r\n        class=\"text-btns-item\"\r\n        *ngIf=\"ifShowAttachment && showAttachment\"\r\n        (click)=\"uploadAttachment()\"\r\n        title=\"{{ 'comment.attachment.tips' | translate }}\"\r\n      >\r\n        <span class=\"f-icon f-icon-attachment\"></span>\r\n        <span class=\"text-btns-item--text\">\r\n          {{ \"comment.static.attachmentUpload\" | translate }}\r\n        </span>\r\n      </div>\r\n      <!-- 手写签名 -->\r\n      <div\r\n        class=\"text-btns-item\"\r\n        *ngIf=\"showSign && ifShowSign && ifCanEditSign\"\r\n        title=\"{{ 'comment.signature.tips' | translate }}\"\r\n        (click)=\"showSignDialog()\"\r\n      >\r\n        <span class=\"f-icon f-icon-edit\"></span>\r\n        <span>{{ \"comment.signature.title\" | translate }}</span>\r\n      </div>\r\n      <!-- 手写签名预览 -->\r\n      <div\r\n        *ngIf=\"showSign && ifShowSign && signatureImage\"\r\n        class=\"signatureImage\"\r\n      >\r\n        <img [src]=\"signatureImage\" style=\"width: 70px; height: 26px\" />\r\n        <div *ngIf=\"ifCanEditSign\"\r\n          class=\"attachment-delete\"\r\n          (click)=\"clickToDeleteImage()\"\r\n          title=\"{{ 'comment.signature.disable' | translate }}\"\r\n        >\r\n          <span class=\"f-icon f-icon-x\"></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 附件预览 -->\r\n    <div *ngIf=\"attachmentList.length > 0\">\r\n      <li *ngFor=\"let attachment of attachmentList\">\r\n        <div class=\"wf-docFile\">\r\n          <div><img class=\"wf-docFileIcon\" [src]=\"imageUrl(attachment)\" /></div>\r\n          <div class=\"wf-docFileInfo\">\r\n            <div class=\"attachment-list\">\r\n              <a>{{ attachment.fileName }}</a>\r\n            </div>\r\n            <div\r\n              class=\"attachment-delete\"\r\n              (click)=\"attachmentDelete(attachment)\"\r\n            >\r\n              <span class=\"f-icon f-icon-close-outline\"></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- 常用意见维护 -->\r\n<farris-dialog\r\n  #commentDialog\r\n  [buttons]=\"formButtonRef\"\r\n  [width]=\"740\"\r\n  [height]=\"440\"\r\n  [title]=\"'comment.static.title' | translate\"\r\n>\r\n  <div class=\"task-center-comment-datagrid-div\">\r\n    <farris-datagrid\r\n      #dataGrid\r\n      [data]=\"commentList\"\r\n      [columns]=\"commentColumns\"\r\n      [editable]=\"true\"\r\n      [fit]=\"true\"\r\n      [editMode]=\"'cell'\"\r\n      [pagination]=\"false\"\r\n      [fitColumns]=\"true\"\r\n      [clickToEdit]=\"true\"\r\n      [beforeEdit]=\"beforeEdit\"\r\n    >\r\n    </farris-datagrid>\r\n  </div>\r\n  <div class=\"task-comment-add task-comment-add-common\" (click)=\"add()\">\r\n    <span class=\"f-icon f-icon-plus mr-1\"></span>\r\n    <span>{{ \"comment.static.clickToAdd\" | translate }}</span>\r\n  </div>\r\n</farris-dialog>\r\n\r\n<!-- 常用意见维护按钮 -->\r\n<ng-template #formButtonRef>\r\n  <button class=\"btn btn-primary mr-2\" (click)=\"save()\">\r\n    {{ \"comment.static.confirm\" | translate }}\r\n  </button>\r\n  <button class=\"btn btn-secondary\" (click)=\"commentDialog.close()\">\r\n    {{ \"comment.static.cancel\" | translate }}\r\n  </button>\r\n</ng-template>\r\n\r\n<!-- 签名弹框 -->\r\n<farris-dialog\r\n  #signDialog\r\n  [buttons]=\"signButtons\"\r\n  [width]=\"710\"\r\n  [height]=\"420\"\r\n  [title]=\"'comment.signature.dialogTitle' | translate\"\r\n  [resizable]=\"false\"\r\n  [showMaxButton]=\"false\"\r\n>\r\n  <wf-sign-here\r\n    #wfSignHere\r\n    [title]=\"''\"\r\n    [ngStyle]=\"!ifUseSign ? { display: 'none' } : null\"\r\n  ></wf-sign-here>\r\n  <div *ngIf=\"ifUseImg && tmpSignatureImage\" class=\"signature-img-default\">\r\n    <img [src]=\"tmpSignatureImage\" style=\"height: 252px\" />\r\n  </div>\r\n  <div *ngIf=\"ifUseImg && !tmpSignatureImage\" class=\"signature-img-div\">\r\n    <div class=\"signature-img-main\">\r\n      <div style=\"margin-bottom: 28px\">\r\n        <img\r\n          src=\"/platform/runtime/common/web/@gsp-wf/wf-task-handler/assets/img/signIcon.svg?v=20210623\"\r\n        />\r\n      </div>\r\n      <div class=\"signature-img-text\">\r\n        <span>{{ \"comment.signature.note1\" | translate }}</span>\r\n        <span class=\"signature-text-action\" (click)=\"clickToUseSign()\">{{\r\n          \"comment.signature.sign\" | translate\r\n        }}</span>\r\n        <span>{{ \"comment.signature.note2\" | translate }}</span>\r\n        <span class=\"signature-text-action\" (click)=\"clickToUploadImg()\">{{\r\n          \"comment.signature.upload\" | translate\r\n        }}</span>\r\n        <span>{{ \"comment.signature.note3\" | translate }}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</farris-dialog>\r\n\r\n<!-- 手写签名按钮 -->\r\n<ng-template #signButtons>\r\n  <button class=\"btn btn-primary mr-2\" (click)=\"clickToConfirm()\">\r\n    {{ \"comment.signature.ok\" | translate }}\r\n  </button>\r\n  <button class=\"btn btn-secondary mr-2\" (click)=\"clickToReset()\">\r\n    {{ \"comment.signature.reset\" | translate }}\r\n  </button>\r\n  <button class=\"btn btn-secondary\" (click)=\"clickToCancel()\">\r\n    {{ \"comment.static.cancel\" | translate }}\r\n  </button>\r\n</ng-template>\r\n\r\n<!-- 使用头像组件做图片上传 -->\r\n<farris-avatar\r\n  #farrisAvatar\r\n  (imgChange)=\"imgChange($event)\"\r\n  style=\"display: none\"\r\n></farris-avatar>\r\n\r\n<!-- 常用意见类别 -->\r\n<ng-template #commentTypeCell let-ctx>\r\n  <div>\r\n    <span\r\n      *ngIf=\"ctx.rowData.userId === '*'\"\r\n      class=\"task-comment-type task-comment-type-blue\"\r\n      >{{ \"comment.static.public\" | translate }}</span\r\n    >\r\n    <span\r\n      *ngIf=\"ctx.rowData.userId !== '*'\"\r\n      class=\"task-comment-type task-comment-type-yellow\"\r\n      >{{ \"comment.static.private\" | translate }}</span\r\n    >\r\n  </div>\r\n</ng-template>\r\n\r\n<!-- 常用意见操作 -->\r\n<ng-template #commentOperateCell let-ctx>\r\n  <div\r\n    *ngIf=\"ctx.rowData.userId !== '*'\"\r\n    class=\"btn-link\"\r\n    style=\"padding: 5px 0\"\r\n    (click)=\"clickToDeleteComment(ctx)\"\r\n  >\r\n    {{ \"comment.static.delete\" | translate }}\r\n  </div>\r\n</ng-template>\r\n","styles":[":host ::ng-deep .dropdown .btn{padding:0}:host ::ng-deep .dropdown .btn-secondary{box-shadow:none}:host ::ng-deep .dropdown .btn-secondary:focus{box-shadow:none}:host ::ng-deep .dropdown .btn-secondary:hover{color:#388fff}.task-center-comment-datagrid-div{display:flex;flex-grow:0;overflow:hidden;height:295px;padding:0 24px}.task-comment-type{padding:2px 6px;border-radius:4px;font-size:12px}.task-comment-type-blue{background:#eef5ff;border:0 solid #aed1ff;color:#5ea4ff}.task-comment-type-yellow{background:#fef5ec;border:0 solid #fad0a1;color:#f5a144}.task-comment-add{display:flex;justify-content:center;align-items:center;margin:0 24px;cursor:pointer;overflow:hidden;font-size:12px;text-align:center;padding:6px;border-radius:4px}.task-comment-add-common{color:#a8adb8;background:#f4f6fc;border:1px dashed #d2d7e2}.task-comment-add:hover{background:rgba(238,245,255,.8);border:1px solid rgba(82,157,255,.4)}.signatureImage:hover .attachment-delete{display:block}.fa-approval-operate-list{display:flex;flex-direction:row;align-items:center}.fa-approval-operate-list .approval-operate--label{position:relative;margin-right:8px;padding:3px 16px;border:1px solid rgba(0,0,0,.15);border-radius:2px;overflow:hidden;cursor:pointer;margin-bottom:0;color:#595959}.fa-approval-operate-list .approval-operate--label .label-title{font-size:14px;line-height:20px;white-space:nowrap}.fa-approval-operate-list .approval-operate--label .label-tip{position:absolute;display:block;right:0;bottom:0;width:14px;height:14px;border:7px solid #dadada;border-top:7px solid transparent;border-left:7px solid transparent}.fa-approval-operate-list .approval-operate--label .label-icon{position:absolute;display:block;right:-3px;bottom:-2px;font-size:12px;color:#fff}.fa-approval-operate-list .approval-operate--label .label-icon::before{content:\"\\e118\"}.fa-approval-operate-list .approval-operate--radio{display:none}.fa-approval-operate-list .approval-operate--radio:checked~.approval-operate--label{color:#388fff;border-color:#388fff;background:rgba(23,145,255,.05)}.fa-approval-operate-list .approval-operate--radio:checked~.approval-operate--label .label-tip{border-right-color:#388fff;border-bottom-color:#388fff}.fa-dropdown-button{border-color:#f7f7f7;font-size:12px;color:#667580;background:#f7f7f7}.fa-btn-like-dropdown{display:flex;align-items:center}.fa-btn-like-dropdown .like-dropdown--text{margin:0 4px 0 0}.fa-btn-like-dropdown .like-dropdown--icon{color:rgba(0,0,0,.25)}.fa-approve-common-gutter{margin:0 0 12px}.fa-approve-comment .approve-comment--title{display:inline-block;color:#667580;border-radius:4px 4px 0 0;height:26px;padding:0 9px;position:relative;background:#f7f7f7;cursor:pointer}.fa-approve-comment .approve-comment--title:after{content:\"\";height:100%;position:absolute;right:-10px;top:0;bottom:0;border-right:5px solid transparent;border-left:5px solid #f7f7f7;border-bottom:13px solid #f7f7f7;border-top:13px solid transparent}.fa-approve-comment .approve-comment--title .fa-btn-like-dropdown{font-size:12px;padding:2px 0}.fa-approve-comment .fa-approve-comment--content .content-textarea{border-color:#dcdcdc;border-radius:0 0 2px 2px}.fa-approve-comment .fa-approve-comment--footer{font-size:13px;color:#667580;background:#f7f7f7;align-items:center;padding:5px 0}.fa-approve-comment .approve-comment--text-btns{display:flex;flex-direction:row;padding:0 5px}.fa-approve-comment .approve-comment--text-btns .text-btns-item{display:flex;flex-direction:row;align-items:center;font-size:12px;line-height:18px;color:#667580;margin-right:20px;cursor:pointer}.fa-approve-comment .approve-comment--text-btns .text-btns-item:hover{color:#388fff}.fa-approve-comment .approve-comment--text-btns .text-btns-item .f-icon{margin-right:4px}.fa-approveal-links::after{content:\".\";display:block;height:0;clear:both;visibility:hidden}.fa-approveal-links .approveal-links--link{font-size:14px;position:relative;padding:0 16px 0 0;display:flex;align-items:center;float:left}.fa-approveal-links .approveal-links--link .link-text{color:rgba(0,0,0,.65);margin:0 8px 0 0}.fa-approveal-links .approveal-links--link+.approveal-links--link{padding-left:16px}.fa-approveal-links .approveal-links--link+.approveal-links--link::before{content:\"\";position:absolute;width:1px;height:80%;left:0;top:10%;background:#dbdbdb}.fa-btn-group-lg .btn{padding-top:6px;padding-bottom:6px;min-width:100px;text-align:center}.fa-approve-record{padding:0 0 16px;position:relative}.fa-approve-record .fa-approve-record--timeline{position:absolute;width:34px;top:0;bottom:0;z-index:100}.fa-approve-record .fa-approve-record--timeline::after{content:\"\";position:absolute;width:1px;height:100%;overflow:hidden;left:50%;top:0;z-index:101;border-left:1px dashed #dcdcdc}.fa-approve-record .fa-approve-record--timeline .fa-approve-star{position:relative;z-index:103;margin:20px auto}.fa-approve-record.fa-state-running .fa-approve-record--timeline::after{top:20px}.fa-approve-record:last-child .fa-approve-record--timeline::after{height:20px}.fa-approve-record .fa-approve-record--content{margin:0 0 0 34px;padding:16px 14px;background:#f9f9f9;border-radius:2px}.fa-approve-record .fa-approve-record--content .approve-record--header{margin:0 0 12px;display:flex;align-items:center}.fa-approve-record .fa-approve-record--content .approve-record--header .header--title{margin-bottom:0;color:rgba(0,0,0,.85)}.fa-approve-record .fa-approve-record--content .approve-record--header>*{margin:0 19px 0 0}.fa-approve-record .approve-record--list-item{display:flex;flex-direction:row}.fa-approve-record .approve-record--list-item+.approve-record--list-item{padding-top:8px}.fa-approve-record .approve-record--list-item .list-item--auxiliary{width:30px;margin:0 10px 0 0}.fa-approve-record .approve-record--list-item .list-item--main{flex-grow:1;flex-shrink:1;flex-basis:auto;padding:6px 0 0;background:#f9f9f9}.fa-approve-record .approve-record--list-item .list-item--content{padding:20px 0 0}.fa-approve-record .approve-record--list-item .list-item--content .list-item--info{font-size:12px;margin-bottom:0}.fa-approve-record .approve-record--list-item .list-item--content .list-item--info .info-label{color:rgba(0,0,0,.65)}.fa-approve-record .approve-record--list-item .list-item--content .list-item--info .info-text{color:rgba(0,0,0,.85)}.fa-approve-record .approve-record--list-item .list-item--header{display:flex;align-items:center}.fa-approve-record .approve-record--list-item .list-item--header>*{margin:0 16px 0 0}.fa-approve-record .approve-record--list-item .list-item--header .list-item--info{margin-bottom:0;font-size:12px}.fa-approve-record .approve-record--list-item .list-item--header .list-item--info .info-label{color:rgba(0,0,0,.35)}.fa-approve-record .approve-record--list-item .list-item--header .list-item--info .info-text{color:rgba(0,0,0,.65)}.fa-approve-record .approve-record--list-item .list-item--name{color:#4297fa}.fa-approve-record .approve-record--avatar{width:30px;height:30px;border-radius:15px}.fa-approve-round-bg{margin:4px auto 0;width:30px;height:30px;background:#59a1ff;border-radius:18px;line-height:30px;text-align:center;white-space:nowrap;font-size:12px;overflow:hidden}.fa-approve-round-bg-text{color:#fff}.fa-approve-star{width:14px;height:14px;display:block;background:rgba(56,143,255,.4);border-radius:7px;position:relative}.fa-approve-star::after{content:\"\";width:8px;height:8px;position:absolute;top:50%;left:50%;margin:-4px 0 0 -4px;border-radius:4px;background:#388fff}.fa-approve-star.bg-warning{background:rgba(245,156,36,.4)!important}.fa-approve-star.bg-warning::after{background:#f59c24}.fa-approve-badge{padding-top:4px;padding-bottom:4px;border-radius:10px}.fa-approve-badge-light{font-size:13px;line-height:20px;padding:0 8px;color:#5f637a;border:1px solid #e6e6e6;background:#f6faff}.fa-approve-link-border{cursor:pointer;display:inline-block;border:1px solid #60a5ff;border-radius:13px;font-size:12px;line-height:16px;color:#388fff;padding:3px 10px;background:#ebf5ff}.fa-approve-link-border:hover{background:#2881ff;color:#fff}.fm-toolbar{flex-direction:row;display:flex}.wf-docFile{flex-shrink:1;flex-grow:1;flex-basis:0;display:flex;flex-direction:row;align-items:flex-start;border-top:1px solid #f8f9fa;border-left:1px solid #f8f9fa}.wf-docFileIcon{margin:0 0 0 4px;width:20px;height:20px;line-height:20px;text-align:center;overflow:hidden;white-space:nowrap;padding:2px}.wf-docFileInfo{flex-shrink:1;flex-grow:1;flex-basis:0;padding:2px 6px 0 9px;margin-left:0}.wf-docFileInfo:hover .attachment-delete{display:block}.wf-docFileSize{font-size:11px;color:#888}.wf-doc-delete{margin:auto;font-size:18px;color:#f8f9fa}li{list-style:none}.attachment-delete{float:right;cursor:pointer;display:none;text-align:right;padding-right:10px}.attachment-delete:hover{color:#4297fa}.attachment-list{float:left;font-size:12px}.signature-img-div{display:flex;justify-content:center;align-items:center;height:100%;background:#fafcfd;border:1px solid #d8dfed;border-radius:8px;margin:0 10px}.signature-img-main{display:flex;flex-direction:column;justify-content:center;align-items:center}.signature-img-text{font-size:13px;color:rgba(106,111,121,.85)}.signature-text-action{color:#529efe;padding:0 2px;cursor:pointer}.signature-img-default{display:flex;justify-content:center;align-items:center;height:inherit}"]}]}],"members":{"showAttachment":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":33,"character":3}}]}],"showSign":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":34,"character":3}}]}],"showCommonComment":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":35,"character":3}}]}],"comment":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":36,"character":3}}]}],"placeholder":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":37,"character":3}}]}],"processInstanceId":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":38,"character":3}}]}],"textAreaHeight":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":39,"character":3}}]}],"TaskCenterConfig":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":41,"character":3}}]}],"attachment":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Output","line":61,"character":3}}]}],"signature":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Output","line":62,"character":3}}]}],"commentDialog":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":63,"character":3},"arguments":["commentDialog"]}]}],"signDialog":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":64,"character":3},"arguments":["signDialog"]}]}],"dropDownEl":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":65,"character":3},"arguments":["dropdownEl"]}]}],"signaturePad":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":66,"character":3},"arguments":["wfSignHere"]}]}],"farrisAvatar":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":67,"character":3},"arguments":["farrisAvatar"]}]}],"dataGrid":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":68,"character":3},"arguments":["dataGrid"]}]}],"commentTypeCell":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":69,"character":3},"arguments":["commentTypeCell"]}]}],"commentOperateCell":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":70,"character":3},"arguments":["commentOperateCell"]}]}],"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","name":"TaskService"},{"__symbolic":"reference","module":"@ecp-caf/caf-common","name":"HttpService","line":108,"character":21},{"__symbolic":"reference","module":"@gsp-svc/formdoc-upload","name":"UploadDialogService","line":109,"character":26},{"__symbolic":"reference","module":"@farris/ui-messager","name":"MessagerService","line":110,"character":28},{"__symbolic":"reference","name":"I18nService"},{"__symbolic":"reference","module":"@farris/ui-loading","name":"LoadingService","line":112,"character":28},{"__symbolic":"reference","module":"@farris/ui-notify","name":"NotifyService","line":113,"character":20}]}],"ngOnInit":[{"__symbolic":"method"}],"onEditComment":[{"__symbolic":"method"}],"loadComments":[{"__symbolic":"method"}],"writeValue":[{"__symbolic":"method"}],"registerOnChange":[{"__symbolic":"method"}],"registerOnTouched":[{"__symbolic":"method"}],"buttonClick":[{"__symbolic":"method"}],"uploadAttachment":[{"__symbolic":"method"}],"attachmentDelete":[{"__symbolic":"method"}],"imageUrl":[{"__symbolic":"method"}],"showSignDialog":[{"__symbolic":"method"}],"clickToDeleteImage":[{"__symbolic":"method"}],"clickToUseSign":[{"__symbolic":"method"}],"clickToUploadImg":[{"__symbolic":"method"}],"clickToConfirm":[{"__symbolic":"method"}],"clickToReset":[{"__symbolic":"method"}],"clickToCancel":[{"__symbolic":"method"}],"imgChange":[{"__symbolic":"method"}],"uploadSignatureImg":[{"__symbolic":"method"}],"getUserSign":[{"__symbolic":"method"}],"add":[{"__symbolic":"method"}],"clickToDeleteComment":[{"__symbolic":"method"}],"save":[{"__symbolic":"method"}],"httpSave":[{"__symbolic":"method"}],"attachmentPreview":[{"__symbolic":"method"}]}},"ɵa":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Component","line":2,"character":1},"arguments":[{"selector":"urge-handle","template":"<div class=\"wf-task-handler-help-div\">\r\n  <div class=\"wf-task-handler-help-text\">\r\n    {{ \"comment.static.messageSubject\" | translate }}\r\n  </div>\r\n  <div class=\"farris-input-wrap\">\r\n    <input\r\n      class=\"form-control\"\r\n      type=\"text\"\r\n      value=\"subject\"\r\n      name=\"subject\"\r\n      [placeholder]=\"placeholder\"\r\n      [(ngModel)]=\"urgeMessageSubject\"\r\n      [readOnly]=\"!subjectEditable\"\r\n    />\r\n  </div>\r\n</div>\r\n\r\n<div class=\"wf-task-handler-help-div\">\r\n  <div class=\"wf-task-handler-help-text\">\r\n    {{ \"comment.static.messageContent\" | translate }}\r\n  </div>\r\n  <textarea\r\n    class=\"form-control content-textarea\"\r\n    [(ngModel)]=\"urgeMessageContent\"\r\n    [attr.placeholder]=\"placeholder\"\r\n    [style.height.px]=\"textAreaHeight\"\r\n    [readOnly]=\"!contentEditable\"\r\n  ></textarea>\r\n</div>\r\n","styles":["",".wf-task-handler-help-div{font-size:13px;color:#2d2f33;margin-bottom:20px}.wf-task-handler-help-div-submit{margin-bottom:20px}.wf-task-handler-help-text{padding-bottom:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}]}],"members":{"placeholder":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":9,"character":3}}]}],"showMessageSubject":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":10,"character":3}}]}],"textAreaHeight":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":11,"character":3}}]}],"urgeMessageSubject":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":12,"character":3}}]}],"urgeMessageContent":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":13,"character":3}}]}],"subjectEditable":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":14,"character":3}}]}],"contentEditable":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":15,"character":3}}]}],"__ctor__":[{"__symbolic":"constructor"}],"ngOnInit":[{"__symbolic":"method"}]}},"ɵb":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Directive","line":6,"character":1},"arguments":[{"selector":"[directive-throttle]"}]}],"members":{"throttleClick":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Output","line":15,"character":3}}]}],"__ctor__":[{"__symbolic":"constructor"}],"ngOnInit":[{"__symbolic":"method"}],"ngOnDestroy":[{"__symbolic":"method"}],"onClick":[{"__symbolic":"method","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"HostListener","line":33,"character":3},"arguments":["click",["$event"]]}]}]}}},"origins":{"WfTaskHandlerService":"./lib/wf-task-handler.service","WfTaskHandlerModule":"./lib/wf-task-handler.module","TaskExecuteComponent":"./lib/components/task-execute/task-execute.component","TaskAssigninfoComponent":"./lib/components/task-assigninfo/task-assigninfo.component","TaskService":"./lib/service/task.service","I18nService":"./lib/service/i18n/i18n.service","TranslatePipe":"./lib/service/i18n/translate.pipe","ProcessSelectorComponent":"./lib/submit/process-selector/process-selector.component","AssigneeInfoComponent":"./lib/components/assignee-info/assignee-info.component","TaskCommentComponent":"./lib/components/task-comment/task-comment.component","ɵa":"./lib/components/urge-handle/urge-handle.component","ɵb":"./lib/throttleTime/throttleClickDirective"},"importAs":"@gsp-wf/wf-task-handler"}