/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, ComponentFactoryResolver, HostBinding, Injector, Input, ViewChild } from '@angular/core';
import { MatrixDefInfoEntity } from './entitis/matrix-def-info.entity';
import { MatrixDataInfoEntity } from './entitis/matrix-data-info.entity';
import { HttpService } from '@ecp-caf/caf-common';
import { of } from 'rxjs';
import { ExprEditMode, ExpressionService, InjectedType } from '@gsp-svc/expression';
import { ProcessDesignerUIState } from '../../../../app/process-designer.uistate';
import { LookupGridComponent, ServerSideToken } from '@farris/ui-lookup';
import { BsModalService } from '@farris/ui-modal';
import { EnumListComponent } from './enum-list/enum-list.component';
import { LookupDataService } from '@farris/lookup-config';
var MatrixPerformerComponent = /** @class */ (function () {
    function MatrixPerformerComponent(http, designerUIState, expr, modalService, resolver, injector) {
        var _this = this;
        this.http = http;
        this.designerUIState = designerUIState;
        this.expr = expr;
        this.modalService = modalService;
        this.resolver = resolver;
        this.injector = injector;
        this.cls = 'd-flex flex-fill h-100';
        this.display = 'none';
        this.typeReadOnly = false;
        this.items = [];
        this.pageIndex = 1;
        this.pageSize = 20;
        this.pageList = [10, 20, 30, 50, 100];
        this.total = 0;
        this.groupIcon2 = '<i class="f-icon f-icon-lookup"></i>';
        this.fieldId = '';
        /**
         * 矩阵定义显示列
         */
        this.columns = [
            { title: '编号', field: 'code', width: 100 },
            { title: '名称', field: 'name', width: 100 }
        ];
        this.users = [];
        this.dataFieldAndValues = []; // { text: '部门', value: 'department' },
        // { text: '部门', value: 'department' },
        this.curDataFieldValue = '';
        this.matrixDefEntityList = [];
        this.curMatrixDefEntity = new MatrixDefInfoEntity();
        this.curMatrixDataEntity = new MatrixDataInfoEntity();
        this.conditionFields = [];
        this.exprGroup = [
            { name: '帮助', value: 'help' }
        ];
        this.condition1ExprAble = true;
        this.condition2ExprAble = true;
        this.condition3ExprAble = true;
        /**
         * 编辑器页面显示文字，防范浅拷贝问题（对于条件字段的值和显示文字都不要在当前实体中进行修改只有点击确定时，才将其保存至当前实体并返回）
         */
        this.condition1Text = '';
        this.condition1Value = '';
        this.condition2Text = '';
        this.condition2Value = '';
        this.condition3Text = '';
        this.condition3Value = '';
        this.dictPicked = (/**
         * @param {?} rowData
         * @return {?}
         */
        function (rowData) {
            // 先将当前绑定的数据清空
            _this.curMatrixDataEntity = new MatrixDataInfoEntity();
            _this.curDataFieldValue = '';
            _this.curMatrixDefEntity = rowData;
            _this.curMatrixDataEntity.matrixDefId = rowData.id;
            _this.curMatrixDataEntity.matrixDefName = rowData.name;
            _this.setFields();
            return of(true);
        });
        this.dictHelpPicked = (/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            _this.value = null;
            return of({ closeDialog: true });
        });
        this.getMatrixLineType();
    }
    Object.defineProperty(MatrixPerformerComponent.prototype, "setMatrixDataEntity", {
        set: /**
         * @param {?} dataEntity
         * @return {?}
         */
        function (dataEntity) {
            var _this = this;
            this.curMatrixDataEntity = dataEntity;
            /** @type {?} */
            var url = '/api/runtime/wf/v1.0/matrixDefinition/' + dataEntity.matrixDefId;
            this.http.get(url).subscribe((/**
             * @param {?} re
             * @return {?}
             */
            function (re) {
                _this.curMatrixDefEntity = re;
                _this.setFields();
                _this.curDataFieldValue = dataEntity.dataFieldAlias;
            }));
            if (dataEntity.matrixDefId) {
                this.typeReadOnly = true;
            }
            if (!this.curMatrixDataEntity.conditionField1) {
                this.condition1 = 'expr';
                this.condition1ExprAble = true;
            }
            else if (this.curMatrixDataEntity.conditionField1.charAt(0) === '{') {
                this.condition1 = 'expr';
                this.condition1ExprAble = true;
            }
            else {
                this.condition1 = 'help';
                this.condition1ExprAble = false;
            }
            if (!this.curMatrixDataEntity.conditionField2) {
                this.condition2 = 'expr';
                this.condition2ExprAble = true;
            }
            else if (this.curMatrixDataEntity.conditionField2.charAt(0) === '{') {
                this.condition2 = 'expr';
                this.condition2ExprAble = true;
            }
            else {
                this.condition2 = 'help';
                this.condition2ExprAble = false;
            }
            if (!this.curMatrixDataEntity.conditionField3) {
                this.condition3 = 'expr';
                this.condition3ExprAble = true;
            }
            else if (this.curMatrixDataEntity.conditionField3.charAt(0) === '{') {
                this.condition3 = 'expr';
                this.condition3ExprAble = true;
            }
            else {
                this.condition3 = 'help';
                this.condition3ExprAble = false;
            }
            this.condition1Text = this.curMatrixDataEntity.conditionFieldText1 ? this.curMatrixDataEntity.conditionFieldText1 : '';
            this.condition1Value = this.curMatrixDataEntity.conditionField1 ? this.curMatrixDataEntity.conditionField1 : '';
            this.condition2Text = this.curMatrixDataEntity.conditionFieldText2 ? this.curMatrixDataEntity.conditionFieldText2 : '';
            this.condition2Value = this.curMatrixDataEntity.conditionField2 ? this.curMatrixDataEntity.conditionField2 : '';
            this.condition3Text = this.curMatrixDataEntity.conditionFieldText3 ? this.curMatrixDataEntity.conditionFieldText3 : '';
            this.condition3Value = this.curMatrixDataEntity.conditionField3 ? this.curMatrixDataEntity.conditionField3 : '';
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    MatrixPerformerComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * 获取矩阵定义
     */
    /**
     * 获取矩阵定义
     * @return {?}
     */
    MatrixPerformerComponent.prototype.getMatrixLineType = /**
     * 获取矩阵定义
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var url = '/api/runtime/wf/v1.0/matrixDefinition';
        this.http.get(url).subscribe((/**
         * @param {?} re
         * @return {?}
         */
        function (re) {
            _this.matrixDefEntityList = re;
            _this.items = _this.matrixDefEntityList.slice(0, _this.pageSize);
            _this.total = _this.matrixDefEntityList.length;
        }));
    };
    /**
     * @private
     * @return {?}
     */
    MatrixPerformerComponent.prototype.setFields = /**
     * @private
     * @return {?}
     */
    function () {
        var e_1, _a, e_2, _b;
        this.conditionFields = [];
        this.dataFieldAndValues = [];
        // 先对条件字段按照排序号进行排序
        this.curMatrixDefEntity.conditionField.sort((/**
         * @param {?} a
         * @param {?} b
         * @return {?}
         */
        function (a, b) {
            return a.sortOrder - b.sortOrder;
        }));
        try {
            // 将排序后的条件放入条件字段数组中
            for (var _c = tslib_1.__values(this.curMatrixDefEntity.conditionField), _d = _c.next(); !_d.done; _d = _c.next()) {
                var condition = _d.value;
                this.conditionFields.push(condition);
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
            }
            finally { if (e_1) throw e_1.error; }
        }
        // 先对数据字段按照排序号进行排序
        this.curMatrixDefEntity.dataField.sort((/**
         * @param {?} a
         * @param {?} b
         * @return {?}
         */
        function (a, b) {
            return a.sortOrder - b.sortOrder;
        }));
        try {
            // 填充数据字段的下拉列表
            for (var _e = tslib_1.__values(this.curMatrixDefEntity.dataField), _f = _e.next(); !_f.done; _f = _e.next()) {
                var data = _f.value;
                /** @type {?} */
                var temp = {
                    text: data.alias,
                    value: data.alias
                };
                this.dataFieldAndValues.push(temp);
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_f && !_f.done && (_b = _e.return)) _b.call(_e);
            }
            finally { if (e_2) throw e_2.error; }
        }
    };
    /**
     * @return {?}
     */
    MatrixPerformerComponent.prototype.onClear = /**
     * @return {?}
     */
    function () {
        this.curMatrixDataEntity = new MatrixDataInfoEntity();
    };
    /**
     * 编辑条件
     */
    /**
     * 编辑条件
     * @return {?}
     */
    MatrixPerformerComponent.prototype.editCondition = /**
     * 编辑条件
     * @return {?}
     */
    function () {
        var _this = this;
        var e_3, _a, e_4, _b, e_5, _c, e_6, _d, e_7, _e, e_8, _f;
        if (this.designerUIState.schemas.length > 0) {
            try {
                for (var _g = tslib_1.__values(this.designerUIState.schemas), _h = _g.next(); !_h.done; _h = _g.next()) {
                    var schema = _h.value;
                    this.expr.addSchema('Schema', schema);
                }
            }
            catch (e_3_1) { e_3 = { error: e_3_1 }; }
            finally {
                try {
                    if (_h && !_h.done && (_a = _g.return)) _a.call(_g);
                }
                finally { if (e_3) throw e_3.error; }
            }
            if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {
                /** @type {?} */
                var entityType = this.designerUIState.schemas[0].entityTypes[0];
                this.expr.addInjectedEntity(entityType.name, 'Schema', entityType.name, InjectedType.EntityType);
            }
        }
        /** @type {?} */
        var context = new Array();
        if (this.designerUIState.procInstContext.length > 0) {
            try {
                for (var _j = tslib_1.__values(this.designerUIState.procInstContext), _k = _j.next(); !_k.done; _k = _j.next()) {
                    var variable = _k.value;
                    context.push(variable);
                }
            }
            catch (e_4_1) { e_4 = { error: e_4_1 }; }
            finally {
                try {
                    if (_k && !_k.done && (_b = _j.return)) _b.call(_j);
                }
                finally { if (e_4) throw e_4.error; }
            }
        }
        if (this.designerUIState.formalParameterContext.length > 0) {
            var _loop_1 = function (variable) {
                if (!context.some((/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) { return c.key === variable.key; }))) {
                    context.push(variable);
                }
            };
            try {
                for (var _l = tslib_1.__values(this.designerUIState.formalParameterContext), _m = _l.next(); !_m.done; _m = _l.next()) {
                    var variable = _m.value;
                    _loop_1(variable);
                }
            }
            catch (e_5_1) { e_5 = { error: e_5_1 }; }
            finally {
                try {
                    if (_m && !_m.done && (_c = _l.return)) _c.call(_l);
                }
                finally { if (e_5) throw e_5.error; }
            }
        }
        if (this.designerUIState.participantContext.length > 0) {
            var _loop_2 = function (variable) {
                if (!context.some((/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) { return c.key === variable.key; }))) {
                    context.push(variable);
                }
            };
            try {
                for (var _o = tslib_1.__values(this.designerUIState.participantContext), _p = _o.next(); !_p.done; _p = _o.next()) {
                    var variable = _p.value;
                    _loop_2(variable);
                }
            }
            catch (e_6_1) { e_6 = { error: e_6_1 }; }
            finally {
                try {
                    if (_p && !_p.done && (_d = _o.return)) _d.call(_o);
                }
                finally { if (e_6) throw e_6.error; }
            }
        }
        if (this.designerUIState.processVariableContext.length > 0) {
            var _loop_3 = function (variable) {
                if (!context.some((/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) { return c.key === variable.key; }))) {
                    context.push(variable);
                }
            };
            try {
                for (var _q = tslib_1.__values(this.designerUIState.processVariableContext), _r = _q.next(); !_r.done; _r = _q.next()) {
                    var variable = _r.value;
                    _loop_3(variable);
                }
            }
            catch (e_7_1) { e_7 = { error: e_7_1 }; }
            finally {
                try {
                    if (_r && !_r.done && (_e = _q.return)) _e.call(_q);
                }
                finally { if (e_7) throw e_7.error; }
            }
        }
        if (context.length > 0) {
            try {
                for (var context_1 = tslib_1.__values(context), context_1_1 = context_1.next(); !context_1_1.done; context_1_1 = context_1.next()) {
                    var v = context_1_1.value;
                    this.expr.addContext(v);
                }
            }
            catch (e_8_1) { e_8 = { error: e_8_1 }; }
            finally {
                try {
                    if (context_1_1 && !context_1_1.done && (_f = context_1.return)) _f.call(context_1);
                }
                finally { if (e_8) throw e_8.error; }
            }
        }
        this.expr.setEditPattern(ExprEditMode.Conditional); // 表达式展现模式：默认简易版
        this.expr.addExpressionText(this.curMatrixDataEntity.condition); // this.reportingLineDataEntity.condition
        this.expr.buildExpression().then((/**
         * @param {?} expressioninfo
         * @return {?}
         */
        function (expressioninfo) {
            _this.curMatrixDataEntity.condition = expressioninfo;
        }));
    };
    /**
     * @param {?} data
     * @param {?} index
     * @param {?} id
     * @return {?}
     */
    MatrixPerformerComponent.prototype.onHelpSearch = /**
     * @param {?} data
     * @param {?} index
     * @param {?} id
     * @return {?}
     */
    function (data, index, id) {
        this.index = index;
        this.fieldId = id;
        this.helpId = this.curMatrixDefEntity.conditionField[this.index].smartHelp;
        this.lookUp.onClear();
        this.lookUp.showDialog();
    };
    /**
     * @param {?} index
     * @param {?} id
     * @return {?}
     */
    MatrixPerformerComponent.prototype.openEnumValue = /**
     * @param {?} index
     * @param {?} id
     * @return {?}
     */
    function (index, id) {
        this.index = index;
        this.fieldId = id;
        this.showEnumList(JSON.parse(this.curMatrixDefEntity.conditionField[this.index].enumList));
    };
    /**
     * @private
     * @param {?} enumList
     * @return {?}
     */
    MatrixPerformerComponent.prototype.showEnumList = /**
     * @private
     * @param {?} enumList
     * @return {?}
     */
    function (enumList) {
        var _this = this;
        /** @type {?} */
        var compFactory = this.resolver.resolveComponentFactory(EnumListComponent);
        /** @type {?} */
        var compRef = compFactory.create(this.injector);
        /** @type {?} */
        var modalConfig = {
            title: '枚举选择',
            width: 650,
            height: 450,
            showButtons: true,
            buttons: compRef.instance.btnRef,
        };
        if (enumList && enumList.length > 0) {
            compRef.instance.load(enumList);
        }
        compRef.instance.confirm.subscribe((/**
         * @param {?} re
         * @return {?}
         */
        function (re) {
            if (_this.index === 0) {
                _this.condition1Text = re[0].value;
                _this.condition1Value = re[0].value;
            }
            else if (_this.index === 1) {
                _this.condition2Text = re[0].value;
                _this.condition2Value = re[0].value;
            }
            else if (_this.index === 2) {
                _this.condition3Text = re[0].value;
                _this.condition3Value = re[0].value;
            }
        }));
        /** @type {?} */
        var dialog = this.modalService.show(compRef, modalConfig);
        compRef.instance.closeModalEmitter.subscribe((/**
         * @return {?}
         */
        function () {
            dialog.close();
        }));
    };
    /**
     * @param {?} data
     * @return {?}
     */
    MatrixPerformerComponent.prototype.dataFieldChange = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        this.curMatrixDataEntity.dataFieldAlias = data.data.value;
    };
    /**
     * @param {?} data
     * @return {?}
     */
    MatrixPerformerComponent.prototype.selectedDataHandler = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        if (this.index === 0) {
            this.condition1Text = data.name;
            this.condition1Value = data.id;
        }
        else if (this.index === 1) {
            this.condition2Text = data.name;
            this.condition2Value = data.id;
        }
        else if (this.index === 2) {
            this.condition3Text = data.name;
            this.condition3Value = data.id;
        }
    };
    /**
     * @return {?}
     */
    MatrixPerformerComponent.prototype.getPerformers = /**
     * @return {?}
     */
    function () {
        this.curMatrixDataEntity.type = 'wf.MatrixParticipant';
        this.curMatrixDataEntity.conditionFieldText1 = this.condition1Text;
        this.curMatrixDataEntity.conditionField1 = this.condition1Text === '' ? '' : this.condition1Value;
        this.curMatrixDataEntity.conditionFieldText2 = this.condition2Text;
        this.curMatrixDataEntity.conditionField2 = this.condition2Text === '' ? '' : this.condition2Value;
        this.curMatrixDataEntity.conditionFieldText3 = this.condition3Text;
        this.curMatrixDataEntity.conditionField3 = this.condition3Text === '' ? '' : this.condition3Value;
        return this.curMatrixDataEntity;
    };
    /**
     * 打开表达式编辑器
     * @param data 编辑第几个条件字段，值为（condition1，condition2，condition3）
     */
    /**
     * 打开表达式编辑器
     * @param {?} data 编辑第几个条件字段，值为（condition1，condition2，condition3）
     * @return {?}
     */
    MatrixPerformerComponent.prototype.showExprHelp = /**
     * 打开表达式编辑器
     * @param {?} data 编辑第几个条件字段，值为（condition1，condition2，condition3）
     * @return {?}
     */
    function (data) {
        var _this = this;
        var e_9, _a, e_10, _b, e_11, _c, e_12, _d;
        if (this.designerUIState.schemas.length > 0) {
            try {
                for (var _e = tslib_1.__values(this.designerUIState.schemas), _f = _e.next(); !_f.done; _f = _e.next()) {
                    var schema = _f.value;
                    // this.expr.addCommonObject(co);
                    this.expr.addSchema('Schema', schema);
                }
            }
            catch (e_9_1) { e_9 = { error: e_9_1 }; }
            finally {
                try {
                    if (_f && !_f.done && (_a = _e.return)) _a.call(_e);
                }
                finally { if (e_9) throw e_9.error; }
            }
            if (this.designerUIState.schemas[0].entityTypes && this.designerUIState.schemas[0].entityTypes.length > 0) {
                /** @type {?} */
                var entityType = this.designerUIState.schemas[0].entityTypes[0];
                this.expr.addInjectedEntity(entityType.name, 'Schema', entityType.name, InjectedType.EntityType);
            }
        }
        /** @type {?} */
        var context = new Array();
        if (this.designerUIState.participantContext.length > 0) {
            try {
                for (var _g = tslib_1.__values(this.designerUIState.participantContext), _h = _g.next(); !_h.done; _h = _g.next()) {
                    var variable = _h.value;
                    context.push(variable);
                    // this.expr.addContext(variable);
                }
            }
            catch (e_10_1) { e_10 = { error: e_10_1 }; }
            finally {
                try {
                    if (_h && !_h.done && (_b = _g.return)) _b.call(_g);
                }
                finally { if (e_10) throw e_10.error; }
            }
        }
        if (this.designerUIState.processVariableContext.length > 0) {
            var _loop_4 = function (variable) {
                if (!context.some((/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) { return c.key === variable.key; }))) {
                    context.push(variable);
                }
            };
            try {
                for (var _j = tslib_1.__values(this.designerUIState.processVariableContext), _k = _j.next(); !_k.done; _k = _j.next()) {
                    var variable = _k.value;
                    _loop_4(variable);
                }
            }
            catch (e_11_1) { e_11 = { error: e_11_1 }; }
            finally {
                try {
                    if (_k && !_k.done && (_c = _j.return)) _c.call(_j);
                }
                finally { if (e_11) throw e_11.error; }
            }
        }
        if (context.length > 0) {
            try {
                for (var context_2 = tslib_1.__values(context), context_2_1 = context_2.next(); !context_2_1.done; context_2_1 = context_2.next()) {
                    var v = context_2_1.value;
                    this.expr.addContext(v);
                }
            }
            catch (e_12_1) { e_12 = { error: e_12_1 }; }
            finally {
                try {
                    if (context_2_1 && !context_2_1.done && (_d = context_2.return)) _d.call(context_2);
                }
                finally { if (e_12) throw e_12.error; }
            }
        }
        if (data === 'condition1') {
            if (this.curMatrixDataEntity.conditionField1) {
                this.expr.addExpressionText(this.curMatrixDataEntity.conditionField1);
            }
            else {
                this.expr.addExpressionText('');
            }
        }
        else if (data === 'condition2') {
            if (this.curMatrixDataEntity.conditionField2) {
                this.expr.addExpressionText(this.curMatrixDataEntity.conditionField2);
            }
            else {
                this.expr.addExpressionText('');
            }
        }
        else if (data === 'condition3') {
            if (this.curMatrixDataEntity.conditionField3) {
                this.expr.addExpressionText(this.curMatrixDataEntity.conditionField3);
            }
            else {
                this.expr.addExpressionText('');
            }
        }
        this.expr.buildExpression().then((/**
         * @param {?} expressionInfo
         * @return {?}
         */
        function (expressionInfo) {
            if (data === 'condition1') {
                _this.condition1Text = expressionInfo;
                _this.condition1Value = expressionInfo;
            }
            else if (data === 'condition2') {
                _this.condition2Text = expressionInfo;
                _this.condition2Value = expressionInfo;
            }
            else {
                _this.condition3Text = expressionInfo;
                _this.condition3Value = expressionInfo;
            }
        }));
    };
    /**
     * @param {?} data
     * @return {?}
     */
    MatrixPerformerComponent.prototype.condition1Expr = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        this.showExprHelp(data);
    };
    /**
     * @return {?}
     */
    MatrixPerformerComponent.prototype.condition1ExprClick = /**
     * @return {?}
     */
    function () {
        this.condition1ExprAble = !this.condition1ExprAble;
        this.condition1Text = '';
        this.condition1Value = '';
    };
    /**
     * @param {?} data
     * @return {?}
     */
    MatrixPerformerComponent.prototype.condition2Expr = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        this.showExprHelp(data);
    };
    /**
     * @return {?}
     */
    MatrixPerformerComponent.prototype.condition2ExprClick = /**
     * @return {?}
     */
    function () {
        this.condition2ExprAble = !this.condition2ExprAble;
        this.condition2Text = '';
        this.condition2Value = '';
    };
    /**
     * @param {?} data
     * @return {?}
     */
    MatrixPerformerComponent.prototype.condition3Expr = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        this.showExprHelp(data);
    };
    /**
     * @return {?}
     */
    MatrixPerformerComponent.prototype.condition3ExprClick = /**
     * @return {?}
     */
    function () {
        this.condition3ExprAble = !this.condition3ExprAble;
        this.condition3Text = '';
        this.condition3Value = '';
    };
    MatrixPerformerComponent.decorators = [
        { type: Component, args: [{
                    selector: 'app-matrix-performer',
                    template: "<div class=\"d-flex flex-fill farris-overflow-y-auto p-md-2\">\r\n  <form style=\"background: #F0F3F6; width: 100%; height: 470px\">\r\n    <div class=\"d-flex m-2 flex-column w-100\">\r\n      <div class=\"d-flex flex-column mx-5 my-4\" style=\"background: #FFF;\">\r\n        <div class=\"farris-form form-inline  farris-form-inline\"><!--mr-5-->\r\n          <div class=\"col-12 farris-group-auto my-4\">\r\n            <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\">\r\n                <label class=\"col-form-label\" style=\"width: 15%\">\r\n                  <span class=\"farris-label-info text-danger\">*</span>\r\n                  <span class=\"farris-label-text\">\u5F15\u7528\u77E9\u9635\u8868</span>\r\n                </label>\r\n                <div class=\"farris-input-wrap\" style=\"width: 70%\">\r\n                  <farris-lookup-grid [items]=\"items\" [columns]=\"columns\" [(ngModel)]=\"curMatrixDataEntity.matrixDefName\"\r\n                                      name=\"definitionId\" [resizable]=\"true\" [singleSelect]=\"true\" [idField]=\"'id'\" [pagination]=\"true\"\r\n                                      [pageIndex]=\"pageIndex\" [pageSize]=\"pageSize\" [pageList]=\"pageList\" [total]=\"total\" [textField]=\"'name'\"\r\n                                      [valueField]=\"'id'\" [title]=\"'\u77E9\u9635\u8868'\" [dictPicked]=\"dictPicked\" (clear)=\"onClear()\" [readonly]=\"typeReadOnly\"\r\n                                      [customDisplayType] = \"true\" [displayType]=\"'LIST'\">\r\n                  </farris-lookup-grid>\r\n                  <div class=\"farris-feedback valid-feedback\"></div>\r\n                </div>\r\n                <div style=\"width: 15%\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-12 farris-group-auto my-4\">\r\n            <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\">\r\n                <label class=\"col-form-label\" style=\"width: 15%\">\r\n                  <span class=\"farris-label-info text-danger\">*</span>\r\n                  <span class=\"farris-label-text\">\u7ED3\u679C\u5217</span>\r\n                </label>\r\n                <div class=\"farris-input-wrap\" style=\"width: 70%\">\r\n                  <!--\u4E0B\u62C9\u5217\u8868-->\r\n                  <farris-combo-list [(ngModel)]=\"curDataFieldValue\" name=\"referObject\" [panelHeight]=\"200\" [idField]=\"'value'\"\r\n                                     [textField]=\"'text'\" [data]=\"dataFieldAndValues\" (selectChange)='dataFieldChange($event)'>\r\n                  </farris-combo-list>\r\n                  <div class=\"farris-feedback valid-feedback\"></div>\r\n                </div>\r\n                <div style=\"width: 15%\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-12 farris-group-auto my-4\" *ngIf=\"conditionFields && conditionFields.length > 0\">\r\n            <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\" style=\"margin-top: -17px; margin-bottom: -22px\">\r\n                <label class=\"col-form-label\" style=\"width: 15%\">\r\n                  <span class=\"farris-label-text\" style=\"color: rgb(180,180,180)\">\u6761\u4EF6\u5B57\u6BB5</span>\r\n                </label>\r\n                <div class=\"farris-input-wrap\" style=\"width: 70%\">\r\n                  <hr size=\"3px\">\r\n                </div>\r\n                <div style=\"width: 15%\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-12 farris-group-auto my-4\" *ngIf=\"conditionFields && conditionFields.length > 0\">\r\n            <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\">\r\n                <label class=\"col-form-label\" style=\"width: 15%\">\r\n                  <span class=\"farris-label-text\">{{conditionFields[0].alias}}</span>\r\n                </label>\r\n                <div class=\"farris-input-wrap\" style=\"width: 70%\" *ngIf=\"conditionFields[0].inputType === 'help' && !condition1ExprAble\">\r\n                  <input-group name=\"condition1\" [editable]=\"false\" [customCls]=\"'custom-cls'\" [groupText]=\"groupIcon2\" [(ngModel)]=\"condition1Text\" (clickHandle)=\"onHelpSearch($event,0,conditionFields[0].id)\"></input-group>\r\n                </div>\r\n                <div class=\"farris-input-wrap\" style=\"width: 70%\" *ngIf=\"conditionFields[0].inputType === 'enum' && !condition1ExprAble\">\r\n                  <input-group name=\"condition1\" [editable]=\"false\" [customCls]=\"'custom-cls'\" [groupText]=\"groupIcon2\" [(ngModel)]=\"condition1Text\" (clickHandle)=\"openEnumValue(0,conditionFields[0].id)\"></input-group>\r\n                </div>\r\n                <div class=\"farris-input-wrap\" style=\"width: 70%\" *ngIf=\"condition1ExprAble\">\r\n                  <input-group name=\"condition1\" [editable]=\"false\" [customCls]=\"'custom-cls'\" [groupText]=\"groupIcon2\"\r\n                               [(ngModel)]=\"condition1Text\" (clickHandle)=\"condition1Expr('condition1')\">\r\n                  </input-group>\r\n                </div>\r\n                <farris-checkboxgroup style=\"width: 15%; padding-left: 10px\" [(ngModel)]=\"condition1\" name=\"Expr1Able\" [horizontal]=\"true\"\r\n                                      [data]=\"exprGroup\" (changeValue)=\"condition1ExprClick()\">\r\n                </farris-checkboxgroup>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-12 farris-group-auto my-4\" *ngIf=\"conditionFields && conditionFields.length > 1\">\r\n            <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\">\r\n                <label class=\"col-form-label\" style=\"width: 15%\">\r\n                  <span class=\"farris-label-text\">{{conditionFields[1].alias}}</span>\r\n                </label>\r\n                <div class=\"farris-input-wrap\" style=\"width: 70%\" *ngIf=\"conditionFields[1].inputType === 'help' && !condition2ExprAble\">\r\n                  <input-group name=\"condition2\" [editable]=\"false\" [customCls]=\"'custom-cls'\" [groupText]=\"groupIcon2\" [(ngModel)]=\"condition2Text\" (clickHandle)=\"onHelpSearch($event,1,conditionFields[1].id)\"></input-group>\r\n                </div>\r\n                <div class=\"farris-input-wrap\" style=\"width: 70%\" *ngIf=\"conditionFields[1].inputType === 'enum' && !condition2ExprAble\">\r\n                  <input-group name=\"condition2\" [editable]=\"false\" [customCls]=\"'custom-cls'\" [groupText]=\"groupIcon2\" [(ngModel)]=\"condition2Text\" (clickHandle)=\"openEnumValue(1,conditionFields[1].id)\"></input-group>\r\n                </div>\r\n                <div class=\"farris-input-wrap\" style=\"width: 70%\" *ngIf=\"condition2ExprAble\">\r\n                  <input-group name=\"condition2\" [editable]=\"false\" [customCls]=\"'custom-cls'\" [groupText]=\"groupIcon2\"\r\n                               [(ngModel)]=\"condition2Text\" (clickHandle)=\"condition2Expr('condition2')\">\r\n                  </input-group>\r\n                </div>\r\n                <farris-checkboxgroup style=\"width: 15%; padding-left: 10px\" [(ngModel)]=\"condition2\" name=\"Expr2Able\" [horizontal]=\"true\"\r\n                                      [data]=\"exprGroup\" (changeValue)=\"condition2ExprClick()\">\r\n                </farris-checkboxgroup>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-12 farris-group-auto my-4\" *ngIf=\"conditionFields && conditionFields.length > 2\">\r\n            <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\">\r\n                <label class=\"col-form-label\" style=\"width: 15%\">\r\n                  <span class=\"farris-label-text\">{{conditionFields[2].alias}}</span>\r\n                </label>\r\n                <div class=\"farris-input-wrap\" style=\"width: 70%\" *ngIf=\"conditionFields[2].inputType === 'help' && !condition3ExprAble\">\r\n                  <input-group name=\"condition3\" [editable]=\"false\" [customCls]=\"'custom-cls'\" [groupText]=\"groupIcon2\" [(ngModel)]=\"condition3Text\" (clickHandle)=\"onHelpSearch($event,2,conditionFields[2].id)\"></input-group>\r\n                </div>\r\n                <div class=\"farris-input-wrap\" style=\"width: 70%\" *ngIf=\"conditionFields[2].inputType === 'enum' && !condition3ExprAble\">\r\n                  <input-group name=\"condition3\" [editable]=\"false\" [customCls]=\"'custom-cls'\" [groupText]=\"groupIcon2\" [(ngModel)]=\"condition3Text\" (clickHandle)=\"openEnumValue(2,conditionFields[2].id)\"></input-group>\r\n                </div>\r\n                <div class=\"farris-input-wrap\" style=\"width: 70%\" *ngIf=\"condition3ExprAble\">\r\n                  <input-group name=\"condition3\" [editable]=\"false\" [customCls]=\"'custom-cls'\" [groupText]=\"groupIcon2\"\r\n                               [(ngModel)]=\"condition3Text\" (clickHandle)=\"condition3Expr('condition3')\">\r\n                  </input-group>\r\n                </div>\r\n                <farris-checkboxgroup style=\"width: 15%; padding-left: 10px\" [(ngModel)]=\"condition3\" name=\"Expr3Able\" [horizontal]=\"true\"\r\n                                      [data]=\"exprGroup\" (changeValue)=\"condition3ExprClick()\">\r\n                </farris-checkboxgroup>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"d-flex flex-column mx-5\" style=\"background: #FFF;\">\r\n        <div class=\"farris-form form-inline farris-form-inline mr-5\">\r\n          <div class=\"col-12 farris-group-auto my-4\">\r\n            <div class=\"farris-group-wrap\">\r\n              <div class=\"form-group farris-form-group\">\r\n                <label class=\"col-form-label\">\r\n                  <span class=\"farris-label-text\">\u542F\u7528\u6761\u4EF6</span>\r\n                </label>\r\n                <div class=\"farris-input-wrap\">\r\n                  <div class=\"input-group\">\r\n                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"curMatrixDataEntity.condition\" name=\"conditon\" [readOnly]=\"true\" />\r\n                    <div class=\"input-group-append\">\r\n                      <span class=\"input-group-text\" (click)=\"editCondition()\" style=\"background: #FFF;\">\r\n                        <i class=\"f-icon f-icon-lookup\"></i>\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"farris-feedback valid-feedback\"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n\r\n<farris-lookup-grid style=\"display: none;\" #lookup [(ngModel)]=\"value\" name=\"value\" [helpId]=\"helpId\"\r\n                    [singleSelect]=\"true\" [uri]=\"'assets/data/tree-list-help.json'\" (selectedData)=\"selectedDataHandler($event)\"\r\n                    [dictPicked]=\"dictHelpPicked\" [enableCascade]=\"false\">\r\n</farris-lookup-grid>\r\n",
                    providers: [
                        { provide: ServerSideToken, useClass: LookupDataService }
                    ],
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    MatrixPerformerComponent.ctorParameters = function () { return [
        { type: HttpService },
        { type: ProcessDesignerUIState },
        { type: ExpressionService },
        { type: BsModalService },
        { type: ComponentFactoryResolver },
        { type: Injector }
    ]; };
    MatrixPerformerComponent.propDecorators = {
        cls: [{ type: HostBinding, args: ['class',] }],
        setMatrixDataEntity: [{ type: Input }],
        lookUp: [{ type: ViewChild, args: ['lookup',] }]
    };
    return MatrixPerformerComponent;
}());
export { MatrixPerformerComponent };
if (false) {
    /** @type {?} */
    MatrixPerformerComponent.prototype.cls;
    /** @type {?} */
    MatrixPerformerComponent.prototype.display;
    /** @type {?} */
    MatrixPerformerComponent.prototype.typeReadOnly;
    /** @type {?} */
    MatrixPerformerComponent.prototype.items;
    /** @type {?} */
    MatrixPerformerComponent.prototype.pageIndex;
    /** @type {?} */
    MatrixPerformerComponent.prototype.pageSize;
    /** @type {?} */
    MatrixPerformerComponent.prototype.pageList;
    /** @type {?} */
    MatrixPerformerComponent.prototype.total;
    /** @type {?} */
    MatrixPerformerComponent.prototype.groupIcon2;
    /** @type {?} */
    MatrixPerformerComponent.prototype.index;
    /** @type {?} */
    MatrixPerformerComponent.prototype.fieldId;
    /** @type {?} */
    MatrixPerformerComponent.prototype.value;
    /** @type {?} */
    MatrixPerformerComponent.prototype.helpId;
    /**
     * 矩阵定义显示列
     * @type {?}
     */
    MatrixPerformerComponent.prototype.columns;
    /** @type {?} */
    MatrixPerformerComponent.prototype.users;
    /** @type {?} */
    MatrixPerformerComponent.prototype.dataFieldAndValues;
    /** @type {?} */
    MatrixPerformerComponent.prototype.curDataFieldValue;
    /** @type {?} */
    MatrixPerformerComponent.prototype.matrixDefEntityList;
    /** @type {?} */
    MatrixPerformerComponent.prototype.curMatrixDefEntity;
    /** @type {?} */
    MatrixPerformerComponent.prototype.curMatrixDataEntity;
    /** @type {?} */
    MatrixPerformerComponent.prototype.conditionFields;
    /** @type {?} */
    MatrixPerformerComponent.prototype.exprGroup;
    /**
     * 条件字段是否启用表达式
     * @type {?}
     */
    MatrixPerformerComponent.prototype.condition1;
    /** @type {?} */
    MatrixPerformerComponent.prototype.condition1ExprAble;
    /** @type {?} */
    MatrixPerformerComponent.prototype.condition2;
    /** @type {?} */
    MatrixPerformerComponent.prototype.condition2ExprAble;
    /** @type {?} */
    MatrixPerformerComponent.prototype.condition3;
    /** @type {?} */
    MatrixPerformerComponent.prototype.condition3ExprAble;
    /**
     * 编辑器页面显示文字，防范浅拷贝问题（对于条件字段的值和显示文字都不要在当前实体中进行修改只有点击确定时，才将其保存至当前实体并返回）
     * @type {?}
     */
    MatrixPerformerComponent.prototype.condition1Text;
    /** @type {?} */
    MatrixPerformerComponent.prototype.condition1Value;
    /** @type {?} */
    MatrixPerformerComponent.prototype.condition2Text;
    /** @type {?} */
    MatrixPerformerComponent.prototype.condition2Value;
    /** @type {?} */
    MatrixPerformerComponent.prototype.condition3Text;
    /** @type {?} */
    MatrixPerformerComponent.prototype.condition3Value;
    /** @type {?} */
    MatrixPerformerComponent.prototype.lookUp;
    /** @type {?} */
    MatrixPerformerComponent.prototype.dictPicked;
    /** @type {?} */
    MatrixPerformerComponent.prototype.dictHelpPicked;
    /**
     * @type {?}
     * @private
     */
    MatrixPerformerComponent.prototype.http;
    /** @type {?} */
    MatrixPerformerComponent.prototype.designerUIState;
    /**
     * @type {?}
     * @private
     */
    MatrixPerformerComponent.prototype.expr;
    /**
     * @type {?}
     * @private
     */
    MatrixPerformerComponent.prototype.modalService;
    /**
     * @type {?}
     * @private
     */
    MatrixPerformerComponent.prototype.resolver;
    /**
     * @type {?}
     * @private
     */
    MatrixPerformerComponent.prototype.injector;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWF0cml4LXBlcmZvcm1lci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3NwLXdmL3dmLXByb2Nlc3MtZWRpdG9yLyIsInNvdXJjZXMiOlsibGliL3ZpZXdzL3BlcmZvcm1lci92aWV3cy9tYXRyaXgtcGVyZm9ybWVyL21hdHJpeC1wZXJmb3JtZXIuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSx3QkFBd0IsRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBVSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDckgsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sa0NBQWtDLENBQUM7QUFDdkUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFDekUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ2xELE9BQU8sRUFBYyxFQUFFLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDdEMsT0FBTyxFQUFFLFlBQVksRUFBRSxpQkFBaUIsRUFBRSxZQUFZLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNwRixPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSwwQ0FBMEMsQ0FBQztBQUNsRixPQUFPLEVBQUUsbUJBQW1CLEVBQWdCLGVBQWUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3ZGLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNsRCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUVwRSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUcxRDtJQXlIRSxrQ0FDVSxJQUFpQixFQUNsQixlQUF1QyxFQUN0QyxJQUF1QixFQUN2QixZQUE0QixFQUM1QixRQUFrQyxFQUNsQyxRQUFrQjtRQU41QixpQkFTQztRQVJTLFNBQUksR0FBSixJQUFJLENBQWE7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O0lBQy9CLDJDQUF5Qjs7SUFDekIsZ0RBQXFCOztJQUNyQix5Q0FBa0M7O0lBQ2xDLDZDQUFjOztJQUNkLDRDQUFjOztJQUNkLDRDQUFpQzs7SUFDakMseUNBQVU7O0lBQ1YsOENBQW9EOztJQUdwRCx5Q0FBYzs7SUFDZCwyQ0FBYTs7SUFDYix5Q0FBVzs7SUFDWCwwQ0FBTzs7Ozs7SUFJUCwyQ0FHRTs7SUFDRix5Q0FBOEI7O0lBRTlCLHNEQUF3Qjs7SUFDeEIscURBQXVCOztJQUV2Qix1REFBZ0Q7O0lBQ2hELHNEQUFvRTs7SUFDcEUsdURBQXVFOztJQUV2RSxtREFBOEM7O0lBQzlDLDZDQUVFOzs7OztJQUlGLDhDQUFtQjs7SUFDbkIsc0RBQTBCOztJQUMxQiw4Q0FBbUI7O0lBQ25CLHNEQUEwQjs7SUFDMUIsOENBQW1COztJQUNuQixzREFBMEI7Ozs7O0lBSTFCLGtEQUFvQjs7SUFDcEIsbURBQXFCOztJQUNyQixrREFBb0I7O0lBQ3BCLG1EQUFxQjs7SUFDckIsa0RBQW9COztJQUNwQixtREFBcUI7O0lBeURyQiwwQ0FBd0Q7O0lBcUR4RCw4Q0FTQzs7SUFvSUQsa0RBR0M7Ozs7O0lBbE1DLHdDQUF5Qjs7SUFDekIsbURBQThDOzs7OztJQUM5Qyx3Q0FBK0I7Ozs7O0lBQy9CLGdEQUFvQzs7Ozs7SUFDcEMsNENBQTBDOzs7OztJQUMxQyw0Q0FBMEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgSG9zdEJpbmRpbmcsIEluamVjdG9yLCBJbnB1dCwgT25Jbml0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgTWF0cml4RGVmSW5mb0VudGl0eSB9IGZyb20gJy4vZW50aXRpcy9tYXRyaXgtZGVmLWluZm8uZW50aXR5JztcclxuaW1wb3J0IHsgTWF0cml4RGF0YUluZm9FbnRpdHkgfSBmcm9tICcuL2VudGl0aXMvbWF0cml4LWRhdGEtaW5mby5lbnRpdHknO1xyXG5pbXBvcnQgeyBIdHRwU2VydmljZSB9IGZyb20gJ0BlY3AtY2FmL2NhZi1jb21tb24nO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBFeHByRWRpdE1vZGUsIEV4cHJlc3Npb25TZXJ2aWNlLCBJbmplY3RlZFR5cGUgfSBmcm9tICdAZ3NwLXN2Yy9leHByZXNzaW9uJztcclxuaW1wb3J0IHsgUHJvY2Vzc0Rlc2lnbmVyVUlTdGF0ZSB9IGZyb20gJy4uLy4uLy4uLy4uL2FwcC9wcm9jZXNzLWRlc2lnbmVyLnVpc3RhdGUnO1xyXG5pbXBvcnQgeyBMb29rdXBHcmlkQ29tcG9uZW50LCBQaWNrZWRSZXN1bHQsIFNlcnZlclNpZGVUb2tlbiB9IGZyb20gJ0BmYXJyaXMvdWktbG9va3VwJztcclxuaW1wb3J0IHsgQnNNb2RhbFNlcnZpY2UgfSBmcm9tICdAZmFycmlzL3VpLW1vZGFsJztcclxuaW1wb3J0IHsgRW51bUxpc3RDb21wb25lbnQgfSBmcm9tICcuL2VudW0tbGlzdC9lbnVtLWxpc3QuY29tcG9uZW50JztcclxuaW1wb3J0IHsgTWF0cml4RmllbGRJbmZvRW50aXR5IH0gZnJvbSAnLi9lbnRpdGlzL21hdHJpeC1maWVsZC1pbmZvLmVudGl0eSc7XHJcbmltcG9ydCB7IExvb2t1cERhdGFTZXJ2aWNlIH0gZnJvbSAnQGZhcnJpcy9sb29rdXAtY29uZmlnJztcclxuaW1wb3J0IHsgUGVyZm9ybWVyRW50aXR5IH0gZnJvbSAnLi4vLi4vZW50aXRpZXMvcGVyZm9ybWVyLmVudGl0eSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2FwcC1tYXRyaXgtcGVyZm9ybWVyJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vbWF0cml4LXBlcmZvcm1lci5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vbWF0cml4LXBlcmZvcm1lci5jb21wb25lbnQuc2NzcyddLFxyXG4gIHByb3ZpZGVyczogW1xyXG4gICAgeyBwcm92aWRlOiBTZXJ2ZXJTaWRlVG9rZW4sIHVzZUNsYXNzOiBMb29rdXBEYXRhU2VydmljZSB9XHJcbiAgXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgTWF0cml4UGVyZm9ybWVyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuICBASG9zdEJpbmRpbmcoJ2NsYXNzJylcclxuICBjbHMgPSAnZC1mbGV4IGZsZXgtZmlsbCBoLTEwMCc7XHJcbiAgZGlzcGxheTogc3RyaW5nID0gJ25vbmUnO1xyXG4gIHR5cGVSZWFkT25seSA9IGZhbHNlO1xyXG4gIGl0ZW1zOiBNYXRyaXhEZWZJbmZvRW50aXR5W10gPSBbXTtcclxuICBwYWdlSW5kZXggPSAxO1xyXG4gIHBhZ2VTaXplID0gMjA7XHJcbiAgcGFnZUxpc3QgPSBbMTAsIDIwLCAzMCwgNTAsIDEwMF07XHJcbiAgdG90YWwgPSAwO1xyXG4gIGdyb3VwSWNvbjIgPSAnPGkgY2xhc3M9XCJmLWljb24gZi1pY29uLWxvb2t1cFwiPjwvaT4nO1xyXG5cclxuICAvLyDluK7liqnnm7jlhbNcclxuICBpbmRleDogbnVtYmVyO1xyXG4gIGZpZWxkSWQgPSAnJztcclxuICB2YWx1ZTogYW55O1xyXG4gIGhlbHBJZDtcclxuICAvKipcclxuICAgKiDnn6npmLXlrprkuYnmmL7npLrliJdcclxuICAgKi9cclxuICBjb2x1bW5zID0gW1xyXG4gICAgeyB0aXRsZTogJ+e8luWPtycsIGZpZWxkOiAnY29kZScsIHdpZHRoOiAxMDAgfSxcclxuICAgIHsgdGl0bGU6ICflkI3np7AnLCBmaWVsZDogJ25hbWUnLCB3aWR0aDogMTAwIH1cclxuICBdO1xyXG4gIHVzZXJzOiBQZXJmb3JtZXJFbnRpdHlbXSA9IFtdO1xyXG5cclxuICBkYXRhRmllbGRBbmRWYWx1ZXMgPSBbXTsgLy8geyB0ZXh0OiAn6YOo6ZeoJywgdmFsdWU6ICdkZXBhcnRtZW50JyB9LFxyXG4gIGN1ckRhdGFGaWVsZFZhbHVlID0gJyc7XHJcblxyXG4gIG1hdHJpeERlZkVudGl0eUxpc3Q6IE1hdHJpeERlZkluZm9FbnRpdHlbXSA9IFtdO1xyXG4gIGN1ck1hdHJpeERlZkVudGl0eTogTWF0cml4RGVmSW5mb0VudGl0eSA9IG5ldyBNYXRyaXhEZWZJbmZvRW50aXR5KCk7XHJcbiAgY3VyTWF0cml4RGF0YUVudGl0eTogTWF0cml4RGF0YUluZm9FbnRpdHkgPSBuZXcgTWF0cml4RGF0YUluZm9FbnRpdHkoKTtcclxuXHJcbiAgY29uZGl0aW9uRmllbGRzOiBNYXRyaXhGaWVsZEluZm9FbnRpdHlbXSA9IFtdO1xyXG4gIGV4cHJHcm91cCA9IFtcclxuICAgIHsgbmFtZTogJ+W4ruWKqScsIHZhbHVlOiAnaGVscCcgfVxyXG4gIF07XHJcbiAgLyoqXHJcbiAgICog5p2h5Lu25a2X5q615piv5ZCm5ZCv55So6KGo6L6+5byPXHJcbiAgICovXHJcbiAgY29uZGl0aW9uMTogc3RyaW5nO1xyXG4gIGNvbmRpdGlvbjFFeHByQWJsZSA9IHRydWU7XHJcbiAgY29uZGl0aW9uMjogc3RyaW5nO1xyXG4gIGNvbmRpdGlvbjJFeHByQWJsZSA9IHRydWU7XHJcbiAgY29uZGl0aW9uMzogc3RyaW5nO1xyXG4gIGNvbmRpdGlvbjNFeHByQWJsZSA9IHRydWU7XHJcbiAgLyoqXHJcbiAgICog57yW6L6R5Zmo6aG16Z2i5pi+56S65paH5a2X77yM6Ziy6IyD5rWF5ou36LSd6Zeu6aKY77yI5a+55LqO5p2h5Lu25a2X5q6155qE5YC85ZKM5pi+56S65paH5a2X6YO95LiN6KaB5Zyo5b2T5YmN5a6e5L2T5Lit6L+b6KGM5L+u5pS55Y+q5pyJ54K55Ye756Gu5a6a5pe277yM5omN5bCG5YW25L+d5a2Y6Iez5b2T5YmN5a6e5L2T5bm26L+U5Zue77yJXHJcbiAgICovXHJcbiAgY29uZGl0aW9uMVRleHQgPSAnJztcclxuICBjb25kaXRpb24xVmFsdWUgPSAnJztcclxuICBjb25kaXRpb24yVGV4dCA9ICcnO1xyXG4gIGNvbmRpdGlvbjJWYWx1ZSA9ICcnO1xyXG4gIGNvbmRpdGlvbjNUZXh0ID0gJyc7XHJcbiAgY29uZGl0aW9uM1ZhbHVlID0gJyc7XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgc2V0IHNldE1hdHJpeERhdGFFbnRpdHkoZGF0YUVudGl0eTogTWF0cml4RGF0YUluZm9FbnRpdHkpIHtcclxuICAgIHRoaXMuY3VyTWF0cml4RGF0YUVudGl0eSA9IGRhdGFFbnRpdHk7XHJcbiAgICBjb25zdCB1cmwgPSAnL2FwaS9ydW50aW1lL3dmL3YxLjAvbWF0cml4RGVmaW5pdGlvbi8nICsgZGF0YUVudGl0eS5tYXRyaXhEZWZJZDtcclxuICAgIHRoaXMuaHR0cC5nZXQodXJsKS5zdWJzY3JpYmUoKHJlOiBhbnkpID0+IHtcclxuICAgICAgdGhpcy5jdXJNYXRyaXhEZWZFbnRpdHkgPSByZTtcclxuICAgICAgdGhpcy5zZXRGaWVsZHMoKTtcclxuICAgICAgdGhpcy5jdXJEYXRhRmllbGRWYWx1ZSA9IGRhdGFFbnRpdHkuZGF0YUZpZWxkQWxpYXM7XHJcbiAgICB9KVxyXG4gICAgaWYgKGRhdGFFbnRpdHkubWF0cml4RGVmSWQpIHtcclxuICAgICAgdGhpcy50eXBlUmVhZE9ubHkgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy5jdXJNYXRyaXhEYXRhRW50aXR5LmNvbmRpdGlvbkZpZWxkMSkge1xyXG4gICAgICB0aGlzLmNvbmRpdGlvbjEgPSAnZXhwcic7XHJcbiAgICAgIHRoaXMuY29uZGl0aW9uMUV4cHJBYmxlID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5jdXJNYXRyaXhEYXRhRW50aXR5LmNvbmRpdGlvbkZpZWxkMS5jaGFyQXQoMCkgPT09ICd7Jykge1xyXG4gICAgICB0aGlzLmNvbmRpdGlvbjEgPSAnZXhwcic7XHJcbiAgICAgIHRoaXMuY29uZGl0aW9uMUV4cHJBYmxlID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY29uZGl0aW9uMSA9ICdoZWxwJztcclxuICAgICAgdGhpcy5jb25kaXRpb24xRXhwckFibGUgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXRoaXMuY3VyTWF0cml4RGF0YUVudGl0eS5jb25kaXRpb25GaWVsZDIpIHtcclxuICAgICAgdGhpcy5jb25kaXRpb24yID0gJ2V4cHInO1xyXG4gICAgICB0aGlzLmNvbmRpdGlvbjJFeHByQWJsZSA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuY3VyTWF0cml4RGF0YUVudGl0eS5jb25kaXRpb25GaWVsZDIuY2hhckF0KDApID09PSAneycpIHtcclxuICAgICAgdGhpcy5jb25kaXRpb24yID0gJ2V4cHInO1xyXG4gICAgICB0aGlzLmNvbmRpdGlvbjJFeHByQWJsZSA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmNvbmRpdGlvbjIgPSAnaGVscCc7XHJcbiAgICAgIHRoaXMuY29uZGl0aW9uMkV4cHJBYmxlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLmN1ck1hdHJpeERhdGFFbnRpdHkuY29uZGl0aW9uRmllbGQzKSB7XHJcbiAgICAgIHRoaXMuY29uZGl0aW9uMyA9ICdleHByJztcclxuICAgICAgdGhpcy5jb25kaXRpb24zRXhwckFibGUgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmN1ck1hdHJpeERhdGFFbnRpdHkuY29uZGl0aW9uRmllbGQzLmNoYXJBdCgwKSA9PT0gJ3snKSB7XHJcbiAgICAgIHRoaXMuY29uZGl0aW9uMyA9ICdleHByJztcclxuICAgICAgdGhpcy5jb25kaXRpb24zRXhwckFibGUgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jb25kaXRpb24zID0gJ2hlbHAnO1xyXG4gICAgICB0aGlzLmNvbmRpdGlvbjNFeHByQWJsZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY29uZGl0aW9uMVRleHQgPSB0aGlzLmN1ck1hdHJpeERhdGFFbnRpdHkuY29uZGl0aW9uRmllbGRUZXh0MSA/IHRoaXMuY3VyTWF0cml4RGF0YUVudGl0eS5jb25kaXRpb25GaWVsZFRleHQxIDogJyc7XHJcbiAgICB0aGlzLmNvbmRpdGlvbjFWYWx1ZSA9IHRoaXMuY3VyTWF0cml4RGF0YUVudGl0eS5jb25kaXRpb25GaWVsZDEgPyB0aGlzLmN1ck1hdHJpeERhdGFFbnRpdHkuY29uZGl0aW9uRmllbGQxIDogJyc7XHJcbiAgICB0aGlzLmNvbmRpdGlvbjJUZXh0ID0gdGhpcy5jdXJNYXRyaXhEYXRhRW50aXR5LmNvbmRpdGlvbkZpZWxkVGV4dDIgPyB0aGlzLmN1ck1hdHJpeERhdGFFbnRpdHkuY29uZGl0aW9uRmllbGRUZXh0MiA6ICcnO1xyXG4gICAgdGhpcy5jb25kaXRpb24yVmFsdWUgPSB0aGlzLmN1ck1hdHJpeERhdGFFbnRpdHkuY29uZGl0aW9uRmllbGQyID8gdGhpcy5jdXJNYXRyaXhEYXRhRW50aXR5LmNvbmRpdGlvbkZpZWxkMiA6ICcnO1xyXG4gICAgdGhpcy5jb25kaXRpb24zVGV4dCA9IHRoaXMuY3VyTWF0cml4RGF0YUVudGl0eS5jb25kaXRpb25GaWVsZFRleHQzID8gdGhpcy5jdXJNYXRyaXhEYXRhRW50aXR5LmNvbmRpdGlvbkZpZWxkVGV4dDMgOiAnJztcclxuICAgIHRoaXMuY29uZGl0aW9uM1ZhbHVlID0gdGhpcy5jdXJNYXRyaXhEYXRhRW50aXR5LmNvbmRpdGlvbkZpZWxkMyA/IHRoaXMuY3VyTWF0cml4RGF0YUVudGl0eS5jb25kaXRpb25GaWVsZDMgOiAnJztcclxuICB9XHJcblxyXG5cclxuICBAVmlld0NoaWxkKCdsb29rdXAnKSBwdWJsaWMgbG9va1VwOiBMb29rdXBHcmlkQ29tcG9uZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgaHR0cDogSHR0cFNlcnZpY2UsXHJcbiAgICBwdWJsaWMgZGVzaWduZXJVSVN0YXRlOiBQcm9jZXNzRGVzaWduZXJVSVN0YXRlLFxyXG4gICAgcHJpdmF0ZSBleHByOiBFeHByZXNzaW9uU2VydmljZSxcclxuICAgIHByaXZhdGUgbW9kYWxTZXJ2aWNlOiBCc01vZGFsU2VydmljZSxcclxuICAgIHByaXZhdGUgcmVzb2x2ZXI6IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcclxuICAgIHByaXZhdGUgaW5qZWN0b3I6IEluamVjdG9yLFxyXG4gICkge1xyXG4gICAgdGhpcy5nZXRNYXRyaXhMaW5lVHlwZSgpO1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5bnn6npmLXlrprkuYlcclxuICAgKi9cclxuICBnZXRNYXRyaXhMaW5lVHlwZSgpIHtcclxuICAgIGNvbnN0IHVybCA9ICcvYXBpL3J1bnRpbWUvd2YvdjEuMC9tYXRyaXhEZWZpbml0aW9uJztcclxuICAgIHRoaXMuaHR0cC5nZXQodXJsKS5zdWJzY3JpYmUoKHJlOiBhbnkpID0+IHtcclxuICAgICAgdGhpcy5tYXRyaXhEZWZFbnRpdHlMaXN0ID0gcmU7XHJcbiAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLm1hdHJpeERlZkVudGl0eUxpc3Quc2xpY2UoMCwgdGhpcy5wYWdlU2l6ZSk7XHJcbiAgICAgIHRoaXMudG90YWwgPSB0aGlzLm1hdHJpeERlZkVudGl0eUxpc3QubGVuZ3RoO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldEZpZWxkcygpIHtcclxuICAgIHRoaXMuY29uZGl0aW9uRmllbGRzID0gW107XHJcbiAgICB0aGlzLmRhdGFGaWVsZEFuZFZhbHVlcyA9IFtdO1xyXG4gICAgLy8g5YWI5a+55p2h5Lu25a2X5q615oyJ54Wn5o6S5bqP5Y+36L+b6KGM5o6S5bqPXHJcbiAgICB0aGlzLmN1ck1hdHJpeERlZkVudGl0eS5jb25kaXRpb25GaWVsZC5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgIHJldHVybiBhLnNvcnRPcmRlciAtIGIuc29ydE9yZGVyO1xyXG4gICAgfSk7XHJcbiAgICAvLyDlsIbmjpLluo/lkI7nmoTmnaHku7bmlL7lhaXmnaHku7blrZfmrrXmlbDnu4TkuK1cclxuICAgIGZvciAoY29uc3QgY29uZGl0aW9uIG9mIHRoaXMuY3VyTWF0cml4RGVmRW50aXR5LmNvbmRpdGlvbkZpZWxkKSB7XHJcbiAgICAgIHRoaXMuY29uZGl0aW9uRmllbGRzLnB1c2goY29uZGl0aW9uKTtcclxuICAgIH1cclxuICAgIC8vIOWFiOWvueaVsOaNruWtl+auteaMieeFp+aOkuW6j+WPt+i/m+ihjOaOkuW6j1xyXG4gICAgdGhpcy5jdXJNYXRyaXhEZWZFbnRpdHkuZGF0YUZpZWxkLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgcmV0dXJuIGEuc29ydE9yZGVyIC0gYi5zb3J0T3JkZXI7XHJcbiAgICB9KTtcclxuICAgIC8vIOWhq+WFheaVsOaNruWtl+auteeahOS4i+aLieWIl+ihqFxyXG4gICAgZm9yIChjb25zdCBkYXRhIG9mIHRoaXMuY3VyTWF0cml4RGVmRW50aXR5LmRhdGFGaWVsZCkge1xyXG4gICAgICBjb25zdCB0ZW1wID0ge1xyXG4gICAgICAgIHRleHQ6IGRhdGEuYWxpYXMsXHJcbiAgICAgICAgdmFsdWU6IGRhdGEuYWxpYXNcclxuICAgICAgfTtcclxuICAgICAgdGhpcy5kYXRhRmllbGRBbmRWYWx1ZXMucHVzaCh0ZW1wKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRpY3RQaWNrZWQgPSAocm93RGF0YSkgPT4geyAvLyDpgInlroznn6npmLXlrprkuYnlkI7miafooYxcclxuICAgIC8vIOWFiOWwhuW9k+WJjee7keWumueahOaVsOaNrua4heepulxyXG4gICAgdGhpcy5jdXJNYXRyaXhEYXRhRW50aXR5ID0gbmV3IE1hdHJpeERhdGFJbmZvRW50aXR5KCk7XHJcbiAgICB0aGlzLmN1ckRhdGFGaWVsZFZhbHVlID0gJyc7XHJcbiAgICB0aGlzLmN1ck1hdHJpeERlZkVudGl0eSA9IHJvd0RhdGE7XHJcbiAgICB0aGlzLmN1ck1hdHJpeERhdGFFbnRpdHkubWF0cml4RGVmSWQgPSByb3dEYXRhLmlkO1xyXG4gICAgdGhpcy5jdXJNYXRyaXhEYXRhRW50aXR5Lm1hdHJpeERlZk5hbWUgPSByb3dEYXRhLm5hbWU7XHJcbiAgICB0aGlzLnNldEZpZWxkcygpO1xyXG4gICAgcmV0dXJuIG9mKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgb25DbGVhcigpIHtcclxuICAgIHRoaXMuY3VyTWF0cml4RGF0YUVudGl0eSA9IG5ldyBNYXRyaXhEYXRhSW5mb0VudGl0eSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog57yW6L6R5p2h5Lu2XHJcbiAgICovXHJcbiAgZWRpdENvbmRpdGlvbigpIHtcclxuICAgIGlmICh0aGlzLmRlc2lnbmVyVUlTdGF0ZS5zY2hlbWFzLmxlbmd0aCA+IDApIHtcclxuICAgICAgZm9yIChjb25zdCBzY2hlbWEgb2YgdGhpcy5kZXNpZ25lclVJU3RhdGUuc2NoZW1hcykge1xyXG4gICAgICAgIHRoaXMuZXhwci5hZGRTY2hlbWEoJ1NjaGVtYScsIHNjaGVtYSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuZGVzaWduZXJVSVN0YXRlLnNjaGVtYXNbMF0uZW50aXR5VHlwZXMgJiYgdGhpcy5kZXNpZ25lclVJU3RhdGUuc2NoZW1hc1swXS5lbnRpdHlUeXBlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc3QgZW50aXR5VHlwZSA9IHRoaXMuZGVzaWduZXJVSVN0YXRlLnNjaGVtYXNbMF0uZW50aXR5VHlwZXNbMF07XHJcbiAgICAgICAgdGhpcy5leHByLmFkZEluamVjdGVkRW50aXR5KGVudGl0eVR5cGUubmFtZSwgJ1NjaGVtYScsXHJcbiAgICAgICAgICBlbnRpdHlUeXBlLm5hbWUsIEluamVjdGVkVHlwZS5FbnRpdHlUeXBlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgY29udGV4dCA9IG5ldyBBcnJheSgpO1xyXG4gICAgaWYgKHRoaXMuZGVzaWduZXJVSVN0YXRlLnByb2NJbnN0Q29udGV4dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGZvciAoY29uc3QgdmFyaWFibGUgb2YgdGhpcy5kZXNpZ25lclVJU3RhdGUucHJvY0luc3RDb250ZXh0KSB7XHJcbiAgICAgICAgY29udGV4dC5wdXNoKHZhcmlhYmxlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuZGVzaWduZXJVSVN0YXRlLmZvcm1hbFBhcmFtZXRlckNvbnRleHQubGVuZ3RoID4gMCkge1xyXG4gICAgICBmb3IgKGNvbnN0IHZhcmlhYmxlIG9mIHRoaXMuZGVzaWduZXJVSVN0YXRlLmZvcm1hbFBhcmFtZXRlckNvbnRleHQpIHtcclxuICAgICAgICBpZiAoIWNvbnRleHQuc29tZShjID0+IGMua2V5ID09PSB2YXJpYWJsZS5rZXkpKSB7XHJcbiAgICAgICAgICBjb250ZXh0LnB1c2godmFyaWFibGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuZGVzaWduZXJVSVN0YXRlLnBhcnRpY2lwYW50Q29udGV4dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGZvciAoY29uc3QgdmFyaWFibGUgb2YgdGhpcy5kZXNpZ25lclVJU3RhdGUucGFydGljaXBhbnRDb250ZXh0KSB7XHJcbiAgICAgICAgaWYgKCFjb250ZXh0LnNvbWUoYyA9PiBjLmtleSA9PT0gdmFyaWFibGUua2V5KSkge1xyXG4gICAgICAgICAgY29udGV4dC5wdXNoKHZhcmlhYmxlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0aGlzLmRlc2lnbmVyVUlTdGF0ZS5wcm9jZXNzVmFyaWFibGVDb250ZXh0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgZm9yIChjb25zdCB2YXJpYWJsZSBvZiB0aGlzLmRlc2lnbmVyVUlTdGF0ZS5wcm9jZXNzVmFyaWFibGVDb250ZXh0KSB7XHJcbiAgICAgICAgaWYgKCFjb250ZXh0LnNvbWUoYyA9PiBjLmtleSA9PT0gdmFyaWFibGUua2V5KSkge1xyXG4gICAgICAgICAgY29udGV4dC5wdXNoKHZhcmlhYmxlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChjb250ZXh0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgZm9yIChjb25zdCB2IG9mIGNvbnRleHQpIHtcclxuICAgICAgICB0aGlzLmV4cHIuYWRkQ29udGV4dCh2KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5leHByLnNldEVkaXRQYXR0ZXJuKEV4cHJFZGl0TW9kZS5Db25kaXRpb25hbCk7IC8vIOihqOi+vuW8j+WxleeOsOaooeW8j++8mum7mOiupOeugOaYk+eJiFxyXG4gICAgdGhpcy5leHByLmFkZEV4cHJlc3Npb25UZXh0KHRoaXMuY3VyTWF0cml4RGF0YUVudGl0eS5jb25kaXRpb24pOyAvLyB0aGlzLnJlcG9ydGluZ0xpbmVEYXRhRW50aXR5LmNvbmRpdGlvblxyXG4gICAgdGhpcy5leHByLmJ1aWxkRXhwcmVzc2lvbigpLnRoZW4oKGV4cHJlc3Npb25pbmZvOiBzdHJpbmcpID0+IHtcclxuICAgICAgdGhpcy5jdXJNYXRyaXhEYXRhRW50aXR5LmNvbmRpdGlvbiA9IGV4cHJlc3Npb25pbmZvO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBvbkhlbHBTZWFyY2goZGF0YSwgaW5kZXgsIGlkKSB7IC8vIOaJk+W8gOW4ruWKqVxyXG4gICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG4gICAgdGhpcy5maWVsZElkID0gaWQ7XHJcbiAgICB0aGlzLmhlbHBJZCA9IHRoaXMuY3VyTWF0cml4RGVmRW50aXR5LmNvbmRpdGlvbkZpZWxkW3RoaXMuaW5kZXhdLnNtYXJ0SGVscDtcclxuICAgIHRoaXMubG9va1VwLm9uQ2xlYXIoKTtcclxuICAgIHRoaXMubG9va1VwLnNob3dEaWFsb2coKTtcclxuICB9XHJcblxyXG4gIG9wZW5FbnVtVmFsdWUoaW5kZXgsIGlkKSB7XHJcbiAgICB0aGlzLmluZGV4ID0gaW5kZXg7XHJcbiAgICB0aGlzLmZpZWxkSWQgPSBpZDtcclxuICAgIHRoaXMuc2hvd0VudW1MaXN0KEpTT04ucGFyc2UodGhpcy5jdXJNYXRyaXhEZWZFbnRpdHkuY29uZGl0aW9uRmllbGRbdGhpcy5pbmRleF0uZW51bUxpc3QpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2hvd0VudW1MaXN0KGVudW1MaXN0OiBhbnlbXSkge1xyXG4gICAgY29uc3QgY29tcEZhY3RvcnkgPSB0aGlzLnJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KEVudW1MaXN0Q29tcG9uZW50KTtcclxuICAgIGNvbnN0IGNvbXBSZWYgPSBjb21wRmFjdG9yeS5jcmVhdGUodGhpcy5pbmplY3Rvcik7XHJcbiAgICBjb25zdCBtb2RhbENvbmZpZyA9IHtcclxuICAgICAgdGl0bGU6ICfmnprkuL7pgInmi6knLFxyXG4gICAgICB3aWR0aDogNjUwLFxyXG4gICAgICBoZWlnaHQ6IDQ1MCxcclxuICAgICAgc2hvd0J1dHRvbnM6IHRydWUsXHJcbiAgICAgIGJ1dHRvbnM6IGNvbXBSZWYuaW5zdGFuY2UuYnRuUmVmLFxyXG4gICAgfTtcclxuICAgIGlmIChlbnVtTGlzdCAmJiBlbnVtTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbXBSZWYuaW5zdGFuY2UubG9hZChlbnVtTGlzdCk7XHJcbiAgICB9XHJcbiAgICBjb21wUmVmLmluc3RhbmNlLmNvbmZpcm0uc3Vic2NyaWJlKChyZTogYW55W10pID0+IHsgLy8g54K55Ye756Gu5a6aXHJcbiAgICAgIGlmICh0aGlzLmluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy5jb25kaXRpb24xVGV4dCA9IHJlWzBdLnZhbHVlO1xyXG4gICAgICAgIHRoaXMuY29uZGl0aW9uMVZhbHVlID0gcmVbMF0udmFsdWU7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pbmRleCA9PT0gMSkge1xyXG4gICAgICAgIHRoaXMuY29uZGl0aW9uMlRleHQgPSByZVswXS52YWx1ZTtcclxuICAgICAgICB0aGlzLmNvbmRpdGlvbjJWYWx1ZSA9IHJlWzBdLnZhbHVlO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaW5kZXggPT09IDIpIHtcclxuICAgICAgICB0aGlzLmNvbmRpdGlvbjNUZXh0ID0gcmVbMF0udmFsdWU7XHJcbiAgICAgICAgdGhpcy5jb25kaXRpb24zVmFsdWUgPSByZVswXS52YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBkaWFsb2cgPSB0aGlzLm1vZGFsU2VydmljZS5zaG93KGNvbXBSZWYsIG1vZGFsQ29uZmlnKTtcclxuICAgIGNvbXBSZWYuaW5zdGFuY2UuY2xvc2VNb2RhbEVtaXR0ZXIuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgZGlhbG9nLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRhdGFGaWVsZENoYW5nZShkYXRhKSB7XHJcbiAgICB0aGlzLmN1ck1hdHJpeERhdGFFbnRpdHkuZGF0YUZpZWxkQWxpYXMgPSBkYXRhLmRhdGEudmFsdWU7XHJcbiAgfVxyXG5cclxuICBzZWxlY3RlZERhdGFIYW5kbGVyKGRhdGEpIHtcclxuICAgIGlmICh0aGlzLmluZGV4ID09PSAwKSB7XHJcbiAgICAgIHRoaXMuY29uZGl0aW9uMVRleHQgPSBkYXRhLm5hbWU7XHJcbiAgICAgIHRoaXMuY29uZGl0aW9uMVZhbHVlID0gZGF0YS5pZDtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5pbmRleCA9PT0gMSkge1xyXG4gICAgICB0aGlzLmNvbmRpdGlvbjJUZXh0ID0gZGF0YS5uYW1lO1xyXG4gICAgICB0aGlzLmNvbmRpdGlvbjJWYWx1ZSA9IGRhdGEuaWQ7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuaW5kZXggPT09IDIpIHtcclxuICAgICAgdGhpcy5jb25kaXRpb24zVGV4dCA9IGRhdGEubmFtZTtcclxuICAgICAgdGhpcy5jb25kaXRpb24zVmFsdWUgPSBkYXRhLmlkO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0UGVyZm9ybWVycygpIHtcclxuICAgIHRoaXMuY3VyTWF0cml4RGF0YUVudGl0eS50eXBlID0gJ3dmLk1hdHJpeFBhcnRpY2lwYW50JztcclxuICAgIHRoaXMuY3VyTWF0cml4RGF0YUVudGl0eS5jb25kaXRpb25GaWVsZFRleHQxID0gdGhpcy5jb25kaXRpb24xVGV4dDtcclxuICAgIHRoaXMuY3VyTWF0cml4RGF0YUVudGl0eS5jb25kaXRpb25GaWVsZDEgPSB0aGlzLmNvbmRpdGlvbjFUZXh0ID09PSAnJyA/ICcnIDogdGhpcy5jb25kaXRpb24xVmFsdWU7XHJcbiAgICB0aGlzLmN1ck1hdHJpeERhdGFFbnRpdHkuY29uZGl0aW9uRmllbGRUZXh0MiA9IHRoaXMuY29uZGl0aW9uMlRleHQ7XHJcbiAgICB0aGlzLmN1ck1hdHJpeERhdGFFbnRpdHkuY29uZGl0aW9uRmllbGQyID0gdGhpcy5jb25kaXRpb24yVGV4dCA9PT0gJycgPyAnJyA6IHRoaXMuY29uZGl0aW9uMlZhbHVlO1xyXG4gICAgdGhpcy5jdXJNYXRyaXhEYXRhRW50aXR5LmNvbmRpdGlvbkZpZWxkVGV4dDMgPSB0aGlzLmNvbmRpdGlvbjNUZXh0O1xyXG4gICAgdGhpcy5jdXJNYXRyaXhEYXRhRW50aXR5LmNvbmRpdGlvbkZpZWxkMyA9IHRoaXMuY29uZGl0aW9uM1RleHQgPT09ICcnID8gJycgOiB0aGlzLmNvbmRpdGlvbjNWYWx1ZTtcclxuICAgIHJldHVybiB0aGlzLmN1ck1hdHJpeERhdGFFbnRpdHk7XHJcbiAgfVxyXG5cclxuICBkaWN0SGVscFBpY2tlZCA9IChkYXRhOiBhbnkpOiBPYnNlcnZhYmxlPFBpY2tlZFJlc3VsdD4gPT4ge1xyXG4gICAgdGhpcy52YWx1ZSA9IG51bGw7XHJcbiAgICByZXR1cm4gb2YoeyBjbG9zZURpYWxvZzogdHJ1ZSB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOaJk+W8gOihqOi+vuW8j+e8lui+keWZqFxyXG4gICAqIEBwYXJhbSBkYXRhIOe8lui+keesrOWHoOS4quadoeS7tuWtl+aute+8jOWAvOS4uu+8iGNvbmRpdGlvbjHvvIxjb25kaXRpb24y77yMY29uZGl0aW9uM++8iVxyXG4gICAqL1xyXG4gIHNob3dFeHBySGVscChkYXRhOiBzdHJpbmcpIHtcclxuICAgIGlmICh0aGlzLmRlc2lnbmVyVUlTdGF0ZS5zY2hlbWFzLmxlbmd0aCA+IDApIHtcclxuICAgICAgZm9yIChjb25zdCBzY2hlbWEgb2YgdGhpcy5kZXNpZ25lclVJU3RhdGUuc2NoZW1hcykge1xyXG4gICAgICAgIC8vIHRoaXMuZXhwci5hZGRDb21tb25PYmplY3QoY28pO1xyXG4gICAgICAgIHRoaXMuZXhwci5hZGRTY2hlbWEoJ1NjaGVtYScsIHNjaGVtYSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuZGVzaWduZXJVSVN0YXRlLnNjaGVtYXNbMF0uZW50aXR5VHlwZXMgJiYgdGhpcy5kZXNpZ25lclVJU3RhdGUuc2NoZW1hc1swXS5lbnRpdHlUeXBlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc3QgZW50aXR5VHlwZSA9IHRoaXMuZGVzaWduZXJVSVN0YXRlLnNjaGVtYXNbMF0uZW50aXR5VHlwZXNbMF07XHJcbiAgICAgICAgdGhpcy5leHByLmFkZEluamVjdGVkRW50aXR5KGVudGl0eVR5cGUubmFtZSwgJ1NjaGVtYScsXHJcbiAgICAgICAgICBlbnRpdHlUeXBlLm5hbWUsIEluamVjdGVkVHlwZS5FbnRpdHlUeXBlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgY29udGV4dCA9IG5ldyBBcnJheSgpO1xyXG4gICAgaWYgKHRoaXMuZGVzaWduZXJVSVN0YXRlLnBhcnRpY2lwYW50Q29udGV4dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGZvciAoY29uc3QgdmFyaWFibGUgb2YgdGhpcy5kZXNpZ25lclVJU3RhdGUucGFydGljaXBhbnRDb250ZXh0KSB7XHJcbiAgICAgICAgY29udGV4dC5wdXNoKHZhcmlhYmxlKTtcclxuICAgICAgICAvLyB0aGlzLmV4cHIuYWRkQ29udGV4dCh2YXJpYWJsZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0aGlzLmRlc2lnbmVyVUlTdGF0ZS5wcm9jZXNzVmFyaWFibGVDb250ZXh0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgZm9yIChjb25zdCB2YXJpYWJsZSBvZiB0aGlzLmRlc2lnbmVyVUlTdGF0ZS5wcm9jZXNzVmFyaWFibGVDb250ZXh0KSB7XHJcbiAgICAgICAgaWYgKCFjb250ZXh0LnNvbWUoYyA9PiBjLmtleSA9PT0gdmFyaWFibGUua2V5KSkge1xyXG4gICAgICAgICAgY29udGV4dC5wdXNoKHZhcmlhYmxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdGhpcy5leHByLmFkZENvbnRleHQodmFyaWFibGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoY29udGV4dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGZvciAoY29uc3QgdiBvZiBjb250ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5leHByLmFkZENvbnRleHQodik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChkYXRhID09PSAnY29uZGl0aW9uMScpIHtcclxuICAgICAgaWYgKHRoaXMuY3VyTWF0cml4RGF0YUVudGl0eS5jb25kaXRpb25GaWVsZDEpIHtcclxuICAgICAgICB0aGlzLmV4cHIuYWRkRXhwcmVzc2lvblRleHQodGhpcy5jdXJNYXRyaXhEYXRhRW50aXR5LmNvbmRpdGlvbkZpZWxkMSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5leHByLmFkZEV4cHJlc3Npb25UZXh0KCcnKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChkYXRhID09PSAnY29uZGl0aW9uMicpIHtcclxuICAgICAgaWYgKHRoaXMuY3VyTWF0cml4RGF0YUVudGl0eS5jb25kaXRpb25GaWVsZDIpIHtcclxuICAgICAgICB0aGlzLmV4cHIuYWRkRXhwcmVzc2lvblRleHQodGhpcy5jdXJNYXRyaXhEYXRhRW50aXR5LmNvbmRpdGlvbkZpZWxkMik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5leHByLmFkZEV4cHJlc3Npb25UZXh0KCcnKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChkYXRhID09PSAnY29uZGl0aW9uMycpIHtcclxuICAgICAgaWYgKHRoaXMuY3VyTWF0cml4RGF0YUVudGl0eS5jb25kaXRpb25GaWVsZDMpIHtcclxuICAgICAgICB0aGlzLmV4cHIuYWRkRXhwcmVzc2lvblRleHQodGhpcy5jdXJNYXRyaXhEYXRhRW50aXR5LmNvbmRpdGlvbkZpZWxkMyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5leHByLmFkZEV4cHJlc3Npb25UZXh0KCcnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5leHByLmJ1aWxkRXhwcmVzc2lvbigpLnRoZW4oKGV4cHJlc3Npb25JbmZvOiBzdHJpbmcpID0+IHtcclxuICAgICAgaWYgKGRhdGEgPT09ICdjb25kaXRpb24xJykge1xyXG4gICAgICAgIHRoaXMuY29uZGl0aW9uMVRleHQgPSBleHByZXNzaW9uSW5mbztcclxuICAgICAgICB0aGlzLmNvbmRpdGlvbjFWYWx1ZSA9IGV4cHJlc3Npb25JbmZvO1xyXG4gICAgICB9IGVsc2UgaWYgKGRhdGEgPT09ICdjb25kaXRpb24yJykge1xyXG4gICAgICAgIHRoaXMuY29uZGl0aW9uMlRleHQgPSBleHByZXNzaW9uSW5mbztcclxuICAgICAgICB0aGlzLmNvbmRpdGlvbjJWYWx1ZSA9IGV4cHJlc3Npb25JbmZvO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuY29uZGl0aW9uM1RleHQgPSBleHByZXNzaW9uSW5mbztcclxuICAgICAgICB0aGlzLmNvbmRpdGlvbjNWYWx1ZSA9IGV4cHJlc3Npb25JbmZvO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgY29uZGl0aW9uMUV4cHIoZGF0YSkge1xyXG4gICAgdGhpcy5zaG93RXhwckhlbHAoZGF0YSk7XHJcbiAgfVxyXG4gIGNvbmRpdGlvbjFFeHByQ2xpY2soKSB7XHJcbiAgICB0aGlzLmNvbmRpdGlvbjFFeHByQWJsZSA9ICF0aGlzLmNvbmRpdGlvbjFFeHByQWJsZTtcclxuICAgIHRoaXMuY29uZGl0aW9uMVRleHQgPSAnJztcclxuICAgIHRoaXMuY29uZGl0aW9uMVZhbHVlID0gJyc7XHJcbiAgfVxyXG4gIGNvbmRpdGlvbjJFeHByKGRhdGEpIHtcclxuICAgIHRoaXMuc2hvd0V4cHJIZWxwKGRhdGEpO1xyXG4gIH1cclxuICBjb25kaXRpb24yRXhwckNsaWNrKCkge1xyXG4gICAgdGhpcy5jb25kaXRpb24yRXhwckFibGUgPSAhdGhpcy5jb25kaXRpb24yRXhwckFibGU7XHJcbiAgICB0aGlzLmNvbmRpdGlvbjJUZXh0ID0gJyc7XHJcbiAgICB0aGlzLmNvbmRpdGlvbjJWYWx1ZSA9ICcnO1xyXG4gIH1cclxuICBjb25kaXRpb24zRXhwcihkYXRhKSB7XHJcbiAgICB0aGlzLnNob3dFeHBySGVscChkYXRhKTtcclxuICB9XHJcbiAgY29uZGl0aW9uM0V4cHJDbGljaygpIHtcclxuICAgIHRoaXMuY29uZGl0aW9uM0V4cHJBYmxlID0gIXRoaXMuY29uZGl0aW9uM0V4cHJBYmxlO1xyXG4gICAgdGhpcy5jb25kaXRpb24zVGV4dCA9ICcnO1xyXG4gICAgdGhpcy5jb25kaXRpb24zVmFsdWUgPSAnJztcclxuICB9XHJcbn1cclxuIl19