/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Output, ViewChild, TemplateRef, EventEmitter, ElementRef, ChangeDetectorRef, Injector } from '@angular/core';
import { AssigneeInfo } from '../../entity/complete-response';
import { I18nService } from '../../service/i18n/i18n.service';
import { DialogComponent } from '@farris/ui-dialog';
import { DataTableComponent } from '@farris/ui-datatable';
import { SysFarrisLookupComponent } from '@gsp-sys/sysmgr-ui';
import { NotifyService } from '@farris/ui-notify';
import { TaskService } from '../../service/task.service';
import { WfContext } from '../../entity/wfContext';
var AssigneeInfoComponent = /** @class */ (function () {
    function AssigneeInfoComponent(i18nService, notify, cd, taskService, injector) {
        var _this = this;
        this.i18nService = i18nService;
        this.notify = notify;
        this.cd = cd;
        this.taskService = taskService;
        this.injector = injector;
        this.bindingData = {}; //系统帮助多选时用到
        //系统帮助多选时用到
        this.myHelpBindingData = {}; //自己的帮助多选时用到
        //已经选中的指派人
        this.assignees = []; //返回选中人的ID数组
        //返回选中人的ID数组
        this.searchAssignUserList = []; //非全员指派的用户数据，搜索用
        //非全员指派的用户数据，搜索用
        this.anonymous = false; // 是否匿名
        // 是否匿名
        this.anonymousText = ''; // 匿名显示文本
        // 匿名显示文本
        this.disabled = false; //办理人员输入框是否禁用
        this.filter = { notGetCurrentUser: false, notGetStopUser: true, orderField: "order", withAllOrg: true, orgId: '' };
        this.ifShowBlank = true; //办理人为空时，是否显示选人框
        //办理人为空时，是否显示选人框
        this.openFromIframe = false; //是否从iframe打开，应用IDP提交审批集成
        //自己的帮助DOM元素
        this.afterConfirm = new EventEmitter();
        this.groupIcon = '<i class="f-icon f-icon-plus-circle" style="color: #2B87FF"></i>';
        this.extendUserHelp = false; //用户帮助是否扩展
        //扩展帮助的url
        this.columns = [
            { title: this.i18nService.getValue('static.columnName.code'), field: 'Code', width: 80 },
            { title: this.i18nService.getValue('static.columnName.name'), field: 'Name', width: 90 },
            { title: this.i18nService.getValue('static.columnName.department'), field: 'OrgName', width: 180 }
        ];
        //是否使用farris用户帮助
        this.taskService.getWfUserHelpConfig().subscribe(function (re) {
            if (re && re.userHelpConfig && re.userHelpConfig.isExtend == 'true') {
                _this.extendUserHelp = true;
                _this.extendUserHelpUrl = re.userHelpConfig.url + '?v=' + new Date().getTime().toString();
            }
        }, function (error) {
            console.error(error);
        });
    }
    /**
     * @return {?}
     */
    AssigneeInfoComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        // 为data table增加高度
        /** @type {?} */
        var ele = (/** @type {?} */ (this.dataTableEle.nativeElement));
        /** @type {?} */
        var body = ele && (/** @type {?} */ (ele.querySelector('div.farris-datatable-container > div > div.farris-table-scorllable-body')));
        body && (body.style.height = '290px');
    };
    /**
     * @return {?}
     */
    AssigneeInfoComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    Object.defineProperty(AssigneeInfoComponent.prototype, "assigneeInfo", {
        set: /**
         * @param {?} info
         * @return {?}
         */
        function (info) {
            this.disabled = false;
            this.placeholder = null; //清空
            this.assignUserNgModule = null; //清空
            this._assigneeInfo = info; //可以传null
            if (!this._assigneeInfo) {
                this.disabled = true;
            }
            else {
                if (this._assigneeInfo.selectAssignee) {
                    this.disabled = false;
                    this.placeholder = this.i18nService.getValue('task.selectPlaceholder'); //请选择
                }
                else {
                    this.disabled = true;
                    if (this._assigneeInfo.assigneeUsers && this._assigneeInfo.assigneeUsers.length) {
                        this.placeholder = this.anonymous ? this.anonymousText : this._assigneeInfo.assigneeUsers.map(function (user) { return user.name; }).join(); //解析人名
                    }
                    else {
                        this.placeholder = this.i18nService.getValue('task.noUser'); //无
                    }
                }
                this.singleSelect = !this._assigneeInfo.multiSelect;
                this.allowGlobalAssign = this._assigneeInfo.allowGlobalAssign;
                if (this._assigneeInfo.organizationScope && this._assigneeInfo.organizationScope.length) {
                    /** @type {?} */
                    var orgList = this._assigneeInfo.organizationScope[0];
                    this.filter.orgId = orgList.id;
                    this.filter.withAllOrg = orgList.includeChildren;
                }
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AssigneeInfoComponent.prototype, "setAnonymous", {
        set: /**
         * @param {?} anonymous
         * @return {?}
         */
        function (anonymous) {
            this.anonymous = anonymous;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AssigneeInfoComponent.prototype, "setAnonymousText", {
        set: /**
         * @param {?} anonymousText
         * @return {?}
         */
        function (anonymousText) {
            this.anonymousText = anonymousText;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AssigneeInfoComponent.prototype, "selectedAssignees", {
        /**
         * 已选中的人（帮助不可用）
         */
        set: /**
         * 已选中的人（帮助不可用）
         * @param {?} selectedAssignees
         * @return {?}
         */
        function (selectedAssignees) {
            !this._assigneeInfo && (this.placeholder = null);
            this._selectedAssignees = selectedAssignees;
            selectedAssignees.length && (this.placeholder = this.anonymous ? this.anonymousText : selectedAssignees.map(function (user) { return user.name; }).join());
        },
        enumerable: true,
        configurable: true
    });
    /**
     * 选择参与者
     */
    /**
     * 选择参与者
     * @return {?}
     */
    AssigneeInfoComponent.prototype.clickAssignUser = /**
     * 选择参与者
     * @return {?}
     */
    function () {
        if (this.extendUserHelp && !this.openFromIframe) {
            this.showExtendUserHelp();
        }
        else {
            this.showSysUserHelp();
        }
    };
    /**
     * 加载扩展帮助
     */
    /**
     * 加载扩展帮助
     * @private
     * @return {?}
     */
    AssigneeInfoComponent.prototype.showExtendUserHelp = /**
     * 加载扩展帮助
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        System.import(this.extendUserHelpUrl).then(function (moduleFactories) {
            /** @type {?} */
            var moduleFactory = Object.values(moduleFactories)[0];
            /** @type {?} */
            var moduleRef = moduleFactory.create(_this.injector);
            /** @type {?} */
            var context = {
                singleSelect: _this.singleSelect,
                allowGlobalAssign: _this.allowGlobalAssign,
                assigneeUsers: _this._assigneeInfo && _this._assigneeInfo.assigneeUsers && _this._assigneeInfo.assigneeUsers.length ? _this._assigneeInfo.assigneeUsers : [],
                filter: _this.filter,
                selectedUsers: _this.assignees,
                wfContext: _this.wfContext
            };
            moduleRef.instance.showHelp(context).subscribe(function (re) {
                /** @type {?} */
                var userList = re.userList;
                if (userList && userList.length) {
                    _this.assignees = userList.map(function (user) { return { id: user.id, name: user.name }; });
                    _this.assignUserNgModule = _this.assignees.map(function (user) { return user.name; }).join();
                }
                else {
                    _this.assignees = [];
                    _this.assignUserNgModule = '';
                }
                _this.afterConfirm.emit(_this.assignees);
                _this.cd.detectChanges();
            }, function (error) {
                console.error(error);
            });
        }, function (error) {
            console.error(error);
        });
    };
    /**
     * @return {?}
     */
    AssigneeInfoComponent.prototype.showSysUserHelp = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this._assigneeInfo && this._assigneeInfo.assigneeUsers && this._assigneeInfo.assigneeUsers.length) {
            this.getAssignUsersByIds();
            this.myUserHelp.show();
            setTimeout(function () {
                _this.cd.detectChanges(); //重新预解析后
                _this.openFromIframe && _this.openMyUserHelpOutIframe();
            }, 100);
        }
        else if (this.allowGlobalAssign) {
            //选中的人保持选中
            this.bindingData = { id: this.assignees.map(function (a) { return a.id; }).join(), name: this.assignees.map(function (a) { return a.name; }).join() };
            this.sysUserHelp.showHelp();
            setTimeout(function () {
                _this.cd.detectChanges(); //重新预解析后
                _this.openFromIframe && _this.beforeOpenSysUserHelpOutIframe();
            }, 100);
        }
    };
    //自己的用户帮助在iframe外打开
    //自己的用户帮助在iframe外打开
    /**
     * @private
     * @return {?}
     */
    AssigneeInfoComponent.prototype.openMyUserHelpOutIframe = 
    //自己的用户帮助在iframe外打开
    /**
     * @private
     * @return {?}
     */
    function () {
        /** @type {?} */
        var myUserHelpDialog = (/** @type {?} */ (this.myUserHelpEle.nativeElement));
        top.document.body.append(myUserHelpDialog); //弹到顶级window上，不用加载farris样式
        //弹到顶级window上，不用加载farris样式
        //把帮助的黑色遮罩去掉
        /** @type {?} */
        var backdrop = window.document.querySelector("body > bs-modal-backdrop");
        backdrop.remove();
        /** @type {?} */
        var secondDiv = (/** @type {?} */ (((/** @type {?} */ (myUserHelpDialog.firstChild))).firstChild));
        secondDiv.style.width = '850px';
        secondDiv.style.height = '520px';
        secondDiv.style.marginLeft = '-425px';
        secondDiv.style.marginTop = '-260px';
    };
    /**
     * @private
     * @return {?}
     */
    AssigneeInfoComponent.prototype.beforeOpenSysUserHelpOutIframe = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        this.sysUserHelp.farrisLookUp.dialog.reSize({ width: 850, height: 520 });
        /** @type {?} */
        var sysUserHelpDialog = (/** @type {?} */ (this.sysUserHelp.farrisLookUp.dialog.el.nativeElement));
        sysUserHelpDialog.parentElement.removeChild(sysUserHelpDialog);
        this.sysUserHelp.farrisLookUp.draggable = false;
        this.sysUserHelp.farrisLookUp.resizable = false;
        this.sysUserHelp.farrisLookUp.showMaxButton = false;
        this.sysUserHelp.farrisLookUp.dialogOpened.subscribe(function () {
            setTimeout(function () {
                _this.openSysUserHelpOutIframe();
            }, 200);
        });
    };
    //系统用户帮助在iframe外打开
    //系统用户帮助在iframe外打开
    /**
     * @private
     * @return {?}
     */
    AssigneeInfoComponent.prototype.openSysUserHelpOutIframe = 
    //系统用户帮助在iframe外打开
    /**
     * @private
     * @return {?}
     */
    function () {
        /** @type {?} */
        var sysUserHelpDialog = (/** @type {?} */ (this.sysUserHelp.farrisLookUp.dialog.el.nativeElement));
        this.sysUserHelp.farrisLookUp.dialog.reSize({ width: 850, height: 520 });
        top.document.body.append(sysUserHelpDialog);
    };
    //系统用户帮助选人
    //系统用户帮助选人
    /**
     * @param {?} data
     * @return {?}
     */
    AssigneeInfoComponent.prototype.afterUsersSelect = 
    //系统用户帮助选人
    /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        if (data) {
            data = this.singleSelect ? [data] : data;
            this.assignees = data.map(function (user) { return { id: user.id, name: user.name }; });
            this.assignUserNgModule = data.map(function (user) { return user.name; }).join();
            this.afterConfirm.emit(this.assignees);
            this.cd.detectChanges();
        }
    };
    //根据assigneeInfo.assigneeIds获取指派人code、name等信息
    //根据assigneeInfo.assigneeIds获取指派人code、name等信息
    /**
     * @return {?}
     */
    AssigneeInfoComponent.prototype.getAssignUsersByIds = 
    //根据assigneeInfo.assigneeIds获取指派人code、name等信息
    /**
     * @return {?}
     */
    function () {
        this.originAssignUserList = this._assigneeInfo.assigneeUsers.map(function (user) {
            return {
                ID: user.id,
                Name: user.name,
                Code: user.code,
                OrgId: user.orgId,
                OrgName: user.orgNamePath
            };
        }),
            this.searchAssignUserList = this.originAssignUserList;
    };
    //非全员指派搜索
    //非全员指派搜索
    /**
     * @param {?} event
     * @return {?}
     */
    AssigneeInfoComponent.prototype.myUserHelpSearch = 
    //非全员指派搜索
    /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (event.value) {
            /** @type {?} */
            var value_1 = event.value;
            this.searchAssignUserList = this.originAssignUserList.filter(function (user) {
                return (user.Name) && user.Name.includes(value_1) ||
                    (user.Code) && user.Code.includes(value_1);
            });
        }
        else {
            this.getAssignUsersByIds();
        }
    };
    //非全员指派选人
    //非全员指派选人
    /**
     * @return {?}
     */
    AssigneeInfoComponent.prototype.myUserHelpAfterSelect = 
    //非全员指派选人
    /**
     * @return {?}
     */
    function () {
        if (this.myUserHelpTable.selections === undefined) {
            this.notify.warning(this.i18nService.getValue('static.assignee.noAssignee'));
            return;
        }
        /** @type {?} */
        var selectedUsers = this.singleSelect ? [this.myUserHelpTable.selections] : this.myUserHelpTable.selections;
        this.assignUserNgModule = selectedUsers.map(function (user) { return user.Name; }).join();
        this.assignees = selectedUsers.map(function (user) { return { id: user.ID, name: user.Name }; });
        this.afterConfirm.emit(this.assignees);
        this.cd.detectChanges();
        this.myUserHelp.close();
    };
    //非全员指派点击取消后事件
    //非全员指派点击取消后事件
    /**
     * @return {?}
     */
    AssigneeInfoComponent.prototype.myUserHelpCancel = 
    //非全员指派点击取消后事件
    /**
     * @return {?}
     */
    function () {
        this.myUserHelp.close();
    };
    //清除
    //清除
    /**
     * @return {?}
     */
    AssigneeInfoComponent.prototype.assignUserClear = 
    //清除
    /**
     * @return {?}
     */
    function () {
        this.assignees = [];
        this.assignUserNgModule = null;
        this.afterConfirm.emit([]);
        this.bindingData = {};
    };
    AssigneeInfoComponent.decorators = [
        { type: Component, args: [{
                    selector: 'lib-assignee-info',
                    template: "<!-- \u6307\u5B9A\u53C2\u4E0E\u8005\uFF08\u6307\u6D3E\uFF09 -->\r\n<div\r\n  *ngIf=\"\r\n    ifShowBlank ||\r\n    _assigneeInfo || (_selectedAssignees && _selectedAssignees.length)\r\n  \"\r\n  class=\"wf-task-handler-help-div\"\r\n>\r\n  <div class=\"wf-task-handler-help-text\" title=\"{{ activityName }}\">\r\n    {{ activityName ? activityName : (\"task.assignText\" | translate) }}\r\n  </div>\r\n  <div\r\n    style=\"flex: 1\"\r\n    title=\"{{ assignUserNgModule ? assignUserNgModule : placeholder }}\"\r\n  >\r\n    <input-group\r\n      [editable]=\"false\"\r\n      [disabled]=\"disabled\"\r\n      [customCls]=\"'custom-cls'\"\r\n      [groupText]=\"groupIcon\"\r\n      [placeholder]=\"placeholder\"\r\n      [forcePlaceholder]=\"true\"\r\n      [(value)]=\"assignUserNgModule\"\r\n      (clickHandle)=\"clickAssignUser()\"\r\n      (clear)=\"assignUserClear()\"\r\n    ></input-group>\r\n  </div>\r\n</div>\r\n\r\n<!-- \u7CFB\u7EDF\u5E2E\u52A9\uFF0C\u7528\u4E8E\u5168\u5458\u6307\u6D3E -->\r\n<sys-farris-grid-lookup\r\n  #sysUserHelp\r\n  style=\"display: none\"\r\n  [singleSelect]=\"singleSelect\"\r\n  [bindingData]=\"bindingData\"\r\n  [pagination]=\"true\"\r\n  [pageSize]=\"20\"\r\n  [title]=\"'static.selectUser' | translate\"\r\n  [sourceType]=\"'user'\"\r\n  [filter]=\"filter\"\r\n  [showUserUnitInfo]=\"true\"\r\n  [typeMode]=\"1\"\r\n  (afterConfirm)=\"afterUsersSelect($event)\"\r\n>\r\n</sys-farris-grid-lookup>\r\n\r\n<!-- \u6307\u6D3E\u81EA\u5DF1\u753B\u7684\u5E2E\u52A9 -->\r\n<farris-dialog\r\n  #allUserDialog\r\n  [buttons]=\"buttonRef\"\r\n  [width]=\"850\"\r\n  [height]=\"520\"\r\n  [title]=\"'static.selectUser' | translate\"\r\n>\r\n  <div\r\n    class=\"d-flex flex-column my-data-grid h-100\"\r\n    style=\"padding: 0 14px; overflow: hidden\"\r\n  >\r\n    <div class=\"flex-auto\" style=\"position: relative\">\r\n      <farris-datatable\r\n        #allUserTable\r\n        [columns]=\"columns\"\r\n        [data]=\"searchAssignUserList\"\r\n        [showFilterBar]=\"true\"\r\n        [singleSelect]=\"singleSelect\"\r\n        [idField]=\"'ID'\"\r\n        [remote]=\"'server'\"\r\n        (search)=\"myUserHelpSearch($event)\"\r\n        [pagination]=\"false\"\r\n        [showPageList]=\"false\"\r\n      ></farris-datatable>\r\n    </div>\r\n  </div>\r\n</farris-dialog>\r\n<ng-template #buttonRef>\r\n  <button class=\"btn btn-secondary\" (click)=\"myUserHelpCancel()\">\r\n    {{ \"static.footCancel\" | translate }}\r\n  </button>\r\n  <button class=\"btn btn-primary\" (click)=\"myUserHelpAfterSelect()\">\r\n    {{ \"static.footOk\" | translate }}\r\n  </button>\r\n</ng-template>\r\n",
                    styles: [".wf-task-handler-help-div{font-size:13px;color:#2d2f33;margin-bottom:20px}.wf-task-handler-help-div-submit{margin-bottom:20px}.wf-task-handler-help-text{padding-bottom:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]
                }] }
    ];
    /** @nocollapse */
    AssigneeInfoComponent.ctorParameters = function () { return [
        { type: I18nService },
        { type: NotifyService },
        { type: ChangeDetectorRef },
        { type: TaskService },
        { type: Injector }
    ]; };
    AssigneeInfoComponent.propDecorators = {
        disabled: [{ type: Input }],
        placeholder: [{ type: Input }],
        singleSelect: [{ type: Input }],
        filter: [{ type: Input }],
        ifShowBlank: [{ type: Input }],
        openFromIframe: [{ type: Input }],
        activityName: [{ type: Input }],
        allowGlobalAssign: [{ type: Input }],
        wfContext: [{ type: Input }],
        myUserHelp: [{ type: ViewChild, args: ['allUserDialog',] }],
        buttons: [{ type: ViewChild, args: ['taskExecuteButtons',] }],
        myUserHelpTable: [{ type: ViewChild, args: ['allUserTable',] }],
        dataTableEle: [{ type: ViewChild, args: ['allUserTable', { read: ElementRef },] }],
        sysUserHelp: [{ type: ViewChild, args: [SysFarrisLookupComponent,] }],
        sysUserHelpEle: [{ type: ViewChild, args: ['sysUserHelp', { read: ElementRef },] }],
        myUserHelpEle: [{ type: ViewChild, args: ['allUserDialog', { read: ElementRef },] }],
        afterConfirm: [{ type: Output }],
        assigneeInfo: [{ type: Input }],
        setAnonymous: [{ type: Input }],
        setAnonymousText: [{ type: Input }],
        selectedAssignees: [{ type: Input }]
    };
    return AssigneeInfoComponent;
}());
export { AssigneeInfoComponent };
if (false) {
    /** @type {?} */
    AssigneeInfoComponent.prototype.bindingData;
    /** @type {?} */
    AssigneeInfoComponent.prototype.myHelpBindingData;
    /** @type {?} */
    AssigneeInfoComponent.prototype.assignUserNgModule;
    /** @type {?} */
    AssigneeInfoComponent.prototype._assigneeInfo;
    /** @type {?} */
    AssigneeInfoComponent.prototype._selectedAssignees;
    /** @type {?} */
    AssigneeInfoComponent.prototype.assignees;
    /** @type {?} */
    AssigneeInfoComponent.prototype.searchAssignUserList;
    /** @type {?} */
    AssigneeInfoComponent.prototype.anonymous;
    /** @type {?} */
    AssigneeInfoComponent.prototype.anonymousText;
    /** @type {?} */
    AssigneeInfoComponent.prototype.disabled;
    /** @type {?} */
    AssigneeInfoComponent.prototype.placeholder;
    /** @type {?} */
    AssigneeInfoComponent.prototype.singleSelect;
    /** @type {?} */
    AssigneeInfoComponent.prototype.filter;
    /** @type {?} */
    AssigneeInfoComponent.prototype.ifShowBlank;
    /** @type {?} */
    AssigneeInfoComponent.prototype.openFromIframe;
    /** @type {?} */
    AssigneeInfoComponent.prototype.activityName;
    /** @type {?} */
    AssigneeInfoComponent.prototype.allowGlobalAssign;
    /** @type {?} */
    AssigneeInfoComponent.prototype.wfContext;
    /** @type {?} */
    AssigneeInfoComponent.prototype.myUserHelp;
    /** @type {?} */
    AssigneeInfoComponent.prototype.buttons;
    /** @type {?} */
    AssigneeInfoComponent.prototype.myUserHelpTable;
    /** @type {?} */
    AssigneeInfoComponent.prototype.dataTableEle;
    /** @type {?} */
    AssigneeInfoComponent.prototype.sysUserHelp;
    /** @type {?} */
    AssigneeInfoComponent.prototype.sysUserHelpEle;
    /** @type {?} */
    AssigneeInfoComponent.prototype.myUserHelpEle;
    /** @type {?} */
    AssigneeInfoComponent.prototype.afterConfirm;
    /** @type {?} */
    AssigneeInfoComponent.prototype.groupIcon;
    /** @type {?} */
    AssigneeInfoComponent.prototype.extendUserHelp;
    /** @type {?} */
    AssigneeInfoComponent.prototype.extendUserHelpUrl;
    /** @type {?} */
    AssigneeInfoComponent.prototype.columns;
    /** @type {?} */
    AssigneeInfoComponent.prototype.originAssignUserList;
    /**
     * @type {?}
     * @private
     */
    AssigneeInfoComponent.prototype.i18nService;
    /**
     * @type {?}
     * @private
     */
    AssigneeInfoComponent.prototype.notify;
    /**
     * @type {?}
     * @private
     */
    AssigneeInfoComponent.prototype.cd;
    /**
     * @type {?}
     * @private
     */
    AssigneeInfoComponent.prototype.taskService;
    /**
     * @type {?}
     * @private
     */
    AssigneeInfoComponent.prototype.injector;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzaWduZWUtaW5mby5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZ3NwLXdmL3dmLXRhc2staGFuZGxlci8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL2Fzc2lnbmVlLWluZm8vYXNzaWduZWUtaW5mby5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsS0FBSyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLFlBQVksRUFBRSxVQUFVLEVBQWlCLGlCQUFpQixFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMvSixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDOUQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGlDQUFpQyxDQUFDO0FBQzlELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNwRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUMxRCxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUM5RCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFHbEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ3pELE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUluRDtJQXVERSwrQkFDVSxXQUF3QixFQUN4QixNQUFxQixFQUNyQixFQUFxQixFQUNyQixXQUF3QixFQUN4QixRQUFrQjtRQUw1QixpQkFnQkM7UUFmUyxnQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQUN4QixXQUFNLEdBQU4sTUFBTSxDQUFlO1FBQ3JCLE9BQUUsR0FBRixFQUFFLENBQW1CO1FBQ3JCLGdCQUFXLEdBQVgsV0FBVyxDQUFhO1FBQ3hCLGFBQVEsR0FBUixRQUFRLENBQVU7UUFyRDVCLGdCQUFXLEdBQW1DLEVB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NkI7Ozs7O0lBQzdCLG1DQUE2Qjs7Ozs7SUFDN0IsNENBQWdDOzs7OztJQUNoQyx5Q0FBMEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIE91dHB1dCwgVmlld0NoaWxkLCBUZW1wbGF0ZVJlZiwgRXZlbnRFbWl0dGVyLCBFbGVtZW50UmVmLCBBZnRlclZpZXdJbml0LCBDaGFuZ2VEZXRlY3RvclJlZiwgSW5qZWN0b3IgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQXNzaWduZWVJbmZvIH0gZnJvbSAnLi4vLi4vZW50aXR5L2NvbXBsZXRlLXJlc3BvbnNlJztcclxuaW1wb3J0IHsgSTE4blNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlL2kxOG4vaTE4bi5zZXJ2aWNlJztcclxuaW1wb3J0IHsgRGlhbG9nQ29tcG9uZW50IH0gZnJvbSAnQGZhcnJpcy91aS1kaWFsb2cnO1xyXG5pbXBvcnQgeyBEYXRhVGFibGVDb21wb25lbnQgfSBmcm9tICdAZmFycmlzL3VpLWRhdGF0YWJsZSc7XHJcbmltcG9ydCB7IFN5c0ZhcnJpc0xvb2t1cENvbXBvbmVudCB9IGZyb20gJ0Bnc3Atc3lzL3N5c21nci11aSc7XHJcbmltcG9ydCB7IE5vdGlmeVNlcnZpY2UgfSBmcm9tICdAZmFycmlzL3VpLW5vdGlmeSc7XHJcbmltcG9ydCB7IFVzZXIgfSBmcm9tICcuLi8uLi9lbnRpdHkvdXNlcic7XHJcbmltcG9ydCB7IEFzc2lnbmVlIH0gZnJvbSAnLi4vLi4vZW50aXR5L3N0YXJ0LXByb2Nlc3MtcGF5bG9hZCc7XHJcbmltcG9ydCB7IFRhc2tTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZS90YXNrLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBXZkNvbnRleHQgfSBmcm9tICcuLi8uLi9lbnRpdHkvd2ZDb250ZXh0JztcclxuXHJcbmRlY2xhcmUgbGV0IFN5c3RlbTogYW55O1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdsaWItYXNzaWduZWUtaW5mbycsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL2Fzc2lnbmVlLWluZm8uY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuLi90YXNrLWV4ZWN1dGUvdGFzay1leGVjdXRlLmNvbXBvbmVudC5jc3MnXSxcclxufSlcclxuZXhwb3J0IGNsYXNzIEFzc2lnbmVlSW5mb0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCB7XHJcblxyXG4gIGJpbmRpbmdEYXRhOiB7IGlkPzogc3RyaW5nLCBuYW1lPzogc3RyaW5nIH0gPSB7fTsvL+ezu+e7n+W4ruWKqeWkmumAieaXtueUqOWIsFxyXG4gIG15SGVscEJpbmRpbmdEYXRhOiB7IGlkPzogc3RyaW5nLCBuYW1lPzogc3RyaW5nIH0gPSB7fTsvL+iHquW3seeahOW4ruWKqeWkmumAieaXtueUqOWIsFxyXG4gIGFzc2lnblVzZXJOZ01vZHVsZTogc3RyaW5nO1xyXG4gIF9hc3NpZ25lZUluZm86IEFzc2lnbmVlSW5mbztcclxuICBfc2VsZWN0ZWRBc3NpZ25lZXM6IFVzZXJbXTsvL+W3sue7j+mAieS4reeahOaMh+a0vuS6ulxyXG4gIGFzc2lnbmVlczogQXNzaWduZWVbXSA9IFtdOy8v6L+U5Zue6YCJ5Lit5Lq655qESUTmlbDnu4RcclxuICBzZWFyY2hBc3NpZ25Vc2VyTGlzdCA9IFtdOy8v6Z2e5YWo5ZGY5oyH5rS+55qE55So5oi35pWw5o2u77yM5pCc57Si55SoXHJcbiAgYW5vbnltb3VzID0gZmFsc2U7IC8vIOaYr+WQpuWMv+WQjVxyXG4gIGFub255bW91c1RleHQgPSAnJzsgLy8g5Yy/5ZCN5pi+56S65paH5pysXHJcblxyXG4gIEBJbnB1dCgpIGRpc2FibGVkOiBib29sZWFuID0gZmFsc2U7Ly/lip7nkIbkurrlkZjovpPlhaXmoYbmmK/lkKbnpoHnlKhcclxuICBASW5wdXQoKSBwbGFjZWhvbGRlcjogc3RyaW5nO1xyXG4gIEBJbnB1dCgpIHNpbmdsZVNlbGVjdDogYm9vbGVhbjtcclxuICBASW5wdXQoKSBmaWx0ZXIgPSB7IG5vdEdldEN1cnJlbnRVc2VyOiBmYWxzZSwgbm90R2V0U3RvcFVzZXI6IHRydWUsIG9yZGVyRmllbGQ6IFwib3JkZXJcIiwgd2l0aEFsbE9yZzogdHJ1ZSwgb3JnSWQ6ICcnIH1cclxuICBASW5wdXQoKSBpZlNob3dCbGFuazogYm9vbGVhbiA9IHRydWU7Ly/lip7nkIbkurrkuLrnqbrml7bvvIzmmK/lkKbmmL7npLrpgInkurrmoYZcclxuICBASW5wdXQoKSBvcGVuRnJvbUlmcmFtZTogYm9vbGVhbiA9IGZhbHNlOy8v5piv5ZCm5LuOaWZyYW1l5omT5byA77yM5bqU55SoSURQ5o+Q5Lqk5a6h5om56ZuG5oiQXHJcbiAgQElucHV0KCkgYWN0aXZpdHlOYW1lOiBzdHJpbmc7Ly/oioLngrnlkI3np7BcclxuICBASW5wdXQoKSBhbGxvd0dsb2JhbEFzc2lnbjogYm9vbGVhbjsvL+aYr+WQpuWFqOWRmOaMh+a0vlxyXG4gIEBJbnB1dCgpIHdmQ29udGV4dDogV2ZDb250ZXh0Oy8v5bel5L2c5rWB5LiK5LiL5paHXHJcblxyXG4gIEBWaWV3Q2hpbGQoJ2FsbFVzZXJEaWFsb2cnKSBteVVzZXJIZWxwOiBEaWFsb2dDb21wb25lbnQ7XHJcbiAgQFZpZXdDaGlsZCgndGFza0V4ZWN1dGVCdXR0b25zJykgYnV0dG9uczogVGVtcGxhdGVSZWY8YW55PjsvL+ehruiupOWPlua2iOaMiemSrlxyXG4gIEBWaWV3Q2hpbGQoJ2FsbFVzZXJUYWJsZScpIG15VXNlckhlbHBUYWJsZTogRGF0YVRhYmxlQ29tcG9uZW50O1xyXG4gIEBWaWV3Q2hpbGQoJ2FsbFVzZXJUYWJsZScsIHsgcmVhZDogRWxlbWVudFJlZiB9KSBkYXRhVGFibGVFbGU6IEVsZW1lbnRSZWY7Ly/kuLpkYXRhdGFibGXlop7liqDpq5jluqZcclxuXHJcbiAgQFZpZXdDaGlsZChTeXNGYXJyaXNMb29rdXBDb21wb25lbnQpIHN5c1VzZXJIZWxwOiBTeXNGYXJyaXNMb29rdXBDb21wb25lbnQ7Ly/ns7vnu5/nlKjmiLfluK7liqlcclxuICBAVmlld0NoaWxkKCdzeXNVc2VySGVscCcsIHsgcmVhZDogRWxlbWVudFJlZiB9KSBzeXNVc2VySGVscEVsZTogRWxlbWVudFJlZjsgLy/ns7vnu5/nlKjmiLfluK7liqlET03lhYPntKBcclxuICBAVmlld0NoaWxkKCdhbGxVc2VyRGlhbG9nJywgeyByZWFkOiBFbGVtZW50UmVmIH0pIG15VXNlckhlbHBFbGU6IEVsZW1lbnRSZWY7Ly/oh6rlt7HnmoTluK7liqlET03lhYPntKBcclxuXHJcbiAgQE91dHB1dCgpIGFmdGVyQ29uZmlybSA9IG5ldyBFdmVudEVtaXR0ZXI8QXNzaWduZWVbXT4oKTtcclxuICBncm91cEljb24gPSAnPGkgY2xhc3M9XCJmLWljb24gZi1pY29uLXBsdXMtY2lyY2xlXCIgc3R5bGU9XCJjb2xvcjogIzJCODdGRlwiPjwvaT4nO1xyXG4gIGV4dGVuZFVzZXJIZWxwOiBib29sZWFuID0gZmFsc2U7Ly/nlKjmiLfluK7liqnmmK/lkKbmianlsZVcclxuICBleHRlbmRVc2VySGVscFVybDogc3RyaW5nOy8v5omp5bGV5biu5Yqp55qEdXJsXHJcblxyXG4gIGNvbHVtbnMgPSBbXHJcbiAgICB7IHRpdGxlOiB0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCdzdGF0aWMuY29sdW1uTmFtZS5jb2RlJyksIGZpZWxkOiAnQ29kZScsIHdpZHRoOiA4MCB9LFxyXG4gICAgeyB0aXRsZTogdGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgnc3RhdGljLmNvbHVtbk5hbWUubmFtZScpLCBmaWVsZDogJ05hbWUnLCB3aWR0aDogOTAgfSxcclxuICAgIHsgdGl0bGU6IHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ3N0YXRpYy5jb2x1bW5OYW1lLmRlcGFydG1lbnQnKSwgZmllbGQ6ICdPcmdOYW1lJywgd2lkdGg6IDE4MCB9XHJcbiAgXTtcclxuXHJcbiAgb3JpZ2luQXNzaWduVXNlckxpc3Q6IHsvL+mdnuWFqOWRmOaMh+a0vueahOeUqOaIt+aVsOaNrlxyXG4gICAgSUQ6IHN0cmluZyxcclxuICAgIENvZGU6IHN0cmluZyxcclxuICAgIE5hbWU6IHN0cmluZyxcclxuICAgIE9yZ0lkOiBzdHJpbmcsXHJcbiAgICBPcmdOYW1lOiBzdHJpbmdcclxuICB9W107XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBpMThuU2VydmljZTogSTE4blNlcnZpY2UsXHJcbiAgICBwcml2YXRlIG5vdGlmeTogTm90aWZ5U2VydmljZSxcclxuICAgIHByaXZhdGUgY2Q6IENoYW5nZURldGVjdG9yUmVmLFxyXG4gICAgcHJpdmF0ZSB0YXNrU2VydmljZTogVGFza1NlcnZpY2UsXHJcbiAgICBwcml2YXRlIGluamVjdG9yOiBJbmplY3RvclxyXG4gICkge1xyXG4gICAgLy/mmK/lkKbkvb/nlKhmYXJyaXPnlKjmiLfluK7liqlcclxuICAgIHRoaXMudGFza1NlcnZpY2UuZ2V0V2ZVc2VySGVscENvbmZpZygpLnN1YnNjcmliZSgocmU6IGFueSkgPT4ge1xyXG4gICAgICBpZiAocmUgJiYgcmUudXNlckhlbHBDb25maWcgJiYgcmUudXNlckhlbHBDb25maWcuaXNFeHRlbmQgPT0gJ3RydWUnKSB7XHJcbiAgICAgICAgdGhpcy5leHRlbmRVc2VySGVscCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5leHRlbmRVc2VySGVscFVybCA9IHJlLnVzZXJIZWxwQ29uZmlnLnVybCArICc/dj0nICsgbmV3IERhdGUoKS5nZXRUaW1lKCkudG9TdHJpbmcoKTtcclxuICAgICAgfVxyXG4gICAgfSwgZXJyb3IgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XHJcbiAgICAvLyDkuLpkYXRhIHRhYmxl5aKe5Yqg6auY5bqmXHJcbiAgICBsZXQgZWxlID0gdGhpcy5kYXRhVGFibGVFbGUubmF0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudDtcclxuICAgIGxldCBib2R5ID0gZWxlICYmIGVsZS5xdWVyeVNlbGVjdG9yKCdkaXYuZmFycmlzLWRhdGF0YWJsZS1jb250YWluZXIgPiBkaXYgPiBkaXYuZmFycmlzLXRhYmxlLXNjb3JsbGFibGUtYm9keScpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgYm9keSAmJiAoYm9keS5zdHlsZS5oZWlnaHQgPSAnMjkwcHgnKTtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gIH1cclxuXHJcbiAgQElucHV0KClcclxuICBzZXQgYXNzaWduZWVJbmZvKGluZm86IEFzc2lnbmVlSW5mbykge1xyXG4gICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5wbGFjZWhvbGRlciA9IG51bGw7Ly/muIXnqbpcclxuICAgIHRoaXMuYXNzaWduVXNlck5nTW9kdWxlID0gbnVsbDsvL+a4heepulxyXG4gICAgdGhpcy5fYXNzaWduZWVJbmZvID0gaW5mbzsvL+WPr+S7peS8oG51bGxcclxuICAgIGlmICghdGhpcy5fYXNzaWduZWVJbmZvKSB7XHJcbiAgICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMuX2Fzc2lnbmVlSW5mby5zZWxlY3RBc3NpZ25lZSkge1xyXG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBsYWNlaG9sZGVyID0gdGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgndGFzay5zZWxlY3RQbGFjZWhvbGRlcicpOy8v6K+36YCJ5oupXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Fzc2lnbmVlSW5mby5hc3NpZ25lZVVzZXJzICYmIHRoaXMuX2Fzc2lnbmVlSW5mby5hc3NpZ25lZVVzZXJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgdGhpcy5wbGFjZWhvbGRlciA9IHRoaXMuYW5vbnltb3VzID8gdGhpcy5hbm9ueW1vdXNUZXh0IDogdGhpcy5fYXNzaWduZWVJbmZvLmFzc2lnbmVlVXNlcnMubWFwKHVzZXIgPT4gdXNlci5uYW1lKS5qb2luKCk7Ly/op6PmnpDkurrlkI1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5wbGFjZWhvbGRlciA9IHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ3Rhc2subm9Vc2VyJyk7Ly/ml6BcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zaW5nbGVTZWxlY3QgPSAhdGhpcy5fYXNzaWduZWVJbmZvLm11bHRpU2VsZWN0O1xyXG4gICAgICB0aGlzLmFsbG93R2xvYmFsQXNzaWduID0gdGhpcy5fYXNzaWduZWVJbmZvLmFsbG93R2xvYmFsQXNzaWduO1xyXG4gICAgICBpZiAodGhpcy5fYXNzaWduZWVJbmZvLm9yZ2FuaXphdGlvblNjb3BlICYmIHRoaXMuX2Fzc2lnbmVlSW5mby5vcmdhbml6YXRpb25TY29wZS5sZW5ndGgpIHtcclxuICAgICAgICBjb25zdCBvcmdMaXN0ID0gdGhpcy5fYXNzaWduZWVJbmZvLm9yZ2FuaXphdGlvblNjb3BlWzBdO1xyXG4gICAgICAgIHRoaXMuZmlsdGVyLm9yZ0lkID0gb3JnTGlzdC5pZDtcclxuICAgICAgICB0aGlzLmZpbHRlci53aXRoQWxsT3JnID0gb3JnTGlzdC5pbmNsdWRlQ2hpbGRyZW47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgc2V0IHNldEFub255bW91cyhhbm9ueW1vdXM6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuYW5vbnltb3VzID0gYW5vbnltb3VzO1xyXG4gIH1cclxuXHJcbiAgQElucHV0KClcclxuICBzZXQgc2V0QW5vbnltb3VzVGV4dChhbm9ueW1vdXNUZXh0OiBzdHJpbmcpIHtcclxuICAgIHRoaXMuYW5vbnltb3VzVGV4dCA9IGFub255bW91c1RleHQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlt7LpgInkuK3nmoTkurrvvIjluK7liqnkuI3lj6/nlKjvvIlcclxuICAgKi9cclxuICBASW5wdXQoKVxyXG4gIHNldCBzZWxlY3RlZEFzc2lnbmVlcyhzZWxlY3RlZEFzc2lnbmVlczogVXNlcltdKSB7XHJcbiAgICAhdGhpcy5fYXNzaWduZWVJbmZvICYmICh0aGlzLnBsYWNlaG9sZGVyID0gbnVsbCk7XHJcbiAgICB0aGlzLl9zZWxlY3RlZEFzc2lnbmVlcyA9IHNlbGVjdGVkQXNzaWduZWVzO1xyXG4gICAgc2VsZWN0ZWRBc3NpZ25lZXMubGVuZ3RoICYmICh0aGlzLnBsYWNlaG9sZGVyID0gdGhpcy5hbm9ueW1vdXMgPyB0aGlzLmFub255bW91c1RleHQgOiBzZWxlY3RlZEFzc2lnbmVlcy5tYXAodXNlciA9PiB1c2VyLm5hbWUpLmpvaW4oKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDpgInmi6nlj4LkuI7ogIVcclxuICAgKi9cclxuICBjbGlja0Fzc2lnblVzZXIoKSB7XHJcbiAgICBpZiAodGhpcy5leHRlbmRVc2VySGVscCAmJiAhdGhpcy5vcGVuRnJvbUlmcmFtZSkge1xyXG4gICAgICB0aGlzLnNob3dFeHRlbmRVc2VySGVscCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zaG93U3lzVXNlckhlbHAoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICAvKipcclxuICAgKiDliqDovb3mianlsZXluK7liqlcclxuICAgKi9cclxuICBwcml2YXRlIHNob3dFeHRlbmRVc2VySGVscCgpIHtcclxuICAgIFN5c3RlbS5pbXBvcnQodGhpcy5leHRlbmRVc2VySGVscFVybCkudGhlbigobW9kdWxlRmFjdG9yaWVzOiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgbW9kdWxlRmFjdG9yeTogYW55ID0gT2JqZWN0LnZhbHVlcyhtb2R1bGVGYWN0b3JpZXMpWzBdO1xyXG4gICAgICBjb25zdCBtb2R1bGVSZWYgPSBtb2R1bGVGYWN0b3J5LmNyZWF0ZSh0aGlzLmluamVjdG9yKTtcclxuICAgICAgbGV0IGNvbnRleHQgPSB7XHJcbiAgICAgICAgc2luZ2xlU2VsZWN0OiB0aGlzLnNpbmdsZVNlbGVjdCxcclxuICAgICAgICBhbGxvd0dsb2JhbEFzc2lnbjogdGhpcy5hbGxvd0dsb2JhbEFzc2lnbixcclxuICAgICAgICBhc3NpZ25lZVVzZXJzOiB0aGlzLl9hc3NpZ25lZUluZm8gJiYgdGhpcy5fYXNzaWduZWVJbmZvLmFzc2lnbmVlVXNlcnMgJiYgdGhpcy5fYXNzaWduZWVJbmZvLmFzc2lnbmVlVXNlcnMubGVuZ3RoID8gdGhpcy5fYXNzaWduZWVJbmZvLmFzc2lnbmVlVXNlcnMgOiBbXSxcclxuICAgICAgICBmaWx0ZXI6IHRoaXMuZmlsdGVyLFxyXG4gICAgICAgIHNlbGVjdGVkVXNlcnM6IHRoaXMuYXNzaWduZWVzLFxyXG4gICAgICAgIHdmQ29udGV4dDogdGhpcy53ZkNvbnRleHRcclxuICAgICAgfVxyXG4gICAgICBtb2R1bGVSZWYuaW5zdGFuY2Uuc2hvd0hlbHAoY29udGV4dCkuc3Vic2NyaWJlKHJlID0+IHtcclxuICAgICAgICBsZXQgdXNlckxpc3QgPSByZS51c2VyTGlzdDtcclxuICAgICAgICBpZiAodXNlckxpc3QgJiYgdXNlckxpc3QubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0aGlzLmFzc2lnbmVlcyA9IHVzZXJMaXN0Lm1hcCh1c2VyID0+IHsgcmV0dXJuIHsgaWQ6IHVzZXIuaWQsIG5hbWU6IHVzZXIubmFtZSB9IH0pO1xyXG4gICAgICAgICAgdGhpcy5hc3NpZ25Vc2VyTmdNb2R1bGUgPSB0aGlzLmFzc2lnbmVlcy5tYXAodXNlciA9PiB1c2VyLm5hbWUpLmpvaW4oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5hc3NpZ25lZXMgPSBbXTtcclxuICAgICAgICAgIHRoaXMuYXNzaWduVXNlck5nTW9kdWxlID0gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWZ0ZXJDb25maXJtLmVtaXQodGhpcy5hc3NpZ25lZXMpO1xyXG4gICAgICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICB9LCBlcnJvciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSwgZXJyb3IgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2hvd1N5c1VzZXJIZWxwKCkge1xyXG4gICAgaWYgKHRoaXMuX2Fzc2lnbmVlSW5mbyAmJiB0aGlzLl9hc3NpZ25lZUluZm8uYXNzaWduZWVVc2VycyAmJiB0aGlzLl9hc3NpZ25lZUluZm8uYXNzaWduZWVVc2Vycy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5nZXRBc3NpZ25Vc2Vyc0J5SWRzKCk7XHJcbiAgICAgIHRoaXMubXlVc2VySGVscC5zaG93KCk7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpOy8v6YeN5paw6aKE6Kej5p6Q5ZCOXHJcbiAgICAgICAgdGhpcy5vcGVuRnJvbUlmcmFtZSAmJiB0aGlzLm9wZW5NeVVzZXJIZWxwT3V0SWZyYW1lKCk7XHJcbiAgICAgIH0sIDEwMCk7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuYWxsb3dHbG9iYWxBc3NpZ24pIHtcclxuICAgICAgLy/pgInkuK3nmoTkurrkv53mjIHpgInkuK1cclxuICAgICAgdGhpcy5iaW5kaW5nRGF0YSA9IHsgaWQ6IHRoaXMuYXNzaWduZWVzLm1hcChhID0+IGEuaWQpLmpvaW4oKSwgbmFtZTogdGhpcy5hc3NpZ25lZXMubWFwKGEgPT4gYS5uYW1lKS5qb2luKCkgfTtcclxuICAgICAgdGhpcy5zeXNVc2VySGVscC5zaG93SGVscCgpO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTsvL+mHjeaWsOmihOino+aekOWQjlxyXG4gICAgICAgIHRoaXMub3BlbkZyb21JZnJhbWUgJiYgdGhpcy5iZWZvcmVPcGVuU3lzVXNlckhlbHBPdXRJZnJhbWUoKTtcclxuICAgICAgfSwgMTAwKTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICAvL+iHquW3seeahOeUqOaIt+W4ruWKqeWcqGlmcmFtZeWkluaJk+W8gFxyXG4gIHByaXZhdGUgb3Blbk15VXNlckhlbHBPdXRJZnJhbWUoKSB7XHJcbiAgICB2YXIgbXlVc2VySGVscERpYWxvZyA9IHRoaXMubXlVc2VySGVscEVsZS5uYXRpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgdG9wLmRvY3VtZW50LmJvZHkuYXBwZW5kKG15VXNlckhlbHBEaWFsb2cpOy8v5by55Yiw6aG257qnd2luZG935LiK77yM5LiN55So5Yqg6L29ZmFycmlz5qC35byPXHJcblxyXG4gICAgLy/miorluK7liqnnmoTpu5HoibLpga7nvanljrvmjolcclxuICAgIHZhciBiYWNrZHJvcCA9IHdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keSA+IGJzLW1vZGFsLWJhY2tkcm9wXCIpO1xyXG4gICAgYmFja2Ryb3AucmVtb3ZlKCk7XHJcblxyXG4gICAgdmFyIHNlY29uZERpdiA9IChteVVzZXJIZWxwRGlhbG9nLmZpcnN0Q2hpbGQgYXMgSFRNTEVsZW1lbnQpLmZpcnN0Q2hpbGQgYXMgSFRNTEVsZW1lbnQ7Ly9mYXJyaXMtZGlhbG9n5LiL55qE56ys5LqM57qnZGl2XHJcbiAgICBzZWNvbmREaXYuc3R5bGUud2lkdGggPSAnODUwcHgnO1xyXG4gICAgc2Vjb25kRGl2LnN0eWxlLmhlaWdodCA9ICc1MjBweCc7XHJcbiAgICBzZWNvbmREaXYuc3R5bGUubWFyZ2luTGVmdCA9ICctNDI1cHgnO1xyXG4gICAgc2Vjb25kRGl2LnN0eWxlLm1hcmdpblRvcCA9ICctMjYwcHgnO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBiZWZvcmVPcGVuU3lzVXNlckhlbHBPdXRJZnJhbWUoKSB7XHJcbiAgICB0aGlzLnN5c1VzZXJIZWxwLmZhcnJpc0xvb2tVcC5kaWFsb2cucmVTaXplKHsgd2lkdGg6IDg1MCwgaGVpZ2h0OiA1MjAgfSk7XHJcbiAgICBjb25zdCBzeXNVc2VySGVscERpYWxvZyA9IHRoaXMuc3lzVXNlckhlbHAuZmFycmlzTG9va1VwLmRpYWxvZy5lbC5uYXRpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgc3lzVXNlckhlbHBEaWFsb2cucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChzeXNVc2VySGVscERpYWxvZyk7XHJcbiAgICB0aGlzLnN5c1VzZXJIZWxwLmZhcnJpc0xvb2tVcC5kcmFnZ2FibGUgPSBmYWxzZTtcclxuICAgIHRoaXMuc3lzVXNlckhlbHAuZmFycmlzTG9va1VwLnJlc2l6YWJsZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5zeXNVc2VySGVscC5mYXJyaXNMb29rVXAuc2hvd01heEJ1dHRvbiA9IGZhbHNlO1xyXG4gICAgdGhpcy5zeXNVc2VySGVscC5mYXJyaXNMb29rVXAuZGlhbG9nT3BlbmVkLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gey8v5ZCm5YiZ5LiL6Z2i55qEcXVlcnlTZWxlY3RvcuS8muaJvuS4jeWIsFxyXG4gICAgICAgIHRoaXMub3BlblN5c1VzZXJIZWxwT3V0SWZyYW1lKCk7XHJcbiAgICAgIH0sIDIwMClcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy/ns7vnu5/nlKjmiLfluK7liqnlnKhpZnJhbWXlpJbmiZPlvIBcclxuICBwcml2YXRlIG9wZW5TeXNVc2VySGVscE91dElmcmFtZSgpIHtcclxuICAgIHZhciBzeXNVc2VySGVscERpYWxvZyA9IHRoaXMuc3lzVXNlckhlbHAuZmFycmlzTG9va1VwLmRpYWxvZy5lbC5uYXRpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgdGhpcy5zeXNVc2VySGVscC5mYXJyaXNMb29rVXAuZGlhbG9nLnJlU2l6ZSh7IHdpZHRoOiA4NTAsIGhlaWdodDogNTIwIH0pO1xyXG4gICAgdG9wLmRvY3VtZW50LmJvZHkuYXBwZW5kKHN5c1VzZXJIZWxwRGlhbG9nKTtcclxuICB9XHJcblxyXG4gIC8v57O757uf55So5oi35biu5Yqp6YCJ5Lq6XHJcbiAgYWZ0ZXJVc2Vyc1NlbGVjdChkYXRhOiBhbnkpIHtcclxuICAgIGlmIChkYXRhKSB7XHJcbiAgICAgIGRhdGEgPSB0aGlzLnNpbmdsZVNlbGVjdCA/IFtkYXRhXSA6IGRhdGE7XHJcbiAgICAgIHRoaXMuYXNzaWduZWVzID0gZGF0YS5tYXAodXNlciA9PiB7IHJldHVybiB7IGlkOiB1c2VyLmlkLCBuYW1lOiB1c2VyLm5hbWUgfSB9KTtcclxuICAgICAgdGhpcy5hc3NpZ25Vc2VyTmdNb2R1bGUgPSBkYXRhLm1hcCh1c2VyID0+IHVzZXIubmFtZSkuam9pbigpO1xyXG4gICAgICB0aGlzLmFmdGVyQ29uZmlybS5lbWl0KHRoaXMuYXNzaWduZWVzKTtcclxuICAgICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL+agueaNrmFzc2lnbmVlSW5mby5hc3NpZ25lZUlkc+iOt+WPluaMh+a0vuS6umNvZGXjgIFuYW1l562J5L+h5oGvXHJcbiAgZ2V0QXNzaWduVXNlcnNCeUlkcygpIHtcclxuICAgIHRoaXMub3JpZ2luQXNzaWduVXNlckxpc3QgPSB0aGlzLl9hc3NpZ25lZUluZm8uYXNzaWduZWVVc2Vycy5tYXAodXNlciA9PiB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgSUQ6IHVzZXIuaWQsXHJcbiAgICAgICAgTmFtZTogdXNlci5uYW1lLFxyXG4gICAgICAgIENvZGU6IHVzZXIuY29kZSxcclxuICAgICAgICBPcmdJZDogdXNlci5vcmdJZCxcclxuICAgICAgICBPcmdOYW1lOiB1c2VyLm9yZ05hbWVQYXRoXHJcbiAgICAgIH07XHJcbiAgICB9KSxcclxuICAgICAgdGhpcy5zZWFyY2hBc3NpZ25Vc2VyTGlzdCA9IHRoaXMub3JpZ2luQXNzaWduVXNlckxpc3Q7XHJcbiAgfVxyXG5cclxuICAvL+mdnuWFqOWRmOaMh+a0vuaQnOe0olxyXG4gIG15VXNlckhlbHBTZWFyY2goZXZlbnQpIHtcclxuICAgIGlmIChldmVudC52YWx1ZSkge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IGV2ZW50LnZhbHVlO1xyXG4gICAgICB0aGlzLnNlYXJjaEFzc2lnblVzZXJMaXN0ID0gdGhpcy5vcmlnaW5Bc3NpZ25Vc2VyTGlzdC5maWx0ZXIodXNlciA9PlxyXG4gICAgICAgICh1c2VyLk5hbWUpICYmIHVzZXIuTmFtZS5pbmNsdWRlcyh2YWx1ZSkgfHxcclxuICAgICAgICAodXNlci5Db2RlKSAmJiB1c2VyLkNvZGUuaW5jbHVkZXModmFsdWUpXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmdldEFzc2lnblVzZXJzQnlJZHMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8v6Z2e5YWo5ZGY5oyH5rS+6YCJ5Lq6XHJcbiAgbXlVc2VySGVscEFmdGVyU2VsZWN0KCkge1xyXG4gICAgaWYgKHRoaXMubXlVc2VySGVscFRhYmxlLnNlbGVjdGlvbnMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aGlzLm5vdGlmeS53YXJuaW5nKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ3N0YXRpYy5hc3NpZ25lZS5ub0Fzc2lnbmVlJykpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBzZWxlY3RlZFVzZXJzID0gdGhpcy5zaW5nbGVTZWxlY3QgPyBbdGhpcy5teVVzZXJIZWxwVGFibGUuc2VsZWN0aW9uc10gOiB0aGlzLm15VXNlckhlbHBUYWJsZS5zZWxlY3Rpb25zO1xyXG4gICAgdGhpcy5hc3NpZ25Vc2VyTmdNb2R1bGUgPSBzZWxlY3RlZFVzZXJzLm1hcCh1c2VyID0+IHVzZXIuTmFtZSkuam9pbigpO1xyXG4gICAgdGhpcy5hc3NpZ25lZXMgPSBzZWxlY3RlZFVzZXJzLm1hcCh1c2VyID0+IHsgcmV0dXJuIHsgaWQ6IHVzZXIuSUQsIG5hbWU6IHVzZXIuTmFtZSB9IH0pO1xyXG4gICAgdGhpcy5hZnRlckNvbmZpcm0uZW1pdCh0aGlzLmFzc2lnbmVlcyk7XHJcbiAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcclxuICAgIHRoaXMubXlVc2VySGVscC5jbG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgLy/pnZ7lhajlkZjmjIfmtL7ngrnlh7vlj5bmtojlkI7kuovku7ZcclxuICBteVVzZXJIZWxwQ2FuY2VsKCkge1xyXG4gICAgdGhpcy5teVVzZXJIZWxwLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICAvL+a4hemZpFxyXG4gIGFzc2lnblVzZXJDbGVhcigpIHtcclxuICAgIHRoaXMuYXNzaWduZWVzID0gW107XHJcbiAgICB0aGlzLmFzc2lnblVzZXJOZ01vZHVsZSA9IG51bGw7XHJcbiAgICB0aGlzLmFmdGVyQ29uZmlybS5lbWl0KFtdKTtcclxuICAgIHRoaXMuYmluZGluZ0RhdGEgPSB7fTtcclxuICB9XHJcblxyXG59XHJcbiJdfQ==