/**
 * 绑定列表工厂相关定义
 * @author Witt<jiwt@inspur.com>
 */
import { BindingList } from './binding_list';
/**
 * BindingList工厂用于创建一个空的BindingList对象，并将当前行的属性影射到BindingList对象上。
 *
 * **示例代码**
 * ```ts
 * const deptProperties: BindingProperty[] = PropertyUtil.getProperties(DeptEntity);
 * const deptList = BindingListFactory.create(deptProperties);
 * ```
 */
class BindingListFactory {
    /**
     * 创建BindingList实例，并扩展其属性
     * @param bindingProperties 绑定属性集合
     */
    static create(bindingProperties) {
        const bindingList = new BindingList(bindingProperties);
        this.extendProperties(bindingList, bindingProperties);
        return bindingList;
    }
    /**
     * 扩展BindingList属性，将当前行上的属性映射到列表上
     * @param bindingList       要扩展的绑定列表
     * @param bindingProperties 绑定属性集合
     */
    static extendProperties(bindingList, bindingProperties) {
        bindingProperties.forEach((bindingProperty) => {
            const propertyName = bindingProperty.name;
            Object.defineProperty(bindingList, propertyName, {
                get: () => {
                    return bindingList.currentItem[propertyName];
                }
            });
        });
    }
}
export { BindingListFactory };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmluZGluZ19saXN0X2ZhY3RvcnkuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL21vYmlsZS1kZXZraXQvIiwic291cmNlcyI6WyJsaWIvYmluZGluZy1kYXRhL2JpbmRpbmdfbGlzdF9mYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7R0FHRztBQUVILE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUc3Qzs7Ozs7Ozs7R0FRRztBQUNILE1BQU0sa0JBQWtCO0lBRXRCOzs7T0FHRztJQUNILE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQW9DO1FBQ2hELE1BQU0sV0FBVyxHQUFHLElBQUksV0FBVyxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDdkQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1FBQ3RELE9BQU8sV0FBVyxDQUFDO0lBQ3JCLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFdBQXdCLEVBQUUsaUJBQW9DO1FBRXBGLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxDQUFDLGVBQWdDLEVBQUUsRUFBRTtZQUM3RCxNQUFNLFlBQVksR0FBRyxlQUFlLENBQUMsSUFBSSxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsV0FBVyxFQUFFLFlBQVksRUFBRTtnQkFDL0MsR0FBRyxFQUFFLEdBQUcsRUFBRTtvQkFDUixPQUFPLFdBQVcsQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQy9DLENBQUM7YUFDRixDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FDRjtBQUVELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOe7keWumuWIl+ihqOW3peWOguebuOWFs+WumuS5iVxyXG4gKiBAYXV0aG9yIFdpdHQ8aml3dEBpbnNwdXIuY29tPlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEJpbmRpbmdMaXN0IH0gZnJvbSAnLi9iaW5kaW5nX2xpc3QnO1xyXG5pbXBvcnQgeyBCaW5kaW5nUHJvcGVydHkgfSBmcm9tICcuL2JpbmRpbmdfcHJvcGVydHknO1xyXG5cclxuLyoqXHJcbiAqIEJpbmRpbmdMaXN05bel5Y6C55So5LqO5Yib5bu65LiA5Liq56m655qEQmluZGluZ0xpc3Tlr7nosaHvvIzlubblsIblvZPliY3ooYznmoTlsZ7mgKflvbHlsITliLBCaW5kaW5nTGlzdOWvueixoeS4iuOAglxyXG4gKlxyXG4gKiAqKuekuuS+i+S7o+eggSoqXHJcbiAqIGBgYHRzXHJcbiAqIGNvbnN0IGRlcHRQcm9wZXJ0aWVzOiBCaW5kaW5nUHJvcGVydHlbXSA9IFByb3BlcnR5VXRpbC5nZXRQcm9wZXJ0aWVzKERlcHRFbnRpdHkpO1xyXG4gKiBjb25zdCBkZXB0TGlzdCA9IEJpbmRpbmdMaXN0RmFjdG9yeS5jcmVhdGUoZGVwdFByb3BlcnRpZXMpO1xyXG4gKiBgYGBcclxuICovXHJcbmNsYXNzIEJpbmRpbmdMaXN0RmFjdG9yeSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIOWIm+W7ukJpbmRpbmdMaXN05a6e5L6L77yM5bm25omp5bGV5YW25bGe5oCnXHJcbiAgICogQHBhcmFtIGJpbmRpbmdQcm9wZXJ0aWVzIOe7keWumuWxnuaAp+mbhuWQiFxyXG4gICAqL1xyXG4gIHN0YXRpYyBjcmVhdGUoYmluZGluZ1Byb3BlcnRpZXM6IEJpbmRpbmdQcm9wZXJ0eVtdKTogQmluZGluZ0xpc3Qge1xyXG4gICAgY29uc3QgYmluZGluZ0xpc3QgPSBuZXcgQmluZGluZ0xpc3QoYmluZGluZ1Byb3BlcnRpZXMpO1xyXG4gICAgdGhpcy5leHRlbmRQcm9wZXJ0aWVzKGJpbmRpbmdMaXN0LCBiaW5kaW5nUHJvcGVydGllcyk7XHJcbiAgICByZXR1cm4gYmluZGluZ0xpc3Q7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmianlsZVCaW5kaW5nTGlzdOWxnuaAp++8jOWwhuW9k+WJjeihjOS4iueahOWxnuaAp+aYoOWwhOWIsOWIl+ihqOS4ilxyXG4gICAqIEBwYXJhbSBiaW5kaW5nTGlzdCAgICAgICDopoHmianlsZXnmoTnu5HlrprliJfooahcclxuICAgKiBAcGFyYW0gYmluZGluZ1Byb3BlcnRpZXMg57uR5a6a5bGe5oCn6ZuG5ZCIXHJcbiAgICovXHJcbiAgc3RhdGljIGV4dGVuZFByb3BlcnRpZXMoYmluZGluZ0xpc3Q6IEJpbmRpbmdMaXN0LCBiaW5kaW5nUHJvcGVydGllczogQmluZGluZ1Byb3BlcnR5W10pIHtcclxuXHJcbiAgICBiaW5kaW5nUHJvcGVydGllcy5mb3JFYWNoKChiaW5kaW5nUHJvcGVydHk6IEJpbmRpbmdQcm9wZXJ0eSkgPT4ge1xyXG4gICAgICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBiaW5kaW5nUHJvcGVydHkubmFtZTtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGJpbmRpbmdMaXN0LCBwcm9wZXJ0eU5hbWUsIHtcclxuICAgICAgICBnZXQ6ICgpID0+IHtcclxuICAgICAgICAgIHJldHVybiBiaW5kaW5nTGlzdC5jdXJyZW50SXRlbVtwcm9wZXJ0eU5hbWVdO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IEJpbmRpbmdMaXN0RmFjdG9yeSB9O1xyXG5cclxuIl19