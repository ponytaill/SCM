/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, ElementRef, Renderer2, ChangeDetectionStrategy, ChangeDetectorRef, ViewEncapsulation, ViewChild, EventEmitter, Output, NgZone } from '@angular/core';
import { fromEvent, Observable, of, BehaviorSubject, Subject } from 'rxjs';
import { takeUntil, map, scan, switchMap, takeWhile, debounceTime } from 'rxjs/operators';
import { TabService } from '../tabs.config';
import ResizeObserver from 'resize-observer-polyfill';
import { NgbDropdownMenu } from '../dropdown/dropdown';
export class FarrisTabsComponent {
    /**
     * @param {?} stService
     * @param {?} elementRef
     * @param {?} renderer
     * @param {?} cdRef
     * @param {?} ngZone
     */
    constructor(stService, elementRef, renderer, cdRef, ngZone) {
        this.stService = stService;
        this.elementRef = elementRef;
        this.renderer = renderer;
        this.cdRef = cdRef;
        this.ngZone = ngZone;
        this.tabType = '';
        // 支持标签页填充
        this.fill = false;
        // 支持标签页标题自适应宽度-
        this.autoTitleWidth = false;
        // 标题长度大于等于多少字符，启用渐变样式——属性废弃
        this.titleLength = 7;
        // 搜索框是否显示
        this.searchBoxVisible = true;
        // 内容是否是flex 容器 用于内部子元素flex-----未被使用
        this.contentDirection = 'column';
        this.clickThrottleTime = 350;
        this.clickItems = new Subject();
        // 左侧所有标签的宽度和,百分比
        this.titleWidth = 0;
        this.tabChange = new EventEmitter();
        this.tabRemove = new EventEmitter();
        // 内容填充状态
        this.contentFillStates = new BehaviorSubject(false);
        // 宽度状态
        this.widthStates = new BehaviorSubject(false);
        // 高度状态
        this.heightStates = new BehaviorSubject(false);
        this.positionStates = new BehaviorSubject('top');
        this.menuItemsWidth = 'auto';
        //maxDropdownH = 200; -----未被使用
        // 下拉列表最大宽度： 非正值表明是不限制宽度 -----未被使用
        this.maxDropdownW = -1;
        this._customClass = '';
        // 标签存储列表
        this._tabs = [];
        // 工具条显示相关配置
        this.toolbarConf = {
            position: '',
            contents: []
        };
        // 工具条右侧小下拉框是否显示
        this.toolbarDpHidden = true;
        // 工具条“更多”里的按钮
        this.inMoreButtonContents = [];
        // 显示下拉数据
        this.dropdownTabs = [];
        // 隐藏左右滚动箭头按钮
        this.hideButtons = true;
        // 隐藏下拉
        this.hideDropDown = true;
        // 禁用左箭头
        this.disableLeft = false;
        // 禁用右箭头
        this.disableRight = false;
        // 记录事件流
        this.subscription = [];
        // 禁用右侧提示
        this.disableRTooltip = true;
        // 禁用左侧提示
        this.disableLTooltip = true;
        // 左侧提示数据
        this.leftTooltipTabs = [];
        // 右侧提示数据
        this.rightTooltipTabs = [];
        this.maxTooltipLen = 5;
        // 标记当前Tab标签
        this.activeId = '';
        this.ro = null;
        this._ddmHandler = null;
        this.tabVisibleChanged = new Subject();
        this.el = this.elementRef.nativeElement;
        this.verifyConfig();
        this.subscription.push(this.tabVisibleChanged.subscribe((/**
         * @param {?} e
         * @return {?}
         */
        (e) => {
            this._reCalculateAll();
            this._calculateToolbarDropdownIsShow();
            this._calculateButtonsShow();
        })));
    }
    // tab页位置 上下左右
    /**
     * @param {?} value
     * @return {?}
     */
    set position(value) {
        this._position = value;
        this.positionStates.next(value);
    }
    /**
     * @return {?}
     */
    get position() {
        return this._position;
    }
    // tabs宽度和高度
    /**
     * @param {?} value
     * @return {?}
     */
    set width(value) {
        this._width = this.resolveSize(value);
        this.widthStates.next(this._width);
    }
    /**
     * @param {?} value
     * @return {?}
     */
    set height(value) {
        this._height = this.resolveSize(value);
        this.heightStates.next(this._height);
    }
    /**
     * @return {?}
     */
    get headerHeight() {
        return this._headerHeight;
    }
    /**
     * @param {?} headerHeight
     * @return {?}
     */
    set headerHeight(headerHeight) {
        this._headerHeight = this.resolveSize(headerHeight);
    }
    // 内容是否填充  默认是不填充
    /**
     * @param {?} value
     * @return {?}
     */
    set contentFill(value) {
        this._contentFill = value;
        this.contentFillStates.next(value);
    }
    // 所有标签数据
    /**
     * @return {?}
     */
    get tabs() {
        return this._tabs;
    }
    /**
     * @param {?} value
     * @return {?}
     */
    set tabs(value) {
        this._tabs = value;
    }
    /**
     * @return {?}
     */
    get customClass() {
        return this._customClass;
    }
    /**
     * @param {?} customClass
     * @return {?}
     */
    set customClass(customClass) {
        if (this.customClass) {
            this.customClass.split(' ').forEach((/**
             * @param {?} cssClass
             * @return {?}
             */
            (cssClass) => {
                this.renderer.removeClass(this.el, cssClass);
            }));
        }
        this._customClass = customClass ? customClass.trim() : null;
        if (this.customClass) {
            this.customClass.split(' ').forEach((/**
             * @param {?} cssClass
             * @return {?}
             */
            (cssClass) => {
                this.renderer.addClass(this.el, cssClass);
            }));
        }
    }
    /**
     * @return {?}
     */
    get direction() {
        switch (this.position) {
            case 'top':
                return 'column';
            case 'bottom':
                return 'column-reverse';
            case 'left':
                return 'row';
            case 'right':
                return 'row-reverse';
        }
    }
    // 无用，兼容
    /**
     * @return {?}
     */
    get tabDirection() {
        if (this.position === 'top' || this.position === 'bottom') {
            return 'row';
        }
        else if (this.position === 'left' || this.position === 'right') {
            return 'column';
        }
    }
    /**
     * @param {?} index
     * @param {?} btn
     * @return {?}
     */
    trackByButton(index, btn) { return btn.id; }
    ;
    /**
     * 验证传递参数
     * @private
     * @return {?}
     */
    verifyConfig() {
        /** @type {?} */
        const config = this.stService.getConfig();
        Object.assign(this, config);
        this.scrollStep = parseInt(this.scrollStep + '', 10);
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        if (!this.beforeSelect) {
            this.beforeSelect = (/**
             * @return {?}
             */
            () => of(true));
        }
        this.clickSubscription = this.clickItems.pipe(debounceTime(this.clickThrottleTime))
            .subscribe((/**
         * @param {?} btnInfo
         * @return {?}
         */
        (btnInfo) => {
            if (btnInfo.click && typeof btnInfo.click == 'function') {
                btnInfo.click();
            }
        }));
        this._tabContainerEl = this.tabContainer.nativeElement;
        this._createStream();
        this.activeId = this.selectId;
        if (this.ngZone) {
            this.ngZone.runOutsideAngular((/**
             * @return {?}
             */
            () => {
                if (this.ro === null) {
                    this.ro = new ResizeObserver((/**
                     * @param {?} el
                     * @return {?}
                     */
                    (el) => {
                        this._reCalculateAll();
                        this._calculateToolbarDropdownIsShow();
                        this._calculateButtonsShow();
                    }));
                    this.ro.observe(this.el.parentElement);
                }
            }));
        }
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        if (changes['selectId']) {
            this.selectTab(changes['selectId'].currentValue);
        }
    }
    /* 标签页内容初始化 */
    /**
     * @return {?}
     */
    ngAfterContentInit() { }
    /**
     * @return {?}
     */
    ngAfterContentChecked() {
    }
    /**
     * @return {?}
     */
    ngAfterViewInit() {
        // 为了兼容弄旧表单，不兼容HostBinding, 通过追加class的方式实现
        this.renderer.addClass(this.el, 'farris-tabs');
        this.renderer.addClass(this.el, 'flex-column');
        this.contentFillStates.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        data => {
            if (data) {
                this.renderer.addClass(this.el, 'f-tabs-content-fill');
            }
            else {
                this.renderer.removeClass(this.el, 'f-tabs-content-fill');
            }
        }));
        this.widthStates.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        data => {
            if (data) {
                this.renderer.setStyle(this.el, 'width', data);
            }
        }));
        this.heightStates.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        data => {
            if (data) {
                this.renderer.setStyle(this.el, 'height', data);
            }
        }));
        this.positionStates.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        data => {
            this.renderer.removeClass(this.el, 'flex-row');
            this.renderer.removeClass(this.el, 'flex-column');
            this.renderer.removeClass(this.el, 'flex-row-reverse');
            this.renderer.removeClass(this.el, 'flex-column-reverse');
            if (data === 'left') {
                this.renderer.addClass(this.el, 'flex-row');
            }
            if (data === 'top') {
                this.renderer.addClass(this.el, 'flex-column');
            }
            if (data === 'right') {
                this.renderer.addClass(this.el, 'flex-row-reverse');
            }
            if (data === 'bottom') {
                this.renderer.addClass(this.el, 'flex-column-reverse');
            }
        }));
        // 兼容结束
        this.getToolbarConf();
        this._reCalculateAll();
        this._setActive();
        this._changeTitleStyle();
        this._listenShowChanges();
        /** @type {?} */
        const self = this;
        // this.renderer.listen(document, 'keyup', function (e) {
        //     if (self.searchInputVisible) {
        //         console.log(e);
        //     }
        // });
        this.ngZone.runOutsideAngular((/**
         * @return {?}
         */
        () => {
            this._ddmHandler = this.renderer.listen(document, 'mousedown', (/**
             * @param {?} e
             * @return {?}
             */
            (e) => {
                if (!e.target.closest('.farris-tabs-header')) {
                    if (this.el && this.el.querySelector('.dropdown-menu')) {
                        if (this.ddm && this.ddm.dropdown) {
                            this.ddm.dropdown.close();
                        }
                    }
                }
            }));
        }));
    }
    /**
     * @return {?}
     */
    ngAfterViewChecked() {
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        // 组件销毁时  取消所有事件订阅
        this.subscription.forEach((/**
         * @param {?} sub
         * @return {?}
         */
        sub => {
            sub.unsubscribe();
        }));
        this.subscription = [];
        if (this.ro) {
            if (this.el.parentElement) {
                this.ro.unobserve(this.el.parentElement);
            }
            this.ro = null;
        }
        if (this._ddmHandler) {
            this._ddmHandler();
            this._ddmHandler = null;
        }
        if (this.clickSubscription) {
            this.clickSubscription.unsubscribe();
        }
    }
    /**
     * @param {?} btnInfo
     * @return {?}
     */
    clickHandler(btnInfo) {
        if (!btnInfo) {
            return;
        }
        this.clickItems.next(btnInfo);
    }
    // 更多tab的显示隐藏
    /**
     * @param {?} e
     * @return {?}
     */
    openChange(e) {
        this.searchInputVisible = e;
        this.searchTabText = undefined;
        this._reCalculateAll();
        // 启用了搜索，需要判断下拉面板的值
        // 因为下拉面板可能存在遮挡的问题
        if (e) {
            this.menuItemsWidth = this.ddm.resetMenuElWidthOpen() + 'px';
        }
        else {
            this.menuItemsWidth = 'auto';
        }
    }
    // 搜索tab
    /**
     * @param {?} e
     * @return {?}
     */
    searchTab(e) {
        this.stopBubble(e);
        this._reCalculateAll();
    }
    // 阻止冒泡
    /**
     * @param {?} e
     * @return {?}
     */
    stopBubble(e) {
        if (e && e.stopPropagation) {
            e.stopPropagation();
        }
        else {
            window.event.cancelBubble = true;
        }
    }
    /**
     * @param {?} id
     * @param {?=} state
     * @return {?}
     */
    getToolbarState(id, state = this.btnStates) {
        if (state) {
            return state.pipe(map((/**
             * @param {?} n
             * @return {?}
             */
            (n) => {
                if (n[id] === undefined) {
                    // console.warn(`未找ID为：${id} 相关状态设置！`);
                    return false;
                }
                return n[id];
            })));
        }
        else {
            return of(true);
        }
    }
    // 监听子组件的隐藏显示属性
    /**
     * @private
     * @return {?}
     */
    _listenShowChanges() {
        // 如果隐藏的组件是激活状态，先将其设置为常规
        this.tabs.forEach((/**
         * @param {?} item
         * @return {?}
         */
        item => {
            item.showStates.subscribe((/**
             * @param {?} data
             * @return {?}
             */
            data => {
                /** @type {?} */
                let activeIdToken;
                item._show = data;
                if (data === false && item.id === this.activeId) {
                    item._active = false;
                    this.activeId = '';
                    activeIdToken = false;
                }
                /** @type {?} */
                const tabs = this.tabs.filter((/**
                 * @param {?} item
                 * @return {?}
                 */
                item => item._show === true));
                /** @type {?} */
                const defaultTabId = tabs.length ? tabs[0].id : null;
                // 然后将显示状态下的第一个tab激活
                if (defaultTabId && activeIdToken === false) {
                    this.tabs.forEach((/**
                     * @param {?} item
                     * @param {?} index
                     * @return {?}
                     */
                    (item, index) => {
                        if (item.id === defaultTabId) {
                            this.activeId = item.id;
                            this.tabs[index]._active = true;
                        }
                    }));
                    this.getToolbarConf();
                }
                this.cdRef.detectChanges();
            }));
        }));
    }
    /**
     * 选中Tab
     * @param {?} tabId tab标识
     * @return {?}
     */
    selectTab(tabId) {
        /** @type {?} */
        const selectedTab = this._getTabById(tabId);
        this._selectTab(selectedTab.tab, selectedTab.index);
    }
    /**
     * @param {?} ev
     * @param {?} id
     * @param {?=} ddm
     * @return {?}
     */
    _cpSelectTabByIndex(ev, id, ddm = null) {
        ev.preventDefault();
        ev.stopPropagation();
        /** @type {?} */
        const targetEL = (/** @type {?} */ (ev.target));
        if (targetEL.className.indexOf('st-drop-close') > -1 ||
            targetEL.parentElement.className.indexOf('st-drop-close') > -1) {
            // 阻止冒泡和捕获事件 点击删除标记 则执行删除标签方法  而不是选中标签
            this.closeTab(id);
        }
        else {
            // 阻止冒泡
            this.selectTab(id);
        }
        this.getToolbarConf();
        this.cdRef.markForCheck();
        this._reCalculateAll();
        this._calculateToolbarDropdownIsShow();
        this._calculateButtonsShow();
        if (ddm) {
            ddm.dropdown.close();
        }
        return false;
    }
    /**
     * 通过tabs的索引选择 tab
     * @param {?} index tabs索引
     * @return {?}
     */
    selectTabByIndex(index) {
        if (index >= 0 && index < this.tabs.length) {
            /** @type {?} */
            const selectTab = this.tabs[index];
            this._selectTab(selectTab, index);
        }
    }
    /* 选中tab时  暴露出选中tab的id 和其之后的id */
    /**
     * @private
     * @param {?} tab
     * @param {?} index
     * @return {?}
     */
    _selectTab(tab, index) {
        if (tab && !tab.disabled && this.activeId !== tab.id) {
            if (!this.beforeSelect) {
                this.beforeSelect = (/**
                 * @return {?}
                 */
                () => of(true));
            }
            /** @type {?} */
            const tabsChangeEventParam = {
                prevId: this.activeId,
                nextId: tab.id
            };
            this.beforeSelect(tabsChangeEventParam).subscribe((/**
             * @param {?} e
             * @return {?}
             */
            (e) => {
                if (e) {
                    this.activeId = tab.id;
                    // 首先不激活所有的tab页  然后激活当前tab页
                    // let index = -1;
                    this.tabs.forEach((/**
                     * @param {?} item
                     * @param {?} i
                     * @return {?}
                     */
                    (item, i) => {
                        item._active = false;
                    }));
                    this.tabs[index]._active = true;
                    this.getToolbarConf();
                    // 滚动到可见区域内
                    this.scrollTabIntoView(index);
                    this.cdRef.detectChanges();
                    this.tabChange.emit(tabsChangeEventParam);
                }
            }));
        }
    }
    /**
     * @private
     * @return {?}
     */
    _setActive() {
        if (this.tabs.length) {
            /** @type {?} */
            const tabs = this.tabs.filter((/**
             * @param {?} item
             * @return {?}
             */
            item => item._show === true));
            /** @type {?} */
            const activeTab = this._getTabById(this.activeId).tab;
            this.activeId = activeTab ? activeTab.id : this.tabs.length ? this.tabs[0].id : null;
            // 过滤掉show=false（隐藏）的tab
            if (tabs.length) {
                if (this.activeId) {
                    /** @type {?} */
                    const targetTab = tabs.find((/**
                     * @param {?} item
                     * @return {?}
                     */
                    item => item.id === this.activeId));
                    if (targetTab) {
                        this.activeId = targetTab.id;
                    }
                }
                else {
                    this.activeId = tabs[0].id;
                }
            }
            else {
                this.activeId = null;
            }
            this.tabs.forEach((/**
             * @param {?} item
             * @return {?}
             */
            item => {
                item._active = false;
                if (item.id === this.activeId) {
                    item._active = true;
                }
            }));
        }
    }
    /**
     * @param {?} tabId
     * @param {?=} selectable
     * @return {?}
     */
    showTab(tabId, selectable = true) {
        /** @type {?} */
        const len = this.tabs.length;
        for (let i = 0; i < len; i++) {
            if (this.tabs[i].id === tabId) {
                this.tabs[i]._show = true;
                if (selectable) {
                    this.selectTab(tabId);
                }
                return;
            }
        }
    }
    /**
     * @param {?} activeId 隐藏某个tab
     * @return {?}
     */
    hideTab(activeId) {
        /** @type {?} */
        const showTabs = this.tabs.filter((/**
         * @param {?} item
         * @return {?}
         */
        item => {
            return item._show === true;
        }));
        /** @type {?} */
        const len = showTabs.length - 1;
        if (len < 0) {
            return;
        }
        /** @type {?} */
        let index;
        for (let i = 0; i <= len; i++) {
            if (showTabs[i].id === activeId) {
                showTabs[i]._show = false;
                index = i;
                break;
            }
        }
        if (index === undefined) {
            return;
        }
        else if (index === len && len < 1) {
            this.selectTab('');
        }
        else if (index === len && len >= 1) {
            this.selectTab(showTabs[len - 1].id);
        }
        else {
            this.selectTab(showTabs[index + 1].id);
        }
    }
    /**
     * 添加标签
     * @param {?} curTabs 数组或者对象
     * @param {?} index
     * @param {?} setActiveId
     * @return {?}
     */
    addTabs(curTabs, index, setActiveId) {
        if (curTabs.length > 0) {
            this.tabs.splice(index, 0, ...curTabs);
            // 去重
            this.tabs = this._unique(this.tabs);
        }
        if (setActiveId && this.activeId !== setActiveId) {
            /** @type {?} */
            const filterTab = this._getTabById(setActiveId);
            if (filterTab.index >= 0) {
                this.selectTab(setActiveId);
                this.activeId = setActiveId;
                this.scrollTabIntoView(filterTab.index);
            }
        }
        this.cdRef.detectChanges();
        this._reCalculateAll();
        this._changeTitleStyle();
    }
    /**
     * 添加标签时  去重
     *
     * @private
     * @param {?} objArray
     * @return {?}
     */
    _unique(objArray) {
        /** @type {?} */
        const hash = {};
        objArray = objArray.reduce((/**
         * @param {?} item
         * @param {?} next
         * @return {?}
         */
        function (item, next) {
            if (hash[next.id]) {
                hash[next.id] = '';
            }
            else {
                hash[next.id] = true && item.push(next);
            }
            return item;
        }), []);
        return objArray;
    }
    /* 通过tab列表的序列删除tab */
    /**
     * @param {?} index
     * @return {?}
     */
    removeTabByIndex(index) {
        /** @type {?} */
        const len = this.tabs.length - 1;
        if (index < 0 || index > len) {
            return;
        }
        /** @type {?} */
        const removeTab = this.tabs[index];
        removeTab._active = false;
        if (this.activeId === removeTab.id) {
            // 只有一个而且被删除
            if (len === 0) {
                // 如果所有标签均删除 激活id为空
                this.activeId = '';
            }
            else if (index === len) {
                // 如果删除的是最后一个标签 设置其前面的处于激活状态
                this.activeId = this.tabs[len - 1].id;
                this.tabs[index - 1]._active = true;
            }
            else {
                // 如果其他情况  设置其后面的处于激活状态
                this.activeId = this.tabs[index + 1].id;
                this.tabs[index + 1]._active = true;
            }
            this.tabs.splice(index, 1);
            this.scrollTabIntoView(index);
        }
        else {
            this.tabs.splice(index, 1);
        }
        this.tabRemove.emit({
            removeIndex: index,
            removeId: removeTab.id,
            activeId: this.activeId
        });
        this.cdRef.detectChanges();
    }
    /**
     * 关闭标签  跟删除标签不同
     * @param {?} activeId
     * @return {?}
     */
    closeTab(activeId) {
        /** @type {?} */
        const len = this.tabs.length;
        for (let i = 0; i < len; i++) {
            /** @type {?} */
            const tab = this.tabs[i];
            if (tab.id === activeId) {
                this.removeTabByIndex(i);
                return;
            }
        }
    }
    /**
     * 初始化
     * @return {?}
     */
    load() {
        for (let i = 0; i < this.tabs.length; i++) {
            if (this.tabs[i].id === this.activeId) {
                this.tabs[i]._active = true;
                return;
            }
        }
    }
    /**
     * 截取tab中的title,超过6位，截断
     * @private
     * @return {?}
     */
    _truncateTitle() {
        this.tabs = this.tabs.map((/**
         * @param {?} item
         * @return {?}
         */
        item => {
            item.title = item.title.length > 6 ? item.title.substr(0, 6) : item.title;
            return item;
        }));
    }
    /**
     * 替换tab中的title颜色
     * @private
     * @return {?}
     */
    _changeTitleStyle() {
        if (this.autoTitleWidth) {
            return;
        }
        /** @type {?} */
        const $textEls = this._tabContainerEl.querySelectorAll('.st-tab-text');
        for (var k = 0; k < $textEls.length; k++) {
            /** @type {?} */
            let parentEl = $textEls[k].parentNode;
            if ($textEls[k].scrollWidth > parentEl['offsetWidth']) {
                this.tabs[k].titleOverflow = true;
            }
            else {
                this.tabs[k].titleOverflow = false;
            }
        }
        //this.cdRef.detectChanges();
    }
    /**
     * 创建流
     * @private
     * @return {?}
     */
    _createStream() {
        [this.rightNav, this.leftNav].forEach((/**
         * @param {?} curBtn
         * @param {?} index
         * @return {?}
         */
        (curBtn, index) => {
            /** @type {?} */
            const direction = index ? -1 : 1;
            /** @type {?} */
            const mousedown$ = fromEvent(curBtn.nativeElement, 'mousedown');
            /** @type {?} */
            const mouseup$ = fromEvent(curBtn.nativeElement, 'mouseup');
            /** @type {?} */
            const newMouseDown$ = mousedown$.pipe(switchMap((/**
             * @param {?} event
             * @return {?}
             */
            (event) => {
                event.preventDefault();
                event.stopPropagation();
                /** @type {?} */
                const interval$ = of(0).pipe(
                // concat(interval(80)),
                takeUntil(mouseup$), scan((/**
                 * @param {?} sum
                 * @param {?} num
                 * @return {?}
                 */
                (sum, num) => {
                    return sum + this.scrollStep * direction;
                }), 0), takeWhile((/**
                 * @param {?} num
                 * @return {?}
                 */
                num => {
                    if (direction > 0) {
                        return !this.disableRight;
                    }
                    return !this.disableLeft;
                })), map((/**
                 * @param {?} v
                 * @return {?}
                 */
                v => {
                    return { value: v, direction };
                })));
                return interval$;
            })));
            /** @type {?} */
            const mousepressSub = newMouseDown$.subscribe((/**
             * @param {?} change
             * @return {?}
             */
            change => {
                this._scrollTab(change.value, change.direction);
            }));
            this.subscription.push(mousepressSub);
        }));
        // if (this.autoResize) {
        //     // 订阅windows resize事件
        //     this.subscription.push(
        //         fromEvent(window, 'resize')
        //             .pipe(throttleTime(80))
        //             .subscribe(e => {
        //                 this.cdRef.detectChanges();
        //             })
        //     );
        // }
    }
    /**
     * 按照方向，滚动到指定位置
     * @private
     * @param {?} move
     * @param {?} direction 方向
     * @return {?}
     */
    _scrollTab(move, direction) {
        /** @type {?} */
        const dist_scrollleft = this._tabContainerEl.scrollLeft + move;
        /** @type {?} */
        const max_scroll_left = this._tabContainerEl.scrollWidth - this._tabContainerEl.offsetWidth;
        // 标签页左侧移动
        if (direction > 0) {
            this._tabContainerEl.scrollLeft = Math.min(dist_scrollleft, max_scroll_left);
        }
        else if (direction < 0) {
            // 标签页右侧移动
            this._tabContainerEl.scrollLeft = Math.max(dist_scrollleft, 0);
        }
        this._reCalculateSides();
        // this.cdRef.detectChanges();
    }
    /**
     * 指定当前滑动到可视区域——————————————未测试
     * index
     * @param {?} index
     * @return {?}
     */
    scrollTabIntoView(index) {
        if (!this._tabContainerEl || this.hideButtons) {
            return;
        }
        /** @type {?} */
        const tabIndex = parseInt(index + '', 10);
        /** @type {?} */
        let tabToScroll;
        // first we find the tab element.
        if (tabIndex >= 0) {
            /** @type {?} */
            const allTabs = this._tabContainerEl.querySelectorAll('.nav-item');
            if (allTabs.length > tabIndex) {
                tabToScroll = allTabs[tabIndex];
            }
        }
        else {
            // scroll selected tab into view
            /** @type {?} */
            const activeTab = this._tabContainerEl.querySelector('li.active');
            if (activeTab) {
                tabToScroll = activeTab;
            }
        }
        if (tabToScroll) {
            /** @type {?} */
            const tab_left = parseInt(tabToScroll.getBoundingClientRect().left + '', 10);
            /** @type {?} */
            const tabs_left = parseInt(this._tabContainerEl.getBoundingClientRect().left + '', 10);
            /** @type {?} */
            const rightPosition = tab_left +
                parseInt(tabToScroll.getBoundingClientRect().width + '', 10) -
                tabs_left;
            /** @type {?} */
            const leftPosition = tab_left - tabs_left - 10;
            if (leftPosition < 0) {
                this._scrollTab(leftPosition, -1);
            }
            else if (rightPosition > this._tabContainerEl.offsetWidth) {
                this._scrollTab(rightPosition - this._tabContainerEl.offsetWidth + 20, 1);
            }
        }
    }
    /**
     * 切换tab后，重新获取需要该tab下工具条按钮的配置信息以及隐藏更多按钮
     * 以及获取该tab下的头部扩展区域
     * @private
     * @return {?}
     */
    getToolbarConf() {
        /** @type {?} */
        const tabConfig = this.tabs.filter((/**
         * @param {?} item
         * @return {?}
         */
        item => {
            return item._active === true;
        }))[0];
        if (!tabConfig || !tabConfig.hasOwnProperty('toolbar')) {
            this.toolbarConf = null;
        }
        else {
            this.toolbarConf = tabConfig.toolbar;
        }
        // 获取该tab下的头部扩展区域
        if (!tabConfig || !tabConfig.hasOwnProperty('farrisTabsExtendDirective')) {
            this.headerExtendConf = null;
        }
        else {
            this.headerExtendConf = tabConfig.farrisTabsExtendDirective;
        }
        // 隐藏更多按钮
        this.toolbarDpHidden = true;
        this.cdRef.detectChanges();
    }
    /**
     * 计算工具栏是否显示下拉按钮
     * @private
     * @return {?}
     */
    _calculateToolbarDropdownIsShow() {
        /** @type {?} */
        let headerExtendEl;
        /** @type {?} */
        let headerExtendElWidth = 0;
        if (!this.toolbarContainer || !this.toolbarConf) {
            return;
        }
        /** @type {?} */
        const toolbarContainer = this.hasInHeadCl() ? this.toolbarContainer.nativeElement : this.toolbarContainer.nativeElement.parentElement;
        /** @type {?} */
        let divEl = toolbarContainer.querySelector('.farris-tabs-inline-flex');
        if (!divEl) {
            return;
        }
        if (this.headerExtendConf) {
            headerExtendEl = toolbarContainer.querySelector('.farris-tabs-header-extend');
            this.renderer.removeStyle(headerExtendEl, 'overflow');
            headerExtendElWidth = headerExtendEl.offsetWidth;
        }
        // 按钮在内容区
        if (!this.hasInHeadCl() && this.btnPlaceHolder.nativeElement.offsetWidth > toolbarContainer.offsetWidth) {
            this.toolbarDpHidden = false;
        }
        else if (this.hasInHeadCl() && this.btnPlaceHolder.nativeElement.offsetWidth > toolbarContainer.offsetWidth - headerExtendElWidth) {
            // 按钮在头部工具栏
            this.toolbarDpHidden = false;
        }
        else {
            this.toolbarDpHidden = true;
        }
        this.cdRef.detectChanges();
    }
    /**
     * 计算显示的按钮个数及更多中显示的按钮个数
     * @private
     * @return {?}
     */
    _calculateButtonsShow() {
        /** @type {?} */
        let headerExtendEl;
        /** @type {?} */
        let headerExtendElWidth = 0;
        if (!this.toolbarContainer || !this.toolbarConf) {
            return;
        }
        /** @type {?} */
        const toolbarContainer = this.hasInHeadCl() ? this.toolbarContainer.nativeElement : this.toolbarContainer.nativeElement.parentElement;
        /** @type {?} */
        let divEl = toolbarContainer.querySelector('.farris-tabs-inline-flex');
        /** @type {?} */
        let btnPlaceHolderEl = this.btnPlaceHolder.nativeElement;
        /** @type {?} */
        let btnPlaceHolderBtns = btnPlaceHolderEl.querySelectorAll('button');
        if (!divEl || btnPlaceHolderBtns.length == 0) {
            return;
        }
        // 此处有个Bug，如果是inContent还是headerExtendConf的情况下，按钮的位置形如inHead
        if (this.headerExtendConf) {
            headerExtendEl = toolbarContainer.querySelector('.farris-tabs-header-extend');
            headerExtendElWidth = this.hasInHeadCl() ? headerExtendEl.offsetWidth : 0;
        }
        /** @type {?} */
        const moreButton = toolbarContainer.querySelector('.morebtn');
        // 计算按钮的宽度      
        /** @type {?} */
        let basicStart = parseInt(btnPlaceHolderEl.getBoundingClientRect().left);
        /** @type {?} */
        let basicWidth = toolbarContainer.offsetWidth - moreButton.offsetWidth - 12 - headerExtendElWidth;
        /** @type {?} */
        let toolbarDropdownHidden = true;
        /** @type {?} */
        let k = 0
        // 只有一个按钮
        ;
        // 只有一个按钮
        if (btnPlaceHolderBtns.length == 1) {
            if (btnPlaceHolderEl.offsetWidth > basicWidth) {
                toolbarDropdownHidden = false;
            }
            else {
                k = 1;
            }
        }
        else {
            for (k = 1; k <= btnPlaceHolderBtns.length - 1; k++) {
                // 如果内容超出,考虑到按钮之间的间距
                if (k == btnPlaceHolderBtns.length - 1) {
                    if (btnPlaceHolderEl.offsetWidth > basicWidth) {
                        toolbarDropdownHidden = false;
                        k = k - 1;
                        break;
                    }
                }
                else if (parseInt(btnPlaceHolderBtns[k].getBoundingClientRect().left) - basicStart > basicWidth) {
                    toolbarDropdownHidden = false;
                    k = k - 1;
                    break;
                }
            }
        }
        this.toolbarDpHidden = toolbarDropdownHidden;
        /** @type {?} */
        let showBtns = divEl.querySelectorAll('button');
        for (let i = 0; i < k; i++) {
            this.renderer.setStyle(showBtns[i], 'display', '');
        }
        for (let m = k; m < showBtns.length; m++) {
            this.renderer.setStyle(showBtns[m], 'display', 'none');
        }
        if (this.toolbarConf.contents && this.toolbarConf.contents.length) {
            this.inMoreButtonContents = this.toolbarConf.contents.filter((/**
             * @param {?} item
             * @param {?} index
             * @return {?}
             */
            (item, index) => {
                return index >= k;
            }));
        }
    }
    /**
     * 重新计算是否显示按钮和下拉
     * @private
     * @return {?}
     */
    _reCalculateAll() {
        if (!this._tabContainerEl) {
            return;
        }
        /** @type {?} */
        let tabParentWidth = this.tabParent.nativeElement.offsetWidth;
        if (!this.hideButtons) {
            /** @type {?} */
            const tr = parseInt(window.getComputedStyle(this.tabParent.nativeElement).getPropertyValue("margin-right"));
            /** @type {?} */
            const tl = parseInt(window.getComputedStyle(this.tabParent.nativeElement).getPropertyValue("margin-left"));
            tabParentWidth += tr + tl;
        }
        this.hideButtons = this._tabContainerEl.scrollWidth <= tabParentWidth;
        this.hideDropDown = this.showDropDown ? this.hideButtons : true;
        if (!this.hideButtons) {
            if (!this.hideDropDown) {
                this.dropdownTabs = [].concat(this.tabs);
            }
            if (this.searchTabText) {
                this.dropdownTabs = this.dropdownTabs.filter((/**
                 * @param {?} item
                 * @return {?}
                 */
                item => {
                    return item['title'].indexOf(this.searchTabText) !== -1;
                }));
            }
            this._reCalculateSides();
        }
        this.cdRef.detectChanges();
    }
    /**
     * 重新计算左右的提示文字
     * @private
     * @return {?}
     */
    _reCalulateTooltips() {
        if (!this._tabContainerEl || this.hideButtons) {
            return;
        }
        /** @type {?} */
        const t_right_tooltips = [];
        /** @type {?} */
        const t_left_tooltips = [];
        /** @type {?} */
        const allTabs = this._tabContainerEl.querySelectorAll('.nav-item');
        /** @type {?} */
        const len = allTabs.length;
        /** @type {?} */
        const hiddenTabs = this.tabs.filter((/**
         * @param {?} item
         * @return {?}
         */
        item => {
            return item._show !== true;
        }));
        /** @type {?} */
        const hiddenTabsLength = hiddenTabs.length;
        for (let i = 0; i < len; i++) {
            /** @type {?} */
            const leftPosition = allTabs[i].getBoundingClientRect().left -
                this._tabContainerEl.getBoundingClientRect().left;
            /** @type {?} */
            const rightPosition = allTabs[i].getBoundingClientRect().width + leftPosition;
            if (rightPosition > this._tabContainerEl.offsetWidth) {
                t_right_tooltips.push(this.tabs[i]);
            }
            else if (leftPosition < 0) {
                t_left_tooltips.push(this.tabs[i]);
            }
        }
        this.leftTooltipTabs = []
            .concat(t_left_tooltips)
            .slice(Math.max(0, t_left_tooltips.length - this.maxTooltipLen));
        this.rightTooltipTabs = []
            .concat(t_right_tooltips)
            .slice(0, Math.min(this.maxTooltipLen, t_right_tooltips.length));
        this.disableRTooltip = this.rightTooltipTabs.length < 1;
        this.disableLTooltip = this.leftTooltipTabs.length - hiddenTabsLength < 1;
    }
    /**
     * 重新计算左右箭头状态
     * @private
     * @return {?}
     */
    _reCalculateSides() {
        this.disableRight =
            this._tabContainerEl.scrollLeft >=
                this._tabContainerEl.scrollWidth - this._tabContainerEl.offsetWidth;
        this.disableLeft = this._tabContainerEl.scrollLeft <= 0;
        this._reCalulateTooltips();
    }
    /**
     * 通过id寻找Tab
     * @private
     * @param {?} id ID
     * @return {?}
     */
    _getTabById(id) {
        /** @type {?} */
        const indexWidthId = [];
        /** @type {?} */
        const tabsWithId = this.tabs.filter((/**
         * @param {?} tab
         * @param {?} index
         * @return {?}
         */
        (tab, index) => {
            if (tab.id === id) {
                indexWidthId.push(index);
                return true;
            }
            else {
                return false;
            }
        }));
        return {
            tab: tabsWithId.length ? tabsWithId[0] : null,
            index: indexWidthId.length ? indexWidthId[0] : -1
        };
    }
    /*宽高类型是 string或者number 解析宽高  尺寸 */
    /**
     * @param {?} size
     * @return {?}
     */
    resolveSize(size) {
        /** @type {?} */
        const regex = /px|em|rem|pt|%/;
        // 说明是字符串
        return regex.test(size)
            ? `${parseInt(size, 10)}${size.match(regex)[0]}`
            : `${size}px`;
    }
    /*
          清空tab
           */
    // removeAllTab() {
    //     this.tabs.splice(0, this.tabs.length);
    // }
    /**
     * @return {?}
     */
    hasInHeadCl() {
        if (this.toolbarConf && this.toolbarConf.hasOwnProperty('position') && this.toolbarConf.hasOwnProperty('contents') && this.toolbarConf.position === 'inHead' && this.toolbarConf.contents.length > 0) {
            return true;
        }
        if (this.headerExtendConf && !(this.toolbarConf && this.toolbarConf.position === 'inContent' && this.toolbarConf.contents.length)) {
            return true;
        }
        return false;
    }
}
FarrisTabsComponent.decorators = [
    { type: Component, args: [{
                selector: 'farris-tabs',
                template: "<div #tabHeader class=\"farris-tabs-header\"\r\n    [class.farris-tabs-inHead]=\"hasInHeadCl()\"\r\n    [class.farris-tabs-inContent]=\"!hasInHeadCl()\"\r\n    [class.farris-tabs-nav-fill]=\"fill||tabType=='fill'\"\r\n    [class.farris-tabs-nav-pills]=\"tabType=='pills'\"\r\n    >\r\n    <div class=\"farris-tabs-title scroll-tabs\"\r\n        [ngStyle]=\"{'width': hasInHeadCl() ? (titleWidth?titleWidth + '%':null) : null}\">\r\n        <button type=\"button\" (disabled)=\"disableLeft\" class=\"btn sc-nav-btn px-1 sc-nav-lr\"\r\n            [ngClass]=\"{'d-none':hideButtons}\" #leftNav>\r\n        </button>\r\n        <div class=\"spacer f-utils-fill\" #tabParent\r\n            [ngClass]=\"{'spacer-sides':!hideButtons&& hideDropDown,'spacer-sides-dropdown':!hideButtons&&!hideDropDown}\"\r\n            style=\"width:100%;\">\r\n            <ul class=\"nav farris-nav-tabs flex-nowrap\" [class.nav-fill]=\"fill||tabType=='fill'\"\r\n                [class.flex-row]=\"position==='top'||position==='bottom'\"\r\n                [class.flex-column]=\"position==='left'||position==='right'\" [class.nav-pills]=\"tabType=='pills'\" #tabContainer>\r\n                <li class=\"nav-item\" *ngFor=\"let tab of tabs;index as tabIndex\"\r\n                    [ngClass]=\"{'d-none': tab._show !== true, 'f-state-active': tab.id === activeId, 'f-state-disabled': tab.disabled === true}\"\r\n                    [ngStyle]=\"{'width':tab.tabWidth+'px'}\">\r\n                    <a class=\"nav-link tabs-text-truncate\" #anchor [class.active]=\"tab.id === activeId\"\r\n                        [class.disabled]=\"tab.disabled\" (click)=\"_cpSelectTabByIndex($event,tab.id)\">\r\n                        <span class=\"st-tab-text\" [class.farris-title-auto]=\"autoTitleWidth\"\r\n                            [ngClass]=\"tab.titleCustomCls\" [tabTransclude]=\"tab.headingRef\"\r\n                            *ngIf=\"tab.headingRef\"></span>\r\n                        <span class=\"st-tab-text\" [ngbTooltip]=\"tab.title\" [referElement]=\"tabContainer\"\r\n                            [disableTooltip]=\"!tab.titleOverflow\" [class.farris-title-auto]=\"autoTitleWidth\"\r\n                            [class.farris-title-text-custom]=\"tab.titleOverflow\"\r\n                            *ngIf=\"!tab.headingRef\">{{tab.title}}</span>\r\n                        <span class=\"st-drop-close\" *ngIf=\"tab.removeable\">\r\n                            <i class=\"f-icon f-icon-close\"></i>\r\n                        </span>\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class=\"btn-group sc-nav-btn\" ngbDropdown (openChange)=\"openChange($event)\" >\r\n            <button type=\"button\"  (disabled)=\"disableRight\" class=\"btn sc-nav-rg\" [ngClass]=\"{'d-none':hideButtons}\"\r\n                #rightNav></button>\r\n            <button #dropDownButton class=\"btn dropdown-toggle-split \" ngbDropdownToggle\r\n                [ngClass]=\"{'d-none':hideDropDown}\">\r\n            </button>\r\n            <div class=\"dropdown-menu\" style=\"max-width: 300px;\" [class.tabs-pt28]=\"searchBoxVisible\" ngbDropdownMenu #ddm=\"DropdownMenu\">\r\n                <div (click)=\"stopBubble($event)\" class='pb-1 tabs-li-absolute' *ngIf=\"searchBoxVisible\">\r\n                    <input type=\"text\" class=\"form-control k-textbox\" [(ngModel)]=\"searchTabText\"\r\n                        (keyup)=\"searchTab($event)\" />\r\n                    <span class=\"f-icon f-icon-page-title-query tabs-icon-search\"></span>\r\n                </div>\r\n                <ul class=\"tab-dropdown-menu--items\" [ngStyle]=\"{'width':menuItemsWidth}\">\r\n                    <li class=\"dropdown-item text-truncate px-2\" *ngFor=\"let tab of dropdownTabs;index as tabIndex\"\r\n                        [ngClass]=\"{'disabled': tab.disabled, 'active': tab.id === activeId, 'd-none': tab._show !==true}\"\r\n                        (click)=\"_cpSelectTabByIndex($event,tab.id, ddm)\">\r\n                        <a class=\"dropdown-title\" style=\"\r\n                            text-overflow: ellipsis;white-space: nowrap;word-break: break-word;width: 100%;\">{{tab.title}}</a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div #toolbarContainer class=\"farris-tabs-toolbar\" *ngIf=\"toolbarConf || headerExtendConf\">\r\n        <div class=\"farris-tabs-inline-flex\" *ngIf=\"toolbarConf\">\r\n            <ng-template ngFor let-btn [ngForOf]=\"toolbarConf.contents\" let-i=\"index\" [ngForTrackBy]=\"trackByButton\">\r\n                <button [attr.id]=\"btn.id\" [ngClass]=\"btn.appearance.class\"\r\n                    *ngIf=\"getToolbarState(btn.id, btnVisible) | async\"\r\n                    [disabled]=\"getToolbarState(btn.id, btnStates) | async\"\r\n                    (click)=\"clickHandler(btn)\">{{btn.title}}</button>\r\n            </ng-template>\r\n        </div>\r\n        <div class=\"btn-group sc-nav-btn\" ngbDropdown [hidden]=\"toolbarDpHidden\">\r\n            <button class=\"btn btn-link morebtn\" ngbDropdownToggle >{{'tabs.more' | locale}}</button>\r\n            <ul class=\"dropdown-menu\" ngbDropdownMenu [style.display]=\"inMoreButtonContents.length ? '': 'none'\">\r\n                <ng-template ngFor let-content [ngForOf]=\"inMoreButtonContents\" let-i=\"index\">\r\n                    <li class=\"dropdown-item text-truncate px-2\"\r\n                        *ngIf=\"getToolbarState(content.id, btnVisible) | async\">\r\n                        <button style=\"width:100%;\" [attr.id]=\"content.id\" class=\"btn btn-link text-left\"\r\n                            [class.disabled]=\"getToolbarState(content.id, btnStates) | async\"\r\n                            (click)=\"clickHandler(content)\">{{content.title}}</button>\r\n                    </li>\r\n                </ng-template>\r\n            </ul>\r\n        </div>\r\n        <div *ngIf=\"headerExtendConf && headerExtendConf.templateRef\" class=\"farris-tabs-header-extend\"\r\n        [class.margin-right-14]=\"toolbarConf && toolbarConf.contents.length\"\r\n        [ngClass]=\"headerExtendConf && headerExtendConf.extendCls\">\r\n        <template [ngTemplateOutlet]=\"headerExtendConf.templateRef\"></template>\r\n    </div>\r\n    </div>\r\n    <div class=\"farris-tabs-btn-placeholder\" #btnPlaceholder *ngIf=\"toolbarConf\">\r\n        <ng-container *ngFor=\"let btn of toolbarConf.contents\">\r\n            <button [ngClass]=\"btn.appearance.class\"\r\n                *ngIf=\"getToolbarState(btn.id, btnVisible) | async\">{{btn.title}}</button>\r\n        </ng-container>\r\n    </div>\r\n</div>\r\n<ng-content></ng-content>",
                changeDetection: ChangeDetectionStrategy.OnPush,
                encapsulation: ViewEncapsulation.None,
                styles: [".farris-tabs .farris-tabs-header.farris-tabs-inHead .farris-tabs-title{width:41.6666667%}.farris-tabs .farris-tabs-header.farris-tabs-inHead .farris-tabs-toolbar{-webkit-box-flex:1;flex:1;-webkit-box-align:center;align-items:center}.farris-tabs .farris-tabs-header .farris-tabs-title.scroll-tabs .spacer.spacer-sides-dropdown{margin:0 60px 0 28px}.farris-tabs .farris-tabs-header .farris-tabs-title.scroll-tabs .sc-nav-btn.dropdown{right:6px}.farris-tabs .margin-right-14{margin-right:14px}.farris-tabs .farris-tabs-header-extend{height:44px}.farris-tabs .farris-tabs-header .farris-tabs-title.scroll-tabs .spacer .farris-nav-tabs .nav-item .nav-link .farris-title-text{max-width:112px}.farris-tabs .tabs-pt28{padding:0}.farris-tabs .tab-dropdown-menu--items{max-height:200px;overflow:auto}.farris-tabs .tabs-li-absolute{padding:4px;margin:0;position:relative}.farris-tabs .tabs-icon-search{position:absolute;right:4px;top:50%;font-size:14px;padding:0 4px;width:auto;height:24px;color:rgba(0,0,0,.25);margin-top:-12px;line-height:20px}.farris-tabs .st-drop-close{line-height:1}.farris-tabs .dropdown-menu .dropdown-item .dropdown-title{overflow:hidden;display:inline-block;padding:0 5px}.farris-tabs .farris-tabs-header.farris-tabs-inHead .farris-tabs-inline-flex{overflow:hidden}.farris-tabs .farris-tabs-btn-placeholder{position:absolute;display:-webkit-inline-box;display:inline-flex;top:-30px;left:0;opacity:0;z-index:-90}"]
            }] }
];
/** @nocollapse */
FarrisTabsComponent.ctorParameters = () => [
    { type: TabService },
    { type: ElementRef },
    { type: Renderer2 },
    { type: ChangeDetectorRef },
    { type: NgZone }
];
FarrisTabsComponent.propDecorators = {
    tabType: [{ type: Input }],
    fill: [{ type: Input }],
    autoTitleWidth: [{ type: Input }],
    titleLength: [{ type: Input }],
    position: [{ type: Input }],
    showDropDown: [{ type: Input }],
    showTooltips: [{ type: Input }],
    scrollStep: [{ type: Input }],
    autoResize: [{ type: Input }],
    closeable: [{ type: Input }],
    selectId: [{ type: Input, args: ['value',] }],
    width: [{ type: Input }],
    height: [{ type: Input }],
    searchBoxVisible: [{ type: Input }],
    headerHeight: [{ type: Input, args: ['header-height',] }],
    contentDirection: [{ type: Input }],
    contentFill: [{ type: Input }],
    clickThrottleTime: [{ type: Input }],
    btnStates: [{ type: Input }],
    btnVisible: [{ type: Input }],
    tabs: [{ type: Input }],
    customClass: [{ type: Input }],
    titleWidth: [{ type: Input }],
    leftNav: [{ type: ViewChild, args: ['leftNav',] }],
    rightNav: [{ type: ViewChild, args: ['rightNav',] }],
    tabContainer: [{ type: ViewChild, args: ['tabContainer',] }],
    toolbarContainer: [{ type: ViewChild, args: ['toolbarContainer',] }],
    dropDownButton: [{ type: ViewChild, args: ['dropDownButton',] }],
    tabParent: [{ type: ViewChild, args: ['tabParent',] }],
    btnPlaceHolder: [{ type: ViewChild, args: ['btnPlaceholder',] }],
    beforeSelect: [{ type: Input }],
    tabChange: [{ type: Output }],
    tabRemove: [{ type: Output }],
    ddm: [{ type: ViewChild, args: ['ddm',] }]
};
if (false) {
    /** @type {?} */
    FarrisTabsComponent.prototype.tabType;
    /** @type {?} */
    FarrisTabsComponent.prototype.fill;
    /** @type {?} */
    FarrisTabsComponent.prototype.autoTitleWidth;
    /** @type {?} */
    FarrisTabsComponent.prototype.titleLength;
    /** @type {?} */
    FarrisTabsComponent.prototype.searchInputVisible;
    /** @type {?} */
    FarrisTabsComponent.prototype.showDropDown;
    /** @type {?} */
    FarrisTabsComponent.prototype.showTooltips;
    /** @type {?} */
    FarrisTabsComponent.prototype.scrollStep;
    /** @type {?} */
    FarrisTabsComponent.prototype.autoResize;
    /** @type {?} */
    FarrisTabsComponent.prototype.closeable;
    /** @type {?} */
    FarrisTabsComponent.prototype.selectId;
    /** @type {?} */
    FarrisTabsComponent.prototype.searchBoxVisible;
    /** @type {?} */
    FarrisTabsComponent.prototype._headerHeight;
    /** @type {?} */
    FarrisTabsComponent.prototype.contentDirection;
    /** @type {?} */
    FarrisTabsComponent.prototype.clickThrottleTime;
    /**
     * @type {?}
     * @private
     */
    FarrisTabsComponent.prototype.clickItems;
    /**
     * @type {?}
     * @private
     */
    FarrisTabsComponent.prototype.clickSubscription;
    /** @type {?} */
    FarrisTabsComponent.prototype.btnStates;
    /** @type {?} */
    FarrisTabsComponent.prototype.btnVisible;
    /** @type {?} */
    FarrisTabsComponent.prototype.titleWidth;
    /** @type {?} */
    FarrisTabsComponent.prototype.leftNav;
    /** @type {?} */
    FarrisTabsComponent.prototype.rightNav;
    /** @type {?} */
    FarrisTabsComponent.prototype.tabContainer;
    /** @type {?} */
    FarrisTabsComponent.prototype.toolbarContainer;
    /** @type {?} */
    FarrisTabsComponent.prototype.dropDownButton;
    /** @type {?} */
    FarrisTabsComponent.prototype.tabParent;
    /** @type {?} */
    FarrisTabsComponent.prototype.btnPlaceHolder;
    /**
     * 选中tab 前事件
     * @type {?}
     */
    FarrisTabsComponent.prototype.beforeSelect;
    /** @type {?} */
    FarrisTabsComponent.prototype.tabChange;
    /** @type {?} */
    FarrisTabsComponent.prototype.tabRemove;
    /** @type {?} */
    FarrisTabsComponent.prototype.contentFillStates;
    /** @type {?} */
    FarrisTabsComponent.prototype._contentFill;
    /** @type {?} */
    FarrisTabsComponent.prototype.widthStates;
    /** @type {?} */
    FarrisTabsComponent.prototype._width;
    /** @type {?} */
    FarrisTabsComponent.prototype.heightStates;
    /** @type {?} */
    FarrisTabsComponent.prototype._height;
    /** @type {?} */
    FarrisTabsComponent.prototype._position;
    /** @type {?} */
    FarrisTabsComponent.prototype.positionStates;
    /** @type {?} */
    FarrisTabsComponent.prototype.menuItemsWidth;
    /** @type {?} */
    FarrisTabsComponent.prototype.maxDropdownW;
    /**
     * @type {?}
     * @private
     */
    FarrisTabsComponent.prototype._customClass;
    /**
     * @type {?}
     * @private
     */
    FarrisTabsComponent.prototype._tabs;
    /** @type {?} */
    FarrisTabsComponent.prototype.headerExtendConf;
    /** @type {?} */
    FarrisTabsComponent.prototype.toolbarConf;
    /** @type {?} */
    FarrisTabsComponent.prototype.toolbarDpHidden;
    /** @type {?} */
    FarrisTabsComponent.prototype.inMoreButtonContents;
    /** @type {?} */
    FarrisTabsComponent.prototype.dropdownTabs;
    /** @type {?} */
    FarrisTabsComponent.prototype.hideButtons;
    /** @type {?} */
    FarrisTabsComponent.prototype.tabWidth;
    /** @type {?} */
    FarrisTabsComponent.prototype.hideDropDown;
    /** @type {?} */
    FarrisTabsComponent.prototype.disableLeft;
    /** @type {?} */
    FarrisTabsComponent.prototype.disableRight;
    /**
     * @type {?}
     * @private
     */
    FarrisTabsComponent.prototype.el;
    /** @type {?} */
    FarrisTabsComponent.prototype.subscription;
    /** @type {?} */
    FarrisTabsComponent.prototype.disableRTooltip;
    /** @type {?} */
    FarrisTabsComponent.prototype.disableLTooltip;
    /** @type {?} */
    FarrisTabsComponent.prototype.leftTooltipTabs;
    /** @type {?} */
    FarrisTabsComponent.prototype.rightTooltipTabs;
    /**
     * @type {?}
     * @private
     */
    FarrisTabsComponent.prototype._tabContainerEl;
    /**
     * @type {?}
     * @private
     */
    FarrisTabsComponent.prototype.maxTooltipLen;
    /** @type {?} */
    FarrisTabsComponent.prototype.activeId;
    /**
     * @type {?}
     * @private
     */
    FarrisTabsComponent.prototype.ro;
    /** @type {?} */
    FarrisTabsComponent.prototype.searchTabText;
    /** @type {?} */
    FarrisTabsComponent.prototype.ddm;
    /**
     * @type {?}
     * @private
     */
    FarrisTabsComponent.prototype._ddmHandler;
    /** @type {?} */
    FarrisTabsComponent.prototype.tabVisibleChanged;
    /**
     * @type {?}
     * @private
     */
    FarrisTabsComponent.prototype.stService;
    /**
     * @type {?}
     * @private
     */
    FarrisTabsComponent.prototype.elementRef;
    /**
     * @type {?}
     * @private
     */
    FarrisTabsComponent.prototype.renderer;
    /**
     * @type {?}
     * @private
     */
    FarrisTabsComponent.prototype.cdRef;
    /**
     * @type {?}
     * @private
     */
    FarrisTabsComponent.prototype.ngZone;
    /* Skipping unhandled member: ;*/
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFicy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL3VpLXRhYnMvIiwic291cmNlcyI6WyJsaWIvdGFicy90YWJzLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQ0EsT0FBTyxFQUNILFNBQVMsRUFBb0MsS0FBSyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsdUJBQXVCLEVBQ2xHLGlCQUFpQixFQUFFLGlCQUFpQixFQUFpQixTQUFTLEVBQzlELFlBQVksRUFBRSxNQUFNLEVBQXNDLE1BQU0sRUFDbkUsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFnQixTQUFTLEVBQVksVUFBVSxFQUFFLEVBQUUsRUFBRSxlQUFlLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ25HLE9BQU8sRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFVLFlBQVksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRWxHLE9BQU8sRUFBRSxVQUFVLEVBQWEsTUFBTSxnQkFBZ0IsQ0FBQztBQUl2RCxPQUFPLGNBQWMsTUFBTSwwQkFBMEIsQ0FBQztBQUN0RCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFTdkQsTUFBTSxPQUFPLG1CQUFtQjs7Ozs7Ozs7SUErTTVCLFlBQ1ksU0FBcUIsRUFDckIsVUFBc0IsRUFDdEIsUUFBbUIsRUFDbkIsS0FBd0IsRUFDeEIsTUFBYztRQUpkLGNBQVMsR0FBVCxTQUFTLENBQVk7UUFDckIsZUFBVSxHQUFWLFVBQVUsQ0FBWTtRQUN0QixhQUFRLEdBQVIsUUFBUSxDQUFXO1FBQ25CLFVBQUssR0FBTCxLQUFLLENBQW1CO1FBQ3hCLFdBQU0sR0FBTixNQUFNLENBQVE7UUFqTmpCLFlBQU8sR0FBbUIsRUFBRSxDQUFDOztRQUU3QixTQUFJLEdBQUcsS0FBSyxDQUFDOztRQUViLG1CQUFjLEdBQUcsS0FBSyxDQUFDOztR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Ozs7SUFHOUIsd0NBQTZCOzs7OztJQUM3Qix5Q0FBOEI7Ozs7O0lBQzlCLHVDQUEyQjs7Ozs7SUFDM0Isb0NBQWdDOzs7OztJQUNoQyxxQ0FBc0IiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHtcclxuICAgIENvbXBvbmVudCwgT25Jbml0LCBPbkNoYW5nZXMsIFNpbXBsZUNoYW5nZXMsIElucHV0LCBFbGVtZW50UmVmLCBSZW5kZXJlcjIsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxyXG4gICAgQ2hhbmdlRGV0ZWN0b3JSZWYsIFZpZXdFbmNhcHN1bGF0aW9uLCBBZnRlclZpZXdJbml0LCBWaWV3Q2hpbGQsIE9uRGVzdHJveSwgQWZ0ZXJDb250ZW50Q2hlY2tlZCxcclxuICAgIEV2ZW50RW1pdHRlciwgT3V0cHV0LCBBZnRlckNvbnRlbnRJbml0LCBBZnRlclZpZXdDaGVja2VkLCBOZ1pvbmVcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgU3Vic2NyaXB0aW9uLCBmcm9tRXZlbnQsIGludGVydmFsLCBPYnNlcnZhYmxlLCBvZiwgQmVoYXZpb3JTdWJqZWN0LCBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IHRha2VVbnRpbCwgbWFwLCBzY2FuLCBzd2l0Y2hNYXAsIHRha2VXaGlsZSwgY29uY2F0LCBkZWJvdW5jZVRpbWUgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XHJcblxyXG5pbXBvcnQgeyBUYWJTZXJ2aWNlLCBUYWJDb25maWcgfSBmcm9tICcuLi90YWJzLmNvbmZpZyc7XHJcbmltcG9ydCB7IFRhYnNDaGFuZ2VFdmVudCwgVGFic1JlbW92ZVRhYkV2ZW50IH0gZnJvbSAnLi4vdGFicy5ldmVudHMnO1xyXG5pbXBvcnQgeyBGYXJyaXNUYWJDb21wb25lbnQgfSBmcm9tICcuLi90YWIvdGFiLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFRvb2xiYXJDb25mLFRvb2xiYXJDb250ZW50c0NvbmZ9IGZyb20gJy4uL3Rvb2xiYXIuY29uZmlnJztcclxuaW1wb3J0IFJlc2l6ZU9ic2VydmVyIGZyb20gJ3Jlc2l6ZS1vYnNlcnZlci1wb2x5ZmlsbCc7XHJcbmltcG9ydCB7IE5nYkRyb3Bkb3duTWVudSB9IGZyb20gJy4uL2Ryb3Bkb3duL2Ryb3Bkb3duJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdmYXJyaXMtdGFicycsXHJcbiAgICB0ZW1wbGF0ZVVybDogJy4vdGFicy5jb21wb25lbnQuaHRtbCcsXHJcbiAgICBzdHlsZVVybHM6IFsnLi90YWJzLmNvbXBvbmVudC5zY3NzJ10sXHJcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcclxufSlcclxuZXhwb3J0IGNsYXNzIEZhcnJpc1RhYnNDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcywgQWZ0ZXJWaWV3SW5pdCxcclxuICAgIE9uRGVzdHJveSwgQWZ0ZXJDb250ZW50SW5pdCwgQWZ0ZXJDb250ZW50Q2hlY2tlZCwgQWZ0ZXJWaWV3Q2hlY2tlZCB7XHJcblxyXG4gICAgQElucHV0KCkgdGFiVHlwZTonZmlsbCd8J3BpbGxzJ3wnJz0nJztcclxuICAgIC8vIOaUr+aMgeagh+etvumhteWhq+WFhVxyXG4gICAgQElucHV0KCkgZmlsbCA9IGZhbHNlO1xyXG4gICAgLy8g5pSv5oyB5qCH562+6aG15qCH6aKY6Ieq6YCC5bqU5a695bqmLVxyXG4gICAgQElucHV0KCkgYXV0b1RpdGxlV2lkdGggPSBmYWxzZTtcclxuICAgIC8vIOagh+mimOmVv+W6puWkp+S6juetieS6juWkmuWwkeWtl+espu+8jOWQr+eUqOa4kOWPmOagt+W8j+KAlOKAlOWxnuaAp+W6n+W8g1xyXG4gICAgQElucHV0KCkgdGl0bGVMZW5ndGggPSA3O1xyXG4gICAgc2VhcmNoSW5wdXRWaXNpYmxlOiBib29sZWFuO1xyXG4gICAgLy8gdGFi6aG15L2N572uIOS4iuS4i+W3puWPs1xyXG4gICAgQElucHV0KCkgc2V0IHBvc2l0aW9uKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb25TdGF0ZXMubmV4dCh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBnZXQgcG9zaXRpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xyXG4gICAgfVxyXG4gICAgLy8g5piv5ZCm5ZCv55So5LiL5ouJ5qGGXHJcbiAgICBASW5wdXQoKSBzaG93RHJvcERvd247XHJcbiAgICAvLyDmmK/lkKblkK/nlKjmj5DnpLrkv6Hmga8tLS3mnKrooqvkvb/nlKhcclxuICAgIEBJbnB1dCgpIHNob3dUb29sdGlwcztcclxuICAgIC8vIOeCueWHu+aXtua7muWKqOatpemVv1xyXG4gICAgQElucHV0KCkgc2Nyb2xsU3RlcDtcclxuICAgIC8vIOaYr+WQpuiHquWKqOmHjeaWsOWuveW6pi0tLeacquiiq+S9v+eUqFxyXG4gICAgQElucHV0KCkgYXV0b1Jlc2l6ZTtcclxuICAgIC8vIOiuvue9ruWPr+WFs+mXreagh+etvumhtS0tLeacquiiq+S9v+eUqFxyXG4gICAgQElucHV0KCkgY2xvc2VhYmxlOiBib29sZWFuO1xyXG4gICAgLy8g6K6+572u5Y+v6YCJ5Lit5qCH562+6aG1XHJcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8taW5wdXQtcmVuYW1lXHJcbiAgICBASW5wdXQoJ3ZhbHVlJykgc2VsZWN0SWQ6IHN0cmluZztcclxuICAgIC8vIHRhYnPlrr3luqblkozpq5jluqZcclxuICAgIEBJbnB1dCgpIHNldCB3aWR0aCh2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgdGhpcy5fd2lkdGggPSB0aGlzLnJlc29sdmVTaXplKHZhbHVlKTtcclxuICAgICAgICB0aGlzLndpZHRoU3RhdGVzLm5leHQodGhpcy5fd2lkdGgpO1xyXG4gICAgfVxyXG4gICAgQElucHV0KCkgc2V0IGhlaWdodCh2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdGhpcy5yZXNvbHZlU2l6ZSh2YWx1ZSk7XHJcbiAgICAgICAgdGhpcy5oZWlnaHRTdGF0ZXMubmV4dCh0aGlzLl9oZWlnaHQpO1xyXG4gICAgfVxyXG4gICAgLy8g5pCc57Si5qGG5piv5ZCm5pi+56S6XHJcbiAgICBASW5wdXQoKSBzZWFyY2hCb3hWaXNpYmxlID0gdHJ1ZTtcclxuICAgIC8vIOagh+etvumhtemrmOW6pi0tLS0t5pyq6KKr5L2/55SoXHJcbiAgICBfaGVhZGVySGVpZ2h0OiBzdHJpbmcgfCBudW1iZXI7XHJcbiAgICBASW5wdXQoJ2hlYWRlci1oZWlnaHQnKVxyXG4gICAgZ2V0IGhlYWRlckhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faGVhZGVySGVpZ2h0O1xyXG4gICAgfVxyXG4gICAgc2V0IGhlYWRlckhlaWdodChoZWFkZXJIZWlnaHQpIHtcclxuICAgICAgICB0aGlzLl9oZWFkZXJIZWlnaHQgPSB0aGlzLnJlc29sdmVTaXplKGhlYWRlckhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5YaF5a655piv5ZCm5pivZmxleCDlrrnlmagg55So5LqO5YaF6YOo5a2Q5YWD57SgZmxleC0tLS0t5pyq6KKr5L2/55SoXHJcbiAgICBASW5wdXQoKSBjb250ZW50RGlyZWN0aW9uID0gJ2NvbHVtbic7XHJcbiAgICAvLyDlhoXlrrnmmK/lkKbloavlhYUgIOm7mOiupOaYr+S4jeWhq+WFhVxyXG4gICAgQElucHV0KCkgc2V0IGNvbnRlbnRGaWxsKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fY29udGVudEZpbGwgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLmNvbnRlbnRGaWxsU3RhdGVzLm5leHQodmFsdWUpO1xyXG4gICAgfVxyXG4gICAgQElucHV0KCkgY2xpY2tUaHJvdHRsZVRpbWUgPSAzNTA7XHJcbiAgICBwcml2YXRlIGNsaWNrSXRlbXMgPSBuZXcgU3ViamVjdDxhbnk+KCk7XHJcbiAgICBwcml2YXRlIGNsaWNrU3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XHJcblxyXG4gICAgQElucHV0KCkgYnRuU3RhdGVzOiBPYnNlcnZhYmxlPEFycmF5PHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9Pj47XHJcbiAgICBASW5wdXQoKSBidG5WaXNpYmxlOiBPYnNlcnZhYmxlPEFycmF5PHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9Pj47XHJcblxyXG4gICAgLy8g5omA5pyJ5qCH562+5pWw5o2uXHJcbiAgICBASW5wdXQoKVxyXG4gICAgZ2V0IHRhYnMoKTogYW55W10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90YWJzO1xyXG4gICAgfVxyXG4gICAgc2V0IHRhYnModmFsdWUpIHtcclxuICAgICAgICB0aGlzLl90YWJzID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgQElucHV0KClcclxuICAgIGdldCBjdXN0b21DbGFzcygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXN0b21DbGFzcztcclxuICAgIH1cclxuICAgIHNldCBjdXN0b21DbGFzcyhjdXN0b21DbGFzczogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VzdG9tQ2xhc3MpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXN0b21DbGFzcy5zcGxpdCgnICcpLmZvckVhY2goKGNzc0NsYXNzOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5lbCwgY3NzQ2xhc3MpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2N1c3RvbUNsYXNzID0gY3VzdG9tQ2xhc3MgPyBjdXN0b21DbGFzcy50cmltKCkgOiBudWxsO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jdXN0b21DbGFzcykge1xyXG4gICAgICAgICAgICB0aGlzLmN1c3RvbUNsYXNzLnNwbGl0KCcgJykuZm9yRWFjaCgoY3NzQ2xhc3M6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmVsLCBjc3NDbGFzcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIOW3puS+p+aJgOacieagh+etvueahOWuveW6puWSjCznmb7liIbmr5RcclxuICAgIEBJbnB1dCgpIHRpdGxlV2lkdGggPSAwO1xyXG4gICAgQFZpZXdDaGlsZCgnbGVmdE5hdicpIGxlZnROYXY7XHJcbiAgICBAVmlld0NoaWxkKCdyaWdodE5hdicpIHJpZ2h0TmF2O1xyXG4gICAgQFZpZXdDaGlsZCgndGFiQ29udGFpbmVyJykgdGFiQ29udGFpbmVyO1xyXG4gICAgQFZpZXdDaGlsZCgndG9vbGJhckNvbnRhaW5lcicpIHRvb2xiYXJDb250YWluZXI7XHJcbiAgICBAVmlld0NoaWxkKCdkcm9wRG93bkJ1dHRvbicpIGRyb3BEb3duQnV0dG9uO1xyXG4gICAgQFZpZXdDaGlsZCgndGFiUGFyZW50JykgdGFiUGFyZW50O1xyXG4gICAgQFZpZXdDaGlsZCgnYnRuUGxhY2Vob2xkZXInKSBidG5QbGFjZUhvbGRlcjtcclxuXHJcbiAgICAvKiog6YCJ5LitdGFiIOWJjeS6i+S7tiAqL1xyXG4gICAgQElucHV0KCkgYmVmb3JlU2VsZWN0OiAoZTogVGFic0NoYW5nZUV2ZW50KSA9PiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xyXG4gICAgQE91dHB1dCgpIHRhYkNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8VGFic0NoYW5nZUV2ZW50PigpO1xyXG4gICAgQE91dHB1dCgpIHRhYlJlbW92ZSA9IG5ldyBFdmVudEVtaXR0ZXI8VGFic1JlbW92ZVRhYkV2ZW50PigpO1xyXG5cclxuICAgIGdldCBkaXJlY3Rpb24oKSB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvcCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2NvbHVtbic7XHJcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2NvbHVtbi1yZXZlcnNlJztcclxuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3Jvdyc7XHJcbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAncm93LXJldmVyc2UnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDml6DnlKjvvIzlhbzlrrlcclxuICAgIGdldCB0YWJEaXJlY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24gPT09ICd0b3AnIHx8IHRoaXMucG9zaXRpb24gPT09ICdib3R0b20nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAncm93JztcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucG9zaXRpb24gPT09ICdsZWZ0JyB8fCB0aGlzLnBvc2l0aW9uID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnY29sdW1uJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyDlhoXlrrnloavlhYXnirbmgIFcclxuICAgIGNvbnRlbnRGaWxsU3RhdGVzID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPihmYWxzZSk7XHJcbiAgICAvLyDlhoXlrrnmmK/lkKbloavlhYUs6buY6K6k5LiN5aGr5YWFXHJcbiAgICBfY29udGVudEZpbGw6IGFueTtcclxuICAgIC8vIOWuveW6pueKtuaAgVxyXG4gICAgd2lkdGhTdGF0ZXMgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGFueT4oZmFsc2UpO1xyXG4gICAgLy8gdGFic+WuveW6plxyXG4gICAgX3dpZHRoOiBhbnk7XHJcbiAgICAvLyDpq5jluqbnirbmgIFcclxuICAgIGhlaWdodFN0YXRlcyA9IG5ldyBCZWhhdmlvclN1YmplY3Q8YW55PihmYWxzZSk7XHJcbiAgICAvLyB0YWJz5a695bqmXHJcbiAgICBfaGVpZ2h0OiBhbnk7XHJcbiAgICAvLyB0YWJz5qCH6aKY5L2N572uXHJcbiAgICBfcG9zaXRpb246IGFueTtcclxuICAgIHBvc2l0aW9uU3RhdGVzID0gbmV3IEJlaGF2aW9yU3ViamVjdDxzdHJpbmc+KCd0b3AnKTtcclxuICAgIG1lbnVJdGVtc1dpZHRoID0gJ2F1dG8nO1xyXG4gICAgLy9tYXhEcm9wZG93bkggPSAyMDA7IC0tLS0t5pyq6KKr5L2/55SoXHJcbiAgICAvLyDkuIvmi4nliJfooajmnIDlpKflrr3luqbvvJog6Z2e5q2j5YC86KGo5piO5piv5LiN6ZmQ5Yi25a695bqmIC0tLS0t5pyq6KKr5L2/55SoXHJcbiAgICBtYXhEcm9wZG93blcgPSAtMTtcclxuICAgIHByaXZhdGUgX2N1c3RvbUNsYXNzID0gJyc7XHJcbiAgICAvLyDmoIfnrb7lrZjlgqjliJfooahcclxuICAgIHByaXZhdGUgX3RhYnM6IEZhcnJpc1RhYkNvbXBvbmVudFtdID0gW107XHJcblxyXG4gICAgaGVhZGVyRXh0ZW5kQ29uZjogYW55O1xyXG4gICAgLy8g5bel5YW35p2h5pi+56S655u45YWz6YWN572uXHJcbiAgICB0b29sYmFyQ29uZjogVG9vbGJhckNvbmYgPSB7XHJcbiAgICAgICAgcG9zaXRpb246ICcnLFxyXG4gICAgICAgIGNvbnRlbnRzOiBbXVxyXG4gICAgfTtcclxuICAgIC8vIOW3peWFt+adoeWPs+S+p+Wwj+S4i+aLieahhuaYr+WQpuaYvuekulxyXG4gICAgdG9vbGJhckRwSGlkZGVuID0gdHJ1ZTtcclxuICAgIC8vIOW3peWFt+adoeKAnOabtOWkmuKAnemHjOeahOaMiemSrlxyXG4gICAgaW5Nb3JlQnV0dG9uQ29udGVudHM6IGFueVtdID0gW107XHJcbiAgICAvLyDmmL7npLrkuIvmi4nmlbDmja5cclxuICAgIGRyb3Bkb3duVGFicyA9IFtdO1xyXG4gICAgLy8g6ZqQ6JeP5bem5Y+z5rua5Yqo566t5aS05oyJ6ZKuXHJcbiAgICBoaWRlQnV0dG9ucyA9IHRydWU7XHJcbiAgICAvLyDljZXkuKrmoIfnrb7pobXmoIfpopjnmoTlrr3luqZcclxuICAgIHRhYldpZHRoOiBudW1iZXI7XHJcblxyXG4gICAgLy8g6ZqQ6JeP5LiL5ouJXHJcbiAgICBoaWRlRHJvcERvd24gPSB0cnVlO1xyXG4gICAgLy8g56aB55So5bem566t5aS0XHJcbiAgICBkaXNhYmxlTGVmdCA9IGZhbHNlO1xyXG4gICAgLy8g56aB55So5Y+z566t5aS0XHJcbiAgICBkaXNhYmxlUmlnaHQgPSBmYWxzZTtcclxuICAgIC8vIOW9k+WJjeagt+W8j1xyXG4gICAgcHJpdmF0ZSBlbDogSFRNTEVsZW1lbnQ7XHJcbiAgICAvLyDorrDlvZXkuovku7bmtYFcclxuICAgIHN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uW10gPSBbXTtcclxuICAgIC8vIOemgeeUqOWPs+S+p+aPkOekulxyXG4gICAgZGlzYWJsZVJUb29sdGlwID0gdHJ1ZTtcclxuICAgIC8vIOemgeeUqOW3puS+p+aPkOekulxyXG4gICAgZGlzYWJsZUxUb29sdGlwID0gdHJ1ZTtcclxuICAgIC8vIOW3puS+p+aPkOekuuaVsOaNrlxyXG4gICAgbGVmdFRvb2x0aXBUYWJzID0gW107XHJcbiAgICAvLyDlj7Pkvqfmj5DnpLrmlbDmja5cclxuICAgIHJpZ2h0VG9vbHRpcFRhYnMgPSBbXTtcclxuICAgIC8vIOWGhemDqOWkhOeQhuagh+iusFRhYuagh+etvlxyXG4gICAgcHJpdmF0ZSBfdGFiQ29udGFpbmVyRWw6IEhUTUxFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBtYXhUb29sdGlwTGVuID0gNTtcclxuICAgIC8vIOagh+iusOW9k+WJjVRhYuagh+etvlxyXG4gICAgYWN0aXZlSWQgPSAnJztcclxuICAgIHByaXZhdGUgcm86IFJlc2l6ZU9ic2VydmVyID0gbnVsbDtcclxuICAgIC8vIOaQnOe0onRhYuahhueahOWAvFxyXG4gICAgc2VhcmNoVGFiVGV4dDogc3RyaW5nO1xyXG5cclxuICAgIEBWaWV3Q2hpbGQoJ2RkbScpIGRkbTogTmdiRHJvcGRvd25NZW51O1xyXG5cclxuICAgIHByaXZhdGUgX2RkbUhhbmRsZXI6IGFueSA9IG51bGw7XHJcblxyXG4gICAgdHJhY2tCeUJ1dHRvbihpbmRleDogbnVtYmVyLCBidG46IGFueSk6IG51bWJlciB7IHJldHVybiBidG4uaWQ7IH07XHJcblxyXG5cclxuICAgIHRhYlZpc2libGVDaGFuZ2VkID0gbmV3IFN1YmplY3QoKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwcml2YXRlIHN0U2VydmljZTogVGFiU2VydmljZSxcclxuICAgICAgICBwcml2YXRlIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsXHJcbiAgICAgICAgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyLFxyXG4gICAgICAgIHByaXZhdGUgY2RSZWY6IENoYW5nZURldGVjdG9yUmVmLFxyXG4gICAgICAgIHByaXZhdGUgbmdab25lOiBOZ1pvbmVcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMuZWwgPSB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudDtcclxuICAgICAgICB0aGlzLnZlcmlmeUNvbmZpZygpO1xyXG5cclxuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbi5wdXNoKHRoaXMudGFiVmlzaWJsZUNoYW5nZWQuc3Vic2NyaWJlKChlOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fcmVDYWxjdWxhdGVBbGwoKTtcclxuICAgICAgICAgICAgdGhpcy5fY2FsY3VsYXRlVG9vbGJhckRyb3Bkb3duSXNTaG93KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJ1dHRvbnNTaG93KCk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiDpqozor4HkvKDpgJLlj4LmlbAgKi9cclxuICAgIHByaXZhdGUgdmVyaWZ5Q29uZmlnKCkge1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZzogVGFiQ29uZmlnID0gdGhpcy5zdFNlcnZpY2UuZ2V0Q29uZmlnKCk7XHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBjb25maWcpO1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsU3RlcCA9IHBhcnNlSW50KHRoaXMuc2Nyb2xsU3RlcCArICcnLCAxMCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG5nT25Jbml0KCkge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuYmVmb3JlU2VsZWN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmVmb3JlU2VsZWN0ID0gKCkgPT4gb2YodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2xpY2tTdWJzY3JpcHRpb24gPSB0aGlzLmNsaWNrSXRlbXMucGlwZShkZWJvdW5jZVRpbWUodGhpcy5jbGlja1Rocm90dGxlVGltZSkpXHJcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKGJ0bkluZm86VG9vbGJhckNvbnRlbnRzQ29uZikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGJ0bkluZm8uY2xpY2smJnR5cGVvZiBidG5JbmZvLmNsaWNrPT0nZnVuY3Rpb24nKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuSW5mby5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLl90YWJDb250YWluZXJFbCA9IHRoaXMudGFiQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5fY3JlYXRlU3RyZWFtKCk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVJZCA9IHRoaXMuc2VsZWN0SWQ7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm5nWm9uZSkge1xyXG4gICAgICAgICAgICB0aGlzLm5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ybyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm8gPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlQ2FsY3VsYXRlQWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZVRvb2xiYXJEcm9wZG93bklzU2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWxjdWxhdGVCdXR0b25zU2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvLm9ic2VydmUodGhpcy5lbC5wYXJlbnRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XHJcbiAgICAgICAgaWYgKGNoYW5nZXNbJ3NlbGVjdElkJ10pIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RUYWIoY2hhbmdlc1snc2VsZWN0SWQnXS5jdXJyZW50VmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiDmoIfnrb7pobXlhoXlrrnliJ3lp4vljJYgKi9cclxuICAgIG5nQWZ0ZXJDb250ZW50SW5pdCgpOiB2b2lkIHsgfVxyXG4gICAgbmdBZnRlckNvbnRlbnRDaGVja2VkKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XHJcbiAgICAgICAgLy8g5Li65LqG5YW85a655byE5pen6KGo5Y2V77yM5LiN5YW85a65SG9zdEJpbmRpbmcsIOmAmui/h+i/veWKoGNsYXNz55qE5pa55byP5a6e546wXHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmVsLCAnZmFycmlzLXRhYnMnKTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZWwsICdmbGV4LWNvbHVtbicpO1xyXG4gICAgICAgIHRoaXMuY29udGVudEZpbGxTdGF0ZXMuc3Vic2NyaWJlKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmVsLCAnZi10YWJzLWNvbnRlbnQtZmlsbCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLmVsLCAnZi10YWJzLWNvbnRlbnQtZmlsbCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy53aWR0aFN0YXRlcy5zdWJzY3JpYmUoZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMuZWwsICd3aWR0aCcsIGRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5oZWlnaHRTdGF0ZXMuc3Vic2NyaWJlKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLmVsLCAnaGVpZ2h0JywgZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uU3RhdGVzLnN1YnNjcmliZShkYXRhID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLmVsLCAnZmxleC1yb3cnKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLmVsLCAnZmxleC1jb2x1bW4nKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLmVsLCAnZmxleC1yb3ctcmV2ZXJzZScpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZUNsYXNzKHRoaXMuZWwsICdmbGV4LWNvbHVtbi1yZXZlcnNlJyk7XHJcbiAgICAgICAgICAgIGlmIChkYXRhID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy5lbCwgJ2ZsZXgtcm93Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRhdGEgPT09ICd0b3AnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZWwsICdmbGV4LWNvbHVtbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkYXRhID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZWwsICdmbGV4LXJvdy1yZXZlcnNlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRhdGEgPT09ICdib3R0b20nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZWwsICdmbGV4LWNvbHVtbi1yZXZlcnNlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyDlhbzlrrnnu5PmnZ9cclxuICAgICAgICB0aGlzLmdldFRvb2xiYXJDb25mKCk7XHJcbiAgICAgICAgdGhpcy5fcmVDYWxjdWxhdGVBbGwoKTtcclxuICAgICAgICB0aGlzLl9zZXRBY3RpdmUoKTtcclxuICAgICAgICB0aGlzLl9jaGFuZ2VUaXRsZVN0eWxlKCk7XHJcbiAgICAgICAgdGhpcy5fbGlzdGVuU2hvd0NoYW5nZXMoKTtcclxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICAvLyB0aGlzLnJlbmRlcmVyLmxpc3Rlbihkb2N1bWVudCwgJ2tleXVwJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAvLyAgICAgaWYgKHNlbGYuc2VhcmNoSW5wdXRWaXNpYmxlKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RkbUhhbmRsZXIgPSB0aGlzLnJlbmRlcmVyLmxpc3Rlbihkb2N1bWVudCwgJ21vdXNlZG93bicsIChlOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghZS50YXJnZXQuY2xvc2VzdCgnLmZhcnJpcy10YWJzLWhlYWRlcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWwgJiYgdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd24tbWVudScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRkbSAmJiB0aGlzLmRkbS5kcm9wZG93bikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZG0uZHJvcGRvd24uY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBuZ0FmdGVyVmlld0NoZWNrZWQoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG4gICAgbmdPbkRlc3Ryb3koKSB7XHJcbiAgICAgICAgLy8g57uE5Lu26ZSA5q+B5pe2ICDlj5bmtojmiYDmnInkuovku7borqLpmIVcclxuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbi5mb3JFYWNoKHN1YiA9PiB7XHJcbiAgICAgICAgICAgIHN1Yi51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uID0gW107XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnJvKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVsLnBhcmVudEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucm8udW5vYnNlcnZlKHRoaXMuZWwucGFyZW50RWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5ybyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5fZGRtSGFuZGxlcikge1xyXG4gICAgICAgICAgICB0aGlzLl9kZG1IYW5kbGVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RkbUhhbmRsZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jbGlja1N1YnNjcmlwdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLmNsaWNrU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2xpY2tIYW5kbGVyKGJ0bkluZm8pIHtcclxuICAgICAgICBpZiAoIWJ0bkluZm8pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNsaWNrSXRlbXMubmV4dChidG5JbmZvKTtcclxuXHJcbiAgICB9XHJcbiAgICAvLyDmm7TlpJp0YWLnmoTmmL7npLrpmpDol49cclxuICAgIG9wZW5DaGFuZ2UoZSkge1xyXG4gICAgICAgIHRoaXMuc2VhcmNoSW5wdXRWaXNpYmxlID0gZTtcclxuICAgICAgICB0aGlzLnNlYXJjaFRhYlRleHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5fcmVDYWxjdWxhdGVBbGwoKTtcclxuICAgICAgICAvLyDlkK/nlKjkuobmkJzntKLvvIzpnIDopoHliKTmlq3kuIvmi4npnaLmnb/nmoTlgLxcclxuICAgICAgICAvLyDlm6DkuLrkuIvmi4npnaLmnb/lj6/og73lrZjlnKjpga7mjKHnmoTpl67pophcclxuICAgICAgICBpZiAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLm1lbnVJdGVtc1dpZHRoID0gdGhpcy5kZG0ucmVzZXRNZW51RWxXaWR0aE9wZW4oKSArICdweCc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5tZW51SXRlbXNXaWR0aCA9ICdhdXRvJztcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgLy8g5pCc57SidGFiXHJcbiAgICBzZWFyY2hUYWIoZSkge1xyXG4gICAgICAgIHRoaXMuc3RvcEJ1YmJsZShlKTtcclxuICAgICAgICB0aGlzLl9yZUNhbGN1bGF0ZUFsbCgpO1xyXG4gICAgfVxyXG4gICAgLy8g6Zi75q2i5YaS5rOhXHJcbiAgICBzdG9wQnViYmxlKGUpIHtcclxuICAgICAgICBpZiAoZSAmJiBlLnN0b3BQcm9wYWdhdGlvbikge1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5ldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldFRvb2xiYXJTdGF0ZShpZDogc3RyaW5nLCBzdGF0ZTogT2JzZXJ2YWJsZTxhbnk+ID0gdGhpcy5idG5TdGF0ZXMpIHtcclxuICAgICAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnBpcGUoXHJcbiAgICAgICAgICAgICAgICBtYXAoKG46IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuW2lkXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2Fybihg5pyq5om+SUTkuLrvvJoke2lkfSDnm7jlhbPnirbmgIHorr7nva7vvIFgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbltpZF07XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvZih0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyDnm5HlkKzlrZDnu4Tku7bnmoTpmpDol4/mmL7npLrlsZ7mgKdcclxuICAgIHByaXZhdGUgX2xpc3RlblNob3dDaGFuZ2VzKCkge1xyXG4gICAgICAgIC8vIOWmguaenOmakOiXj+eahOe7hOS7tuaYr+a/gOa0u+eKtuaAge+8jOWFiOWwhuWFtuiuvue9ruS4uuW4uOinhFxyXG4gICAgICAgIHRoaXMudGFicy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpdGVtLnNob3dTdGF0ZXMuc3Vic2NyaWJlKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGFjdGl2ZUlkVG9rZW47XHJcbiAgICAgICAgICAgICAgICBpdGVtLl9zaG93ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBmYWxzZSAmJiBpdGVtLmlkID09PSB0aGlzLmFjdGl2ZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5fYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVJZCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUlkVG9rZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhYnMgPSB0aGlzLnRhYnMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5fc2hvdyA9PT0gdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0VGFiSWQgPSB0YWJzLmxlbmd0aCA/IHRhYnNbMF0uaWQgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgLy8g54S25ZCO5bCG5pi+56S654q25oCB5LiL55qE56ys5LiA5LiqdGFi5r+A5rS7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFRhYklkICYmIGFjdGl2ZUlkVG9rZW4gPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmlkID09PSBkZWZhdWx0VGFiSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlSWQgPSBpdGVtLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJzW2luZGV4XS5fYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0VG9vbGJhckNvbmYoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY2RSZWYuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6YCJ5LitVGFiXHJcbiAgICAgKiBAcGFyYW0gIHRhYklkIHRhYuagh+ivhlxyXG4gICAgICovXHJcbiAgICBzZWxlY3RUYWIodGFiSWQ6IHN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkVGFiID0gdGhpcy5fZ2V0VGFiQnlJZCh0YWJJZCk7XHJcbiAgICAgICAgdGhpcy5fc2VsZWN0VGFiKHNlbGVjdGVkVGFiLnRhYiwgc2VsZWN0ZWRUYWIuaW5kZXgpO1xyXG4gICAgfVxyXG4gICAgX2NwU2VsZWN0VGFiQnlJbmRleChldjogRXZlbnQsIGlkOiBzdHJpbmcsIGRkbSA9IG51bGwpIHtcclxuICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGNvbnN0IHRhcmdldEVMID0gZXYudGFyZ2V0IGFzIGFueTtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHRhcmdldEVMLmNsYXNzTmFtZS5pbmRleE9mKCdzdC1kcm9wLWNsb3NlJykgPiAtMSB8fFxyXG4gICAgICAgICAgICB0YXJnZXRFTC5wYXJlbnRFbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKCdzdC1kcm9wLWNsb3NlJykgPiAtMVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICAvLyDpmLvmraLlhpLms6HlkozmjZXojrfkuovku7Yg54K55Ye75Yig6Zmk5qCH6K6wIOWImeaJp+ihjOWIoOmZpOagh+etvuaWueazlSAg6ICM5LiN5piv6YCJ5Lit5qCH562+XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VUYWIoaWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIOmYu+atouWGkuazoVxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdFRhYihpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2V0VG9vbGJhckNvbmYoKTtcclxuICAgICAgICB0aGlzLmNkUmVmLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgICAgIHRoaXMuX3JlQ2FsY3VsYXRlQWxsKCk7XHJcbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlVG9vbGJhckRyb3Bkb3duSXNTaG93KCk7XHJcbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlQnV0dG9uc1Nob3coKTtcclxuXHJcbiAgICAgICAgaWYgKGRkbSkge1xyXG4gICAgICAgICAgICBkZG0uZHJvcGRvd24uY2xvc2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6YCa6L+HdGFic+eahOe0ouW8lemAieaLqSB0YWJcclxuICAgICAqIEBwYXJhbSBpbmRleCB0YWJz57Si5byVXHJcbiAgICAgKi9cclxuICAgIHNlbGVjdFRhYkJ5SW5kZXgoaW5kZXg6IG51bWJlcikge1xyXG4gICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy50YWJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RUYWIgPSB0aGlzLnRhYnNbaW5kZXhdO1xyXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RUYWIoc2VsZWN0VGFiLCBpbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyog6YCJ5LitdGFi5pe2ICDmmrTpnLLlh7rpgInkuK10YWLnmoRpZCDlkozlhbbkuYvlkI7nmoRpZCAqL1xyXG4gICAgcHJpdmF0ZSBfc2VsZWN0VGFiKHRhYiwgaW5kZXgpIHtcclxuICAgICAgICBpZiAodGFiICYmICF0YWIuZGlzYWJsZWQgJiYgdGhpcy5hY3RpdmVJZCAhPT0gdGFiLmlkKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuYmVmb3JlU2VsZWN0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJlZm9yZVNlbGVjdCA9ICgpID0+IG9mKHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCB0YWJzQ2hhbmdlRXZlbnRQYXJhbSA9IHtcclxuICAgICAgICAgICAgICAgIHByZXZJZDogdGhpcy5hY3RpdmVJZCxcclxuICAgICAgICAgICAgICAgIG5leHRJZDogdGFiLmlkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuYmVmb3JlU2VsZWN0KHRhYnNDaGFuZ2VFdmVudFBhcmFtKS5zdWJzY3JpYmUoKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVJZCA9IHRhYi5pZDtcclxuICAgICAgICAgICAgICAgICAgICAvLyDpppblhYjkuI3mv4DmtLvmiYDmnInnmoR0YWLpobUgIOeEtuWQjua/gOa0u+W9k+WJjXRhYumhtVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxldCBpbmRleCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFicy5mb3JFYWNoKChpdGVtOiBGYXJyaXNUYWJDb21wb25lbnQsIGk6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLl9hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYnNbaW5kZXhdLl9hY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFRvb2xiYXJDb25mKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5rua5Yqo5Yiw5Y+v6KeB5Yy65Z+f5YaFXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxUYWJJbnRvVmlldyhpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jZFJlZi5kZXRlY3RDaGFuZ2VzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFiQ2hhbmdlLmVtaXQodGFic0NoYW5nZUV2ZW50UGFyYW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9zZXRBY3RpdmUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudGFicy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3QgdGFicyA9IHRoaXMudGFicy5maWx0ZXIoaXRlbSA9PiBpdGVtLl9zaG93ID09PSB0cnVlKTtcclxuICAgICAgICAgICAgY29uc3QgYWN0aXZlVGFiID0gdGhpcy5fZ2V0VGFiQnlJZCh0aGlzLmFjdGl2ZUlkKS50YWI7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlSWQgPSBhY3RpdmVUYWIgPyBhY3RpdmVUYWIuaWQgOiB0aGlzLnRhYnMubGVuZ3RoID8gdGhpcy50YWJzWzBdLmlkIDogbnVsbDtcclxuXHJcbiAgICAgICAgICAgIC8vIOi/h+a7pOaOiXNob3c9ZmFsc2XvvIjpmpDol4/vvInnmoR0YWJcclxuICAgICAgICAgICAgaWYgKHRhYnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFRhYiA9IHRhYnMuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IHRoaXMuYWN0aXZlSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRUYWIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVJZCA9IHRhcmdldFRhYi5pZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlSWQgPSB0YWJzWzBdLmlkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVJZCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50YWJzLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLl9hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLmlkID09PSB0aGlzLmFjdGl2ZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5fYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gYWN0aXZlSWQg5pi+56S65p+Q5LiqdGFiXHJcbiAgICAgKi9cclxuICAgIHNob3dUYWIodGFiSWQ6IGFueSwgc2VsZWN0YWJsZSA9IHRydWUpIHtcclxuICAgICAgICBjb25zdCBsZW4gPSB0aGlzLnRhYnMubGVuZ3RoO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGFic1tpXS5pZCA9PT0gdGFiSWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFic1tpXS5fc2hvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0VGFiKHRhYklkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGFjdGl2ZUlkIOmakOiXj+afkOS4qnRhYlxyXG4gICAgICovXHJcbiAgICBoaWRlVGFiKGFjdGl2ZUlkOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBzaG93VGFicyA9IHRoaXMudGFicy5maWx0ZXIoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtLl9zaG93ID09PSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGxlbiA9IHNob3dUYWJzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgaWYgKGxlbiA8IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaW5kZXg6IG51bWJlcjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoc2hvd1RhYnNbaV0uaWQgPT09IGFjdGl2ZUlkKSB7XHJcbiAgICAgICAgICAgICAgICBzaG93VGFic1tpXS5fc2hvdyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IGxlbiAmJiBsZW4gPCAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0VGFiKCcnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID09PSBsZW4gJiYgbGVuID49IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RUYWIoc2hvd1RhYnNbbGVuIC0gMV0uaWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0VGFiKHNob3dUYWJzW2luZGV4ICsgMV0uaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5re75Yqg5qCH562+XHJcbiAgICAgKiBAcGFyYW0gY3VyVGFicyDmlbDnu4TmiJbogIXlr7nosaFcclxuICAgICAqIEBwYXJhbSBhY3RpdmVJZCDorr7nva5cclxuICAgICAqL1xyXG4gICAgYWRkVGFicyhjdXJUYWJzOiBhbnlbXSwgaW5kZXgsIHNldEFjdGl2ZUlkKSB7XHJcbiAgICAgICAgaWYgKGN1clRhYnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnRhYnMuc3BsaWNlKGluZGV4LCAwLCAuLi5jdXJUYWJzKTtcclxuICAgICAgICAgICAgLy8g5Y676YeNXHJcbiAgICAgICAgICAgIHRoaXMudGFicyA9IHRoaXMuX3VuaXF1ZSh0aGlzLnRhYnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2V0QWN0aXZlSWQgJiYgdGhpcy5hY3RpdmVJZCAhPT0gc2V0QWN0aXZlSWQpIHtcclxuICAgICAgICAgICAgY29uc3QgZmlsdGVyVGFiID0gdGhpcy5fZ2V0VGFiQnlJZChzZXRBY3RpdmVJZCk7XHJcbiAgICAgICAgICAgIGlmIChmaWx0ZXJUYWIuaW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RUYWIoc2V0QWN0aXZlSWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVJZCA9IHNldEFjdGl2ZUlkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxUYWJJbnRvVmlldyhmaWx0ZXJUYWIuaW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2RSZWYuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgIHRoaXMuX3JlQ2FsY3VsYXRlQWxsKCk7XHJcbiAgICAgICAgdGhpcy5fY2hhbmdlVGl0bGVTdHlsZSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDmt7vliqDmoIfnrb7ml7YgIOWOu+mHjVxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfdW5pcXVlKG9iakFycmF5KSB7XHJcbiAgICAgICAgY29uc3QgaGFzaCA9IHt9O1xyXG4gICAgICAgIG9iakFycmF5ID0gb2JqQXJyYXkucmVkdWNlKGZ1bmN0aW9uIChpdGVtLCBuZXh0KSB7XHJcbiAgICAgICAgICAgIGlmIChoYXNoW25leHQuaWRdKSB7XHJcbiAgICAgICAgICAgICAgICBoYXNoW25leHQuaWRdID0gJyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBoYXNoW25leHQuaWRdID0gdHJ1ZSAmJiBpdGVtLnB1c2gobmV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICAgICAgfSwgW10pO1xyXG4gICAgICAgIHJldHVybiBvYmpBcnJheTtcclxuICAgIH1cclxuICAgIC8qIOmAmui/h3RhYuWIl+ihqOeahOW6j+WIl+WIoOmZpHRhYiAqL1xyXG4gICAgcmVtb3ZlVGFiQnlJbmRleChpbmRleDogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3QgbGVuID0gdGhpcy50YWJzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IGxlbikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlbW92ZVRhYiA9IHRoaXMudGFic1tpbmRleF07XHJcbiAgICAgICAgcmVtb3ZlVGFiLl9hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmVJZCA9PT0gcmVtb3ZlVGFiLmlkKSB7XHJcbiAgICAgICAgICAgIC8vIOWPquacieS4gOS4quiAjOS4lOiiq+WIoOmZpFxyXG4gICAgICAgICAgICBpZiAobGVuID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyDlpoLmnpzmiYDmnInmoIfnrb7lnYfliKDpmaQg5r+A5rS7aWTkuLrnqbpcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlSWQgPSAnJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gbGVuKSB7XHJcbiAgICAgICAgICAgICAgICAvLyDlpoLmnpzliKDpmaTnmoTmmK/mnIDlkI7kuIDkuKrmoIfnrb4g6K6+572u5YW25YmN6Z2i55qE5aSE5LqO5r+A5rS754q25oCBXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUlkID0gdGhpcy50YWJzW2xlbiAtIDFdLmlkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWJzW2luZGV4IC0gMV0uX2FjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyDlpoLmnpzlhbbku5bmg4XlhrUgIOiuvue9ruWFtuWQjumdoueahOWkhOS6jua/gOa0u+eKtuaAgVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVJZCA9IHRoaXMudGFic1tpbmRleCArIDFdLmlkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWJzW2luZGV4ICsgMV0uX2FjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50YWJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGFiSW50b1ZpZXcoaW5kZXgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFicy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRhYlJlbW92ZS5lbWl0KHtcclxuICAgICAgICAgICAgcmVtb3ZlSW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICByZW1vdmVJZDogcmVtb3ZlVGFiLmlkLFxyXG4gICAgICAgICAgICBhY3RpdmVJZDogdGhpcy5hY3RpdmVJZFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY2RSZWYuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlhbPpl63moIfnrb4gIOi3n+WIoOmZpOagh+etvuS4jeWQjFxyXG4gICAgICogQHBhcmFtIHN0cmluZ1xyXG4gICAgICovXHJcbiAgICBjbG9zZVRhYihhY3RpdmVJZCkge1xyXG4gICAgICAgIGNvbnN0IGxlbiA9IHRoaXMudGFicy5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB0YWIgPSB0aGlzLnRhYnNbaV07XHJcbiAgICAgICAgICAgIGlmICh0YWIuaWQgPT09IGFjdGl2ZUlkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVRhYkJ5SW5kZXgoaSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOWIneWni+WMllxyXG4gICAgICovXHJcbiAgICBsb2FkKCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50YWJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhYnNbaV0uaWQgPT09IHRoaXMuYWN0aXZlSWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFic1tpXS5fYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaIquWPlnRhYuS4reeahHRpdGxlLOi2hei/hzbkvY3vvIzmiKrmlq1cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfdHJ1bmNhdGVUaXRsZSgpIHtcclxuICAgICAgICB0aGlzLnRhYnMgPSB0aGlzLnRhYnMubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpdGVtLnRpdGxlID0gaXRlbS50aXRsZS5sZW5ndGggPiA2ID8gaXRlbS50aXRsZS5zdWJzdHIoMCwgNikgOiBpdGVtLnRpdGxlO1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOabv+aNonRhYuS4reeahHRpdGxl6aKc6ImyXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX2NoYW5nZVRpdGxlU3R5bGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXV0b1RpdGxlV2lkdGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCAkdGV4dEVscyA9IHRoaXMuX3RhYkNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdC10YWItdGV4dCcpO1xyXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgJHRleHRFbHMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgbGV0IHBhcmVudEVsID0gJHRleHRFbHNba10ucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgaWYgKCR0ZXh0RWxzW2tdLnNjcm9sbFdpZHRoID4gcGFyZW50RWxbJ29mZnNldFdpZHRoJ10pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFic1trXS50aXRsZU92ZXJmbG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFic1trXS50aXRsZU92ZXJmbG93ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy90aGlzLmNkUmVmLmRldGVjdENoYW5nZXMoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5Yib5bu65rWBXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX2NyZWF0ZVN0cmVhbSgpIHtcclxuICAgICAgICBbdGhpcy5yaWdodE5hdiwgdGhpcy5sZWZ0TmF2XS5mb3JFYWNoKChjdXJCdG4sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGluZGV4ID8gLTEgOiAxO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbW91c2Vkb3duJCA9IGZyb21FdmVudChjdXJCdG4ubmF0aXZlRWxlbWVudCwgJ21vdXNlZG93bicpO1xyXG4gICAgICAgICAgICBjb25zdCBtb3VzZXVwJCA9IGZyb21FdmVudChjdXJCdG4ubmF0aXZlRWxlbWVudCwgJ21vdXNldXAnKTtcclxuICAgICAgICAgICAgY29uc3QgbmV3TW91c2VEb3duJCA9IG1vdXNlZG93biQucGlwZShcclxuICAgICAgICAgICAgICAgIHN3aXRjaE1hcCgoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVydmFsJCA9IG9mKDApLnBpcGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbmNhdChpbnRlcnZhbCg4MCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlVW50aWwobW91c2V1cCQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FuKChzdW06IG51bWJlciwgbnVtOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdW0gKyB0aGlzLnNjcm9sbFN0ZXAgKiBkaXJlY3Rpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlV2hpbGUobnVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICF0aGlzLmRpc2FibGVSaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhdGhpcy5kaXNhYmxlTGVmdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcCh2ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB2LCBkaXJlY3Rpb24gfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnRlcnZhbCQ7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBjb25zdCBtb3VzZXByZXNzU3ViID0gbmV3TW91c2VEb3duJC5zdWJzY3JpYmUoY2hhbmdlID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbFRhYihjaGFuZ2UudmFsdWUsIGNoYW5nZS5kaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24ucHVzaChtb3VzZXByZXNzU3ViKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gaWYgKHRoaXMuYXV0b1Jlc2l6ZSkge1xyXG4gICAgICAgIC8vICAgICAvLyDorqLpmIV3aW5kb3dzIHJlc2l6ZeS6i+S7tlxyXG4gICAgICAgIC8vICAgICB0aGlzLnN1YnNjcmlwdGlvbi5wdXNoKFxyXG4gICAgICAgIC8vICAgICAgICAgZnJvbUV2ZW50KHdpbmRvdywgJ3Jlc2l6ZScpXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgLnBpcGUodGhyb3R0bGVUaW1lKDgwKSlcclxuICAgICAgICAvLyAgICAgICAgICAgICAuc3Vic2NyaWJlKGUgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLmNkUmVmLmRldGVjdENoYW5nZXMoKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICB9KVxyXG4gICAgICAgIC8vICAgICApO1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5oyJ54Wn5pa55ZCR77yM5rua5Yqo5Yiw5oyH5a6a5L2N572uXHJcbiAgICAgKiBAcGFyYW0gZGlzdF9zY3JvbGwg55uu5qCH5rua5YqoXHJcbiAgICAgKiBAcGFyYW0gZGlyZWN0aW9uIOaWueWQkVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9zY3JvbGxUYWIobW92ZSwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgZGlzdF9zY3JvbGxsZWZ0ID0gdGhpcy5fdGFiQ29udGFpbmVyRWwuc2Nyb2xsTGVmdCArIG1vdmU7XHJcbiAgICAgICAgY29uc3QgbWF4X3Njcm9sbF9sZWZ0ID1cclxuICAgICAgICAgICAgdGhpcy5fdGFiQ29udGFpbmVyRWwuc2Nyb2xsV2lkdGggLSB0aGlzLl90YWJDb250YWluZXJFbC5vZmZzZXRXaWR0aDtcclxuICAgICAgICAvLyDmoIfnrb7pobXlt6bkvqfnp7vliqhcclxuICAgICAgICBpZiAoZGlyZWN0aW9uID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLl90YWJDb250YWluZXJFbC5zY3JvbGxMZWZ0ID0gTWF0aC5taW4oXHJcbiAgICAgICAgICAgICAgICBkaXN0X3Njcm9sbGxlZnQsXHJcbiAgICAgICAgICAgICAgICBtYXhfc2Nyb2xsX2xlZnRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA8IDApIHtcclxuICAgICAgICAgICAgLy8g5qCH562+6aG15Y+z5L6n56e75YqoXHJcbiAgICAgICAgICAgIHRoaXMuX3RhYkNvbnRhaW5lckVsLnNjcm9sbExlZnQgPSBNYXRoLm1heChkaXN0X3Njcm9sbGxlZnQsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9yZUNhbGN1bGF0ZVNpZGVzKCk7XHJcbiAgICAgICAgLy8gdGhpcy5jZFJlZi5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOaMh+WumuW9k+WJjea7keWKqOWIsOWPr+inhuWMuuWfn+KAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOKAlOacqua1i+ivlVxyXG4gICAgICogaW5kZXhcclxuICAgICAqL1xyXG4gICAgc2Nyb2xsVGFiSW50b1ZpZXcoaW5kZXgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX3RhYkNvbnRhaW5lckVsIHx8IHRoaXMuaGlkZUJ1dHRvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0YWJJbmRleCA9IHBhcnNlSW50KGluZGV4ICsgJycsIDEwKTtcclxuICAgICAgICBsZXQgdGFiVG9TY3JvbGw7XHJcblxyXG4gICAgICAgIC8vIGZpcnN0IHdlIGZpbmQgdGhlIHRhYiBlbGVtZW50LlxyXG4gICAgICAgIGlmICh0YWJJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFsbFRhYnMgPSB0aGlzLl90YWJDb250YWluZXJFbC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2LWl0ZW0nKTtcclxuICAgICAgICAgICAgaWYgKGFsbFRhYnMubGVuZ3RoID4gdGFiSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHRhYlRvU2Nyb2xsID0gYWxsVGFic1t0YWJJbmRleF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBzY3JvbGwgc2VsZWN0ZWQgdGFiIGludG8gdmlld1xyXG4gICAgICAgICAgICBjb25zdCBhY3RpdmVUYWIgPSB0aGlzLl90YWJDb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKCdsaS5hY3RpdmUnKTtcclxuICAgICAgICAgICAgaWYgKGFjdGl2ZVRhYikge1xyXG4gICAgICAgICAgICAgICAgdGFiVG9TY3JvbGwgPSBhY3RpdmVUYWI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0YWJUb1Njcm9sbCkge1xyXG4gICAgICAgICAgICBjb25zdCB0YWJfbGVmdCA9IHBhcnNlSW50KFxyXG4gICAgICAgICAgICAgICAgdGFiVG9TY3JvbGwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArICcnLFxyXG4gICAgICAgICAgICAgICAgMTBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY29uc3QgdGFic19sZWZ0ID0gcGFyc2VJbnQoXHJcbiAgICAgICAgICAgICAgICB0aGlzLl90YWJDb250YWluZXJFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ICsgJycsXHJcbiAgICAgICAgICAgICAgICAxMFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBjb25zdCByaWdodFBvc2l0aW9uID1cclxuICAgICAgICAgICAgICAgIHRhYl9sZWZ0ICtcclxuICAgICAgICAgICAgICAgIHBhcnNlSW50KHRhYlRvU2Nyb2xsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgJycsIDEwKSAtXHJcbiAgICAgICAgICAgICAgICB0YWJzX2xlZnQ7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBsZWZ0UG9zaXRpb24gPSB0YWJfbGVmdCAtIHRhYnNfbGVmdCAtIDEwO1xyXG4gICAgICAgICAgICBpZiAobGVmdFBvc2l0aW9uIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsVGFiKGxlZnRQb3NpdGlvbiwgLTEpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJpZ2h0UG9zaXRpb24gPiB0aGlzLl90YWJDb250YWluZXJFbC5vZmZzZXRXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsVGFiKFxyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0UG9zaXRpb24gLSB0aGlzLl90YWJDb250YWluZXJFbC5vZmZzZXRXaWR0aCArIDIwLFxyXG4gICAgICAgICAgICAgICAgICAgIDFcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliIfmjaJ0YWLlkI7vvIzph43mlrDojrflj5bpnIDopoHor6V0YWLkuIvlt6XlhbfmnaHmjInpkq7nmoTphY3nva7kv6Hmga/ku6Xlj4rpmpDol4/mm7TlpJrmjInpkq5cclxuICAgICAqIOS7peWPiuiOt+WPluivpXRhYuS4i+eahOWktOmDqOaJqeWxleWMuuWfn1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldFRvb2xiYXJDb25mKCkge1xyXG4gICAgICAgIGNvbnN0IHRhYkNvbmZpZyA9IHRoaXMudGFicy5maWx0ZXIoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtLl9hY3RpdmUgPT09IHRydWU7XHJcbiAgICAgICAgfSlbMF07XHJcbiAgICAgICAgaWYgKCF0YWJDb25maWcgfHwgIXRhYkNvbmZpZy5oYXNPd25Qcm9wZXJ0eSgndG9vbGJhcicpKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9vbGJhckNvbmYgPSBudWxsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9vbGJhckNvbmYgPSB0YWJDb25maWcudG9vbGJhcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g6I635Y+W6K+ldGFi5LiL55qE5aS06YOo5omp5bGV5Yy65Z+fXHJcbiAgICAgICAgaWYgKCF0YWJDb25maWcgfHwgIXRhYkNvbmZpZy5oYXNPd25Qcm9wZXJ0eSgnZmFycmlzVGFic0V4dGVuZERpcmVjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyRXh0ZW5kQ29uZiA9IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5oZWFkZXJFeHRlbmRDb25mID0gdGFiQ29uZmlnLmZhcnJpc1RhYnNFeHRlbmREaXJlY3RpdmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOmakOiXj+abtOWkmuaMiemSrlxyXG4gICAgICAgIHRoaXMudG9vbGJhckRwSGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmNkUmVmLmRldGVjdENoYW5nZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiuoeeul+W3peWFt+agj+aYr+WQpuaYvuekuuS4i+aLieaMiemSrlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9jYWxjdWxhdGVUb29sYmFyRHJvcGRvd25Jc1Nob3coKSB7XHJcbiAgICAgICAgbGV0IGhlYWRlckV4dGVuZEVsOiBhbnk7XHJcbiAgICAgICAgbGV0IGhlYWRlckV4dGVuZEVsV2lkdGggPSAwO1xyXG4gICAgICAgIGlmICghdGhpcy50b29sYmFyQ29udGFpbmVyIHx8ICF0aGlzLnRvb2xiYXJDb25mKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdG9vbGJhckNvbnRhaW5lciA9IHRoaXMuaGFzSW5IZWFkQ2woKSA/IHRoaXMudG9vbGJhckNvbnRhaW5lci5uYXRpdmVFbGVtZW50IDogdGhpcy50b29sYmFyQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQucGFyZW50RWxlbWVudDtcclxuICAgICAgICBsZXQgZGl2RWwgPSB0b29sYmFyQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mYXJyaXMtdGFicy1pbmxpbmUtZmxleCcpO1xyXG4gICAgICAgIGlmICghZGl2RWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5oZWFkZXJFeHRlbmRDb25mKSB7XHJcbiAgICAgICAgICAgIGhlYWRlckV4dGVuZEVsID0gdG9vbGJhckNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZmFycmlzLXRhYnMtaGVhZGVyLWV4dGVuZCcpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZVN0eWxlKGhlYWRlckV4dGVuZEVsLCAnb3ZlcmZsb3cnKTtcclxuICAgICAgICAgICAgaGVhZGVyRXh0ZW5kRWxXaWR0aCA9IGhlYWRlckV4dGVuZEVsLm9mZnNldFdpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDmjInpkq7lnKjlhoXlrrnljLpcclxuICAgICAgICBpZiAoIXRoaXMuaGFzSW5IZWFkQ2woKSAmJiB0aGlzLmJ0blBsYWNlSG9sZGVyLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGggPiB0b29sYmFyQ29udGFpbmVyLm9mZnNldFdpZHRoKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9vbGJhckRwSGlkZGVuID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhhc0luSGVhZENsKCkgJiYgdGhpcy5idG5QbGFjZUhvbGRlci5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoID4gdG9vbGJhckNvbnRhaW5lci5vZmZzZXRXaWR0aCAtIGhlYWRlckV4dGVuZEVsV2lkdGgpIHtcclxuICAgICAgICAgICAgLy8g5oyJ6ZKu5Zyo5aS06YOo5bel5YW35qCPXHJcbiAgICAgICAgICAgIHRoaXMudG9vbGJhckRwSGlkZGVuID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy50b29sYmFyRHBIaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNkUmVmLmRldGVjdENoYW5nZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiuoeeul+aYvuekuueahOaMiemSruS4quaVsOWPiuabtOWkmuS4reaYvuekuueahOaMiemSruS4quaVsFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9jYWxjdWxhdGVCdXR0b25zU2hvdygpIHtcclxuICAgICAgICBsZXQgaGVhZGVyRXh0ZW5kRWw6IGFueTtcclxuICAgICAgICBsZXQgaGVhZGVyRXh0ZW5kRWxXaWR0aCA9IDA7XHJcbiAgICAgICAgaWYgKCF0aGlzLnRvb2xiYXJDb250YWluZXIgfHwgIXRoaXMudG9vbGJhckNvbmYpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0b29sYmFyQ29udGFpbmVyID0gdGhpcy5oYXNJbkhlYWRDbCgpID8gdGhpcy50b29sYmFyQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQgOiB0aGlzLnRvb2xiYXJDb250YWluZXIubmF0aXZlRWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIGxldCBkaXZFbCA9IHRvb2xiYXJDb250YWluZXIucXVlcnlTZWxlY3RvcignLmZhcnJpcy10YWJzLWlubGluZS1mbGV4Jyk7XHJcbiAgICAgICAgbGV0IGJ0blBsYWNlSG9sZGVyRWwgPSB0aGlzLmJ0blBsYWNlSG9sZGVyLm5hdGl2ZUVsZW1lbnQ7XHJcbiAgICAgICAgbGV0IGJ0blBsYWNlSG9sZGVyQnRucyA9IGJ0blBsYWNlSG9sZGVyRWwucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJyk7XHJcbiAgICAgICAgaWYgKCFkaXZFbCB8fCBidG5QbGFjZUhvbGRlckJ0bnMubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDmraTlpITmnInkuKpCdWfvvIzlpoLmnpzmmK9pbkNvbnRlbnTov5jmmK9oZWFkZXJFeHRlbmRDb25m55qE5oOF5Ya15LiL77yM5oyJ6ZKu55qE5L2N572u5b2i5aaCaW5IZWFkXHJcbiAgICAgICAgaWYgKHRoaXMuaGVhZGVyRXh0ZW5kQ29uZikge1xyXG4gICAgICAgICAgICBoZWFkZXJFeHRlbmRFbCA9IHRvb2xiYXJDb250YWluZXIucXVlcnlTZWxlY3RvcignLmZhcnJpcy10YWJzLWhlYWRlci1leHRlbmQnKTtcclxuICAgICAgICAgICAgaGVhZGVyRXh0ZW5kRWxXaWR0aCA9IHRoaXMuaGFzSW5IZWFkQ2woKSA/IGhlYWRlckV4dGVuZEVsLm9mZnNldFdpZHRoIDogMDtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1vcmVCdXR0b24gPSB0b29sYmFyQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5tb3JlYnRuJyk7XHJcbiAgICAgICAgLy8g6K6h566X5oyJ6ZKu55qE5a695bqmICAgICAgXHJcbiAgICAgICAgbGV0IGJhc2ljU3RhcnQgPSBwYXJzZUludChidG5QbGFjZUhvbGRlckVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQpO1xyXG4gICAgICAgIGxldCBiYXNpY1dpZHRoID0gdG9vbGJhckNvbnRhaW5lci5vZmZzZXRXaWR0aCAtIG1vcmVCdXR0b24ub2Zmc2V0V2lkdGggLSAxMiAtIGhlYWRlckV4dGVuZEVsV2lkdGg7XHJcbiAgICAgICAgbGV0IHRvb2xiYXJEcm9wZG93bkhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgbGV0IGsgPSAwXHJcbiAgICAgICAgLy8g5Y+q5pyJ5LiA5Liq5oyJ6ZKuXHJcbiAgICAgICAgaWYgKGJ0blBsYWNlSG9sZGVyQnRucy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICBpZiAoYnRuUGxhY2VIb2xkZXJFbC5vZmZzZXRXaWR0aCA+IGJhc2ljV2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIHRvb2xiYXJEcm9wZG93bkhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgayA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGsgPSAxOyBrIDw9IGJ0blBsYWNlSG9sZGVyQnRucy5sZW5ndGggLSAxOyBrKyspIHtcclxuICAgICAgICAgICAgICAgIC8vIOWmguaenOWGheWuuei2heWHuizogIPomZHliLDmjInpkq7kuYvpl7TnmoTpl7Tot51cclxuICAgICAgICAgICAgICAgIGlmIChrID09IGJ0blBsYWNlSG9sZGVyQnRucy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ0blBsYWNlSG9sZGVyRWwub2Zmc2V0V2lkdGggPiBiYXNpY1dpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xiYXJEcm9wZG93bkhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrID0gayAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VJbnQoYnRuUGxhY2VIb2xkZXJCdG5zW2tdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQpIC0gYmFzaWNTdGFydCA+IGJhc2ljV2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b29sYmFyRHJvcGRvd25IaWRkZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBrID0gayAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudG9vbGJhckRwSGlkZGVuID0gdG9vbGJhckRyb3Bkb3duSGlkZGVuO1xyXG4gICAgICAgIGxldCBzaG93QnRucyA9IGRpdkVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbicpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgazsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUoc2hvd0J0bnNbaV0sICdkaXNwbGF5JywgJycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBtID0gazsgbSA8IHNob3dCdG5zLmxlbmd0aDsgbSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUoc2hvd0J0bnNbbV0sICdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudG9vbGJhckNvbmYuY29udGVudHMgJiYgdGhpcy50b29sYmFyQ29uZi5jb250ZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5pbk1vcmVCdXR0b25Db250ZW50cyA9IHRoaXMudG9vbGJhckNvbmYuY29udGVudHMuZmlsdGVyKFxyXG4gICAgICAgICAgICAgICAgKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4ID49IGs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDph43mlrDorqHnrpfmmK/lkKbmmL7npLrmjInpkq7lkozkuIvmi4lcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfcmVDYWxjdWxhdGVBbGwoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl90YWJDb250YWluZXJFbCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdGFiUGFyZW50V2lkdGggPSB0aGlzLnRhYlBhcmVudC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgIGlmICghdGhpcy5oaWRlQnV0dG9ucykge1xyXG4gICAgICAgICAgICBjb25zdCB0ciA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMudGFiUGFyZW50Lm5hdGl2ZUVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoXCJtYXJnaW4tcmlnaHRcIikpO1xyXG4gICAgICAgICAgICBjb25zdCB0bCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMudGFiUGFyZW50Lm5hdGl2ZUVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoXCJtYXJnaW4tbGVmdFwiKSk7XHJcbiAgICAgICAgICAgIHRhYlBhcmVudFdpZHRoICs9IHRyICsgdGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmhpZGVCdXR0b25zID0gdGhpcy5fdGFiQ29udGFpbmVyRWwuc2Nyb2xsV2lkdGggPD0gdGFiUGFyZW50V2lkdGg7XHJcblxyXG4gICAgICAgIHRoaXMuaGlkZURyb3BEb3duID0gdGhpcy5zaG93RHJvcERvd24gPyB0aGlzLmhpZGVCdXR0b25zIDogdHJ1ZTtcclxuICAgICAgICBpZiAoIXRoaXMuaGlkZUJ1dHRvbnMpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmhpZGVEcm9wRG93bikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcm9wZG93blRhYnMgPSBbXS5jb25jYXQodGhpcy50YWJzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWFyY2hUYWJUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyb3Bkb3duVGFicyA9IHRoaXMuZHJvcGRvd25UYWJzLmZpbHRlcihpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbVsndGl0bGUnXS5pbmRleE9mKHRoaXMuc2VhcmNoVGFiVGV4dCkgIT09IC0xO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fcmVDYWxjdWxhdGVTaWRlcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNkUmVmLmRldGVjdENoYW5nZXMoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6YeN5paw6K6h566X5bem5Y+z55qE5o+Q56S65paH5a2XXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX3JlQ2FsdWxhdGVUb29sdGlwcygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX3RhYkNvbnRhaW5lckVsIHx8IHRoaXMuaGlkZUJ1dHRvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0X3JpZ2h0X3Rvb2x0aXBzID0gW107XHJcbiAgICAgICAgY29uc3QgdF9sZWZ0X3Rvb2x0aXBzID0gW107XHJcbiAgICAgICAgY29uc3QgYWxsVGFicyA9IHRoaXMuX3RhYkNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXYtaXRlbScpO1xyXG4gICAgICAgIGNvbnN0IGxlbiA9IGFsbFRhYnMubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IGhpZGRlblRhYnMgPSB0aGlzLnRhYnMuZmlsdGVyKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbS5fc2hvdyAhPT0gdHJ1ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnN0IGhpZGRlblRhYnNMZW5ndGggPSBoaWRkZW5UYWJzLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxlZnRQb3NpdGlvbiA9XHJcbiAgICAgICAgICAgICAgICBhbGxUYWJzW2ldLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgLVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGFiQ29udGFpbmVyRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICAgICAgICAgICAgY29uc3QgcmlnaHRQb3NpdGlvbiA9XHJcbiAgICAgICAgICAgICAgICBhbGxUYWJzW2ldLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgbGVmdFBvc2l0aW9uO1xyXG4gICAgICAgICAgICBpZiAocmlnaHRQb3NpdGlvbiA+IHRoaXMuX3RhYkNvbnRhaW5lckVsLm9mZnNldFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICB0X3JpZ2h0X3Rvb2x0aXBzLnB1c2godGhpcy50YWJzW2ldKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsZWZ0UG9zaXRpb24gPCAwKSB7XHJcbiAgICAgICAgICAgICAgICB0X2xlZnRfdG9vbHRpcHMucHVzaCh0aGlzLnRhYnNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxlZnRUb29sdGlwVGFicyA9IFtdXHJcbiAgICAgICAgICAgIC5jb25jYXQodF9sZWZ0X3Rvb2x0aXBzKVxyXG4gICAgICAgICAgICAuc2xpY2UoTWF0aC5tYXgoMCwgdF9sZWZ0X3Rvb2x0aXBzLmxlbmd0aCAtIHRoaXMubWF4VG9vbHRpcExlbikpO1xyXG4gICAgICAgIHRoaXMucmlnaHRUb29sdGlwVGFicyA9IFtdXHJcbiAgICAgICAgICAgIC5jb25jYXQodF9yaWdodF90b29sdGlwcylcclxuICAgICAgICAgICAgLnNsaWNlKDAsIE1hdGgubWluKHRoaXMubWF4VG9vbHRpcExlbiwgdF9yaWdodF90b29sdGlwcy5sZW5ndGgpKTtcclxuICAgICAgICB0aGlzLmRpc2FibGVSVG9vbHRpcCA9IHRoaXMucmlnaHRUb29sdGlwVGFicy5sZW5ndGggPCAxO1xyXG4gICAgICAgIHRoaXMuZGlzYWJsZUxUb29sdGlwID0gdGhpcy5sZWZ0VG9vbHRpcFRhYnMubGVuZ3RoIC0gaGlkZGVuVGFic0xlbmd0aCA8IDE7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOmHjeaWsOiuoeeul+W3puWPs+eureWktOeKtuaAgVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9yZUNhbGN1bGF0ZVNpZGVzKCkge1xyXG4gICAgICAgIHRoaXMuZGlzYWJsZVJpZ2h0ID1cclxuICAgICAgICAgICAgdGhpcy5fdGFiQ29udGFpbmVyRWwuc2Nyb2xsTGVmdCA+PVxyXG4gICAgICAgICAgICB0aGlzLl90YWJDb250YWluZXJFbC5zY3JvbGxXaWR0aCAtIHRoaXMuX3RhYkNvbnRhaW5lckVsLm9mZnNldFdpZHRoO1xyXG4gICAgICAgIHRoaXMuZGlzYWJsZUxlZnQgPSB0aGlzLl90YWJDb250YWluZXJFbC5zY3JvbGxMZWZ0IDw9IDA7XHJcbiAgICAgICAgdGhpcy5fcmVDYWx1bGF0ZVRvb2x0aXBzKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOmAmui/h2lk5a+75om+VGFiXHJcbiAgICAgKiBAcGFyYW0gaWQgSURcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfZ2V0VGFiQnlJZChpZDogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXhXaWR0aElkID0gW107XHJcbiAgICAgICAgY29uc3QgdGFic1dpdGhJZDogRmFycmlzVGFiQ29tcG9uZW50W10gPSB0aGlzLnRhYnMuZmlsdGVyKFxyXG4gICAgICAgICAgICAodGFiLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRhYi5pZCA9PT0gaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleFdpZHRoSWQucHVzaChpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdGFiOiB0YWJzV2l0aElkLmxlbmd0aCA/IHRhYnNXaXRoSWRbMF0gOiBudWxsLFxyXG4gICAgICAgICAgICBpbmRleDogaW5kZXhXaWR0aElkLmxlbmd0aCA/IGluZGV4V2lkdGhJZFswXSA6IC0xXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8q5a696auY57G75Z6L5pivIHN0cmluZ+aIluiAhW51bWJlciDop6PmnpDlrr3pq5ggIOWwuuWvuCAqL1xyXG4gICAgcmVzb2x2ZVNpemUoc2l6ZSkge1xyXG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gL3B4fGVtfHJlbXxwdHwlLztcclxuICAgICAgICAvLyDor7TmmI7mmK/lrZfnrKbkuLJcclxuICAgICAgICByZXR1cm4gcmVnZXgudGVzdChzaXplKVxyXG4gICAgICAgICAgICA/IGAke3BhcnNlSW50KHNpemUsIDEwKX0ke3NpemUubWF0Y2gocmVnZXgpWzBdfWBcclxuICAgICAgICAgICAgOiBgJHtzaXplfXB4YDtcclxuICAgIH1cclxuICAgIC8qXHJcbiAgICAgIOa4heepunRhYlxyXG4gICAgICAgKi9cclxuICAgIC8vIHJlbW92ZUFsbFRhYigpIHtcclxuICAgIC8vICAgICB0aGlzLnRhYnMuc3BsaWNlKDAsIHRoaXMudGFicy5sZW5ndGgpO1xyXG4gICAgLy8gfVxyXG4gICAgaGFzSW5IZWFkQ2woKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudG9vbGJhckNvbmYgJiYgdGhpcy50b29sYmFyQ29uZi5oYXNPd25Qcm9wZXJ0eSgncG9zaXRpb24nKSAmJiB0aGlzLnRvb2xiYXJDb25mLmhhc093blByb3BlcnR5KCdjb250ZW50cycpICYmIHRoaXMudG9vbGJhckNvbmYucG9zaXRpb24gPT09ICdpbkhlYWQnICYmIHRoaXMudG9vbGJhckNvbmYuY29udGVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaGVhZGVyRXh0ZW5kQ29uZiAmJiAhKHRoaXMudG9vbGJhckNvbmYgJiYgdGhpcy50b29sYmFyQ29uZi5wb3NpdGlvbiA9PT0gJ2luQ29udGVudCcgJiYgdGhpcy50b29sYmFyQ29uZi5jb250ZW50cy5sZW5ndGgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuIl19