!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("resize-observer-polyfill"),require("@farris/ui-common/column"),require("@angular/platform-browser"),require("lodash-es"),require("rxjs"),require("rxjs/operators"),require("@angular/core")):"function"==typeof define&&define.amd?define("@farris/ui-common",["exports","resize-observer-polyfill","@farris/ui-common/column","@angular/platform-browser","lodash-es","rxjs","rxjs/operators","@angular/core"],t):t((e.farris=e.farris||{},e.farris["ui-common"]={}),e.ResizeObserver,e.farris["ui-common"].column,e.ng.platformBrowser,e.lodashEs,e.rxjs,e.rxjs.operators,e.ng.core)}(this,function(e,t,r,n,o,i,a,s){"use strict";t=t&&t.hasOwnProperty("default")?t["default"]:t;var l=(c.prototype.getType=function(){return this.name},c.decorators=[{type:s.Directive,args:[{selector:"[farrisTemplate]"}]}],c.ctorParameters=function(){return[{type:s.TemplateRef}]},c.propDecorators={type:[{type:s.Input}],name:[{type:s.Input,args:["farrisTemplate"]}]},c);function c(e){this.template=e}var u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function f(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function d(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i["return"])&&r.call(i)}finally{if(o)throw o.error}}return a}var p=new WeakMap,h=new t(function(e){var t,r;try{for(var n=f(e),o=n.next();!o.done;o=n.next()){var i=o.value;if(p.has(i.target))p.get(i.target)._resizeCallback(i)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=n["return"])&&r.call(n)}finally{if(t)throw t.error}}}),v=(m.prototype._resizeCallback=function(e){e.bindintClientRect=e.target.getBoundingClientRect(),this.resize.emit(e)},m.prototype.ngOnInit=function(){var e=this.target?this.target.nativeElement:this.el.nativeElement;p.set(e,this),h.observe(e)},m.prototype.ngOnDestroy=function(){var e=this.el.nativeElement;h.unobserve(e),p["delete"](e)},m.decorators=[{type:s.Directive,args:[{selector:"[resizeObserver]"}]}],m.ctorParameters=function(){return[{type:s.ElementRef}]},m.propDecorators={target:[{type:s.Input,args:["resizeObserver"]}],resize:[{type:s.Output}]},m);function m(e){this.el=e,this.resize=new s.EventEmitter}var y=(g.prototype.getValue=function(e,t,r){if(void 0===r&&(r=!1),!t)return"";var n="";return n=-1===e.indexOf(".")&&t.hasOwnProperty(e)?t[e]:e.split(".").reduce(function(e,t){return e?e[t]:null},t),r?this.formatterValue(n):n},g.prototype.setValue=function(e,t,r,n){if(void 0===n&&(n=!0),t)if(-1<t.indexOf(".")&&n){var o=null,i=t.split(".");i.reduce(function(e,t){return(o=e)[t]},e),o&&(o[i.pop()]=r)}else e[t]=r},g.prototype.getEnumItem=function(t,e,r){return e.find(function(e){return e[r]==t})},g.prototype._getEnumTitleFromColumn=function(e,t){var r=t.formatter;return r&&"object"==typeof r&&"enum"===r.type&&r.options?this.getEnumTitleFromColumnOptions(e,r.options):e},g.prototype.getEnumTitle=function(e,t){var r=this.getValue(e.field,t);return this._getEnumTitleFromColumn(r,e)},g.prototype.getEnumTitleFromColumnOptions=function(e,t){var r=t.data,n=t.valueField,o=t.textField,i=this.getEnumItem(e,r,n);return i?i[o]:e},g.prototype.escapeHtml=function(e){return null===e||e===undefined?"":e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/\//g,"&#x2F;")},g.prototype.unescapeHtml=function(e){return null===e||e===undefined?"":e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&#x2F;/g,"/")},g.prototype.formatterValue=function(e){return null===e||e===undefined||""===e?"":"string"==typeof e?this.escapeHtml(e):e},g.prototype.getTextWidth=function(e,t){var r=document.createElement("canvas").getContext("2d");r.font=t;var n=r.measureText(e);return Math.round(n.width)},g.prototype.removeStyleSheet=function(e){var t=document.querySelector("#"+e);t&&t.remove()},g.prototype.createStyleSheet=function(e){var t=document.querySelector("head"),r=e,n=null;return document.querySelector("#"+r)?(n=document.querySelector("#"+r)).innerText="":((n=document.createElement("style")).id=r,t.appendChild(n)),n},g.prototype.getStyleSheet=function(e){var t,r,n=document.styleSheets,o=null;try{for(var i=f(n),a=i.next();!a.done;a=i.next()){var s=a.value;if((s.ownerNode||s.owningElement).id===e){o=s;break}}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=i["return"])&&r.call(i)}finally{if(t)throw t.error}}return o},g.prototype.appendCssRules=function(e,t){var r,n;try{for(var o=f(e),i=o.next();!i.done;i=o.next()){var a=i.value,s=a.slice(0,a.indexOf("{")),l=this.removeCssRule(s,t);if(t.addRule){var c="";l&&(c+=l.cssText.slice(l.cssText.indexOf("{")+1,l.cssText.indexOf("}"))),c+=a.slice(a.indexOf("{")+1,a.indexOf("}")).replace(/"/g,"").replace(/,/g,";")+";",t.addRule(s,c,0)}else t.insertRule(a,0)}}catch(u){r={error:u}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}},g.prototype.getCssRule=function(e,t){var r,n,o=t.cssRules||t.rules,i=null;try{for(var a=f(o),s=a.next();!s.done;s=a.next()){var l=s.value;l.selectorText==e&&(i=l)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=a["return"])&&n.call(a)}finally{if(r)throw r.error}}return i},g.prototype.removeCssRule=function(e,t){var r=t.cssRules||t.rules,n=0,o=!1;do{if((o=r[n])&&o.selectorText.toLowerCase()==e.toLowerCase())return t.cssRules?t.deleteRule(n):t.removeRule(n),o;n++}while(o)},g.prototype.isNullOrUndefined=function(e){return null===e||e===undefined},g.prototype.isIE=function(){var e=window.navigator.userAgent;return/msie\s|trident\/|edge\//i.test(e)&&!!("uniqueID"in document||"documentMode"in document||"ActiveXObject"in window||"MSInputMethodContext"in window)},g.prototype.buildSortString=function(e){return this.cfs.buildSortString(e)},g.prototype.buildSqlWhere=function(e){return this.cfs.buildSqlWhere(e)},g.prototype.getBrowserType=function(){var e=navigator.userAgent.toLowerCase();return{ie:/msie/.test(e)&&!/opera/.test(e),op:/opera/.test(e),sa:/version.*safari/.test(e),ch:/chrome/.test(e),ff:/gecko/.test(e)&&!/webkit/.test(e)}},g.prototype.getFFVer=function(){var e=navigator.userAgent,t=e.indexOf("Firefox/");return t<0?0:parseFloat(e.substring(t+8,e.lastIndexOf(".")))},g.decorators=[{type:s.Injectable,args:[{providedIn:"root"}]}],g.ctorParameters=function(){return[]},g.ngInjectableDef=s.defineInjectable({factory:function(){return new g},token:g,providedIn:"root"}),g);function g(){this.cfs=null,this.cfs||(this.cfs=new r.ColumnFormatService(null,null))}var b=(w.prototype.transform=function(e,t){switch(t){case"html":return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:throw new Error("Invalid safe type specified: "+t)}},w.decorators=[{type:s.Pipe,args:[{name:"safe"}]}],w.ctorParameters=function(){return[{type:n.DomSanitizer}]},w);function w(e){this.sanitizer=e}var S="",x=8;function _(e,t){return void 0===t&&(t="hex"),"hex"===t?function o(e){for(var t="0123456789abcdef",r="",n=0;n<4*e.length;n++)r+=t.charAt(e[n>>2]>>n%4*8+4&15)+t.charAt(e[n>>2]>>n%4*8&15);return r}(E(M(e),e.length*x)):"b64"===t?function i(e){for(var t="",r=0;r<4*e.length;r+=3)for(var n=(e[r>>2]>>r%4*8&255)<<16|(e[r+1>>2]>>(r+1)%4*8&255)<<8|e[r+2>>2]>>(r+2)%4*8&255,o=0;o<4;o++)8*r+6*o>32*e.length?t+=S:t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>6*(3-o)&63);return t}(E(M(e),e.length*x)):function a(e){for(var t="",r=(1<<x)-1,n=0;n<32*e.length;n+=x)t+=String.fromCharCode(e[n>>5]>>>n%32&r);return t}(E(M(e),e.length*x))}function E(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var r=1732584193,n=-271733879,o=-1732584194,i=271733878,a=0;a<e.length;a+=16){var s=r,l=n,c=o,u=i;r=F(r,n,o,i,e[a+0],7,-680876936),i=F(i,r,n,o,e[a+1],12,-389564586),o=F(o,i,r,n,e[a+2],17,606105819),n=F(n,o,i,r,e[a+3],22,-1044525330),r=F(r,n,o,i,e[a+4],7,-176418897),i=F(i,r,n,o,e[a+5],12,1200080426),o=F(o,i,r,n,e[a+6],17,-1473231341),n=F(n,o,i,r,e[a+7],22,-45705983),r=F(r,n,o,i,e[a+8],7,1770035416),i=F(i,r,n,o,e[a+9],12,-1958414417),o=F(o,i,r,n,e[a+10],17,-42063),n=F(n,o,i,r,e[a+11],22,-1990404162),r=F(r,n,o,i,e[a+12],7,1804603682),i=F(i,r,n,o,e[a+13],12,-40341101),o=F(o,i,r,n,e[a+14],17,-1502002290),r=I(r,n=F(n,o,i,r,e[a+15],22,1236535329),o,i,e[a+1],5,-165796510),i=I(i,r,n,o,e[a+6],9,-1069501632),o=I(o,i,r,n,e[a+11],14,643717713),n=I(n,o,i,r,e[a+0],20,-373897302),r=I(r,n,o,i,e[a+5],5,-701558691),i=I(i,r,n,o,e[a+10],9,38016083),o=I(o,i,r,n,e[a+15],14,-660478335),n=I(n,o,i,r,e[a+4],20,-405537848),r=I(r,n,o,i,e[a+9],5,568446438),i=I(i,r,n,o,e[a+14],9,-1019803690),o=I(o,i,r,n,e[a+3],14,-187363961),n=I(n,o,i,r,e[a+8],20,1163531501),r=I(r,n,o,i,e[a+13],5,-1444681467),i=I(i,r,n,o,e[a+2],9,-51403784),o=I(o,i,r,n,e[a+7],14,1735328473),r=k(r,n=I(n,o,i,r,e[a+12],20,-1926607734),o,i,e[a+5],4,-378558),i=k(i,r,n,o,e[a+8],11,-2022574463),o=k(o,i,r,n,e[a+11],16,1839030562),n=k(n,o,i,r,e[a+14],23,-35309556),r=k(r,n,o,i,e[a+1],4,-1530992060),i=k(i,r,n,o,e[a+4],11,1272893353),o=k(o,i,r,n,e[a+7],16,-155497632),n=k(n,o,i,r,e[a+10],23,-1094730640),r=k(r,n,o,i,e[a+13],4,681279174),i=k(i,r,n,o,e[a+0],11,-358537222),o=k(o,i,r,n,e[a+3],16,-722521979),n=k(n,o,i,r,e[a+6],23,76029189),r=k(r,n,o,i,e[a+9],4,-640364487),i=k(i,r,n,o,e[a+12],11,-421815835),o=k(o,i,r,n,e[a+15],16,530742520),r=D(r,n=k(n,o,i,r,e[a+2],23,-995338651),o,i,e[a+0],6,-198630844),i=D(i,r,n,o,e[a+7],10,1126891415),o=D(o,i,r,n,e[a+14],15,-1416354905),n=D(n,o,i,r,e[a+5],21,-57434055),r=D(r,n,o,i,e[a+12],6,1700485571),i=D(i,r,n,o,e[a+3],10,-1894986606),o=D(o,i,r,n,e[a+10],15,-1051523),n=D(n,o,i,r,e[a+1],21,-2054922799),r=D(r,n,o,i,e[a+8],6,1873313359),i=D(i,r,n,o,e[a+15],10,-30611744),o=D(o,i,r,n,e[a+6],15,-1560198380),n=D(n,o,i,r,e[a+13],21,1309151649),r=D(r,n,o,i,e[a+4],6,-145523070),i=D(i,r,n,o,e[a+11],10,-1120210379),o=D(o,i,r,n,e[a+2],15,718787259),n=D(n,o,i,r,e[a+9],21,-343485551),r=O(r,s),n=O(n,l),o=O(o,c),i=O(i,u)}return Array(r,n,o,i)}function j(e,t,r,n,o,i){return O(function a(e,t){return e<<t|e>>>32-t}(O(O(t,e),O(n,i)),o),r)}function F(e,t,r,n,o,i,a){return j(t&r|~t&n,e,t,o,i,a)}function I(e,t,r,n,o,i,a){return j(t&n|r&~n,e,t,o,i,a)}function k(e,t,r,n,o,i,a){return j(t^r^n,e,t,o,i,a)}function D(e,t,r,n,o,i,a){return j(r^(t|~n),e,t,o,i,a)}function O(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function M(e){for(var t=Array(),r=(1<<x)-1,n=0;n<e.length*x;n+=x)t[n>>5]|=(e.charCodeAt(n/x)&r)<<n%32;return t}var C=(A.prototype.generate=function(){return this.guid()},A.prototype.encrypt=function(e,t){return void 0===t&&(t="hex"),_(e,t)},A.prototype.guid=function(){var t=window.crypto?crypto:window.msCrypto;return t?([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^t.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}):this.uuid()},A.prototype.uuid=function(){var e=Date.now().valueOf();return(A.previous=A.previous<e?e:A.previous+100).toString(16)},A.previous=0,A.decorators=[{type:s.Injectable}],A);function A(){}var T=(R.prototype.transform=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(e,t){r=r.replace("{"+t+"}",e)}),r},R.decorators=[{type:s.Pipe,args:[{name:"replaceX"}]}],R);function R(){}var q={form:{},model:{}},z=(P.prototype.setValue=function(e){e&&(this._state=o.merge(this._state,e),this.stateSubject.next(this._state))},P.prototype.getValue=function(e){return this.utils.getValue(e,this._state)},P.prototype.destroy=function(){this._state={form:{},model:{}},this._formState=this._state.form,this._lookupState=this._formState.lookup,this.stateSubject.next(this._state)},P.prototype.setLookupInstance=function(e){this.setValue({form:{lookup:{instance:e}}})},P.prototype.updateFormState=function(e){this.setValue({form:e})},P.prototype.getFormState=function(e){return this.getValue("form."+e)},P.prototype.eventPath=function(e){var t=e.composedPath&&e.composedPath()||e.path,r=e.target;if(null!=t)return t.indexOf(window)<0?t.concat(window):t;if(r===window)return[window];var n=function(e,t){void 0===t&&(t=undefined),t=t||[];var r=e.parentNode;return r?n(r,t.concat(r)):t};return[r].concat(n(r),window)},P.decorators=[{type:s.Injectable,args:[{providedIn:"root"}]}],P.ctorParameters=function(){return[{type:y}]},P.ngInjectableDef=s.defineInjectable({factory:function(){return new P(s.inject(y))},token:P,providedIn:"root"}),P);function P(e){this.utils=e,this.stateSubject=new i.BehaviorSubject({}),this.state$=this.stateSubject.asObservable(),this.form$=this.state$.pipe(a.map(function(e){return e.form})),this.lookupIsPending$=this.form$.pipe(a.map(function(e){return e.lookup.pending})),this._state=o.cloneDeep(q),this._formState=this._state.form,this._lookupState=this._formState.lookup}var L=(V.forRoot=function(){return{ngModule:V,providers:[y,z,C]}},V.decorators=[{type:s.NgModule,args:[{declarations:[b,l,v,T],imports:[],exports:[b,l,v,T]}]}],V);function V(){}var $=(H.prototype.initData=function(e){var t=this;return e.map(function(e){return{id:e[t._state.idField],data:e,disabled:!!t.disableExpress&&t.disableExpress(e)}})},H.prototype.updateState=function(e){var t=u({},this._state,e);this.store.next(this._state=t)},H.prototype.initState=function(e){this.updateState(e)},H.prototype.isSelect=function(t){var r=this;return!(!this._state.selections||!this._state.selections.length)&&this._state.selections.find(function(e){return!!e&&e[r._state.idField]==t})!==undefined},H.prototype.loadData=function(e,t,r){if(void 0===t&&(t=""),void 0===r&&(r=","),e){var n=this.initData(e);this.updateState(u({},this._state,{data:n})),t?this.setSelections(t,r):this._state.selections=[]}else this.updateState({data:[],selections:[]})},H.prototype.getSelections=function(){return this._state.selections},H.prototype.setSelections=function(t,e){var r=this;if(void 0===e&&(e=","),t){var n=[];n=this._state.multiSelect?t.split(e).map(function(t){return r._state.data.find(function(e){return e.data[r._state.valueField]+""==t})}).map(function(e){return e?e.data:""}).filter(function(e){return e}):[this._state.data.find(function(e){return e.data[r._state.valueField]+""==t})],this.updateState({selections:n})}},H.prototype.selectAll=function(){this.updateState({selections:this._state.data.map(function(e){return e.data})})},H.prototype.unSelectAll=function(){this.clearSelections()},H.prototype.selectItem=function(e,t){var r=this._state.idField,n=this.getSelections(),o=e[r];this._state.multiSelect?this.isSelect(o)||n.push(e):this.isSelect(o)||(n=[e]);var i=this.cloneArray(n);this.updateState({selections:i})},H.prototype.unSelectItem=function(e){var t=this._state.idField,r=this.getSelections(),n=e[t];r=this._state.multiSelect?r.filter(function(e){return e[t]!=n}):[];var o=this.cloneArray(r);this.updateState({selections:o})},H.prototype.clearSelections=function(){this.updateState({selections:[]})},H.prototype.cloneArray=function(e){return e&&e.length?e.map(function(e){return e}):e},H);function H(e){this._initState=e,this._state=this._initState,this.store=new i.BehaviorSubject(this._state),this.state$=this.store.asObservable(),this.data$=this.state$.pipe(a.map(function(e){return e.data}))}var W=(U.prototype.add=function(e,t){this._state.set(e,t)},U.prototype.get=function(e){return this._state.get(e)},U.prototype.destroy=function(e){this._state.set(e,null),this._state["delete"](e)},U.decorators=[{type:s.Injectable,args:[{providedIn:"root"}]}],U.ctorParameters=function(){return[]},U.ngInjectableDef=s.defineInjectable({factory:function(){return new U},token:U,providedIn:"root"}),U);function U(){this._state=new WeakMap}var B=(N.prototype.destroy=function(){this.destroy$.next(),this.destroy$.complete()},N.prototype.writeMessage=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.isDebug&&console[e].apply(console,function n(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}(t))},N.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.writeMessage("log",e)},N.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.writeMessage("warn",e)},N.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.writeMessage("error",e)},N.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.writeMessage("info",e)},N.prototype.useDebugMode=function(){var t=this;return this.debugSub||(this.debugSub=i.fromEvent(document.body,"keydown").pipe(a.takeUntil(this.destroy$)).subscribe(function(e){e.ctrlKey&&e.shiftKey&&"D"===e.key&&(e.preventDefault(),e.stopPropagation(),t.isDebug=!t.isDebug,console.log("🪲%cFarris debug mode is "+(t.isDebug?"startting":"stopped")+".🪲","color: blue; font-weight:bold;font-size:16px"))})),this.debugSub},N.decorators=[{type:s.Injectable,args:[{providedIn:"root"}]}],N.ctorParameters=function(){return[]},N.ngInjectableDef=s.defineInjectable({factory:function(){return new N},token:N,providedIn:"root"}),N);function N(){this.isDebug=!1,this.destroy$=new i.Subject,this.debugSub=null}var X={onlyTopWindow:!1,mouseWheel:!0,mouseDown:!0},K=(G.prototype.iframeEventHandle=function(e,t){var r,n,o=Array.from(document.querySelectorAll("iframe"));if(o&&o.length){var i=this.eventsMap.get(e);try{for(var a=f(o),s=a.next();!s.done;s=a.next()){var l=s.value.contentDocument;l&&(l[t]("mousedown",i),l[t]("mousewheel",i),l[t]("DOMMouseScroll",i))}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=a["return"])&&n.call(a)}finally{if(r)throw r.error}}}},G.prototype.removeMouseEvent=function(e){var t=this.eventsMap.get(e);t&&(document.removeEventListener("mousedown",t,!0),document.removeEventListener("mousewheel",t,!0),document.removeEventListener("DOMMouseScroll",t,!0),top!==window&&top.document.body.removeEventListener("mousedown",t,!0),this.iframeEventHandle(e,"removeEventListener"),t=null,this.eventsMap["delete"](e))},G.prototype.destory=function(e){this.removeMouseEvent(e)},G.prototype.registerMouseEvent=function(e,t,r){this.eventsMap.has(e)||(this.eventsMap.set(e,t),(r=r?Object.assign({},X,r):X).onlyTopWindow&&top!==window?top.document.body.addEventListener("mousedown",t,!0):(r.mouseDown&&document.addEventListener("mousedown",t,!0),r.mouseWheel&&(document.addEventListener("mousewheel",t,!0),document.addEventListener("DOMMouseScroll",t,!0)),top!==window&&top.document.body.addEventListener("mousedown",t,!0),this.iframeEventHandle(e,"addEventListener")))},G.decorators=[{type:s.Injectable}],G);function G(){this.eventsMap=new WeakMap}var J=["moz","ms","webkit"];var Q=function Z(){if("undefined"==typeof window)return function(){return 0};if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);var e=J.filter(function(e){return e+"RequestAnimationFrame"in window})[0];return e?window[e+"RequestAnimationFrame"]:function t(){var o=0;return function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-o)),n=setTimeout(function(){e(t+r)},r);return o=t+r,n}}()}(),Y={concise:[{visible:!0,code:"bold",cls:"mr-1 rich-toolbar-icons rich-bold",title:"加粗",value:["bold"]},{visible:!0,code:"italic",cls:"mr-1 rich-toolbar-icons rich-italic",title:"倾斜",value:["italic"]},{visible:!0,code:"underline",cls:"mr-1 rich-toolbar-icons rich-underline",title:"下划线",value:["underline"]},{visible:!0,code:"strike",cls:"mr-1 rich-toolbar-icons rich-strike",title:"删除线",value:["strike"]},{visible:!0,code:"numlist",cls:"mr-1 rich-toolbar-icons rich-ordered",title:"有序列表",value:[{list:"ordered"}]},{visible:!0,code:"bullist",cls:"mr-1 rich-toolbar-icons rich-bullet",title:"无序列表",value:[{list:"bullet"}]},{visible:!0,code:"code-block",cls:"mr-1 rich-toolbar-icons rich-code-block",title:"代码块",value:["code-block"]},{visible:!0,code:"header1",cls:"mr-1 rich-toolbar-icons rich-header1",title:"标题 1",value:[{header:1}]},{visible:!0,code:"header2",cls:"mr-1 rich-toolbar-icons rich-header2",title:"标题 2",value:[{header:2}]},{visible:!0,code:"image",cls:"mr-1 rich-toolbar-icons rich-image",title:"插入图片",value:["image"]}],advanced:[{visible:!0,code:"undo",cls:"mr-1 f-icon f-icon-undo",title:"撤消",value:"undo"},{visible:!0,code:"redo",cls:"mr-1 f-icon f-icon-redo",title:"重复",value:"redo"},{visible:!0,code:"formatselect",cls:"mr-1 f-icon f-icon-convert-lowercase",title:"段落&标题",value:"formatselect"},{visible:!0,code:"fontselect",cls:"mr-1 f-icon f-icon-font-family",title:"字体",value:"fontselect"},{visible:!0,code:"fontsizeselect",cls:"mr-1 f-icon f-icon-font-size",title:"字号",value:"fontsizeselect"},{visible:!0,code:"bold",cls:"mr-1 rich-toolbar-icons rich-bold",title:"加粗",value:"bold"},{visible:!0,code:"italic",cls:"mr-1 rich-toolbar-icons rich-italic",title:"倾斜",value:"italic"},{visible:!0,code:"underline",cls:"mr-1 rich-toolbar-icons rich-underline",title:"下划线",value:"underline"},{visible:!0,code:"strike",cls:"mr-1 rich-toolbar-icons rich-strike",title:"删除线",value:"strikethrough"},{visible:!0,code:"numlist",cls:"mr-1 rich-toolbar-icons rich-ordered",title:"有序列表",value:"numlist"},{visible:!0,code:"bullist",cls:"mr-1 rich-toolbar-icons rich-bullet",title:"无序列表",value:"bullist"},{visible:!0,code:"outdent",cls:"mr-1 rich-toolbar-icons rich-indent-1",title:"取消缩进",value:"outdent"},{visible:!0,code:"indent",cls:"mr-1 rich-toolbar-icons rich-indent1",title:"缩进",value:"indent"},{visible:!0,code:"forecolor",cls:"mr-1 rich-toolbar-icons rich-color",title:"文本颜色",value:"forecolor"},{visible:!0,code:"backcolor",cls:"mr-1 rich-toolbar-icons rich-background",title:"背景色",value:"backcolor"},{visible:!0,code:"image",cls:"mr-1 rich-toolbar-icons rich-image",title:"插入图片",value:"image"},{visible:!0,code:"link",cls:"mr-1 rich-toolbar-icons rich-link",title:"插入链接",value:"link"},{visible:!0,code:"removeformat",cls:"mr-1 rich-toolbar-icons rich-clear",title:"清除格式",value:"removeformat"},{visible:!0,code:"alignleft",cls:"mr-1 f-icon f-icon-align-left",title:"左对齐",value:"alignleft"},{visible:!0,code:"aligncenter",cls:"mr-1 f-icon f-icon-align-center",title:"居中对齐",value:"aligncenter"},{visible:!0,code:"alignright",cls:"mr-1 f-icon f-icon-align-right",title:"右对齐",value:"alignright"},{visible:!0,code:"alignjustify",cls:"mr-1 f-icon f-icon-align-justify",title:"两端对齐",value:"alignjustify"},{visible:!0,code:"table",cls:"mr-1 f-icon f-icon-table",title:"表格",value:"table"}]};e.FarrisTemplateDirective=l,e.ResizeObserverDirective=v,e.CommonUtils=y,e.FarrisSafePipe=b,e.FarrisCommonModule=L,e.IdService=C,e.BaseDataFacadeService=$,e.RuntimeStateService=z,e.FarrisComponentInstanceService=W,e.DebugService=B,e.OverLayHiddenService=K,e.FarrisReplaceXPipe=T,e.cancelRequestAnimationFrame=function ee(e){if("undefined"==typeof window)return null;if(window.cancelAnimationFrame)return window.cancelAnimationFrame(e);var t=J.filter(function(e){return e+"CancelAnimationFrame"in window||e+"CancelRequestAnimationFrame"in window})[0];return t?(window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]).call(this,e):clearTimeout(e)},e.reqAnimFrame=Q,e.Convert2HtmlEditorToolbars=function te(e,t){if(!t||!t.length)return null;var r=e.toLowerCase(),n=Y[r],o=t.map(function(t){return"object"==typeof t?(t.values=t.values.map(function(t){return n.find(function(e){return e.code===t})}).filter(function(e){return e}),t):n.find(function(e){return e.code===t})}).filter(function(e){return e}).map(function(e){return e.groupName?"concise"===r?e.values.map(function(e){return e.value}).flat():e.values.map(function(e){return e.value}):e.value}).filter(function(e){return e.length});return"concise"===r?o:"advanced"===r?o.map(function(e,t){return Array.isArray(e)&&(0===t&&e.push("|"),0<t&&e.unshift("|")),e}).flat().join(" "):void 0},e.RICH_COMMANDS=Y,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=farris-ui-common.umd.min.js.map