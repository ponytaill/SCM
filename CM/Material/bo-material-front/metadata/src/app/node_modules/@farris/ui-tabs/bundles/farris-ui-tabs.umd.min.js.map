{"version":3,"sources":["ng://@farris/ui-tabs/lib/tab/tabhost.directive.ts","node_modules/tslib/tslib.es6.js","ng://@farris/ui-tabs/lib/tabs.config.ts","ng://@farris/ui-tabs/lib/tabs/tabs.component.ts","ng://@farris/ui-tabs/lib/tab/extend.directive.ts","ng://@farris/ui-tabs/lib/tab/tab.component.ts","ng://@farris/ui-tabs/lib/tab/tab.transclude.directive.ts","ng://@farris/ui-tabs/lib/tab/tab.headtemplate.directive.ts","ng://@farris/ui-tabs/lib/dropdown/dropdown-config.ts","ng://@farris/ui-tabs/lib/util/positioning.ts","ng://@farris/ui-tabs/lib/dropdown/dropdown.ts","ng://@farris/ui-tabs/lib/dropdown/dropdown.module.ts","ng://@farris/ui-tabs/lib/util/triggers.ts","ng://@farris/ui-tabs/lib/util/popup.ts","ng://@farris/ui-tabs/lib/tooltip/tooltip-config.ts","ng://@farris/ui-tabs/lib/tooltip/tooltip.ts","ng://@farris/ui-tabs/lib/tooltip/tooltip.module.ts","ng://@farris/ui-tabs/lib/tabs.module.ts"],"names":["TabHostDirective","Directive","args","selector","ViewContainerRef","viewContainerRef","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","TabConfig","showDropDown","showTooltips","scrollStep","autoResize","maxDropdownH","maxDropdownW","maxTabW","maxTooltipLen","TabService","prototype","getConfig","config","Injectable","decorators","type","Optional","exConfig","assign","defineProperty","FarrisTabsComponent","_position","positionStates","_width","resolveSize","widthStates","_height","heightStates","_headerHeight","headerHeight","_contentFill","contentFillStates","_tabs","_customClass","customClass","_this","split","forEach","cssClass","renderer","removeClass","el","trim","addClass","position","trackByButton","index","btn","id","verifyConfig","stService","parseInt","ngOnInit","beforeSelect","of","clickSubscription","clickItems","pipe","debounceTime","clickThrottleTime","subscribe","btnInfo","click","_tabContainerEl","tabContainer","nativeElement","_createStream","activeId","selectId","ngZone","runOutsideAngular","ro","ResizeObserver","_reCalculateAll","_calculateToolbarDropdownIsShow","_calculateButtonsShow","observe","parentElement","ngOnChanges","changes","selectTab","currentValue","ngAfterContentInit","ngAfterContentChecked","ngAfterViewInit","data","setStyle","getToolbarConf","_setActive","_changeTitleStyle","_listenShowChanges","_ddmHandler","listen","document","target","closest","querySelector","ddm","dropdown","close","ngAfterViewChecked","ngOnDestroy","subscription","sub","unsubscribe","unobserve","clickHandler","openChange","searchInputVisible","searchTabText","undefined","menuItemsWidth","resetMenuElWidthOpen","searchTab","stopBubble","stopPropagation","window","event","cancelBubble","getToolbarState","state","btnStates","map","tabs","item","showStates","activeIdToken","_show","_active","filter","defaultTabId","length","cdRef","detectChanges","tabId","selectedTab","_getTabById","_selectTab","tab","_cpSelectTabByIndex","ev","preventDefault","targetEL","className","indexOf","closeTab","markForCheck","selectTabByIndex","disabled","tabsChangeEventParam_1","prevId","nextId","scrollTabIntoView","tabChange","emit","activeTab","targetTab","find","showTab","selectable","len","hideTab","showTabs","addTabs","curTabs","setActiveId","_a","splice","apply","__spread","arguments","concat","_unique","filterTab","objArray","hash","reduce","removeTabByIndex","removeTab","tabRemove","removeIndex","removeId","load","_truncateTitle","title","substr","autoTitleWidth","$textEls","querySelectorAll","k","parentEl","parentNode","scrollWidth","titleOverflow","rightNav","leftNav","curBtn","direction","mousedown$","fromEvent","mouseup$","mousepressSub","switchMap","takeUntil","scan","sum","num","takeWhile","disableRight","disableLeft","v","change","_scrollTab","move","dist_scrollleft","scrollLeft","max_scroll_left","offsetWidth","Math","min","max","_reCalculateSides","hideButtons","tabToScroll","tabIndex","allTabs","tab_left","getBoundingClientRect","left","tabs_left","rightPosition","width","leftPosition","tabConfig","toolbarConf","toolbar","headerExtendConf","farrisTabsExtendDirective","toolbarDpHidden","headerExtendEl","headerExtendElWidth","toolbarContainer","hasInHeadCl","removeStyle","btnPlaceHolder","divEl","btnPlaceHolderEl","btnPlaceHolderBtns","moreButton","basicStart","basicWidth","toolbarDropdownHidden","showBtns","contents","inMoreButtonContents","tabParentWidth","tabParent","getComputedStyle","getPropertyValue","hideDropDown","dropdownTabs","_reCalulateTooltips","t_right_tooltips","t_left_tooltips","hiddenTabsLength","leftTooltipTabs","slice","rightTooltipTabs","disableRTooltip","disableLTooltip","indexWidthId","tabsWithId","size","regex","test","match","Component","template","changeDetection","ChangeDetectionStrategy","OnPush","encapsulation","ViewEncapsulation","None","ElementRef","Renderer2","ChangeDetectorRef","NgZone","Input","ViewChild","Output","elementRef","tabType","fill","titleLength","searchBoxVisible","contentDirection","Subject","titleWidth","EventEmitter","BehaviorSubject","tabVisibleChanged","FarrisTabsExtendDirective","TemplateRef","templateRef","FarrisTabComponent","scrollTabs","visible","_activeForOld","activeState","nEl","render","loadComponent","Compiler","ComponentFactoryResolver","ContentChild","cp","componentFactoryResolver","cef","tabWidth","titleCustomCls","selected","TabTranscludeDirective","_trancludeTempl","viewRef","createEmbeddedView","ngDoCheck","KeyValueDiffers","_differs","TabHeadDirective","tabItem","headingRef","NgbDropdownConfig","autoClose","placement","Positioning","positionService","getAllStyles","element","getStyle","prop","isStaticPositioned","offsetParent","offsetParentEl","documentElement","round","elPosition","parentOffset","height","top","bottom","right","offset","clientTop","clientLeft","elBcr","viewportOffset","pageYOffset","pageXOffset","elOffset","offsetHeight","positionElements","hostElement","targetElement","appendToBody","referElement","oldhostElPosition","hostElPosition","getRectCompareReferElementAndHostElement","targetElStyles","targetElBCR","placementPrimary","placementSecondary","targetElPosition","parseFloat","marginBottom","marginRight","hostRect","hostElemClientRect","referRect","getAvailablePlacements","oldhostElemClientRect","availablePlacements","targetElemClientRect","html","windowHeight","innerHeight","clientHeight","windowWidth","innerWidth","clientWidth","hostElemClientRectHorCenter","hostElemClientRectVerCenter","setSecondaryPlacementForLeftRight","setSecondaryPlacementForTopBottom","primaryPlacement","availablePlacementArr","placementVals","isArray","hasAuto","findIndex","val","obj","search","appliedPlacement","topVal","leftVal","pos","_b","__values","tslib_1.__values","toItemIndexes","a","_c","_d","style","NgbDropdownMenu","_elementRef","parentNodeW","menuW","isEventFrom","$event","contains","triggerEl","setTimeout","applyPlacement","_placement","_renderer","host","[class.dropdown-menu]","[class.show]","[attr.x-placement]","exportAs","Inject","forwardRef","NgbDropdown","isOpen","NgbDropdownAnchor","class","aria-haspopup","[attr.aria-expanded]","anchorEl","_super","NgbDropdownToggle","__extends","__","constructor","create","tslib_1.__extends","toggleOpen","toggle","(click)","providers","provide","useExisting","_menu","_open","open","_positionMenu","classList","add","overLayService","registerMouseEvent","tar","from","includes","remove","destory","closeFromClick","button","_isEventFromToggle","_isEventFromMenu","closeFromOutsideEsc","_zoneSubscription","_anchor","(keyup.esc)","onStable","OverLayHiddenService","NGB_DROPDOWN_DIRECTIVES","NgbDropdownModule","forRoot","ngModule","NgModule","imports","FarrisCommonModule","declarations","exports","Trigger","isManual","DEFAULT_ALIASES","hover","noopFn","listenToTriggers","triggers","openFn","closeFn","toggleFn","parsedTriggers","parseTriggers","aliases","trimmedTriggers","trigger","triggerPair","alias","manualTriggers","listeners","unsubscribeFn","ContentRef","nodes","componentRef","PopupService","content","context","_windowRef","_contentRef","_getContentRef","_viewContainerRef","createComponent","_componentFactoryResolver","resolveComponentFactory","_type","_injector","hostView","rootNodes","createText","NgbTooltipConfig","container","disableTooltip","NgbTooltipWindow","_element","toString","[class]","role","[id]","NgbTooltip","_ngbTooltip","_popupService","instance","_ngbTooltipWindowId","setAttribute","appendChild","location","changeDetectorRef","shown","removeAttribute","hidden","_unregisterListenersFn","bind","Injector","injector","NgbTooltipModule","entryComponents","FarrisTabsModule","useValue","CommonModule","LocaleModule","FormsModule"],"mappings":"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","sourcesContent":["import { Directive, ViewContainerRef} from '@angular/core';\r\n@Directive({\r\n    selector: '[tabHost]'\r\n})\r\n\r\nexport class TabHostDirective {\r\n    constructor( public viewContainerRef: ViewContainerRef) {\r\n    }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Injectable, Optional } from '@angular/core';\r\n\r\nexport class TabConfig {\r\n  // æ¯å¦å¯ç¨ä¸ææ¡\r\n  showDropDown = true;\r\n  // æ¯å¦å¯ç¨æç¤ºä¿¡æ¯\r\n  showTooltips = true;\r\n  // ç¹å»æ¶æ»å¨å¼\r\n  scrollStep = 15;\r\n  // æ¯å¦èªå¨éæ°å®½åº¦ ---- todo:æ­¤å¤åªå¤çäºwindowçresizeäºä»¶\r\n  autoResize = true;\r\n  // ä¸æåè¡¨æå¤§é«åº¦ éæ­£å¼è¡¨ææ¯ä¸é«åº¦\r\n  maxDropdownH = 200;\r\n  // ä¸æåè¡¨æå¤§å®½åº¦ï¼ éæ­£å¼è¡¨ææ¯ä¸éå¶å®½åº¦\r\n  maxDropdownW = -1;\r\n  // æ ç­¾æå¤§å®½åº¦ï¼éæ­£å¼è¡¨æä¸éå¶å®½åº¦\r\n  maxTabW = 100;\r\n  // æç¤ºä¿¡æ¯æ¡æ°\r\n  maxTooltipLen = 5;\r\n}\r\n\r\n@Injectable()\r\nexport class TabService {\r\n  config: TabConfig;\r\n  constructor(@Optional() exConfig: TabConfig) {\r\n    this.config = new TabConfig();\r\n    if (exConfig) {\r\n      Object.assign(this.config, exConfig);\r\n    }\r\n  }\r\n  getConfig() {\r\n    return this.config;\r\n  }\r\n}\r\n","\r\nimport {\r\n    Component, OnInit, OnChanges, SimpleChanges, Input, ElementRef, Renderer2, ChangeDetectionStrategy,\r\n    ChangeDetectorRef, ViewEncapsulation, AfterViewInit, ViewChild, OnDestroy, AfterContentChecked,\r\n    EventEmitter, Output, AfterContentInit, AfterViewChecked, NgZone\r\n} from '@angular/core';\r\nimport { Subscription, fromEvent, interval, Observable, of, BehaviorSubject, Subject } from 'rxjs';\r\nimport { takeUntil, map, scan, switchMap, takeWhile, concat, debounceTime } from 'rxjs/operators';\r\n\r\nimport { TabService, TabConfig } from '../tabs.config';\r\nimport { TabsChangeEvent, TabsRemoveTabEvent } from '../tabs.events';\r\nimport { FarrisTabComponent } from '../tab/tab.component';\r\nimport { ToolbarConf,ToolbarContentsConf} from '../toolbar.config';\r\nimport ResizeObserver from 'resize-observer-polyfill';\r\nimport { NgbDropdownMenu } from '../dropdown/dropdown';\r\n\r\n@Component({\r\n    selector: 'farris-tabs',\r\n    templateUrl: './tabs.component.html',\r\n    styleUrls: ['./tabs.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class FarrisTabsComponent implements OnInit, OnChanges, AfterViewInit,\r\n    OnDestroy, AfterContentInit, AfterContentChecked, AfterViewChecked {\r\n\r\n    @Input() tabType:'fill'|'pills'|''='';\r\n    // æ¯ææ ç­¾é¡µå¡«å\r\n    @Input() fill = false;\r\n    // æ¯ææ ç­¾é¡µæ é¢èªéåºå®½åº¦-\r\n    @Input() autoTitleWidth = false;\r\n    // æ é¢é¿åº¦å¤§äºç­äºå¤å°å­ç¬¦ï¼å¯ç¨æ¸åæ ·å¼ââå±æ§åºå¼\r\n    @Input() titleLength = 7;\r\n    searchInputVisible: boolean;\r\n    // tabé¡µä½ç½® ä¸ä¸å·¦å³\r\n    @Input() set position(value: string) {\r\n        this._position = value;\r\n        this.positionStates.next(value);\r\n    }\r\n    get position() {\r\n        return this._position;\r\n    }\r\n    // æ¯å¦å¯ç¨ä¸ææ¡\r\n    @Input() showDropDown;\r\n    // æ¯å¦å¯ç¨æç¤ºä¿¡æ¯---æªè¢«ä½¿ç¨\r\n    @Input() showTooltips;\r\n    // ç¹å»æ¶æ»å¨æ­¥é¿\r\n    @Input() scrollStep;\r\n    // æ¯å¦èªå¨éæ°å®½åº¦---æªè¢«ä½¿ç¨\r\n    @Input() autoResize;\r\n    // è®¾ç½®å¯å³é­æ ç­¾é¡µ---æªè¢«ä½¿ç¨\r\n    @Input() closeable: boolean;\r\n    // è®¾ç½®å¯éä¸­æ ç­¾é¡µ\r\n    // tslint:disable-next-line:no-input-rename\r\n    @Input('value') selectId: string;\r\n    // tabså®½åº¦åé«åº¦\r\n    @Input() set width(value: any) {\r\n        this._width = this.resolveSize(value);\r\n        this.widthStates.next(this._width);\r\n    }\r\n    @Input() set height(value: any) {\r\n        this._height = this.resolveSize(value);\r\n        this.heightStates.next(this._height);\r\n    }\r\n    // æç´¢æ¡æ¯å¦æ¾ç¤º\r\n    @Input() searchBoxVisible = true;\r\n    // æ ç­¾é¡µé«åº¦-----æªè¢«ä½¿ç¨\r\n    _headerHeight: string | number;\r\n    @Input('header-height')\r\n    get headerHeight() {\r\n        return this._headerHeight;\r\n    }\r\n    set headerHeight(headerHeight) {\r\n        this._headerHeight = this.resolveSize(headerHeight);\r\n    }\r\n\r\n    // åå®¹æ¯å¦æ¯flex å®¹å¨ ç¨äºåé¨å­åç´ flex-----æªè¢«ä½¿ç¨\r\n    @Input() contentDirection = 'column';\r\n    // åå®¹æ¯å¦å¡«å  é»è®¤æ¯ä¸å¡«å\r\n    @Input() set contentFill(value) {\r\n        this._contentFill = value;\r\n        this.contentFillStates.next(value);\r\n    }\r\n    @Input() clickThrottleTime = 350;\r\n    private clickItems = new Subject<any>();\r\n    private clickSubscription: Subscription;\r\n\r\n    @Input() btnStates: Observable<Array<{ [key: string]: boolean }>>;\r\n    @Input() btnVisible: Observable<Array<{ [key: string]: boolean }>>;\r\n\r\n    // æææ ç­¾æ°æ®\r\n    @Input()\r\n    get tabs(): any[] {\r\n        return this._tabs;\r\n    }\r\n    set tabs(value) {\r\n        this._tabs = value;\r\n    }\r\n\r\n    @Input()\r\n    get customClass(): string {\r\n        return this._customClass;\r\n    }\r\n    set customClass(customClass: string) {\r\n        if (this.customClass) {\r\n            this.customClass.split(' ').forEach((cssClass: string) => {\r\n                this.renderer.removeClass(this.el, cssClass);\r\n            });\r\n        }\r\n\r\n        this._customClass = customClass ? customClass.trim() : null;\r\n\r\n        if (this.customClass) {\r\n            this.customClass.split(' ').forEach((cssClass: string) => {\r\n                this.renderer.addClass(this.el, cssClass);\r\n            });\r\n        }\r\n    }\r\n    // å·¦ä¾§æææ ç­¾çå®½åº¦å,ç¾åæ¯\r\n    @Input() titleWidth = 0;\r\n    @ViewChild('leftNav') leftNav;\r\n    @ViewChild('rightNav') rightNav;\r\n    @ViewChild('tabContainer') tabContainer;\r\n    @ViewChild('toolbarContainer') toolbarContainer;\r\n    @ViewChild('dropDownButton') dropDownButton;\r\n    @ViewChild('tabParent') tabParent;\r\n    @ViewChild('btnPlaceholder') btnPlaceHolder;\r\n\r\n    /** éä¸­tab åäºä»¶ */\r\n    @Input() beforeSelect: (e: TabsChangeEvent) => Observable<boolean>;\r\n    @Output() tabChange = new EventEmitter<TabsChangeEvent>();\r\n    @Output() tabRemove = new EventEmitter<TabsRemoveTabEvent>();\r\n\r\n    get direction() {\r\n        switch (this.position) {\r\n            case 'top':\r\n                return 'column';\r\n            case 'bottom':\r\n                return 'column-reverse';\r\n            case 'left':\r\n                return 'row';\r\n            case 'right':\r\n                return 'row-reverse';\r\n        }\r\n    }\r\n\r\n    // æ ç¨ï¼å¼å®¹\r\n    get tabDirection() {\r\n        if (this.position === 'top' || this.position === 'bottom') {\r\n            return 'row';\r\n        } else if (this.position === 'left' || this.position === 'right') {\r\n            return 'column';\r\n        }\r\n    }\r\n    // åå®¹å¡«åç¶æ\r\n    contentFillStates = new BehaviorSubject<boolean>(false);\r\n    // åå®¹æ¯å¦å¡«å,é»è®¤ä¸å¡«å\r\n    _contentFill: any;\r\n    // å®½åº¦ç¶æ\r\n    widthStates = new BehaviorSubject<any>(false);\r\n    // tabså®½åº¦\r\n    _width: any;\r\n    // é«åº¦ç¶æ\r\n    heightStates = new BehaviorSubject<any>(false);\r\n    // tabså®½åº¦\r\n    _height: any;\r\n    // tabsæ é¢ä½ç½®\r\n    _position: any;\r\n    positionStates = new BehaviorSubject<string>('top');\r\n    menuItemsWidth = 'auto';\r\n    //maxDropdownH = 200; -----æªè¢«ä½¿ç¨\r\n    // ä¸æåè¡¨æå¤§å®½åº¦ï¼ éæ­£å¼è¡¨ææ¯ä¸éå¶å®½åº¦ -----æªè¢«ä½¿ç¨\r\n    maxDropdownW = -1;\r\n    private _customClass = '';\r\n    // æ ç­¾å­å¨åè¡¨\r\n    private _tabs: FarrisTabComponent[] = [];\r\n\r\n    headerExtendConf: any;\r\n    // å·¥å·æ¡æ¾ç¤ºç¸å³éç½®\r\n    toolbarConf: ToolbarConf = {\r\n        position: '',\r\n        contents: []\r\n    };\r\n    // å·¥å·æ¡å³ä¾§å°ä¸ææ¡æ¯å¦æ¾ç¤º\r\n    toolbarDpHidden = true;\r\n    // å·¥å·æ¡âæ´å¤âéçæé®\r\n    inMoreButtonContents: any[] = [];\r\n    // æ¾ç¤ºä¸ææ°æ®\r\n    dropdownTabs = [];\r\n    // éèå·¦å³æ»å¨ç®­å¤´æé®\r\n    hideButtons = true;\r\n    // åä¸ªæ ç­¾é¡µæ é¢çå®½åº¦\r\n    tabWidth: number;\r\n\r\n    // éèä¸æ\r\n    hideDropDown = true;\r\n    // ç¦ç¨å·¦ç®­å¤´\r\n    disableLeft = false;\r\n    // ç¦ç¨å³ç®­å¤´\r\n    disableRight = false;\r\n    // å½åæ ·å¼\r\n    private el: HTMLElement;\r\n    // è®°å½äºä»¶æµ\r\n    subscription: Subscription[] = [];\r\n    // ç¦ç¨å³ä¾§æç¤º\r\n    disableRTooltip = true;\r\n    // ç¦ç¨å·¦ä¾§æç¤º\r\n    disableLTooltip = true;\r\n    // å·¦ä¾§æç¤ºæ°æ®\r\n    leftTooltipTabs = [];\r\n    // å³ä¾§æç¤ºæ°æ®\r\n    rightTooltipTabs = [];\r\n    // åé¨å¤çæ è®°Tabæ ç­¾\r\n    private _tabContainerEl: HTMLElement;\r\n    private maxTooltipLen = 5;\r\n    // æ è®°å½åTabæ ç­¾\r\n    activeId = '';\r\n    private ro: ResizeObserver = null;\r\n    // æç´¢tabæ¡çå¼\r\n    searchTabText: string;\r\n\r\n    @ViewChild('ddm') ddm: NgbDropdownMenu;\r\n\r\n    private _ddmHandler: any = null;\r\n\r\n    trackByButton(index: number, btn: any): number { return btn.id; };\r\n\r\n\r\n    tabVisibleChanged = new Subject();\r\n\r\n    constructor(\r\n        private stService: TabService,\r\n        private elementRef: ElementRef,\r\n        private renderer: Renderer2,\r\n        private cdRef: ChangeDetectorRef,\r\n        private ngZone: NgZone\r\n    ) {\r\n        this.el = this.elementRef.nativeElement;\r\n        this.verifyConfig();\r\n\r\n        this.subscription.push(this.tabVisibleChanged.subscribe((e: any) => {\r\n            this._reCalculateAll();\r\n            this._calculateToolbarDropdownIsShow();\r\n            this._calculateButtonsShow();\r\n        }));\r\n    }\r\n\r\n    /** éªè¯ä¼ éåæ° */\r\n    private verifyConfig() {\r\n        const config: TabConfig = this.stService.getConfig();\r\n        Object.assign(this, config);\r\n        this.scrollStep = parseInt(this.scrollStep + '', 10);\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n        if (!this.beforeSelect) {\r\n            this.beforeSelect = () => of(true);\r\n        }\r\n        this.clickSubscription = this.clickItems.pipe(debounceTime(this.clickThrottleTime))\r\n            .subscribe((btnInfo:ToolbarContentsConf) => {\r\n                    if(btnInfo.click&&typeof btnInfo.click=='function'){\r\n                        btnInfo.click();\r\n                    }\r\n            });\r\n\r\n\r\n        this._tabContainerEl = this.tabContainer.nativeElement;\r\n        this._createStream();\r\n        this.activeId = this.selectId;\r\n\r\n        if (this.ngZone) {\r\n            this.ngZone.runOutsideAngular(() => {\r\n                if (this.ro === null) {\r\n                    this.ro = new ResizeObserver((el) => {\r\n                        this._reCalculateAll();\r\n                        this._calculateToolbarDropdownIsShow();\r\n                        this._calculateButtonsShow();\r\n                    });\r\n\r\n                    this.ro.observe(this.el.parentElement);\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes['selectId']) {\r\n            this.selectTab(changes['selectId'].currentValue);\r\n        }\r\n    }\r\n\r\n    /* æ ç­¾é¡µåå®¹åå§å */\r\n    ngAfterContentInit(): void { }\r\n    ngAfterContentChecked() {\r\n\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        // ä¸ºäºå¼å®¹å¼æ§è¡¨åï¼ä¸å¼å®¹HostBinding, éè¿è¿½å classçæ¹å¼å®ç°\r\n        this.renderer.addClass(this.el, 'farris-tabs');\r\n        this.renderer.addClass(this.el, 'flex-column');\r\n        this.contentFillStates.subscribe(data => {\r\n            if (data) {\r\n                this.renderer.addClass(this.el, 'f-tabs-content-fill');\r\n            } else {\r\n                this.renderer.removeClass(this.el, 'f-tabs-content-fill');\r\n            }\r\n        });\r\n        this.widthStates.subscribe(data => {\r\n            if (data) {\r\n                this.renderer.setStyle(this.el, 'width', data);\r\n            }\r\n        });\r\n        this.heightStates.subscribe(data => {\r\n            if (data) {\r\n                this.renderer.setStyle(this.el, 'height', data);\r\n            }\r\n        });\r\n        this.positionStates.subscribe(data => {\r\n            this.renderer.removeClass(this.el, 'flex-row');\r\n            this.renderer.removeClass(this.el, 'flex-column');\r\n            this.renderer.removeClass(this.el, 'flex-row-reverse');\r\n            this.renderer.removeClass(this.el, 'flex-column-reverse');\r\n            if (data === 'left') {\r\n                this.renderer.addClass(this.el, 'flex-row');\r\n            }\r\n            if (data === 'top') {\r\n                this.renderer.addClass(this.el, 'flex-column');\r\n            }\r\n            if (data === 'right') {\r\n                this.renderer.addClass(this.el, 'flex-row-reverse');\r\n            }\r\n            if (data === 'bottom') {\r\n                this.renderer.addClass(this.el, 'flex-column-reverse');\r\n            }\r\n        });\r\n        // å¼å®¹ç»æ\r\n        this.getToolbarConf();\r\n        this._reCalculateAll();\r\n        this._setActive();\r\n        this._changeTitleStyle();\r\n        this._listenShowChanges();\r\n        const self = this;\r\n        // this.renderer.listen(document, 'keyup', function (e) {\r\n        //     if (self.searchInputVisible) {\r\n        //         console.log(e);\r\n        //     }\r\n        // });\r\n\r\n        this.ngZone.runOutsideAngular(() => {\r\n            this._ddmHandler = this.renderer.listen(document, 'mousedown', (e: any) => {\r\n                if (!e.target.closest('.farris-tabs-header')) {\r\n                    if (this.el && this.el.querySelector('.dropdown-menu')) {\r\n                        if (this.ddm && this.ddm.dropdown) {\r\n                            this.ddm.dropdown.close();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    }\r\n    ngAfterViewChecked(): void {\r\n\r\n    }\r\n    ngOnDestroy() {\r\n        // ç»ä»¶éæ¯æ¶  åæ¶ææäºä»¶è®¢é\r\n        this.subscription.forEach(sub => {\r\n            sub.unsubscribe();\r\n        });\r\n        this.subscription = [];\r\n\r\n        if (this.ro) {\r\n            if (this.el.parentElement) {\r\n                this.ro.unobserve(this.el.parentElement);\r\n            }\r\n            this.ro = null;\r\n        }\r\n\r\n        if (this._ddmHandler) {\r\n            this._ddmHandler();\r\n            this._ddmHandler = null;\r\n        }\r\n        if (this.clickSubscription) {\r\n            this.clickSubscription.unsubscribe();\r\n        }\r\n    }\r\n    clickHandler(btnInfo) {\r\n        if (!btnInfo) {\r\n            return;\r\n        }\r\n        this.clickItems.next(btnInfo);\r\n\r\n    }\r\n    // æ´å¤tabçæ¾ç¤ºéè\r\n    openChange(e) {\r\n        this.searchInputVisible = e;\r\n        this.searchTabText = undefined;\r\n        this._reCalculateAll();\r\n        // å¯ç¨äºæç´¢ï¼éè¦å¤æ­ä¸æé¢æ¿çå¼\r\n        // å ä¸ºä¸æé¢æ¿å¯è½å­å¨é®æ¡çé®é¢\r\n        if (e) {\r\n            this.menuItemsWidth = this.ddm.resetMenuElWidthOpen() + 'px';\r\n        } else {\r\n            this.menuItemsWidth = 'auto';\r\n        }\r\n\r\n    }\r\n    // æç´¢tab\r\n    searchTab(e) {\r\n        this.stopBubble(e);\r\n        this._reCalculateAll();\r\n    }\r\n    // é»æ­¢åæ³¡\r\n    stopBubble(e) {\r\n        if (e && e.stopPropagation) {\r\n            e.stopPropagation();\r\n        } else {\r\n            window.event.cancelBubble = true;\r\n        }\r\n    }\r\n    getToolbarState(id: string, state: Observable<any> = this.btnStates) {\r\n        if (state) {\r\n            return state.pipe(\r\n                map((n: any) => {\r\n                    if (n[id] === undefined) {\r\n                        // console.warn(`æªæ¾IDä¸ºï¼${id} ç¸å³ç¶æè®¾ç½®ï¼`);\r\n                        return false;\r\n                    }\r\n                    return n[id];\r\n                })\r\n            );\r\n        } else {\r\n            return of(true);\r\n        }\r\n    }\r\n    // çå¬å­ç»ä»¶çéèæ¾ç¤ºå±æ§\r\n    private _listenShowChanges() {\r\n        // å¦æéèçç»ä»¶æ¯æ¿æ´»ç¶æï¼åå°å¶è®¾ç½®ä¸ºå¸¸è§\r\n        this.tabs.forEach(item => {\r\n            item.showStates.subscribe(data => {\r\n                let activeIdToken;\r\n                item._show = data;\r\n                if (data === false && item.id === this.activeId) {\r\n                    item._active = false;\r\n                    this.activeId = '';\r\n                    activeIdToken = false;\r\n                }\r\n                const tabs = this.tabs.filter(item => item._show === true);\r\n                const defaultTabId = tabs.length ? tabs[0].id : null;\r\n                // ç¶åå°æ¾ç¤ºç¶æä¸çç¬¬ä¸ä¸ªtabæ¿æ´»\r\n                if (defaultTabId && activeIdToken === false) {\r\n                    this.tabs.forEach((item, index) => {\r\n                        if (item.id === defaultTabId) {\r\n                            this.activeId = item.id;\r\n                            this.tabs[index]._active = true;\r\n                        }\r\n                    });\r\n                    this.getToolbarConf();\r\n                }\r\n                this.cdRef.detectChanges();\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * éä¸­Tab\r\n     * @param  tabId tabæ è¯\r\n     */\r\n    selectTab(tabId: string) {\r\n        const selectedTab = this._getTabById(tabId);\r\n        this._selectTab(selectedTab.tab, selectedTab.index);\r\n    }\r\n    _cpSelectTabByIndex(ev: Event, id: string, ddm = null) {\r\n        ev.preventDefault();\r\n        ev.stopPropagation();\r\n        const targetEL = ev.target as any;\r\n        if (\r\n            targetEL.className.indexOf('st-drop-close') > -1 ||\r\n            targetEL.parentElement.className.indexOf('st-drop-close') > -1\r\n        ) {\r\n            // é»æ­¢åæ³¡åæè·äºä»¶ ç¹å»å é¤æ è®° åæ§è¡å é¤æ ç­¾æ¹æ³  èä¸æ¯éä¸­æ ç­¾\r\n            this.closeTab(id);\r\n        } else {\r\n            // é»æ­¢åæ³¡\r\n            this.selectTab(id);\r\n        }\r\n        this.getToolbarConf();\r\n        this.cdRef.markForCheck();\r\n        this._reCalculateAll();\r\n        this._calculateToolbarDropdownIsShow();\r\n        this._calculateButtonsShow();\r\n\r\n        if (ddm) {\r\n            ddm.dropdown.close();\r\n        }\r\n\r\n        return false;\r\n    }\r\n    /**\r\n     * éè¿tabsçç´¢å¼éæ© tab\r\n     * @param index tabsç´¢å¼\r\n     */\r\n    selectTabByIndex(index: number) {\r\n        if (index >= 0 && index < this.tabs.length) {\r\n            const selectTab = this.tabs[index];\r\n            this._selectTab(selectTab, index);\r\n        }\r\n    }\r\n    /* éä¸­tabæ¶  æ´é²åºéä¸­tabçid åå¶ä¹åçid */\r\n    private _selectTab(tab, index) {\r\n        if (tab && !tab.disabled && this.activeId !== tab.id) {\r\n\r\n            if (!this.beforeSelect) {\r\n                this.beforeSelect = () => of(true);\r\n            }\r\n\r\n            const tabsChangeEventParam = {\r\n                prevId: this.activeId,\r\n                nextId: tab.id\r\n            };\r\n            this.beforeSelect(tabsChangeEventParam).subscribe((e) => {\r\n                if (e) {\r\n                    this.activeId = tab.id;\r\n                    // é¦åä¸æ¿æ´»ææçtabé¡µ  ç¶åæ¿æ´»å½åtabé¡µ\r\n                    // let index = -1;\r\n                    this.tabs.forEach((item: FarrisTabComponent, i: number) => {\r\n                        item._active = false;\r\n                    });\r\n                    this.tabs[index]._active = true;\r\n\r\n                    this.getToolbarConf();\r\n                    // æ»å¨å°å¯è§åºåå\r\n                    this.scrollTabIntoView(index);\r\n                    this.cdRef.detectChanges();\r\n\r\n                    this.tabChange.emit(tabsChangeEventParam);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    private _setActive() {\r\n        if (this.tabs.length) {\r\n            const tabs = this.tabs.filter(item => item._show === true);\r\n            const activeTab = this._getTabById(this.activeId).tab;\r\n            this.activeId = activeTab ? activeTab.id : this.tabs.length ? this.tabs[0].id : null;\r\n\r\n            // è¿æ»¤æshow=falseï¼éèï¼çtab\r\n            if (tabs.length) {\r\n                if (this.activeId) {\r\n                    const targetTab = tabs.find(item => item.id === this.activeId);\r\n                    if (targetTab) {\r\n                        this.activeId = targetTab.id;\r\n                    }\r\n                } else {\r\n                    this.activeId = tabs[0].id;\r\n                }\r\n            } else {\r\n                this.activeId = null;\r\n            }\r\n            this.tabs.forEach(item => {\r\n                item._active = false;\r\n                if (item.id === this.activeId) {\r\n                    item._active = true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * @param activeId æ¾ç¤ºæä¸ªtab\r\n     */\r\n    showTab(tabId: any, selectable = true) {\r\n        const len = this.tabs.length;\r\n        for (let i = 0; i < len; i++) {\r\n            if (this.tabs[i].id === tabId) {\r\n                this.tabs[i]._show = true;\r\n                if (selectable) {\r\n                    this.selectTab(tabId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @param activeId éèæä¸ªtab\r\n     */\r\n    hideTab(activeId: any) {\r\n        const showTabs = this.tabs.filter(item => {\r\n            return item._show === true;\r\n        });\r\n        const len = showTabs.length - 1;\r\n        if (len < 0) {\r\n            return;\r\n        }\r\n        let index: number;\r\n        for (let i = 0; i <= len; i++) {\r\n            if (showTabs[i].id === activeId) {\r\n                showTabs[i]._show = false;\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n        if (index === undefined) {\r\n            return;\r\n        } else if (index === len && len < 1) {\r\n            this.selectTab('');\r\n        } else if (index === len && len >= 1) {\r\n            this.selectTab(showTabs[len - 1].id);\r\n        } else {\r\n            this.selectTab(showTabs[index + 1].id);\r\n        }\r\n    }\r\n    /**\r\n     * æ·»å æ ç­¾\r\n     * @param curTabs æ°ç»æèå¯¹è±¡\r\n     * @param activeId è®¾ç½®\r\n     */\r\n    addTabs(curTabs: any[], index, setActiveId) {\r\n        if (curTabs.length > 0) {\r\n            this.tabs.splice(index, 0, ...curTabs);\r\n            // å»é\r\n            this.tabs = this._unique(this.tabs);\r\n        }\r\n        if (setActiveId && this.activeId !== setActiveId) {\r\n            const filterTab = this._getTabById(setActiveId);\r\n            if (filterTab.index >= 0) {\r\n                this.selectTab(setActiveId);\r\n                this.activeId = setActiveId;\r\n                this.scrollTabIntoView(filterTab.index);\r\n            }\r\n        }\r\n        this.cdRef.detectChanges();\r\n        this._reCalculateAll();\r\n        this._changeTitleStyle();\r\n    }\r\n    /**\r\n     * æ·»å æ ç­¾æ¶  å»é\r\n     *\r\n     */\r\n    private _unique(objArray) {\r\n        const hash = {};\r\n        objArray = objArray.reduce(function (item, next) {\r\n            if (hash[next.id]) {\r\n                hash[next.id] = '';\r\n            } else {\r\n                hash[next.id] = true && item.push(next);\r\n            }\r\n            return item;\r\n        }, []);\r\n        return objArray;\r\n    }\r\n    /* éè¿tabåè¡¨çåºåå é¤tab */\r\n    removeTabByIndex(index: number) {\r\n        const len = this.tabs.length - 1;\r\n        if (index < 0 || index > len) {\r\n            return;\r\n        }\r\n        const removeTab = this.tabs[index];\r\n        removeTab._active = false;\r\n        if (this.activeId === removeTab.id) {\r\n            // åªæä¸ä¸ªèä¸è¢«å é¤\r\n            if (len === 0) {\r\n                // å¦ææææ ç­¾åå é¤ æ¿æ´»idä¸ºç©º\r\n                this.activeId = '';\r\n            } else if (index === len) {\r\n                // å¦æå é¤çæ¯æåä¸ä¸ªæ ç­¾ è®¾ç½®å¶åé¢çå¤äºæ¿æ´»ç¶æ\r\n                this.activeId = this.tabs[len - 1].id;\r\n                this.tabs[index - 1]._active = true;\r\n            } else {\r\n                // å¦æå¶ä»æåµ  è®¾ç½®å¶åé¢çå¤äºæ¿æ´»ç¶æ\r\n                this.activeId = this.tabs[index + 1].id;\r\n                this.tabs[index + 1]._active = true;\r\n            }\r\n            this.tabs.splice(index, 1);\r\n            this.scrollTabIntoView(index);\r\n        } else {\r\n            this.tabs.splice(index, 1);\r\n        }\r\n        this.tabRemove.emit({\r\n            removeIndex: index,\r\n            removeId: removeTab.id,\r\n            activeId: this.activeId\r\n        });\r\n        this.cdRef.detectChanges();\r\n    }\r\n    /**\r\n     * å³é­æ ç­¾  è·å é¤æ ç­¾ä¸å\r\n     * @param string\r\n     */\r\n    closeTab(activeId) {\r\n        const len = this.tabs.length;\r\n        for (let i = 0; i < len; i++) {\r\n            const tab = this.tabs[i];\r\n            if (tab.id === activeId) {\r\n                this.removeTabByIndex(i);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * åå§å\r\n     */\r\n    load() {\r\n        for (let i = 0; i < this.tabs.length; i++) {\r\n            if (this.tabs[i].id === this.activeId) {\r\n                this.tabs[i]._active = true;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * æªåtabä¸­çtitle,è¶è¿6ä½ï¼æªæ­\r\n     */\r\n    private _truncateTitle() {\r\n        this.tabs = this.tabs.map(item => {\r\n            item.title = item.title.length > 6 ? item.title.substr(0, 6) : item.title;\r\n            return item;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * æ¿æ¢tabä¸­çtitleé¢è²\r\n     */\r\n    private _changeTitleStyle() {\r\n        if (this.autoTitleWidth) {\r\n            return;\r\n        }\r\n        const $textEls = this._tabContainerEl.querySelectorAll('.st-tab-text');\r\n        for (var k = 0; k < $textEls.length; k++) {\r\n            let parentEl = $textEls[k].parentNode;\r\n            if ($textEls[k].scrollWidth > parentEl['offsetWidth']) {\r\n                this.tabs[k].titleOverflow = true;\r\n            } else {\r\n                this.tabs[k].titleOverflow = false;\r\n            }\r\n        }\r\n        //this.cdRef.detectChanges();\r\n    }\r\n    /**\r\n     * åå»ºæµ\r\n     */\r\n    private _createStream() {\r\n        [this.rightNav, this.leftNav].forEach((curBtn, index) => {\r\n            const direction = index ? -1 : 1;\r\n\r\n            const mousedown$ = fromEvent(curBtn.nativeElement, 'mousedown');\r\n            const mouseup$ = fromEvent(curBtn.nativeElement, 'mouseup');\r\n            const newMouseDown$ = mousedown$.pipe(\r\n                switchMap((event: MouseEvent) => {\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                    const interval$ = of(0).pipe(\r\n                        // concat(interval(80)),\r\n                        takeUntil(mouseup$),\r\n                        scan((sum: number, num: number) => {\r\n                            return sum + this.scrollStep * direction;\r\n                        }, 0),\r\n                        takeWhile(num => {\r\n                            if (direction > 0) {\r\n                                return !this.disableRight;\r\n                            }\r\n                            return !this.disableLeft;\r\n                        }),\r\n                        map(v => {\r\n                            return { value: v, direction };\r\n                        })\r\n                    );\r\n                    return interval$;\r\n                })\r\n            );\r\n            const mousepressSub = newMouseDown$.subscribe(change => {\r\n                this._scrollTab(change.value, change.direction);\r\n            });\r\n            this.subscription.push(mousepressSub);\r\n        });\r\n\r\n        // if (this.autoResize) {\r\n        //     // è®¢éwindows resizeäºä»¶\r\n        //     this.subscription.push(\r\n        //         fromEvent(window, 'resize')\r\n        //             .pipe(throttleTime(80))\r\n        //             .subscribe(e => {\r\n        //                 this.cdRef.detectChanges();\r\n        //             })\r\n        //     );\r\n        // }\r\n    }\r\n    /**\r\n     * æç§æ¹åï¼æ»å¨å°æå®ä½ç½®\r\n     * @param dist_scroll ç®æ æ»å¨\r\n     * @param direction æ¹å\r\n     */\r\n    private _scrollTab(move, direction) {\r\n        const dist_scrollleft = this._tabContainerEl.scrollLeft + move;\r\n        const max_scroll_left =\r\n            this._tabContainerEl.scrollWidth - this._tabContainerEl.offsetWidth;\r\n        // æ ç­¾é¡µå·¦ä¾§ç§»å¨\r\n        if (direction > 0) {\r\n            this._tabContainerEl.scrollLeft = Math.min(\r\n                dist_scrollleft,\r\n                max_scroll_left\r\n            );\r\n        } else if (direction < 0) {\r\n            // æ ç­¾é¡µå³ä¾§ç§»å¨\r\n            this._tabContainerEl.scrollLeft = Math.max(dist_scrollleft, 0);\r\n        }\r\n        this._reCalculateSides();\r\n        // this.cdRef.detectChanges();\r\n    }\r\n    /**\r\n     * æå®å½åæ»å¨å°å¯è§åºåââââââââââââââæªæµè¯\r\n     * index\r\n     */\r\n    scrollTabIntoView(index) {\r\n        if (!this._tabContainerEl || this.hideButtons) {\r\n            return;\r\n        }\r\n        const tabIndex = parseInt(index + '', 10);\r\n        let tabToScroll;\r\n\r\n        // first we find the tab element.\r\n        if (tabIndex >= 0) {\r\n            const allTabs = this._tabContainerEl.querySelectorAll('.nav-item');\r\n            if (allTabs.length > tabIndex) {\r\n                tabToScroll = allTabs[tabIndex];\r\n            }\r\n        } else {\r\n            // scroll selected tab into view\r\n            const activeTab = this._tabContainerEl.querySelector('li.active');\r\n            if (activeTab) {\r\n                tabToScroll = activeTab;\r\n            }\r\n        }\r\n\r\n        if (tabToScroll) {\r\n            const tab_left = parseInt(\r\n                tabToScroll.getBoundingClientRect().left + '',\r\n                10\r\n            );\r\n            const tabs_left = parseInt(\r\n                this._tabContainerEl.getBoundingClientRect().left + '',\r\n                10\r\n            );\r\n            const rightPosition =\r\n                tab_left +\r\n                parseInt(tabToScroll.getBoundingClientRect().width + '', 10) -\r\n                tabs_left;\r\n\r\n            const leftPosition = tab_left - tabs_left - 10;\r\n            if (leftPosition < 0) {\r\n                this._scrollTab(leftPosition, -1);\r\n            } else if (rightPosition > this._tabContainerEl.offsetWidth) {\r\n                this._scrollTab(\r\n                    rightPosition - this._tabContainerEl.offsetWidth + 20,\r\n                    1\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * åæ¢tabåï¼éæ°è·åéè¦è¯¥tabä¸å·¥å·æ¡æé®çéç½®ä¿¡æ¯ä»¥åéèæ´å¤æé®\r\n     * ä»¥åè·åè¯¥tabä¸çå¤´é¨æ©å±åºå\r\n     */\r\n    private getToolbarConf() {\r\n        const tabConfig = this.tabs.filter(item => {\r\n            return item._active === true;\r\n        })[0];\r\n        if (!tabConfig || !tabConfig.hasOwnProperty('toolbar')) {\r\n            this.toolbarConf = null;\r\n        } else {\r\n            this.toolbarConf = tabConfig.toolbar;\r\n        }\r\n        // è·åè¯¥tabä¸çå¤´é¨æ©å±åºå\r\n        if (!tabConfig || !tabConfig.hasOwnProperty('farrisTabsExtendDirective')) {\r\n            this.headerExtendConf = null;\r\n        } else {\r\n            this.headerExtendConf = tabConfig.farrisTabsExtendDirective;\r\n        }\r\n        // éèæ´å¤æé®\r\n        this.toolbarDpHidden = true;\r\n        this.cdRef.detectChanges();\r\n    }\r\n\r\n    /**\r\n     * è®¡ç®å·¥å·æ æ¯å¦æ¾ç¤ºä¸ææé®\r\n     */\r\n    private _calculateToolbarDropdownIsShow() {\r\n        let headerExtendEl: any;\r\n        let headerExtendElWidth = 0;\r\n        if (!this.toolbarContainer || !this.toolbarConf) {\r\n            return;\r\n        }\r\n        const toolbarContainer = this.hasInHeadCl() ? this.toolbarContainer.nativeElement : this.toolbarContainer.nativeElement.parentElement;\r\n        let divEl = toolbarContainer.querySelector('.farris-tabs-inline-flex');\r\n        if (!divEl) {\r\n            return;\r\n        }\r\n        if (this.headerExtendConf) {\r\n            headerExtendEl = toolbarContainer.querySelector('.farris-tabs-header-extend');\r\n            this.renderer.removeStyle(headerExtendEl, 'overflow');\r\n            headerExtendElWidth = headerExtendEl.offsetWidth;\r\n        }\r\n        // æé®å¨åå®¹åº\r\n        if (!this.hasInHeadCl() && this.btnPlaceHolder.nativeElement.offsetWidth > toolbarContainer.offsetWidth) {\r\n            this.toolbarDpHidden = false;\r\n        } else if (this.hasInHeadCl() && this.btnPlaceHolder.nativeElement.offsetWidth > toolbarContainer.offsetWidth - headerExtendElWidth) {\r\n            // æé®å¨å¤´é¨å·¥å·æ \r\n            this.toolbarDpHidden = false;\r\n        } else {\r\n            this.toolbarDpHidden = true;\r\n        }\r\n        this.cdRef.detectChanges();\r\n    }\r\n\r\n    /**\r\n     * è®¡ç®æ¾ç¤ºçæé®ä¸ªæ°åæ´å¤ä¸­æ¾ç¤ºçæé®ä¸ªæ°\r\n     */\r\n    private _calculateButtonsShow() {\r\n        let headerExtendEl: any;\r\n        let headerExtendElWidth = 0;\r\n        if (!this.toolbarContainer || !this.toolbarConf) {\r\n            return;\r\n        }\r\n        const toolbarContainer = this.hasInHeadCl() ? this.toolbarContainer.nativeElement : this.toolbarContainer.nativeElement.parentElement;\r\n        let divEl = toolbarContainer.querySelector('.farris-tabs-inline-flex');\r\n        let btnPlaceHolderEl = this.btnPlaceHolder.nativeElement;\r\n        let btnPlaceHolderBtns = btnPlaceHolderEl.querySelectorAll('button');\r\n        if (!divEl || btnPlaceHolderBtns.length == 0) {\r\n            return;\r\n        }\r\n        // æ­¤å¤æä¸ªBugï¼å¦ææ¯inContentè¿æ¯headerExtendConfçæåµä¸ï¼æé®çä½ç½®å½¢å¦inHead\r\n        if (this.headerExtendConf) {\r\n            headerExtendEl = toolbarContainer.querySelector('.farris-tabs-header-extend');\r\n            headerExtendElWidth = this.hasInHeadCl() ? headerExtendEl.offsetWidth : 0;\r\n\r\n        }\r\n        const moreButton = toolbarContainer.querySelector('.morebtn');\r\n        // è®¡ç®æé®çå®½åº¦      \r\n        let basicStart = parseInt(btnPlaceHolderEl.getBoundingClientRect().left);\r\n        let basicWidth = toolbarContainer.offsetWidth - moreButton.offsetWidth - 12 - headerExtendElWidth;\r\n        let toolbarDropdownHidden = true;\r\n        let k = 0\r\n        // åªæä¸ä¸ªæé®\r\n        if (btnPlaceHolderBtns.length == 1) {\r\n            if (btnPlaceHolderEl.offsetWidth > basicWidth) {\r\n                toolbarDropdownHidden = false;\r\n            } else {\r\n                k = 1;\r\n            }\r\n        } else {\r\n            for (k = 1; k <= btnPlaceHolderBtns.length - 1; k++) {\r\n                // å¦æåå®¹è¶åº,èèå°æé®ä¹é´çé´è·\r\n                if (k == btnPlaceHolderBtns.length - 1) {\r\n                    if (btnPlaceHolderEl.offsetWidth > basicWidth) {\r\n                        toolbarDropdownHidden = false;\r\n                        k = k - 1;\r\n                        break;\r\n                    }\r\n                } else if (parseInt(btnPlaceHolderBtns[k].getBoundingClientRect().left) - basicStart > basicWidth) {\r\n                    toolbarDropdownHidden = false;\r\n                    k = k - 1;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        this.toolbarDpHidden = toolbarDropdownHidden;\r\n        let showBtns = divEl.querySelectorAll('button');\r\n        for (let i = 0; i < k; i++) {\r\n            this.renderer.setStyle(showBtns[i], 'display', '');\r\n        }\r\n        for (let m = k; m < showBtns.length; m++) {\r\n            this.renderer.setStyle(showBtns[m], 'display', 'none');\r\n        }\r\n        if (this.toolbarConf.contents && this.toolbarConf.contents.length) {\r\n            this.inMoreButtonContents = this.toolbarConf.contents.filter(\r\n                (item, index) => {\r\n                    return index >= k;\r\n                }\r\n            );\r\n        }\r\n    }\r\n    /**\r\n     * éæ°è®¡ç®æ¯å¦æ¾ç¤ºæé®åä¸æ\r\n     */\r\n    private _reCalculateAll() {\r\n        if (!this._tabContainerEl) {\r\n            return;\r\n        }\r\n\r\n        let tabParentWidth = this.tabParent.nativeElement.offsetWidth;\r\n        if (!this.hideButtons) {\r\n            const tr = parseInt(window.getComputedStyle(this.tabParent.nativeElement).getPropertyValue(\"margin-right\"));\r\n            const tl = parseInt(window.getComputedStyle(this.tabParent.nativeElement).getPropertyValue(\"margin-left\"));\r\n            tabParentWidth += tr + tl;\r\n        }\r\n\r\n        this.hideButtons = this._tabContainerEl.scrollWidth <= tabParentWidth;\r\n\r\n        this.hideDropDown = this.showDropDown ? this.hideButtons : true;\r\n        if (!this.hideButtons) {\r\n            if (!this.hideDropDown) {\r\n                this.dropdownTabs = [].concat(this.tabs);\r\n            }\r\n            if (this.searchTabText) {\r\n                this.dropdownTabs = this.dropdownTabs.filter(item => {\r\n                    return item['title'].indexOf(this.searchTabText) !== -1;\r\n                });\r\n            }\r\n            this._reCalculateSides();\r\n        }\r\n        this.cdRef.detectChanges();\r\n    }\r\n    /**\r\n     * éæ°è®¡ç®å·¦å³çæç¤ºæå­\r\n     */\r\n    private _reCalulateTooltips() {\r\n        if (!this._tabContainerEl || this.hideButtons) {\r\n            return;\r\n        }\r\n        const t_right_tooltips = [];\r\n        const t_left_tooltips = [];\r\n        const allTabs = this._tabContainerEl.querySelectorAll('.nav-item');\r\n        const len = allTabs.length;\r\n        const hiddenTabs = this.tabs.filter(item => {\r\n            return item._show !== true;\r\n        })\r\n        const hiddenTabsLength = hiddenTabs.length;\r\n        for (let i = 0; i < len; i++) {\r\n            const leftPosition =\r\n                allTabs[i].getBoundingClientRect().left -\r\n                this._tabContainerEl.getBoundingClientRect().left;\r\n            const rightPosition =\r\n                allTabs[i].getBoundingClientRect().width + leftPosition;\r\n            if (rightPosition > this._tabContainerEl.offsetWidth) {\r\n                t_right_tooltips.push(this.tabs[i]);\r\n            } else if (leftPosition < 0) {\r\n                t_left_tooltips.push(this.tabs[i]);\r\n            }\r\n        }\r\n\r\n        this.leftTooltipTabs = []\r\n            .concat(t_left_tooltips)\r\n            .slice(Math.max(0, t_left_tooltips.length - this.maxTooltipLen));\r\n        this.rightTooltipTabs = []\r\n            .concat(t_right_tooltips)\r\n            .slice(0, Math.min(this.maxTooltipLen, t_right_tooltips.length));\r\n        this.disableRTooltip = this.rightTooltipTabs.length < 1;\r\n        this.disableLTooltip = this.leftTooltipTabs.length - hiddenTabsLength < 1;\r\n    }\r\n    /**\r\n     * éæ°è®¡ç®å·¦å³ç®­å¤´ç¶æ\r\n     */\r\n    private _reCalculateSides() {\r\n        this.disableRight =\r\n            this._tabContainerEl.scrollLeft >=\r\n            this._tabContainerEl.scrollWidth - this._tabContainerEl.offsetWidth;\r\n        this.disableLeft = this._tabContainerEl.scrollLeft <= 0;\r\n        this._reCalulateTooltips();\r\n    }\r\n    /**\r\n     * éè¿idå¯»æ¾Tab\r\n     * @param id ID\r\n     */\r\n    private _getTabById(id: string) {\r\n        const indexWidthId = [];\r\n        const tabsWithId: FarrisTabComponent[] = this.tabs.filter(\r\n            (tab, index) => {\r\n                if (tab.id === id) {\r\n                    indexWidthId.push(index);\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n        );\r\n        return {\r\n            tab: tabsWithId.length ? tabsWithId[0] : null,\r\n            index: indexWidthId.length ? indexWidthId[0] : -1\r\n        };\r\n    }\r\n    /*å®½é«ç±»åæ¯ stringæènumber è§£æå®½é«  å°ºå¯¸ */\r\n    resolveSize(size) {\r\n        const regex = /px|em|rem|pt|%/;\r\n        // è¯´ææ¯å­ç¬¦ä¸²\r\n        return regex.test(size)\r\n            ? `${parseInt(size, 10)}${size.match(regex)[0]}`\r\n            : `${size}px`;\r\n    }\r\n    /*\r\n      æ¸ç©ºtab\r\n       */\r\n    // removeAllTab() {\r\n    //     this.tabs.splice(0, this.tabs.length);\r\n    // }\r\n    hasInHeadCl() {\r\n        if (this.toolbarConf && this.toolbarConf.hasOwnProperty('position') && this.toolbarConf.hasOwnProperty('contents') && this.toolbarConf.position === 'inHead' && this.toolbarConf.contents.length > 0) {\r\n            return true;\r\n        }\r\n        if (this.headerExtendConf && !(this.toolbarConf && this.toolbarConf.position === 'inContent' && this.toolbarConf.contents.length)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n","import { Directive, TemplateRef, Input } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[farrisTabsExtend]',\r\n})\r\nexport class FarrisTabsExtendDirective {\r\n\r\n    @Input() extendCls: string;\r\n\r\n    constructor(\r\n        public templateRef: TemplateRef<any>\r\n    ) {\r\n\r\n    }\r\n\r\n}","import {\r\n    Component, Input, TemplateRef, ChangeDetectorRef, Compiler,\r\n    ComponentFactoryResolver, Renderer2, ElementRef,\r\n    ContentChild, OnInit, AfterViewInit, ViewContainerRef, Optional, Type,\r\n    NgModuleFactory,\r\n    AfterViewChecked\r\n} from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { FarrisTabsComponent } from '../tabs/tabs.component';\r\nimport { FarrisTabsExtendDirective } from './extend.directive';\r\n\r\n@Component({\r\n    selector: 'farris-tab',\r\n    templateUrl: './tab.component.html'\r\n})\r\nexport class FarrisTabComponent implements OnInit, AfterViewInit, AfterViewChecked {\r\n    // tabsä¹å¯è½ä½ä¸ºæä¸ªflexå®¹å¨çé¡¹ç®  å æ­¤è¦è®¾ç½®flexå±æ§\r\n    // tslint:disable-next-line:no-inferrable-types\r\n    // æ¯ä¸ä¸ªæ ç­¾é¡µå¯è®¾ç½®å®½åº¦\r\n    setIntervalTab: any;\r\n    \r\n    @Input('width') tabWidth: number = -1;\r\n    @Input() set show(value) {\r\n        if (this._show != value) {\r\n            this.showStates.next(value);\r\n            this._show = value;\r\n            this.scrollTabs.tabVisibleChanged.next({ tab: this, visible: value });\r\n        }\r\n    }\r\n    get show(){\r\n        return this._show;\r\n    }\r\n    @Input() asyncComponent: Type<any>;\r\n    @Input() asyncModule: NgModuleFactory<any>;\r\n    @Input() id: string;\r\n    // è¿½å èªå®ä¹çæ ·å¼\r\n    @Input() titleCustomCls = '';\r\n    // æ è®°ææ¬æ¯å¦è¶åº\r\n    titleOverflow:false;\r\n    // tab æ é¢\r\n    @Input() title: string;\r\n    // selected æ¯å¦éä¸­\r\n    // tslint:disable-next-line:no-inferrable-types\r\n    selected: boolean = false;\r\n    // disabled æ¯å¦ç¦æ­¢ç¹å»\r\n    @Input() disabled: boolean;\r\n    // æ¯å¦å¯ç§»åº\r\n    @Input() removeable: boolean;\r\n    @Input() toolbar: any;\r\n    // @Input() content: string | Type<any>;\r\n    // è®¾ç½®éç¹\r\n    @ContentChild('content') contentTempl: TemplateRef<any>;\r\n    @ContentChild(FarrisTabsExtendDirective) farrisTabsExtendDirective: any;\r\n    // appDiv: T;\r\n    showStates = new BehaviorSubject(true);\r\n\r\n    // å¼å®¹æ§è¡¨å\r\n    activeState = new BehaviorSubject(false);\r\n    private _activeForOld: any;\r\n    set _active(value: any) {\r\n        this._activeForOld = value;\r\n        this.activeState.next(value);\r\n    }\r\n    get _active() {\r\n        return this._activeForOld;\r\n    }\r\n    view: ViewContainerRef;\r\n    tempDirective: any;\r\n    popupFlag: boolean;\r\n    _show: boolean = true;\r\n    // æ ç¨ä»£ç \r\n    get active() {\r\n        return this._active;\r\n    }\r\n    headingRef: TemplateRef<any>;\r\n    compOrHtml: any;\r\n    constructor(private cp: Compiler, public componentFactoryResolver: ComponentFactoryResolver, private render: Renderer2,\r\n        private el: ElementRef, private cef: ChangeDetectorRef, @Optional() public scrollTabs: FarrisTabsComponent) {\r\n    }\r\n    /**\r\n     * åå®¹æ¯å¦æ¿æ´»\r\n     */\r\n    ngOnInit() {\r\n        this.scrollTabs.tabs.push(this);\r\n        if (!this.scrollTabs.activeId) {\r\n            this.scrollTabs.tabs[0]._active = true;\r\n        } else {\r\n            this.scrollTabs.load();\r\n        }\r\n    }\r\n    ngAfterViewInit(): void {\r\n        // ä¸ºäºå¼å®¹å¼æ§è¡¨åï¼ä¸å¼å®¹HostBinding, éè¿è¿½å classçæ¹å¼å®ç°\r\n        const nEl = this.el.nativeElement;\r\n        this.activeState.subscribe(data => {\r\n            this.render.addClass(nEl, 'farris-tabs-body');\r\n            if (data) {\r\n                this.render.addClass(nEl, 'f-tab-active');\r\n                this.render.removeClass(nEl, 'f-tab-d-none');\r\n            } else {\r\n                this.render.addClass(nEl, 'f-tab-d-none');\r\n                this.render.removeClass(nEl, 'f-tab-active');\r\n            }\r\n        });\r\n    }\r\n    ngAfterViewChecked() {\r\n\r\n    }\r\n    loadComponent() {\r\n\r\n    }\r\n\r\n}\r\n","import {\r\n    Directive, Input, ViewContainerRef, TemplateRef, ChangeDetectionStrategy, ChangeDetectorRef, OnInit,\r\n    KeyValueDiffers, KeyValueDiffer, DoCheck\r\n} from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[tabTransclude]',\r\n})\r\nexport class TabTranscludeDirective implements OnInit, DoCheck {\r\n    _trancludeTempl: TemplateRef<any>;\r\n    setIntervalTemp: any;\r\n    private _differ: any;\r\n    @Input('tabTransclude')\r\n    get trancludeTempl() {\r\n        return this._trancludeTempl;\r\n    }\r\n    set trancludeTempl(templateRef: TemplateRef<any>) {\r\n        this._trancludeTempl = templateRef;\r\n        if (templateRef) {\r\n            this.viewRef.createEmbeddedView(templateRef);\r\n        }\r\n        // if (!this._differ && templateRef) {\r\n        //     this._differ = this._differs.find(templateRef).create();\r\n        // }\r\n    }\r\n    viewRef: ViewContainerRef;\r\n    constructor(viewRef: ViewContainerRef, private _differs: KeyValueDiffers) {\r\n        // setTimeout(() => {\r\n            this.viewRef = viewRef;\r\n        // }, 5000);\r\n\r\n        // this.cd.detectChanges();\r\n    }\r\n    ngOnInit() {\r\n        // this.setIntervalTemp = setInterval(() => {\r\n        //     if (this._trancludeTempl && this.viewRef) {\r\n        //         console.log('sa');\r\n        //         // this.viewRef = this.viewRef;\r\n        //         clearInterval(this.setIntervalTemp);\r\n        //     }\r\n        // }, 0);\r\n    }\r\n    ngDoCheck() {\r\n        // const CHANGE = this._differ.diff(this._trancludeTempl);\r\n        // if (CHANGE) {\r\n        //     this.viewRef.createEmbeddedView(this._trancludeTempl);\r\n        // }\r\n    }\r\n    // ng\r\n}\r\n","import { Directive, TemplateRef, ElementRef } from '@angular/core';\r\nimport { FarrisTabComponent } from './tab.component';\r\n@Directive({\r\n    selector: '[tabHead]'\r\n})\r\nexport class TabHeadDirective {\r\n    constructor(tabItem: FarrisTabComponent, el: ElementRef, template: TemplateRef<any>) {\r\n        tabItem.headingRef = template;\r\n    }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {PlacementArray} from '../util/positioning';\r\n\r\n\r\n/**\r\n * Configuration service for the NgbDropdown directive.\r\n * You can inject this service, typically in your root component, and customize the values of its properties in\r\n * order to provide default values for all the dropdowns used in the application.\r\n */\r\n@Injectable()\r\nexport class NgbDropdownConfig {\r\n  autoClose: boolean | 'outside' | 'inside' = true;\r\n  placement: PlacementArray = 'bottom-right';\r\n}\r\n","// previous version:\r\n// https://github.com/angular-ui/bootstrap/blob/07c31d0731f7cb068a1932b8e01d2312b796b4ec/src/position/position.js\r\nexport class Positioning {\r\n  private getAllStyles(element: HTMLElement) { return window.getComputedStyle(element); }\r\n\r\n  private getStyle(element: HTMLElement, prop: string): string { return this.getAllStyles(element)[prop]; }\r\n\r\n  private isStaticPositioned(element: HTMLElement): boolean {\r\n    return (this.getStyle(element, 'position') || 'static') === 'static';\r\n  }\r\n\r\n  private offsetParent(element: HTMLElement): HTMLElement {\r\n    let offsetParentEl = <HTMLElement>element.offsetParent || document.documentElement;\r\n\r\n    while (offsetParentEl && offsetParentEl !== document.documentElement && this.isStaticPositioned(offsetParentEl)) {\r\n      offsetParentEl = <HTMLElement>offsetParentEl.offsetParent;\r\n    }\r\n\r\n    return offsetParentEl || document.documentElement;\r\n  }\r\n\r\n  position(element: HTMLElement, round = true): ClientRect {\r\n    let elPosition: ClientRect;\r\n    let parentOffset: ClientRect = { width: 0, height: 0, top: 0, bottom: 0, left: 0, right: 0 };\r\n\r\n    if (this.getStyle(element, 'position') === 'fixed') {\r\n      elPosition = element.getBoundingClientRect();\r\n    } else {\r\n      const offsetParentEl = this.offsetParent(element);\r\n\r\n      elPosition = this.offset(element, false);\r\n\r\n      if (offsetParentEl !== document.documentElement) {\r\n        parentOffset = this.offset(offsetParentEl, false);\r\n      }\r\n\r\n      parentOffset.top += offsetParentEl.clientTop;\r\n      parentOffset.left += offsetParentEl.clientLeft;\r\n    }\r\n\r\n    elPosition.top -= parentOffset.top;\r\n    elPosition.bottom -= parentOffset.top;\r\n    elPosition.left -= parentOffset.left;\r\n    elPosition.right -= parentOffset.left;\r\n\r\n    if (round) {\r\n      elPosition.top = Math.round(elPosition.top);\r\n      elPosition.bottom = Math.round(elPosition.bottom);\r\n      elPosition.left = Math.round(elPosition.left);\r\n      elPosition.right = Math.round(elPosition.right);\r\n    }\r\n\r\n    return elPosition;\r\n  }\r\n\r\n  offset(element: HTMLElement, round = true): ClientRect {\r\n    const elBcr = element.getBoundingClientRect();\r\n    const viewportOffset = {\r\n      top: window.pageYOffset - document.documentElement.clientTop,\r\n      left: window.pageXOffset - document.documentElement.clientLeft\r\n    };\r\n\r\n    const elOffset = {\r\n      height: elBcr.height || element.offsetHeight,\r\n      width: elBcr.width || element.offsetWidth,\r\n      top: elBcr.top + viewportOffset.top,\r\n      bottom: elBcr.bottom + viewportOffset.top,\r\n      left: elBcr.left + viewportOffset.left,\r\n      right: elBcr.right + viewportOffset.left\r\n    };\r\n\r\n    if (round) {\r\n      elOffset.height = Math.round(elOffset.height);\r\n      elOffset.width = Math.round(elOffset.width);\r\n      elOffset.top = Math.round(elOffset.top);\r\n      elOffset.bottom = Math.round(elOffset.bottom);\r\n      elOffset.left = Math.round(elOffset.left);\r\n      elOffset.right = Math.round(elOffset.right);\r\n    }\r\n\r\n    return elOffset;\r\n  }\r\n\r\n  positionElements(hostElement: HTMLElement, targetElement: HTMLElement, placement: string, appendToBody?: boolean,referElement?:HTMLElement):\r\n    ClientRect {\r\n    const oldhostElPosition = appendToBody ? this.offset(hostElement, false) : this.position(hostElement, false);\r\n    let hostElPosition=this.getRectCompareReferElementAndHostElement(oldhostElPosition,referElement);\r\n    const targetElStyles = this.getAllStyles(targetElement);\r\n    const targetElBCR = targetElement.getBoundingClientRect();\r\n    const placementPrimary = placement.split('-')[0] || 'top';\r\n    const placementSecondary = placement.split('-')[1] || 'center';\r\n\r\n    const targetElPosition: ClientRect = {\r\n      'height': targetElBCR.height || targetElement.offsetHeight,\r\n      'width': targetElBCR.width || targetElement.offsetWidth,\r\n      'top': 0,\r\n      'bottom': targetElBCR.height || targetElement.offsetHeight,\r\n      'left': 0,\r\n      'right': targetElBCR.width || targetElement.offsetWidth\r\n    };\r\n\r\n    switch (placementPrimary) {\r\n      case 'top':\r\n        targetElPosition.top =\r\n          hostElPosition.top - (targetElement.offsetHeight + parseFloat(targetElStyles.marginBottom));\r\n        break;\r\n      case 'bottom':\r\n        targetElPosition.top = hostElPosition.top + hostElPosition.height;\r\n        break;\r\n      case 'left':\r\n        targetElPosition.left =\r\n          hostElPosition.left - (targetElement.offsetWidth + parseFloat(targetElStyles.marginRight));\r\n        break;\r\n      case 'right':\r\n        targetElPosition.left = hostElPosition.left + hostElPosition.width;\r\n        break;\r\n    }\r\n\r\n    switch (placementSecondary) {\r\n      case 'top':\r\n        targetElPosition.top = hostElPosition.top;\r\n        break;\r\n      case 'bottom':\r\n        targetElPosition.top = hostElPosition.top + hostElPosition.height - targetElement.offsetHeight;\r\n        break;\r\n      case 'left':\r\n        targetElPosition.left = hostElPosition.left;\r\n        break;\r\n      case 'right':\r\n        targetElPosition.left = hostElPosition.left + hostElPosition.width - targetElement.offsetWidth;\r\n        break;\r\n      case 'center':\r\n        if (placementPrimary === 'top' || placementPrimary === 'bottom') {\r\n          targetElPosition.left = hostElPosition.left + hostElPosition.width / 2 - targetElement.offsetWidth / 2;\r\n        } else {\r\n          targetElPosition.top = hostElPosition.top + hostElPosition.height / 2 - targetElement.offsetHeight / 2;\r\n        }\r\n        break;\r\n    }\r\n\r\n    targetElPosition.top = Math.round(targetElPosition.top);\r\n    targetElPosition.bottom = Math.round(targetElPosition.bottom);\r\n    targetElPosition.left = Math.round(targetElPosition.left);\r\n    targetElPosition.right = Math.round(targetElPosition.right);\r\n\r\n    return targetElPosition;\r\n  }\r\n  private getRectCompareReferElementAndHostElement(hostRect,referElement){\r\n    let hostElemClientRect={\r\n        left:hostRect.left,\r\n        bottom: hostRect.bottom,\r\n        height: hostRect.height,\r\n        right: hostRect.right,\r\n        top: hostRect.top,\r\n        width: hostRect.width\r\n    };\r\n    if(referElement){\r\n     let referRect= referElement.getBoundingClientRect();\r\n        if(referRect.left>hostRect.left){\r\n          hostElemClientRect.left=referRect.left;\r\n        }\r\n        if(referRect.right<hostRect.right){\r\n          hostElemClientRect.right=referRect.right;\r\n        }\r\n        hostElemClientRect.width=Math.min(referRect.width,hostRect.width,(hostElemClientRect.right-hostElemClientRect.left));    \r\n    }\r\n    return hostElemClientRect;\r\n  }\r\n  // get the availble placements of the target element in the viewport dependeing on the host element\r\n  getAvailablePlacements(hostElement: HTMLElement, targetElement: HTMLElement,referElement:HTMLElement): string[] {\r\n    const oldhostElemClientRect = hostElement.getBoundingClientRect();\r\n    let hostElemClientRect=this.getRectCompareReferElementAndHostElement(oldhostElemClientRect,referElement);\r\n\r\n    const availablePlacements: Array<string> = [];\r\n    const targetElemClientRect = targetElement.getBoundingClientRect();\r\n    const html = document.documentElement;\r\n    const windowHeight = window.innerHeight || html.clientHeight;\r\n    const windowWidth = window.innerWidth || html.clientWidth;\r\n    const hostElemClientRectHorCenter = hostElemClientRect.left + hostElemClientRect.width / 2;\r\n    const hostElemClientRectVerCenter = hostElemClientRect.top + hostElemClientRect.height / 2;\r\n\r\n    // left: check if target width can be placed between host left and viewport start and also height of target is\r\n    // inside viewport\r\n    if (targetElemClientRect.width < hostElemClientRect.left) {\r\n      // check for left only\r\n      if (hostElemClientRectVerCenter > targetElemClientRect.height / 2 &&\r\n        windowHeight - hostElemClientRectVerCenter > targetElemClientRect.height / 2) {\r\n        availablePlacements.splice(availablePlacements.length, 1, 'left');\r\n      }\r\n      // check for left-top and left-bottom\r\n      this.setSecondaryPlacementForLeftRight(hostElemClientRect, targetElemClientRect, 'left', availablePlacements);\r\n    }\r\n\r\n    // top: target height is less than host top\r\n    if (targetElemClientRect.height < hostElemClientRect.top) {\r\n      if (hostElemClientRectHorCenter > targetElemClientRect.width / 2 &&\r\n        windowWidth - hostElemClientRectHorCenter > targetElemClientRect.width / 2) {\r\n        availablePlacements.splice(availablePlacements.length, 1, 'top');\r\n      }\r\n      this.setSecondaryPlacementForTopBottom(hostElemClientRect, targetElemClientRect, 'top', availablePlacements);\r\n    }\r\n\r\n    // right: check if target width can be placed between host right and viewport end and also height of target is\r\n    // inside viewport\r\n    if (windowWidth - hostElemClientRect.right > targetElemClientRect.width) {\r\n      // check for right only\r\n      if (hostElemClientRectVerCenter > targetElemClientRect.height / 2 &&\r\n        windowHeight - hostElemClientRectVerCenter > targetElemClientRect.height / 2) {\r\n        availablePlacements.splice(availablePlacements.length, 1, 'right');\r\n      }\r\n      // check for right-top and right-bottom\r\n      this.setSecondaryPlacementForLeftRight(hostElemClientRect, targetElemClientRect, 'right', availablePlacements);\r\n    }\r\n\r\n    // bottom: check if there is enough space between host bottom and viewport end for target height\r\n    if (windowHeight - hostElemClientRect.bottom > targetElemClientRect.height) {\r\n      if (hostElemClientRectHorCenter > targetElemClientRect.width / 2 &&\r\n        windowWidth - hostElemClientRectHorCenter > targetElemClientRect.width / 2) {\r\n        availablePlacements.splice(availablePlacements.length, 1, 'bottom');\r\n      }\r\n      this.setSecondaryPlacementForTopBottom(hostElemClientRect, targetElemClientRect, 'bottom', availablePlacements);\r\n    }\r\n\r\n    return availablePlacements;\r\n  }\r\n\r\n  /**\r\n   * check if secondary placement for left and right are available i.e. left-top, left-bottom, right-top, right-bottom\r\n   * primaryplacement: left|right\r\n   * availablePlacementArr: array in which available placemets to be set\r\n   */\r\n  private setSecondaryPlacementForLeftRight(\r\n    hostElemClientRect: ClientRect, targetElemClientRect: ClientRect, primaryPlacement: string,\r\n    availablePlacementArr: Array<string>) {\r\n    const html = document.documentElement;\r\n    // check for left-bottom\r\n    if (targetElemClientRect.height <= hostElemClientRect.bottom) {\r\n      availablePlacementArr.splice(availablePlacementArr.length, 1, primaryPlacement + '-bottom');\r\n    }\r\n    if ((window.innerHeight || html.clientHeight) - hostElemClientRect.top >= targetElemClientRect.height) {\r\n      availablePlacementArr.splice(availablePlacementArr.length, 1, primaryPlacement + '-top');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * check if secondary placement for top and bottom are available i.e. top-left, top-right, bottom-left, bottom-right\r\n   * primaryplacement: top|bottom\r\n   * availablePlacementArr: array in which available placemets to be set\r\n   */\r\n  private setSecondaryPlacementForTopBottom(\r\n    hostElemClientRect: ClientRect, targetElemClientRect: ClientRect, primaryPlacement: string,\r\n    availablePlacementArr: Array<string>) {\r\n    const html = document.documentElement;\r\n    // check for left-bottom\r\n    if ((window.innerWidth || html.clientWidth) - hostElemClientRect.left >= targetElemClientRect.width) {\r\n      availablePlacementArr.splice(availablePlacementArr.length, 1, primaryPlacement + '-left');\r\n    }\r\n    if (targetElemClientRect.width <= hostElemClientRect.right) {\r\n      availablePlacementArr.splice(availablePlacementArr.length, 1, primaryPlacement + '-right');\r\n    }\r\n  }\r\n}\r\n\r\nconst positionService = new Positioning();\r\n\r\n/*\r\n * Accept the placement array and applies the appropriate placement dependent on the viewport.\r\n * Returns the applied placement.\r\n * In case of auto placement, placements are selected in order\r\n *   'top', 'bottom', 'left', 'right',\r\n *   'top-left', 'top-right',\r\n *   'bottom-left', 'bottom-right',\r\n *   'left-top', 'left-bottom',\r\n *   'right-top', 'right-bottom'.\r\n * */\r\nexport function positionElements(\r\n  hostElement: HTMLElement, targetElement: HTMLElement, placement: string | Placement | PlacementArray,\r\n  appendToBody?: boolean,referElement?:HTMLElement): Placement {\r\n  const placementVals: Array<Placement> = Array.isArray(placement) ? placement : [placement as Placement];\r\n\r\n  // replace auto placement with other placements\r\n  let hasAuto = placementVals.findIndex(val => val === 'auto');\r\n  if (hasAuto >= 0) {\r\n    ['top', 'bottom', 'left', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right', 'left-top',\r\n      'left-bottom', 'right-top', 'right-bottom',\r\n    ].forEach(function (obj) {\r\n      if (placementVals.find(val => val.search('^' + obj) !== -1) == null) {\r\n        placementVals.splice(hasAuto++, 1, obj as Placement);\r\n      }\r\n    });\r\n  }\r\n\r\n  // coordinates where to position\r\n  let topVal = 0, leftVal = 0;\r\n  let appliedPlacement: Placement;\r\n  // get available placements\r\n  const availablePlacements = positionService.getAvailablePlacements(hostElement, targetElement,referElement);\r\n  // iterate over all the passed placements\r\n  for (const { item, index } of toItemIndexes(placementVals)) {\r\n    // check if passed placement is present in the available placement or otherwise apply the last placement in the\r\n    // passed placement list\r\n    if ((availablePlacements.find(val => val === item) != null) || (placementVals.length === index + 1)) {\r\n      appliedPlacement = <Placement>item;\r\n      const pos = positionService.positionElements(hostElement, targetElement, item, appendToBody,referElement);\r\n      topVal = pos.top;\r\n      leftVal = pos.left;\r\n      break;\r\n    }\r\n  }\r\n  targetElement.style.top = `${topVal}px`;\r\n  targetElement.style.left = `${leftVal}px`;\r\n  return appliedPlacement;\r\n}\r\n\r\n// function to get index and item of an array\r\nfunction toItemIndexes<T>(a: T[]) {\r\n  return a.map((item, index) => ({ item, index }));\r\n}\r\n\r\nexport type Placement = 'auto' | 'top' | 'bottom' | 'left' | 'right' | 'top-left' | 'top-right' | 'bottom-left' |\r\n  'bottom-right' | 'left-top' | 'left-bottom' | 'right-top' | 'right-bottom';\r\n\r\nexport type PlacementArray = Placement | Array<Placement>;\r\n","import {\r\n    forwardRef,\r\n    Inject,\r\n    Directive,\r\n    Input,\r\n    Output,\r\n    EventEmitter,\r\n    ElementRef,\r\n    ContentChild,\r\n    NgZone,\r\n    Renderer2,\r\n    OnInit,\r\n    OnDestroy,\r\n} from \"@angular/core\";\r\nimport { NgbDropdownConfig } from \"./dropdown-config\";\r\nimport {\r\n    positionElements,\r\n    PlacementArray,\r\n    Placement,\r\n} from \"../util/positioning\";\r\nimport { OverLayHiddenService } from \"@farris/ui-common\";\r\n\r\n/**\r\n */\r\n@Directive({\r\n    selector: \"[ngbDropdownMenu]\",\r\n    host: {\r\n        \"[class.dropdown-menu]\": \"true\",\r\n        \"[class.show]\": \"dropdown.isOpen()\",\r\n        \"[attr.x-placement]\": \"placement\",\r\n    },\r\n    exportAs: \"DropdownMenu\",\r\n})\r\nexport class NgbDropdownMenu {\r\n    placement: Placement = \"bottom\";\r\n    isOpen = false;\r\n    private _triggerEl;\r\n\r\n    constructor(\r\n        @Inject(forwardRef(() => NgbDropdown)) public dropdown,\r\n        public _elementRef: ElementRef,\r\n        private _renderer: Renderer2\r\n    ) {}\r\n    /*\r\n     * å ä¸ºä¸æé¢æ¿å¯è½å­å¨é®æ¡çé®é¢,è®¡ç®å®½åº¦\r\n     */\r\n    resetMenuElWidthOpen() {\r\n        var parentNode = this._elementRef.nativeElement.parentNode.parentNode;\r\n        var parentNodeW = parentNode\r\n            ? parentNode.getBoundingClientRect().width\r\n            : 0;\r\n        var menuW =\r\n            this._elementRef.nativeElement.getBoundingClientRect().width;\r\n        return Math.min(menuW, parentNodeW);\r\n    }\r\n    isEventFrom($event) {\r\n        return this._elementRef.nativeElement.contains($event.target);\r\n    }\r\n\r\n    position(triggerEl, placement) {\r\n        //\r\n        if (this._elementRef.nativeElement.getBoundingClientRect().width == 0) {\r\n            setTimeout(() => {\r\n                this.applyPlacement(\r\n                    positionElements(\r\n                        triggerEl,\r\n                        this._elementRef.nativeElement,\r\n                        placement\r\n                    )\r\n                );\r\n            }, 0);\r\n        } else {\r\n            this.applyPlacement(\r\n                positionElements(\r\n                    triggerEl,\r\n                    this._elementRef.nativeElement,\r\n                    placement\r\n                )\r\n            );\r\n        }\r\n    }\r\n\r\n    applyPlacement(_placement: Placement) {\r\n        // remove the current placement classes\r\n        this._renderer.removeClass(\r\n            this._elementRef.nativeElement.parentNode,\r\n            \"dropup\"\r\n        );\r\n        this._renderer.removeClass(\r\n            this._elementRef.nativeElement.parentNode,\r\n            \"dropdown\"\r\n        );\r\n        this.placement = _placement;\r\n        /**\r\n         * apply the new placement\r\n         * in case of top use up-arrow or down-arrow otherwise\r\n         */\r\n        if (_placement.search(\"^top\") !== -1) {\r\n            this._renderer.addClass(\r\n                this._elementRef.nativeElement.parentNode,\r\n                \"dropup\"\r\n            );\r\n        } else {\r\n            this._renderer.addClass(\r\n                this._elementRef.nativeElement.parentNode,\r\n                \"dropdown\"\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Marks an element to which dropdown menu will be anchored. This is a simple version\r\n * of the NgbDropdownToggle directive. It plays the same role as NgbDropdownToggle but\r\n * doesn't listen to click events to toggle dropdown menu thus enabling support for\r\n * events other than click.\r\n *\r\n * @since 1.1.0\r\n */\r\n@Directive({\r\n    selector: \"[ngbDropdownAnchor]\",\r\n    host: {\r\n        class: \"dropdown-toggle\",\r\n        \"aria-haspopup\": \"true\",\r\n        \"[attr.aria-expanded]\": \"dropdown.isOpen()\",\r\n    },\r\n})\r\nexport class NgbDropdownAnchor {\r\n    anchorEl;\r\n\r\n    constructor(\r\n        @Inject(forwardRef(() => NgbDropdown)) public dropdown,\r\n        private _elementRef: ElementRef\r\n    ) {\r\n        this.anchorEl = _elementRef.nativeElement;\r\n    }\r\n\r\n    isEventFrom($event) {\r\n        return this._elementRef.nativeElement.contains($event.target);\r\n    }\r\n}\r\n\r\n/**\r\n * Allows the dropdown to be toggled via click. This directive is optional: you can use NgbDropdownAnchor as an\r\n * alternative.\r\n */\r\n@Directive({\r\n    selector: \"[ngbDropdownToggle]\",\r\n    host: {\r\n        class: \"dropdown-toggle\",\r\n        \"aria-haspopup\": \"true\",\r\n        \"[attr.aria-expanded]\": \"dropdown.isOpen()\",\r\n        \"(click)\": \"toggleOpen()\",\r\n    },\r\n    providers: [\r\n        {\r\n            provide: NgbDropdownAnchor,\r\n            useExisting: forwardRef(() => NgbDropdownToggle),\r\n        },\r\n    ],\r\n})\r\nexport class NgbDropdownToggle extends NgbDropdownAnchor {\r\n    constructor(\r\n        @Inject(forwardRef(() => NgbDropdown)) dropdown,\r\n        elementRef: ElementRef\r\n    ) {\r\n        super(dropdown, elementRef);\r\n    }\r\n\r\n    toggleOpen() {\r\n        event.stopPropagation();\r\n        this.dropdown.toggle();\r\n    }\r\n}\r\n\r\n/**\r\n * Transforms a node into a dropdown.\r\n */\r\n@Directive({\r\n    selector: \"[ngbDropdown]\",\r\n    exportAs: \"ngbDropdown\",\r\n    host: {\r\n        \"(keyup.esc)\": \"closeFromOutsideEsc()\",\r\n        // \"(document:click)\": \"closeFromClick($event)\",\r\n    },\r\n})\r\nexport class NgbDropdown implements OnInit, OnDestroy {\r\n    private _zoneSubscription: any;\r\n\r\n    @ContentChild(NgbDropdownMenu) private _menu: NgbDropdownMenu;\r\n\r\n    @ContentChild(NgbDropdownAnchor) private _anchor: NgbDropdownAnchor;\r\n\r\n    /**\r\n     * Indicates that dropdown should be closed when selecting one of dropdown items (click) or pressing ESC.\r\n     * When it is true (default) dropdowns are automatically closed on both outside and inside (menu) clicks.\r\n     * When it is false dropdowns are never automatically closed.\r\n     * When it is 'outside' dropdowns are automatically closed on outside clicks but not on menu clicks.\r\n     * When it is 'inside' dropdowns are automatically on menu clicks but not on outside clicks.\r\n     */\r\n    @Input() autoClose: boolean | \"outside\" | \"inside\";\r\n\r\n    /**\r\n     *  Defines whether or not the dropdown-menu is open initially.\r\n     */\r\n    @Input(\"open\") _open = false;\r\n\r\n    /**\r\n     * Placement of a popover accepts:\r\n     *    \"top\", \"top-left\", \"top-right\", \"bottom\", \"bottom-left\", \"bottom-right\",\r\n     *    \"left\", \"left-top\", \"left-bottom\", \"right\", \"right-top\", \"right-bottom\"\r\n     * and array of above values.\r\n     */\r\n    @Input() placement: PlacementArray = [\"auto\", \"bottom\"];\r\n\r\n    /**\r\n     *  An event fired when the dropdown is opened or closed.\r\n     *  Event's payload equals whether dropdown is open.\r\n     */\r\n    @Output() openChange = new EventEmitter();\r\n    private overLayService: OverLayHiddenService = null;\r\n    constructor(config: NgbDropdownConfig, ngZone: NgZone) {\r\n        this.placement = config.placement;\r\n        this.autoClose = config.autoClose;\r\n        // æ­¤å¤åææ¯è§£å³menuè¿æ²¡æè¢«æ¾ç¤ºæ¶ï¼ä¼åæ¬¡è°ç¨è®¡ç®ä½ç½®ãä½æ¯å¨æ¡æ¶ä¼åºç°ä½ç½®åªè®¡ç®ä¸æ¬¡çæåµ\r\n        this._zoneSubscription = ngZone.onStable.subscribe(() => {\r\n            this._positionMenu();\r\n        });\r\n\r\n        this.overLayService = new OverLayHiddenService();\r\n    }\r\n\r\n    ngOnInit() {\r\n        if (this._menu) {\r\n            this._menu.applyPlacement(\r\n                Array.isArray(this.placement)\r\n                    ? this.placement[0]\r\n                    : (this.placement as Placement)\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Checks if the dropdown menu is open or not.\r\n     */\r\n    isOpen(): boolean {\r\n        return this._open;\r\n    }\r\n\r\n    /**\r\n     * Opens the dropdown menu of a given navbar or tabbed navigation.\r\n     */\r\n    open(): void {\r\n        if (!this._open) {\r\n            this._open = true;\r\n            this._positionMenu();\r\n            this.openChange.emit(true);\r\n\r\n\r\n            this._menu._elementRef.nativeElement.classList.add('show');\r\n\r\n            // æ³¨åé¼ æ æ»è½®ï¼ç¹å»äºä»¶ï¼ç¨äºéèPanel\r\n            this.overLayService.registerMouseEvent(\r\n              this._menu._elementRef.nativeElement,\r\n              (e: MouseEvent) => {\r\n                  const tar = e.target as any;\r\n                  var classList = Array.from(tar.classList || []);\r\n\r\n                  if (\r\n                      tar.className.indexOf('morebtn') > -1 ||\r\n                      tar.className.indexOf(\"dropdown-toggle\") > -1 ||\r\n                      tar.closest(\".dropdown-item\") ||\r\n                      classList.includes(\"dropdown-item\")\r\n                  ) {\r\n                      return;\r\n                  }\r\n                  this.close();\r\n              }\r\n          );\r\n\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Closes the dropdown menu of a given navbar or tabbed navigation.\r\n     */\r\n    close(): void {\r\n        if (this._open) {\r\n            this._open = false;\r\n            this.openChange.emit(false);\r\n\r\n            this._menu._elementRef.nativeElement.classList.remove('show');\r\n            this.overLayService.destory(this._menu._elementRef.nativeElement);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Toggles the dropdown menu of a given navbar or tabbed navigation.\r\n     */\r\n    toggle(): void {\r\n        if (this.isOpen()) {\r\n            this.close();\r\n        } else {\r\n            this.open();\r\n        }\r\n    }\r\n\r\n    closeFromClick($event) {\r\n        if (\r\n            this.autoClose &&\r\n            $event.button !== 2 &&\r\n            !this._isEventFromToggle($event)\r\n        ) {\r\n            if (this.autoClose === true) {\r\n                this.close();\r\n            } else if (\r\n                this.autoClose === \"inside\" &&\r\n                this._isEventFromMenu($event)\r\n            ) {\r\n                this.close();\r\n            } else if (\r\n                this.autoClose === \"outside\" &&\r\n                !this._isEventFromMenu($event)\r\n            ) {\r\n                this.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    closeFromOutsideEsc() {\r\n        if (this.autoClose) {\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this._zoneSubscription) this._zoneSubscription.unsubscribe();\r\n    }\r\n\r\n    private _isEventFromToggle($event) {\r\n        return this._anchor.isEventFrom($event);\r\n    }\r\n\r\n    private _isEventFromMenu($event) {\r\n        return this._menu ? this._menu.isEventFrom($event) : false;\r\n    }\r\n\r\n    private _positionMenu() {\r\n        if (this.isOpen() && this._menu) {\r\n            this._menu.position(this._anchor.anchorEl, this.placement);\r\n        }\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport {\r\n  NgbDropdown,\r\n  NgbDropdownAnchor,\r\n  NgbDropdownToggle,\r\n  NgbDropdownMenu\r\n} from './dropdown';\r\nimport { NgbDropdownConfig } from './dropdown-config';\r\n\r\nexport { NgbDropdown, NgbDropdownToggle, NgbDropdownMenu } from './dropdown';\r\nexport { NgbDropdownConfig } from './dropdown-config';\r\n\r\nimport { FarrisCommonModule } from '@farris/ui-common';\r\n\r\nconst NGB_DROPDOWN_DIRECTIVES = [\r\n  NgbDropdown,\r\n  NgbDropdownAnchor,\r\n  NgbDropdownToggle,\r\n  NgbDropdownMenu\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    FarrisCommonModule\r\n  ],\r\n  declarations: NGB_DROPDOWN_DIRECTIVES,\r\n  exports: NGB_DROPDOWN_DIRECTIVES\r\n})\r\nexport class NgbDropdownModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: NgbDropdownModule, providers: [NgbDropdownConfig] };\r\n  }\r\n}\r\n","export class Trigger {\r\n  constructor(public open: string, public close?: string) {\r\n    if (!close) {\r\n      this.close = open;\r\n    }\r\n  }\r\n\r\n  isManual() { return this.open === 'manual' || this.close === 'manual'; }\r\n}\r\n\r\nconst DEFAULT_ALIASES = {\r\n  'hover': ['mouseenter', 'mouseleave']\r\n};\r\n\r\nexport function parseTriggers(triggers: string, aliases = DEFAULT_ALIASES): Trigger[] {\r\n  const trimmedTriggers = (triggers || '').trim();\r\n\r\n  if (trimmedTriggers.length === 0) {\r\n    return [];\r\n  }\r\n\r\n  const parsedTriggers = trimmedTriggers.split(/\\s+/).map(trigger => trigger.split(':')).map((triggerPair) => {\r\n    let alias = aliases[triggerPair[0]] || triggerPair;\r\n    return new Trigger(alias[0], alias[1]);\r\n  });\r\n\r\n  const manualTriggers = parsedTriggers.filter(triggerPair => triggerPair.isManual());\r\n\r\n  if (manualTriggers.length > 1) {\r\n    throw 'Triggers parse error: only one manual trigger is allowed';\r\n  }\r\n\r\n  if (manualTriggers.length === 1 && parsedTriggers.length > 1) {\r\n    throw 'Triggers parse error: manual trigger can\\'t be mixed with other triggers';\r\n  }\r\n\r\n  return parsedTriggers;\r\n}\r\n\r\nconst noopFn = () => {};\r\n\r\nexport function listenToTriggers(renderer: any, nativeElement: any, triggers: string, openFn, closeFn, toggleFn) {\r\n  const parsedTriggers = parseTriggers(triggers);\r\n  const listeners = [];\r\n\r\n  if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {\r\n    return noopFn;\r\n  }\r\n\r\n  parsedTriggers.forEach((trigger: Trigger) => {\r\n    if (trigger.open === trigger.close) {\r\n      listeners.push(renderer.listen(nativeElement, trigger.open, toggleFn));\r\n    } else {\r\n      listeners.push(\r\n          renderer.listen(nativeElement, trigger.open, openFn), renderer.listen(nativeElement, trigger.close, closeFn));\r\n    }\r\n  });\r\n\r\n  return () => { listeners.forEach(unsubscribeFn => unsubscribeFn()); };\r\n}\r\n","import {\r\n  Injector,\r\n  TemplateRef,\r\n  ViewRef,\r\n  ViewContainerRef,\r\n  Renderer2,\r\n  ComponentRef,\r\n  ComponentFactoryResolver\r\n} from '@angular/core';\r\n\r\nexport class ContentRef {\r\n  constructor(public nodes: any[], public viewRef?: ViewRef, public componentRef?: ComponentRef<any>) {}\r\n}\r\n\r\nexport class PopupService<T> {\r\n  private _windowRef: ComponentRef<T>;\r\n  private _contentRef: ContentRef;\r\n\r\n  constructor(\r\n      private _type: any, private _injector: Injector, private _viewContainerRef: ViewContainerRef,\r\n      private _renderer: Renderer2, private _componentFactoryResolver: ComponentFactoryResolver) {}\r\n\r\n  open(content?: string | TemplateRef<any>, context?: any): ComponentRef<T> {\r\n    if (!this._windowRef) {\r\n      this._contentRef = this._getContentRef(content, context);\r\n      this._windowRef = this._viewContainerRef.createComponent(\r\n          this._componentFactoryResolver.resolveComponentFactory<T>(this._type), 0, this._injector,\r\n          this._contentRef.nodes);\r\n    }\r\n\r\n    return this._windowRef;\r\n  }\r\n\r\n  close() {\r\n    if (this._windowRef) {\r\n      this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView));\r\n      this._windowRef = null;\r\n\r\n      if (this._contentRef.viewRef) {\r\n        this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef));\r\n        this._contentRef = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  private _getContentRef(content: string | TemplateRef<any>, context?: any): ContentRef {\r\n    if (!content) {\r\n      return new ContentRef([]);\r\n    } else if (content instanceof TemplateRef) {\r\n      const viewRef = this._viewContainerRef.createEmbeddedView(<TemplateRef<T>>content, context);\r\n      return new ContentRef([viewRef.rootNodes], viewRef);\r\n    } else {\r\n      return new ContentRef([[this._renderer.createText(`${content}`)]]);\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { PlacementArray } from '../util/positioning';\r\n\r\n/**\r\n * Configuration service for the NgbTooltip directive.\r\n * You can inject this service, typically in your root component, and customize the values of its properties in\r\n * order to provide default values for all the tooltips used in the application.\r\n */\r\n@Injectable()\r\nexport class NgbTooltipConfig {\r\n  placement: PlacementArray = 'top';\r\n  triggers = 'hover';\r\n  container = 'body';\r\n  disableTooltip = false;\r\n}\r\n","import {\r\n  Component,\r\n  Directive,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ChangeDetectionStrategy,\r\n  OnInit,\r\n  OnDestroy,\r\n  Injector,\r\n  Renderer2,\r\n  ComponentRef,\r\n  ElementRef,\r\n  TemplateRef,\r\n  ViewContainerRef,\r\n  ComponentFactoryResolver,\r\n  NgZone,\r\n  AfterViewInit,\r\n  HostBinding\r\n} from '@angular/core';\r\nimport { listenToTriggers } from '../util/triggers';\r\nimport { positionElements, Placement, PlacementArray } from '../util/positioning';\r\nimport { PopupService } from '../util/popup';\r\nimport { NgbTooltipConfig } from './tooltip-config';\r\n\r\nlet nextId = 0;\r\n\r\n@Component({\r\n  selector: 'ngb-tooltip-window',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  host: {\r\n    '[class]': '\"tooltip show bs-tooltip-\" + placement.split(\"-\")[0]+\" bs-tooltip-\" + placement',\r\n    'role': 'tooltip',\r\n    '[id]': 'id'\r\n  },\r\n  template: `<div class=\"arrow\"></div><div class=\"tooltip-inner\"><ng-content></ng-content></div>`,\r\n  styles: [`\r\n    :host.bs-tooltip-top .arrow, :host.bs-tooltip-bottom .arrow {\r\n      left: calc(50% - 0.4rem);\r\n    }\r\n\r\n    :host.bs-tooltip-top-left .arrow, :host.bs-tooltip-bottom-left .arrow {\r\n      left: 1em;\r\n    }\r\n\r\n    :host.bs-tooltip-top-right .arrow, :host.bs-tooltip-bottom-right .arrow {\r\n      left: auto;\r\n      right: 0.8rem;\r\n    }\r\n\r\n    :host.bs-tooltip-left .arrow, :host.bs-tooltip-right .arrow {\r\n      top: calc(50% - 0.4rem);\r\n    }\r\n\r\n    :host.bs-tooltip-left-top .arrow, :host.bs-tooltip-right-top .arrow {\r\n      top: 0.4rem;\r\n    }\r\n\r\n    :host.bs-tooltip-left-bottom .arrow, :host.bs-tooltip-right-bottom .arrow {\r\n      top: auto;\r\n      bottom: 0.4rem;\r\n    }\r\n  `]\r\n})\r\nexport class NgbTooltipWindow {\r\n  @Input() placement: Placement = 'top';\r\n  @Input() id: string;\r\n\r\n  constructor(private _element: ElementRef, private _renderer: Renderer2) { }\r\n\r\n  applyPlacement(_placement: Placement) {\r\n    // remove the current placement classes\r\n    this._renderer.removeClass(this._element.nativeElement, 'bs-tooltip-' + this.placement.toString().split('-')[0]);\r\n    this._renderer.removeClass(this._element.nativeElement, 'bs-tooltip-' + this.placement.toString());\r\n\r\n    // set the new placement classes\r\n    this.placement = _placement;\r\n\r\n    // apply the new placement\r\n    this._renderer.addClass(this._element.nativeElement, 'bs-tooltip-' + this.placement.toString().split('-')[0]);\r\n    this._renderer.addClass(this._element.nativeElement, 'bs-tooltip-' + this.placement.toString());\r\n  }\r\n}\r\n\r\n/**\r\n * A lightweight, extensible directive for fancy tooltip creation.\r\n */\r\n@Directive({ selector: '[ngbTooltip]', exportAs: 'ngbTooltip' })\r\nexport class NgbTooltip implements OnInit, OnDestroy {\r\n  /**\r\n    * Placement of a popover accepts:\r\n    *    \"top\", \"top-left\", \"top-right\", \"bottom\", \"bottom-left\", \"bottom-right\",\r\n    *    \"left\", \"left-top\", \"left-bottom\", \"right\", \"right-top\", \"right-bottom\"\r\n    * and array of above values.\r\n    */\r\n  @Input() placement: PlacementArray;\r\n  /**\r\n   * Specifies events that should trigger. Supports a space separated list of event names.\r\n   */\r\n  @Input() triggers: string;\r\n  /**\r\n   * A selector specifying the element the tooltip should be appended to.\r\n   * Currently only supports \"body\".\r\n   */\r\n  @Input() container='body';\r\n  /**\r\n   * A flag indicating if a given tooltip is disabled and should not be displayed.\r\n   *\r\n   * @since 1.1.0\r\n   */\r\n  @Input() disableTooltip: boolean;\r\n  /**\r\n   * Emits an event when the tooltip is shown\r\n   */\r\n  @Output() shown = new EventEmitter();\r\n  /**\r\n   * Emits an event when the tooltip is hidden\r\n   */\r\n  @Output() hidden = new EventEmitter();\r\n  @Input() referElement:HTMLElement;\r\n\r\n  private _ngbTooltip: string | TemplateRef<any>;\r\n  private _ngbTooltipWindowId = `ngb-tooltip-${nextId++}`;\r\n  private _popupService: PopupService<NgbTooltipWindow>;\r\n  private _windowRef: ComponentRef<NgbTooltipWindow>;\r\n  private _unregisterListenersFn;\r\n  private _zoneSubscription: any;\r\n\r\n  constructor(\r\n    private _elementRef: ElementRef, private _renderer: Renderer2, injector: Injector,\r\n    componentFactoryResolver: ComponentFactoryResolver, viewContainerRef: ViewContainerRef, config: NgbTooltipConfig,\r\n    ngZone: NgZone) {\r\n    this.placement = config.placement;\r\n    this.triggers = config.triggers;\r\n    this.container = config.container||'body';\r\n    this.disableTooltip = config.disableTooltip;\r\n    this._popupService = new PopupService<NgbTooltipWindow>(\r\n      NgbTooltipWindow, injector, viewContainerRef, _renderer, componentFactoryResolver);\r\n  \r\n      \r\n    this._zoneSubscription = ngZone.onStable.subscribe(() => {\r\n      if (this._windowRef) {\r\n        this._windowRef.instance.applyPlacement(\r\n          positionElements(\r\n            this._elementRef.nativeElement, this._windowRef.location.nativeElement, this.placement,\r\n            this.container === 'body',this.referElement));\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Content to be displayed as tooltip. If falsy, the tooltip won't open.\r\n   */\r\n  @Input()\r\n  set ngbTooltip(value: string | TemplateRef<any>) {\r\n    this._ngbTooltip = value;\r\n    if (!value && this._windowRef) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  get ngbTooltip() { return this._ngbTooltip; }\r\n\r\n  /**\r\n   * Opens an elementâs tooltip. This is considered a âmanualâ triggering of the tooltip.\r\n   * The context is an optional value to be injected into the tooltip template when it is created.\r\n   */\r\n  open(context?: any) {\r\n    if (!this._windowRef && this._ngbTooltip && !this.disableTooltip) {\r\n      this._windowRef = this._popupService.open(this._ngbTooltip, context);\r\n      this._windowRef.instance.id = this._ngbTooltipWindowId;\r\n\r\n      this._renderer.setAttribute(this._elementRef.nativeElement, 'aria-describedby', this._ngbTooltipWindowId);\r\n\r\n      if (this.container === 'body') {\r\n        window.document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement);\r\n      }\r\n\r\n      this._windowRef.instance.placement = Array.isArray(this.placement) ? this.placement[0] : this.placement;\r\n\r\n      // apply styling to set basic css-classes on target element, before going for positioning\r\n      this._windowRef.changeDetectorRef.detectChanges();\r\n      this._windowRef.changeDetectorRef.markForCheck();\r\n\r\n      // position tooltip along the element\r\n      this._windowRef.instance.applyPlacement(\r\n        positionElements(\r\n          this._elementRef.nativeElement, this._windowRef.location.nativeElement, this.placement,\r\n          this.container === 'body',this.referElement));\r\n\r\n      this.shown.emit();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Closes an elementâs tooltip. This is considered a âmanualâ triggering of the tooltip.\r\n   */\r\n  close(): void {\r\n    if (this._windowRef != null) {\r\n      this._renderer.removeAttribute(this._elementRef.nativeElement, 'aria-describedby');\r\n      this._popupService.close();\r\n      this._windowRef = null;\r\n      this.hidden.emit();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggles an elementâs tooltip. This is considered a âmanualâ triggering of the tooltip.\r\n   */\r\n  toggle(): void {\r\n    if (this._windowRef) {\r\n      this.close();\r\n    } else {\r\n      this.open();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns whether or not the tooltip is currently being shown\r\n   */\r\n  isOpen(): boolean { return this._windowRef != null; }\r\n\r\n  ngOnInit() {\r\n    this._unregisterListenersFn = listenToTriggers(\r\n      this._renderer, this._elementRef.nativeElement, this.triggers, this.open.bind(this), this.close.bind(this),\r\n      this.toggle.bind(this));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.close();\r\n    // This check is needed as it might happen that ngOnDestroy is called before ngOnInit\r\n    // under certain conditions, see: https://github.com/ng-bootstrap/ng-bootstrap/issues/2199\r\n    if (this._unregisterListenersFn) {\r\n      this._unregisterListenersFn();\r\n    }\r\n    this._zoneSubscription.unsubscribe();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\n\r\nimport { NgbTooltip, NgbTooltipWindow } from './tooltip';\r\nimport { NgbTooltipConfig } from './tooltip-config';\r\n\r\nexport { NgbTooltipConfig } from './tooltip-config';\r\nexport { NgbTooltip } from './tooltip';\r\nexport { Placement } from '../util/positioning';\r\n\r\n@NgModule({\r\n  declarations: [NgbTooltip, NgbTooltipWindow],\r\n  exports: [NgbTooltip],\r\n  entryComponents: [NgbTooltipWindow]\r\n})\r\nexport class NgbTooltipModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: NgbTooltipModule,\r\n      providers: [NgbTooltipConfig]\r\n    };\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgbDropdownModule } from './dropdown/dropdown.module';\r\nimport { NgbTooltipModule } from './tooltip/tooltip.module';\r\nimport { LocaleModule } from '@farris/ui-locale';\r\nimport { FarrisTabsComponent } from './tabs/tabs.component';\r\nimport { TabConfig, TabService } from './tabs.config';\r\nimport { FarrisTabComponent } from './tab/tab.component';\r\nimport { TabTranscludeDirective } from './tab/tab.transclude.directive';\r\nimport { TabHeadDirective } from './tab/tab.headtemplate.directive';\r\nimport { TabHostDirective } from './tab/tabhost.directive';\r\nimport { FarrisTabsExtendDirective } from './tab/extend.directive';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        LocaleModule,\r\n        FormsModule,\r\n        NgbDropdownModule.forRoot(),\r\n        NgbTooltipModule.forRoot()\r\n    ],\r\n    declarations: [FarrisTabsComponent, FarrisTabComponent,\r\n        TabTranscludeDirective, TabHeadDirective, FarrisTabsExtendDirective, TabHostDirective],\r\n    exports: [\r\n        FarrisTabsComponent,\r\n        FarrisTabComponent,\r\n        TabTranscludeDirective,\r\n        TabHeadDirective,\r\n        TabHostDirective,\r\n        FarrisTabsExtendDirective,\r\n        NgbDropdownModule,\r\n        NgbTooltipModule\r\n    ],\r\n    providers: [TabService]\r\n})\r\nexport class FarrisTabsModule {\r\n    static forRoot(config?: TabConfig): ModuleWithProviders {\r\n        return {\r\n            ngModule: FarrisTabsModule,\r\n            providers: [{ provide: TabConfig, useValue: config }]\r\n        };\r\n    }\r\n}\r\n"]}