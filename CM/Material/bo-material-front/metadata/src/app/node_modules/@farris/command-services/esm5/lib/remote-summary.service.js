import { Injectable } from '@angular/core';
import { ViewModel } from '@farris/devkit';
import { of } from 'rxjs';
var RemoteSummaryService = /** @class */ (function () {
    function RemoteSummaryService(viewModel) {
        this.viewModel = viewModel;
    }
    /**
     * 服务器端合计
     * @param methodName 服务器端合计自定义动作名称
     * @param filters 过滤条件
     */
    RemoteSummaryService.prototype.summary = function (methodName, filters) {
        var repository = this.viewModel.frameContext.repository || null;
        if (repository) {
            var proxy = repository.proxy;
            if (proxy && typeof proxy[methodName] === 'function') {
                return proxy[methodName](filters);
            }
        }
        return of(null);
    };
    RemoteSummaryService.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    RemoteSummaryService.ctorParameters = function () { return [
        { type: ViewModel }
    ]; };
    return RemoteSummaryService;
}());
export { RemoteSummaryService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVtb3RlLXN1bW1hcnkuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvY29tbWFuZC1zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbImxpYi9yZW1vdGUtc3VtbWFyeS5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTNDLE9BQU8sRUFBRSxFQUFFLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFFdEM7SUFFRSw4QkFBb0IsU0FBb0I7UUFBcEIsY0FBUyxHQUFULFNBQVMsQ0FBVztJQUFJLENBQUM7SUFDN0M7Ozs7T0FJRztJQUNJLHNDQUFPLEdBQWQsVUFBZSxVQUFrQixFQUFFLE9BQVk7UUFDN0MsSUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsVUFBZ0MsSUFBSSxJQUFJLENBQUM7UUFDeEYsSUFBSSxVQUFVLEVBQUU7WUFDZCxJQUFNLEtBQUssR0FBRyxVQUFVLENBQUMsS0FBSyxDQUFDO1lBQy9CLElBQUksS0FBSyxJQUFJLE9BQU8sS0FBSyxDQUFDLFVBQVUsQ0FBQyxLQUFLLFVBQVUsRUFBRTtnQkFDcEQsT0FBTyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsT0FBTyxDQUFvQixDQUFDO2FBQ3REO1NBQ0Y7UUFDRCxPQUFPLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsQixDQUFDOztnQkFqQkYsVUFBVTs7OztnQkFKRixTQUFTOztJQXNCbEIsMkJBQUM7Q0FBQSxBQWxCRCxJQWtCQztTQWpCWSxvQkFBb0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBWaWV3TW9kZWwgfSBmcm9tICdAZmFycmlzL2RldmtpdCc7XG5pbXBvcnQgeyBCZWZSZXBvc2l0b3J5IH0gZnJvbSAnQGZhcnJpcy9iZWYnO1xuaW1wb3J0IHsgb2YsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFJlbW90ZVN1bW1hcnlTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSB2aWV3TW9kZWw6IFZpZXdNb2RlbCkgeyB9XG4gIC8qKlxuICAgKiDmnI3liqHlmajnq6/lkIjorqFcbiAgICogQHBhcmFtIG1ldGhvZE5hbWUg5pyN5Yqh5Zmo56uv5ZCI6K6h6Ieq5a6a5LmJ5Yqo5L2c5ZCN56ewXG4gICAqIEBwYXJhbSBmaWx0ZXJzIOi/h+a7pOadoeS7tlxuICAgKi9cbiAgcHVibGljIHN1bW1hcnkobWV0aG9kTmFtZTogc3RyaW5nLCBmaWx0ZXJzOiBhbnkpIHtcbiAgICBjb25zdCByZXBvc2l0b3J5ID0gdGhpcy52aWV3TW9kZWwuZnJhbWVDb250ZXh0LnJlcG9zaXRvcnkgYXMgQmVmUmVwb3NpdG9yeTxhbnk+IHx8IG51bGw7XG4gICAgaWYgKHJlcG9zaXRvcnkpIHtcbiAgICAgIGNvbnN0IHByb3h5ID0gcmVwb3NpdG9yeS5wcm94eTtcbiAgICAgIGlmIChwcm94eSAmJiB0eXBlb2YgcHJveHlbbWV0aG9kTmFtZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHByb3h5W21ldGhvZE5hbWVdKGZpbHRlcnMpIGFzIE9ic2VydmFibGU8YW55PjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9mKG51bGwpO1xuICB9XG59XG4iXX0=