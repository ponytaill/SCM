import * as tslib_1 from "tslib";
var DomService = /** @class */ (function () {
    function DomService() {
    }
    DomService.prototype.getElementByBinding = function (contents, bindingFieldId) {
        var e_1, _a;
        var controls = [];
        try {
            for (var contents_1 = tslib_1.__values(contents), contents_1_1 = contents_1.next(); !contents_1_1.done; contents_1_1 = contents_1.next()) {
                var element = contents_1_1.value;
                // 优先变量数据集合类组件
                if (element.fields) { // 列表
                    var childControls = this.getElementByBinding(element.fields, bindingFieldId);
                    controls.push.apply(controls, tslib_1.__spread(childControls));
                }
                // 其次遍历容器类组件
                else if (element.contents) { // 容器组件
                    var childControls = this.getElementByBinding(element.contents, bindingFieldId);
                    controls.push.apply(controls, tslib_1.__spread(childControls));
                }
                // 再次遍历集合类字段节点
                else if (element.editor) {
                    var childControls = this.getElementByBinding([element.editor], bindingFieldId);
                    controls.push.apply(controls, tslib_1.__spread(childControls));
                }
                // 最后遍历输入类组件
                else if (element.binding && element.binding.field === bindingFieldId) {
                    controls.push(element);
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (contents_1_1 && !contents_1_1.done && (_a = contents_1.return)) _a.call(contents_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return controls;
    };
    return DomService;
}());
export { DomService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9tLnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZmFycmlzL2RldmtpdC8iLCJzb3VyY2VzIjpbImxpYi9zY2hlbWEvZG9tLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0lBRUU7SUFBZ0IsQ0FBQztJQUVWLHdDQUFtQixHQUExQixVQUEyQixRQUFlLEVBQUUsY0FBc0I7O1FBQ2hFLElBQU0sUUFBUSxHQUFHLEVBQUUsQ0FBQzs7WUFDcEIsS0FBc0IsSUFBQSxhQUFBLGlCQUFBLFFBQVEsQ0FBQSxrQ0FBQSx3REFBRTtnQkFBM0IsSUFBTSxPQUFPLHFCQUFBO2dCQUNoQixjQUFjO2dCQUNkLElBQUksT0FBTyxDQUFDLE1BQU0sRUFBRSxFQUFFLEtBQUs7b0JBQ3pCLElBQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLGNBQWMsQ0FBQyxDQUFDO29CQUMvRSxRQUFRLENBQUMsSUFBSSxPQUFiLFFBQVEsbUJBQVMsYUFBYSxHQUFFO2lCQUNqQztnQkFDRCxZQUFZO3FCQUNQLElBQUksT0FBTyxDQUFDLFFBQVEsRUFBRSxFQUFFLE9BQU87b0JBQ2xDLElBQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLGNBQWMsQ0FBQyxDQUFDO29CQUNqRixRQUFRLENBQUMsSUFBSSxPQUFiLFFBQVEsbUJBQVMsYUFBYSxHQUFFO2lCQUNqQztnQkFDRCxjQUFjO3FCQUNULElBQUksT0FBTyxDQUFDLE1BQU0sRUFBRTtvQkFDdkIsSUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLGNBQWMsQ0FBQyxDQUFDO29CQUNqRixRQUFRLENBQUMsSUFBSSxPQUFiLFFBQVEsbUJBQVMsYUFBYSxHQUFFO2lCQUNqQztnQkFDRCxZQUFZO3FCQUNQLElBQUksT0FBTyxDQUFDLE9BQU8sSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssS0FBSyxjQUFjLEVBQUU7b0JBQ3BFLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7aUJBQ3hCO2FBQ0Y7Ozs7Ozs7OztRQUNELE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUM7SUFDSCxpQkFBQztBQUFELENBQUMsQUE3QkQsSUE2QkMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRG9tU2VydmljZSB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gIHB1YmxpYyBnZXRFbGVtZW50QnlCaW5kaW5nKGNvbnRlbnRzOiBhbnlbXSwgYmluZGluZ0ZpZWxkSWQ6IHN0cmluZyk6IGFueVtdIHtcclxuICAgIGNvbnN0IGNvbnRyb2xzID0gW107XHJcbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgY29udGVudHMpIHtcclxuICAgICAgLy8g5LyY5YWI5Y+Y6YeP5pWw5o2u6ZuG5ZCI57G757uE5Lu2XHJcbiAgICAgIGlmIChlbGVtZW50LmZpZWxkcykgeyAvLyDliJfooahcclxuICAgICAgICBjb25zdCBjaGlsZENvbnRyb2xzID0gdGhpcy5nZXRFbGVtZW50QnlCaW5kaW5nKGVsZW1lbnQuZmllbGRzLCBiaW5kaW5nRmllbGRJZCk7XHJcbiAgICAgICAgY29udHJvbHMucHVzaCguLi5jaGlsZENvbnRyb2xzKTtcclxuICAgICAgfVxyXG4gICAgICAvLyDlhbbmrKHpgY3ljoblrrnlmajnsbvnu4Tku7ZcclxuICAgICAgZWxzZSBpZiAoZWxlbWVudC5jb250ZW50cykgeyAvLyDlrrnlmajnu4Tku7ZcclxuICAgICAgICBjb25zdCBjaGlsZENvbnRyb2xzID0gdGhpcy5nZXRFbGVtZW50QnlCaW5kaW5nKGVsZW1lbnQuY29udGVudHMsIGJpbmRpbmdGaWVsZElkKTtcclxuICAgICAgICBjb250cm9scy5wdXNoKC4uLmNoaWxkQ29udHJvbHMpO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIOWGjeasoemBjeWOhumbhuWQiOexu+Wtl+auteiKgueCuVxyXG4gICAgICBlbHNlIGlmIChlbGVtZW50LmVkaXRvcikge1xyXG4gICAgICAgIGNvbnN0IGNoaWxkQ29udHJvbHMgPSB0aGlzLmdldEVsZW1lbnRCeUJpbmRpbmcoW2VsZW1lbnQuZWRpdG9yXSwgYmluZGluZ0ZpZWxkSWQpO1xyXG4gICAgICAgIGNvbnRyb2xzLnB1c2goLi4uY2hpbGRDb250cm9scyk7XHJcbiAgICAgIH1cclxuICAgICAgLy8g5pyA5ZCO6YGN5Y6G6L6T5YWl57G757uE5Lu2XHJcbiAgICAgIGVsc2UgaWYgKGVsZW1lbnQuYmluZGluZyAmJiBlbGVtZW50LmJpbmRpbmcuZmllbGQgPT09IGJpbmRpbmdGaWVsZElkKSB7XHJcbiAgICAgICAgY29udHJvbHMucHVzaChlbGVtZW50KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbnRyb2xzO1xyXG4gIH1cclxufVxyXG4iXX0=