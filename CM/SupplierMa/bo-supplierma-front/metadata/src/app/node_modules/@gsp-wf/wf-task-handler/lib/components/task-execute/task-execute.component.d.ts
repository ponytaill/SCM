import { OnInit, TemplateRef, Injector, AfterViewInit, ChangeDetectorRef } from '@angular/core';
import { Addendum, VerifySigned, CompleteContext } from '../../entity/complete-context';
import { TaskService } from '../../service/task.service';
import { SysFarrisLookupComponent } from '@gsp-sys/sysmgr-ui';
import { NotifyService } from '@farris/ui-notify';
import { I18nService } from '../../service/i18n/i18n.service';
import { Observable, BehaviorSubject } from 'rxjs';
import { TaskAction } from '../../entity/task-action';
import { WfTaskHandlerService } from '../../wf-task-handler.service';
import { TaskEntity } from '../../entity/task-entity';
import { SubmitResult, ActionBaseImplComponent } from '@gsp-wf/task-impl-api';
import { LoadingService } from '@farris/ui-loading';
import { Assignee } from '../../entity/start-process-payload';
import { MessagerService } from '@farris/ui-messager';
import { AssignInfoHelpEntity } from '../../entity/assignInfoHelp';
import { SimulateResponse } from '../../entity/simulate-response';
import { BillMethodConfig } from '../../entity/formAction';
import { TaskCenterConfig } from '../../entity/task-center-config';
import { UrgeHandleResponse } from '../../entity/urge-handle';
import { WfContext } from '../../entity/wfContext';
import { UrgeHandleComponent } from "../urge-handle/urge-handle.component";
export declare class TaskExecuteComponent extends ActionBaseImplComponent implements OnInit, AfterViewInit {
    private taskService;
    private notify;
    private i18nService;
    private handlerService;
    private loadingService;
    private message;
    private injector;
    private cd;
    /**
     * 消息监听处理方法
     */
    private static func;
    task: TaskEntity;
    workItemId: string;
    processInstanceId: string;
    actionEntity: TaskAction;
    comment: string;
    wfCacheComment: string;
    currentDefaultValue: string;
    ifSelectNode: boolean;
    ifSelectUser: boolean;
    ifAssignUser: boolean;
    ifUrgeType: boolean;
    ifShowCommentToMySelf: boolean;
    singleSelect: boolean;
    selectTargetAble: boolean;
    hideComment: boolean;
    filter: {
        notGetCurrentUser: boolean;
        notGetStopUser: boolean;
        orderField: string;
        withAllOrg: boolean;
        orgId: string;
    };
    selectedUsers: string[];
    selectedUserNgModule: string;
    buttons: TemplateRef<any>;
    sysUserHelp: SysFarrisLookupComponent;
    urgeHandleComponent: UrgeHandleComponent;
    subject: BehaviorSubject<SubmitResult>;
    submitResult: SubmitResult;
    bindingData: {
        id?: string;
        name?: string;
    };
    selectNodeText: string;
    selectUserText: string;
    commentPlaceHolder: string;
    showAttachment: boolean;
    showSign: boolean;
    showCommonComment: boolean;
    textAreaHeight: number;
    nodePlaceholder: string;
    selectedNodeId: string;
    destNodes: {
        id: string;
        name: string;
    }[];
    dialogHeight: number;
    dialogHeightBase: number;
    addendum: Addendum;
    groupIcon: string;
    assignInfos: AssignInfoHelpEntity[];
    response: SimulateResponse;
    urgeHandleResponse: UrgeHandleResponse;
    formObject: any;
    ifRegistered: boolean;
    billMethodConfigs: BillMethodConfig[];
    configList: TaskCenterConfig[];
    verifySigned: VerifySigned;
    submitDisable: boolean;
    addSign: {
        showSignToSign: boolean;
        allowSignToSIgn: boolean;
        showMultiInstanceType: boolean;
        multiInstanceType: {
            value: string;
            name: any;
        }[];
        originMultiInstType: string;
        curMultiInstType: string;
    };
    showBackWardConfig: {
        dynamicBackWardRuleAble: boolean;
        enable: boolean;
    };
    /**
     * 任务催办时使用
     */
    showUrgeMessageSubject: boolean;
    urgeMessageSubject: string;
    urgeMessageContent: string;
    addReminder: boolean;
    subjectEditable: boolean;
    contentEditable: boolean;
    wfContext: WfContext;
    cls: string;
    POST_MESSAGE_TARGET: string;
    private messageSubject;
    constructor(taskService: TaskService, notify: NotifyService, i18nService: I18nService, handlerService: WfTaskHandlerService, loadingService: LoadingService, message: MessagerService, injector: Injector, cd: ChangeDetectorRef);
    ngAfterViewInit(): void;
    ngOnInit(): void;
    private addMessageListener;
    /**
     * 监听事件处理
     */
    eventHandler: (event: any) => void;
    /**
     * 重写父类方法
     * @param task
     */
    setTask(task: TaskEntity): void;
    /**
     * 重写父类方法
     * @param action
     */
    setAction(action: TaskAction): void;
    /**
     * 前事件初始化，将服务注册到window上，供表单调用
     * 任务办理界面的window，表单的window.parent
     */
    private initFormEvent;
    /**
     * 点击提交的时候，执行表单的前事件
     */
    private beforeCompleteSubmit;
    /**
     * @param formActions 表单中要执行的动作
     */
    private executeFormActions;
    /**
     * 预解析
     * @param action
     */
    execute(action: TaskAction): void;
    /**
     * 真正地提交
     * 重写父类方法
     */
    submit(): Observable<SubmitResult>;
    /**
     * 批量办理
     * @param tasks 批量任务列表
     */
    batchSubmit(tasks: TaskEntity[]): Observable<SubmitResult>;
    private batchverifySubmit;
    private batchComplete;
    /**
     * 批量提交提示信息
     * @param successNum 成功条数
     * @param failedNum 需要交互的条数
     * @param errorNum 执行报错的条数
     * @param verifyTasksNum 需要数字签名的条数
     */
    private showBatchSubmitInfo;
    private executeBatchEvent;
    private assignSimulate;
    private transferSimulate;
    private addSignFrontSimulate;
    private addSignSimulate;
    private notifySimulate;
    private getOrganizationScope;
    /**
     * 催办模拟
     */
    private urgeHandleSimulate;
    /**
     * 预解析
     * 通过、驳回、重新提交、其他自定义动作
     */
    private completeSimulate;
    /**
     * 清空预解析结果
     */
    private clearSimulateResult;
    /**
     * 设置当前指派信息帮助参数
     */
    private setAssignInfo;
    /**
     * 点击确定后方法
     */
    private assignSubmit;
    private claimSubmit;
    private unClaimSubmit;
    private retrieveSubmit;
    private transferSubmit;
    private commentSubmit;
    private addSignFrontSubmit;
    private addSignSubmit;
    private readSubmit;
    private notifySubmit;
    /**
     * 催办提交
     */
    private urgeHandleSubmit;
    /**
     * 取消征询提交
     */
    private cancelConsultSubmit;
    private completeSubmit;
    private completeTask;
    private executeFormActionsAfterCompleteTask;
    private executePostFormActions;
    afterConfirmForTransfer(data: Assignee[]): void;
    cancel(): Observable<SubmitResult>;
    getSubject(): Observable<SubmitResult>;
    selectNodeChange(data: any): void;
    selectNodeClear(): void;
    afterConfirmForAssign(data: Assignee[], index: number): void;
    /**
     * 上传附件后事件
     */
    addAttachment(data: any): void;
    /**
     * 手写签名后事件
     */
    addSignature(data: any): void;
    addPadding(): void;
    private sendMessage;
    verifySignature(handler: any): void;
    taskComplete(completeContext: CompleteContext): void;
}
