/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, ViewChild, TemplateRef, HostBinding, Injector, ChangeDetectorRef } from '@angular/core';
import { Addendum, VerifySigned, CompleteContext } from '../../entity/complete-context';
import { TaskService } from '../../service/task.service';
import { SysFarrisLookupComponent } from '@gsp-sys/sysmgr-ui';
import { NotifyService } from '@farris/ui-notify';
import { I18nService } from '../../service/i18n/i18n.service';
import { AssigneeInfo } from '../../entity/complete-response';
import { BehaviorSubject, Subject } from 'rxjs';
import { TaskAction } from '../../entity/task-action';
import { WfTaskHandlerService } from '../../wf-task-handler.service';
import { TaskEntity } from '../../entity/task-entity';
import { ActionBaseImplComponent, ActionOrigin } from '@gsp-wf/task-impl-api';
import { LoadingService } from '@farris/ui-loading';
import { MessagerService } from '@farris/ui-messager';
import { ConfigCode } from '../../entity/task-center-config';
import { WorkItemExecuteParam } from '../../entity/workitem-execute-param';
import { UrgeHandleContext, UrgeHandleSimulateContext } from '../../entity/urge-handle';
import { BatchVerifySignedContext } from '../../entity/batchVerifysigned';
import { WfContext } from '../../entity/wfContext';
import { UrgeHandleComponent } from "../urge-handle/urge-handle.component";
import { MultiInstanceType } from '../../entity/add-sign';
var TaskExecuteComponent = /** @class */ (function (_super) {
    tslib_1.__extends(TaskExecuteComponent, _super);
    function TaskExecuteComponent(taskService, notify, i18nService, handlerService, loadingService, message, injector, cd) {
        var _this = _super.call(this) || this;
        _this.taskService = taskService;
        _this.notify = notify;
        _this.i18nService = i18nService;
        _this.handlerService = handlerService;
        _this.loadingService = loadingService;
        _this.message = message;
        _this.injector = injector;
        _this.cd = cd;
        // 流程实例ID
        _this.actionEntity = new TaskAction(); // 动作实体
        // 动作实体
        _this.comment = ''; // 审批意见
        //当前动作的默认意见
        _this.ifSelectNode = false; // 是否显示选择下一环节
        // 是否显示选择下一环节
        _this.ifSelectUser = false; // 是否显示下一环节处理人
        // 是否显示下一环节处理人
        _this.ifAssignUser = false; // 是否显示办理人员框
        // 是否显示办理人员框
        _this.ifUrgeType = false; // 是否显示接收人框（催办消息接收人）
        // 是否显示接收人框（催办消息接收人）
        _this.ifShowCommentToMySelf = false; // 是否显示审批记录仅自己可见
        // 是否显示审批记录仅自己可见
        _this.singleSelect = false; // 用户帮助是否单选，默认多选
        // 用户帮助是否单选，默认多选
        _this.selectTargetAble = false; // 是否允许选择下一环节
        // 是否允许选择下一环节
        _this.hideComment = false; //审批记录仅自己可见
        //审批记录仅自己可见
        _this.filter = { notGetCurrentUser: true, notGetStopUser: true, orderField: 'order', withAllOrg: true, orgId: '' }; // 系统用户帮助是否过滤当前人
        // 系统用户帮助是否过滤当前人
        _this.selectedUsers = []; // 用户帮助选择后的Id数组
        _this.subject = new BehaviorSubject(null);
        _this.submitResult = { result: true, isClose: true }; // 动作执行完成后返回的实体结果
        // 动作执行完成后返回的实体结果
        _this.bindingData = {}; // 系统帮助多选时用到
        // 系统帮助多选时用到
        _this.selectNodeText = _this.i18nService.getValue('task.nextNodeText'); // 下一环节显示的文字,"下一环节"
        // 处理人员显示文字
        _this.commentPlaceHolder = _this.i18nService.getValue('static.inputHolder'); //审批意见框placeholder
        //审批意见框placeholder
        _this.showAttachment = true; //是否显示附件上传
        //是否显示附件上传
        _this.showSign = true; //是否显示签名
        //是否显示签名
        _this.showCommonComment = true; //是否显示常用意见
        //是否显示常用意见
        _this.textAreaHeight = 84; //文字框的高度
        // 选择的下一环节ID，并行分支是，逗号隔开的
        _this.destNodes = []; // 候选下一环节
        // 候选下一环节
        _this.dialogHeight = 270; // 弹框的高度
        // 弹框的高度
        _this.dialogHeightBase = 66;
        _this.addendum = new Addendum(); // 附件、签名信息
        // 附件、签名信息
        _this.groupIcon = '<i class="f-icon f-icon-lookup"></i>';
        _this.assignInfos = [{
                // 节点返回的指派信息（多个）
                selectedAssignees: [],
                assigneeInfo: null,
                assignees: [],
                activityName: '',
                dependency: '',
                anonymous: false,
                anonymousText: null,
                resolved: false,
            }];
        // 表单对象
        _this.ifRegistered = false; // 表单是否注册
        // 表单是否注册
        _this.billMethodConfigs = []; // 表单动作配置列表
        // 表单动作配置列表
        _this.configList = []; //任务中心配置项
        //任务中心配置项
        _this.verifySigned = new VerifySigned(); // 数字验签参数
        // 数字验签参数
        _this.submitDisable = false; // 提交按钮是否禁用
        // 提交按钮是否禁用
        //加签使用
        _this.addSign = {
            showSignToSign: false,
            allowSignToSIgn: false,
            showMultiInstanceType: false,
            multiInstanceType: [
                { value: 'Parallel', name: _this.i18nService.getValue('addSign.parallel') },
                { value: 'Sequential', name: _this.i18nService.getValue('addSign.sequential') },
                { value: 'Preempt', name: _this.i18nService.getValue('addSign.preempt') },
            ],
            originMultiInstType: '',
            curMultiInstType: MultiInstanceType.Parallel.toString()
        };
        //动态驳回配置
        _this.showBackWardConfig = {
            dynamicBackWardRuleAble: false,
            enable: false,
        };
        /**
         * 任务催办时使用
         */
        _this.showUrgeMessageSubject = false; // 是否显示催办消息主题（催办时使用）
        // 内容可编辑
        _this.wfContext = new WfContext(); //工作流上下文
        //工作流上下文
        _this.cls = '';
        _this.POST_MESSAGE_TARGET = window.document.location.origin;
        /**
         * 监听事件处理
         */
        _this.eventHandler = function (event) {
            _this.messageSubject.next(event);
        };
        // 如果存在消息监听，先删掉
        if (TaskExecuteComponent.func) {
            window.removeEventListener('message', TaskExecuteComponent.func, false);
        }
        _this.addMessageListener();
        return _this;
    }
    /**
     * @return {?}
     */
    TaskExecuteComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    TaskExecuteComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var load = this.loadingService.show();
        this.taskService.getAllUserConfig().subscribe(function (configList) {
            load.close();
            _this.configList = configList;
            /** @type {?} */
            var comment = configList.find(function (c) { return c.configCode === ConfigCode.Default_Approval_Comment; });
            /** @type {?} */
            var if_store_comment = configList.find(function (c) { return c.configCode === ConfigCode.If_Store_Comment; });
            /** @type {?} */
            var passComment;
            /** @type {?} */
            var backComment;
            if (comment && comment.currentValue) {
                passComment = JSON.parse(comment.currentValue).pass;
                backComment = JSON.parse(comment.currentValue).back;
                if (_this.actionEntity.code === 'Pass') {
                    _this.comment = passComment;
                }
                if (_this.actionEntity.code === 'Back') {
                    _this.comment = backComment;
                }
            }
            if (if_store_comment && if_store_comment.currentValue === 'true') {
                if (_this.wfCacheComment) {
                    if (_this.actionEntity.code == 'Back' && _this.wfCacheComment == passComment) {
                    }
                    else {
                        _this.comment = _this.wfCacheComment;
                    }
                }
            }
        }, function () {
            load.close();
        });
        // 从任务办理界面打开时，才注册服务
        if (this.origin === ActionOrigin.TaskForm) {
            this.initFormEvent();
            // 获取表单操作配置
            this.taskService.getAppInfo(this.workItemId).subscribe(function (re) {
                if (re && re.billMethodConfigs && re.billMethodConfigs.length) {
                    _this.billMethodConfigs = re.billMethodConfigs;
                }
            });
        }
        /** @type {?} */
        var context = new UrgeHandleSimulateContext();
        context.procInstId = this.processInstanceId;
    };
    /**
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.addMessageListener = /**
     * @private
     * @return {?}
     */
    function () {
        window.addEventListener('message', this.eventHandler, false);
        TaskExecuteComponent.func = this.eventHandler;
    };
    /**
     * 重写父类方法
     * @param task
     */
    /**
     * 重写父类方法
     * @param {?} task
     * @return {?}
     */
    TaskExecuteComponent.prototype.setTask = /**
     * 重写父类方法
     * @param {?} task
     * @return {?}
     */
    function (task) {
        if (task) {
            this.task = task;
            this.workItemId = task.sourceId;
            this.processInstanceId = task.processInstanceId;
            this.wfContext.processCategoryId = task.categoryId;
        }
    };
    /**
     * 重写父类方法
     * @param action
     */
    /**
     * 重写父类方法
     * @param {?} action
     * @return {?}
     */
    TaskExecuteComponent.prototype.setAction = /**
     * 重写父类方法
     * @param {?} action
     * @return {?}
     */
    function (action) {
        if (action) {
            this.actionEntity = action;
            if (this.task) { // 单个、批量都setAction，单个才执行模拟
                this.execute(this.actionEntity);
            }
        }
    };
    /**
     * 前事件初始化，将服务注册到window上，供表单调用
     * 任务办理界面的window，表单的window.parent
     */
    /**
     * 前事件初始化，将服务注册到window上，供表单调用
     * 任务办理界面的window，表单的window.parent
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.initFormEvent = /**
     * 前事件初始化，将服务注册到window上，供表单调用
     * 任务办理界面的window，表单的window.parent
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        // 审批前事件
        /** @type {?} */
        var actionToken = this.workItemId + 'action';
        /** @type {?} */
        var subjectCode = 'FormSubjectCode';
        ((/** @type {?} */ (window))).gspWfEventService = ((/** @type {?} */ (window))).gspWfEventService || {};
        ((/** @type {?} */ (window))).gspWfEventService.register = function (formObject) {
            _this.taskService.subjectRegister(subjectCode, actionToken);
            _this.ifRegistered = true;
            _this.formObject = formObject;
        };
        ((/** @type {?} */ (window))).gspWfEventService.notify = function (value) {
            if (_this.ifRegistered) {
                _this.taskService.subjectNotify(actionToken, value);
            }
            else { // 表单不注册，也可直接调用notify
                // 表单不注册，也可直接调用notify
                /** @type {?} */
                var simulateToken = _this.workItemId + 'simulate';
                _this.taskService.subjectRegister(subjectCode, simulateToken);
                _this.taskService.subjectResponse(simulateToken, '', function (value) {
                    value && value.dataChanged && _this.completeSimulate();
                });
                _this.taskService.subjectNotify(simulateToken, value);
            }
        };
    };
    /**
     * 点击提交的时候，执行表单的前事件
     */
    /**
     * 点击提交的时候，执行表单的前事件
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.beforeCompleteSubmit = /**
     * 点击提交的时候，执行表单的前事件
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var passPreActions = this.billMethodConfigs.filter(function (action) { return action.action === _this.actionEntity.code && action.executionTime === 'Pre'; }).sort(function (x, y) { return x.sortOrder - y.sortOrder; });
        // 如果表单注册了事件
        if (passPreActions && passPreActions.length) {
            this.executeFormActions(tslib_1.__spread(passPreActions));
        }
        // 没有定义前后事件，直接提交
        else {
            this.completeSubmit();
        }
    };
    /**
     * @param formActions 表单中要执行的动作
     */
    /**
     * @private
     * @param {?} formActions 表单中要执行的动作
     * @return {?}
     */
    TaskExecuteComponent.prototype.executeFormActions = /**
     * @private
     * @param {?} formActions 表单中要执行的动作
     * @return {?}
     */
    function (formActions) {
        var _this = this;
        if (formActions.length > 0) {
            this.messageSubject = new Subject();
            this.messageSubject.subscribe(function (re) {
                console.log(re.data);
                /** @type {?} */
                var data = re.data.data;
                if (data.result === true) {
                    if (data.dataChanged === true) { // 如果需要预解析，先预解析再继续执行
                        _this.completeSimulate().subscribe(function (r) {
                            if (r) { // 预解析正确
                                _this.executeFormActions(formActions);
                            }
                            else { // 预解析错误
                                _this.subject.next({ result: false, isClose: false }); // 任务办理界面不关闭
                            }
                        });
                    }
                    else { // 不需要预解析，继续执行
                        _this.executeFormActions(formActions);
                    }
                }
                else {
                    _this.subject.next({ result: false, isClose: false }); // 任务办理界面不关闭
                    throw new Error('审批前表单操作执行失败！');
                }
            });
            // 执行表单动作
            /** @type {?} */
            var formAction = formActions.shift();
            this.sendMessage(this.workItemId, formAction);
        }
        else {
            this.completeSubmit();
        }
    };
    /**
     * 预解析
     * @param action
     */
    /**
     * 预解析
     * @param {?} action
     * @return {?}
     */
    TaskExecuteComponent.prototype.execute = /**
     * 预解析
     * @param {?} action
     * @return {?}
     */
    function (action) {
        switch (action.code) {
            case 'AssignUser': // 指派 单独参数
                this.assignSimulate();
                break;
            case 'Claim': // 领用
                this.showAttachment = false;
                break;
            case 'Unclaim': // 取消领用
                break;
            case 'Retrieve': // 取回
                break;
            case 'Transfer': // 移交 单独参数
                this.transferSimulate();
                break;
            case 'AddSign': // 加签
                this.addSignSimulate();
                break;
            case 'AddSignFront': // 征询
                this.addSignFrontSimulate();
                break;
            case 'Notify': //知会
                this.notifySimulate();
                break;
            case 'Refuse': // 否决
                break;
            case 'Obsolete': // 作废
                break;
            case 'Comment': // 评论
                break;
            case 'ReadTask': // 已阅
                this.ifShowCommentToMySelf = true;
                this.dialogHeight = 340;
                break;
            case 'UrgeHandle': //催办
                this.urgeHandleSimulate();
                break;
            case 'CancelConsult': //取消征询
                break;
            default: // 通过 驳回 重新提交 其他自定义的动作
                this.completeSimulate();
        }
    };
    /**
     * 真正地提交
     * 重写父类方法
     */
    /**
     * 真正地提交
     * 重写父类方法
     * @return {?}
     */
    TaskExecuteComponent.prototype.submit = /**
     * 真正地提交
     * 重写父类方法
     * @return {?}
     */
    function () {
        switch (this.actionEntity.code) {
            case 'AssignUser': // 指派 单独参数
                this.assignSubmit();
                break;
            case 'Claim': // 领用
                this.claimSubmit();
                break;
            case 'Unclaim': // 取消领用
                this.unClaimSubmit();
                break;
            case 'Retrieve': // 取回
                this.retrieveSubmit();
                break;
            case 'Transfer': // 移交 单独参数
                this.transferSubmit();
                break;
            case 'AddSign': // 加签
                this.addSignSubmit();
                break;
            case 'AddSignFront': // 征询
                this.addSignFrontSubmit();
                break;
            case 'Comment': // 评论
                this.commentSubmit();
                break;
            case 'Notify': //知会
                this.notifySubmit();
                break;
            case 'ReadTask': // 已阅
                this.readSubmit();
                break;
            case 'UrgeHandle': //催办
                this.urgeHandleSubmit();
                break;
            case 'CancelConsult': //取消征询
                this.cancelConsultSubmit();
                break;
            default: // 通过 驳回 否决 作废 重新提交 其他自定义动作
                this.beforeCompleteSubmit();
        }
        return this.subject.asObservable();
    };
    /**
     * 批量办理
     * @param tasks 批量任务列表
     */
    /**
     * 批量办理
     * @param {?} tasks 批量任务列表
     * @return {?}
     */
    TaskExecuteComponent.prototype.batchSubmit = /**
     * 批量办理
     * @param {?} tasks 批量任务列表
     * @return {?}
     */
    function (tasks) {
        var _this = this;
        var e_1, _a;
        /** @type {?} */
        var filterNum = 0;
        /** @type {?} */
        var subject = new BehaviorSubject(null);
        /** @type {?} */
        var successSubmit = { result: true, isClose: true };
        if ((this.actionEntity.code === 'Back' || this.actionEntity.code === 'Refuse') && !this.comment) { // 批量意见是否必填不支持根据审批项配置操作，批量驳回意见必填
            this.notify.warning(this.i18nService.getValue('cueWords.inputOpinion'));
            subject.next({ result: false, isClose: false });
        }
        else if (this.comment.length > 300) {
            this.notify.warning(this.i18nService.getValue('task.commentTooLong'));
            subject.next({ result: false, isClose: false });
        }
        else {
            /** @type {?} */
            var noActionTasks = tasks.filter(function (t) { return t.actions.findIndex(function (a) { return a.code === _this.actionEntity.code; }) === -1; });
            if (noActionTasks && noActionTasks.length > 0) {
                try {
                    for (var noActionTasks_1 = tslib_1.__values(noActionTasks), noActionTasks_1_1 = noActionTasks_1.next(); !noActionTasks_1_1.done; noActionTasks_1_1 = noActionTasks_1.next()) {
                        var a = noActionTasks_1_1.value;
                        filterNum++;
                        if (filterNum === tasks.length) {
                            subject.next(successSubmit);
                            this.showBatchSubmitInfo(0, filterNum, 0, 0);
                        }
                    }
                }
                catch (e_1_1) { e_1 = { error: e_1_1 }; }
                finally {
                    try {
                        if (noActionTasks_1_1 && !noActionTasks_1_1.done && (_a = noActionTasks_1.return)) _a.call(noActionTasks_1);
                    }
                    finally { if (e_1) throw e_1.error; }
                }
            }
            /** @type {?} */
            var actTasks_1 = tasks.filter(function (t) { return t.actions.some(function (a) { return a.code === _this.actionEntity.code; }); });
            if (actTasks_1 && actTasks_1.length > 0) {
                this.executeBatchEvent(tslib_1.__spread(this.actionEntity.preEvents.filter(function (e) { return e.batch; })), actTasks_1, this.actionEntity, function (re) {
                    var e_2, _a;
                    if (re && re.result) {
                        if (re.passTasks) {
                            /** @type {?} */
                            var backTasks = actTasks_1.filter(function (t) { return re.passTasks.findIndex(function (id) { return id === t.id; }) === -1; });
                            if (backTasks && backTasks.length > 0) {
                                try {
                                    for (var backTasks_1 = tslib_1.__values(backTasks), backTasks_1_1 = backTasks_1.next(); !backTasks_1_1.done; backTasks_1_1 = backTasks_1.next()) {
                                        var t = backTasks_1_1.value;
                                        filterNum++;
                                        if (filterNum === tasks.length) {
                                            subject.next(successSubmit);
                                            _this.showBatchSubmitInfo(0, filterNum, 0, 0);
                                        }
                                    }
                                }
                                catch (e_2_1) { e_2 = { error: e_2_1 }; }
                                finally {
                                    try {
                                        if (backTasks_1_1 && !backTasks_1_1.done && (_a = backTasks_1.return)) _a.call(backTasks_1);
                                    }
                                    finally { if (e_2) throw e_2.error; }
                                }
                            }
                            actTasks_1 = actTasks_1.filter(function (t) { return re.passTasks.findIndex(function (id) { return id === t.id; }) > -1; });
                        }
                        if (actTasks_1.length > 0) {
                            /** @type {?} */
                            var batchVerifySignedcontext = new BatchVerifySignedContext();
                            _this.batchverifySubmit(actTasks_1, filterNum, batchVerifySignedcontext).subscribe(function (r) {
                                if (r && r.successSubmit && r.successSubmit.result) {
                                    _this.executeBatchEvent(tslib_1.__spread(_this.actionEntity.postEvents.filter(function (e) { return e.batch; })), r.successHandleTasks, _this.actionEntity, function () {
                                        subject.next(r.successSubmit);
                                    }, { result: true, passTasks: r.successHandleTasks.map(function (t) { return t.id; }) });
                                }
                            });
                        }
                    }
                    else {
                        subject.next({ result: false, isClose: false });
                    }
                }, { result: true, passTasks: actTasks_1.map(function (t) { return t.id; }) });
            }
        }
        return subject.asObservable();
    };
    /**
     * @private
     * @param {?} tasks
     * @param {?=} filterNum
     * @param {?=} batchVerifySignedcontext
     * @return {?}
     */
    TaskExecuteComponent.prototype.batchverifySubmit = /**
     * @private
     * @param {?} tasks
     * @param {?=} filterNum
     * @param {?=} batchVerifySignedcontext
     * @return {?}
     */
    function (tasks, filterNum, batchVerifySignedcontext) {
        var _this = this;
        if (filterNum === void 0) { filterNum = 0; }
        /** @type {?} */
        var subject = new Subject();
        /** @type {?} */
        var verifyTasks = tasks.filter(function (t) {
            /** @type {?} */
            var action = t.actions.find(function (a) { return a.code === _this.actionEntity.code; });
            if (!action) {
                return false;
            }
            else {
                if (action.parameters.some(function (p) { return p.code === 'CertificationNecessary' && p.value === 'true'; })) {
                    return true;
                }
                else {
                    return false;
                }
            }
        });
        /** @type {?} */
        var verifyTasksNum = verifyTasks.length;
        if (verifyTasks.length > 0) {
            /** @type {?} */
            var that_1 = this;
            if (((/** @type {?} */ (window))).gspframeworkService &&
                ((/** @type {?} */ (window))).gspframeworkService.rtf) {
                ((/** @type {?} */ (window))).gspframeworkService.rtf.caEvent.on(((/** @type {?} */ (window))).gspframeworkService.rtf.caEvent.signedMsgOverToken(), 'signedMsgOver', function signMsgOver(signedData) {
                    if (signedData && signedData[0] === 'true' && signedData.length > 0) {
                        // 证书对象
                        /** @type {?} */
                        var cert = gspCA.getCurCert();
                        // 验签参数
                        that_1.verifySigned = {
                            // 要验证的证书base64编码的字符流(certkey)
                            certBase64Info: gspCA.getCertBase64(cert),
                            // 签名原信息
                            msg: ['BatchDigitalSignature'],
                            // 要签名后信息
                            signedmsg: signedData[1][0],
                            // 用户使用场景，目前未使用，可以为空
                            useCase: null,
                        };
                        batchVerifySignedcontext.verifySigned = that_1.verifySigned;
                        that_1.taskService.batchVerifySigned(batchVerifySignedcontext).subscribe(function () {
                            /** @type {?} */
                            var verifyTasksNum = 0;
                            that_1.batchComplete(tasks, filterNum, verifyTasksNum).subscribe(function (re) {
                                subject.next(re);
                            });
                        }, function (error) {
                            /** @type {?} */
                            var otherTasks = tasks.filter(function (t) { return verifyTasks.findIndex(function (task) { return task.id === t.id; }) === -1; });
                            that_1.batchComplete(otherTasks, filterNum, verifyTasksNum).subscribe(function (re) {
                                subject.next(re);
                            });
                        });
                    }
                    else {
                        that_1.notify.error(signedData[1]);
                        subject.next({ successSubmit: { result: false, isClose: false }, successHandleTasks: new Array() });
                    }
                });
            }
            /** @type {?} */
            var msg = ['BatchDigitalSignature'];
            gspCA.getSignedMsg(msg);
        }
        else {
            this.batchComplete(tasks, filterNum, verifyTasksNum).subscribe(function (re) {
                subject.next(re);
            });
        }
        return subject.asObservable();
    };
    /**
     * @private
     * @param {?} tasks
     * @param {?=} filterNum
     * @param {?=} verifyTasksNum
     * @return {?}
     */
    TaskExecuteComponent.prototype.batchComplete = /**
     * @private
     * @param {?} tasks
     * @param {?=} filterNum
     * @param {?=} verifyTasksNum
     * @return {?}
     */
    function (tasks, filterNum, verifyTasksNum) {
        var _this = this;
        if (filterNum === void 0) { filterNum = 0; }
        var e_3, _a;
        /** @type {?} */
        var subject = new Subject();
        /** @type {?} */
        var successNum = 0;
        /** @type {?} */
        var failedNum = 0;
        /** @type {?} */
        var errorNum = 0;
        /** @type {?} */
        var successSubmit = { result: true, isClose: true };
        /** @type {?} */
        var successHandleTasks = new Array();
        /** @type {?} */
        var load = this.loadingService.show();
        var _loop_1 = function (task) {
            /** @type {?} */
            var context = new CompleteContext();
            context.workItemId = task.sourceId;
            context.conclusionValue = this_1.actionEntity.code;
            context.comment = this_1.comment;
            context.addendum = this_1.addendum;
            this_1.taskService.completeSimulate(context).subscribe(function (response) {
                if (response && response.needInteraction === true) { // 需要交互
                    failedNum++;
                    if (successNum + failedNum + errorNum === tasks.length) {
                        load.close();
                        subject.next({ successSubmit: successSubmit, successHandleTasks: successHandleTasks });
                        _this.showBatchSubmitInfo(successNum, failedNum + filterNum, errorNum, verifyTasksNum);
                    }
                }
                else { // 不需要交互
                    _this.taskService.complete(context).subscribe(function () {
                        successNum++;
                        successHandleTasks.push(task);
                        if (successNum + failedNum + errorNum === tasks.length) {
                            load.close();
                            subject.next({ successSubmit: successSubmit, successHandleTasks: successHandleTasks });
                            _this.showBatchSubmitInfo(successNum, failedNum + filterNum, errorNum, verifyTasksNum);
                        }
                    }, function () {
                        errorNum++;
                        if (successNum + failedNum + errorNum === tasks.length) {
                            load.close();
                            subject.next({ successSubmit: successSubmit, successHandleTasks: successHandleTasks });
                            _this.showBatchSubmitInfo(successNum, failedNum + filterNum, errorNum, verifyTasksNum);
                        }
                    });
                }
            }, function () {
                errorNum++;
                if (successNum + failedNum + errorNum === tasks.length) {
                    load.close();
                    subject.next({ successSubmit: successSubmit, successHandleTasks: successHandleTasks });
                    _this.showBatchSubmitInfo(successNum, failedNum + filterNum, errorNum, verifyTasksNum);
                }
            });
        };
        var this_1 = this;
        try {
            for (var tasks_1 = tslib_1.__values(tasks), tasks_1_1 = tasks_1.next(); !tasks_1_1.done; tasks_1_1 = tasks_1.next()) {
                var task = tasks_1_1.value;
                _loop_1(task);
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (tasks_1_1 && !tasks_1_1.done && (_a = tasks_1.return)) _a.call(tasks_1);
            }
            finally { if (e_3) throw e_3.error; }
        }
        return subject.asObservable();
    };
    /**
     * 批量提交提示信息
     * @param successNum 成功条数
     * @param failedNum 需要交互的条数
     * @param errorNum 执行报错的条数
     * @param verifyTasksNum 需要数字签名的条数
     */
    /**
     * 批量提交提示信息
     * @private
     * @param {?} successNum 成功条数
     * @param {?} failedNum 需要交互的条数
     * @param {?} errorNum 执行报错的条数
     * @param {?} verifyTasksNum 需要数字签名的条数
     * @return {?}
     */
    TaskExecuteComponent.prototype.showBatchSubmitInfo = /**
     * 批量提交提示信息
     * @private
     * @param {?} successNum 成功条数
     * @param {?} failedNum 需要交互的条数
     * @param {?} errorNum 执行报错的条数
     * @param {?} verifyTasksNum 需要数字签名的条数
     * @return {?}
     */
    function (successNum, failedNum, errorNum, verifyTasksNum) {
        /** @type {?} */
        var message = '';
        if (successNum && !failedNum && !errorNum && !verifyTasksNum) { // 批量全部成功
            this.notify.success(this.i18nService.getValue('cueWords.success'));
        }
        else { // 非全部成功
            successNum && (message += this.i18nService.getValue('batchSubmit.success') + ("\u3010" + successNum + "\u3011") + this.i18nService.getValue('batchSubmit.row'));
            errorNum && (message += this.i18nService.getValue('batchSubmit.error') + ("\u3010" + errorNum + "\u3011") + this.i18nService.getValue('batchSubmit.row'));
            failedNum && (message += this.i18nService.getValue('batchSubmit.failed') + ("\u3010" + failedNum + "\u3011") + this.i18nService.getValue('batchSubmit.row'));
            verifyTasksNum && (message += this.i18nService.getValue('batchSubmit.validationFailed') + ("\u3010" + verifyTasksNum + "\u3011") + this.i18nService.getValue('batchSubmit.row'));
            message += this.i18nService.getValue('batchSubmit.single');
            this.message.show('warning', message, { safeHtml: false });
        }
    };
    /**
     * @private
     * @param {?} events
     * @param {?} entities
     * @param {?} action
     * @param {?} handler
     * @param {?=} result
     * @return {?}
     */
    TaskExecuteComponent.prototype.executeBatchEvent = /**
     * @private
     * @param {?} events
     * @param {?} entities
     * @param {?} action
     * @param {?} handler
     * @param {?=} result
     * @return {?}
     */
    function (events, entities, action, handler, result) {
        var _this = this;
        if (this.injector) {
            if (events && events.length > 0 && entities && entities.length > 0) {
                /** @type {?} */
                var event_1 = events.shift();
                /** @type {?} */
                var url = event_1.eventImpl.split('#')[0];
                /** @type {?} */
                var func_1 = event_1.eventImpl.split('#')[1];
                System.import(url + '?v=' + new Date().getTime().toString())
                    .then(function (moduleFactories) {
                    /** @type {?} */
                    var moduleFactory = Object.values(moduleFactories)[0];
                    /** @type {?} */
                    var moduleRef = moduleFactory.create(_this.injector);
                    /** @type {?} */
                    var context = {
                        action: action,
                        taskList: entities,
                        origin: 'TaskCenter',
                        preEventResult: result
                    };
                    moduleRef.instance[func_1].apply(moduleRef.instance, [context]).subscribe(function (re) {
                        if (re && re.result) {
                            _this.executeBatchEvent(events, entities, action, handler, re);
                        }
                        else {
                            handler(re);
                        }
                    });
                });
            }
            else {
                handler(result);
            }
        }
        else {
            handler(result);
        }
    };
    /**
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.assignSimulate = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        this.showAttachment = false;
        this.ifAssignUser = true;
        this.dialogHeight += this.dialogHeightBase;
        this.taskService.getAssigneeInfo(this.workItemId).subscribe(function (info) {
            _this.assignInfos = [{
                    selectedAssignees: info.selectedAssignees,
                    assigneeInfo: info.assigneeInfo,
                    assignees: info.selectedAssignees.map(function (user) { return { id: user.id, name: user.name }; }),
                    activityName: info.activityDefinitionName,
                    dependency: info.dependency,
                    anonymous: info.anonymous,
                    anonymousText: info.anonymousText,
                    resolved: info.resolved,
                }];
        }, function (error) {
            _this.taskService.error(error);
        });
    };
    /**
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.transferSimulate = /**
     * @private
     * @return {?}
     */
    function () {
        this.ifSelectUser = true;
        this.selectUserText = this.actionEntity.name + this.i18nService.getValue('task.person');
        this.singleSelect = true;
        this.dialogHeight += this.dialogHeightBase;
        this.getOrganizationScope();
    };
    /**
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.addSignFrontSimulate = /**
     * @private
     * @return {?}
     */
    function () {
        this.ifSelectUser = true;
        this.selectUserText = this.actionEntity.name + this.i18nService.getValue('task.person');
        this.dialogHeight += this.dialogHeightBase;
        this.getOrganizationScope();
    };
    /**
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.addSignSimulate = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        this.ifSelectUser = true;
        this.selectUserText = this.actionEntity.name + this.i18nService.getValue('task.person');
        this.dialogHeight += this.dialogHeightBase * 2;
        /** @type {?} */
        var load = this.loadingService.show();
        this.taskService.getAdhocConfig(this.workItemId).subscribe(function (response) {
            load.close();
            _this.addSign.showSignToSign = response.showSignToSign;
            _this.addSign.originMultiInstType = response.multiInstanceType;
            if (response.organization) {
                _this.filter.orgId = response.organization.id;
                _this.filter.withAllOrg = response.organization.includeChildren;
            }
        }, function (error) {
            load.close();
            _this.taskService.error(error);
        });
    };
    /**
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.notifySimulate = /**
     * @private
     * @return {?}
     */
    function () {
        this.ifSelectUser = true;
        this.selectUserText = this.actionEntity.name + this.i18nService.getValue('task.person');
        this.dialogHeight += this.dialogHeightBase;
        this.singleSelect = false;
        this.getOrganizationScope();
    };
    /**
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.getOrganizationScope = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var load = this.loadingService.show();
        this.taskService.getOrganizationScope(this.workItemId, this.actionEntity.code).subscribe(function (orgList) {
            load.close();
            if (orgList.length) { // 全员会返回空数组
                _this.filter.orgId = orgList[0].id;
                _this.filter.withAllOrg = orgList[0].includeChildren;
            }
        }, function (error) {
            load.close();
            _this.taskService.error(error);
        });
    };
    /**
     * 催办模拟
     */
    /**
     * 催办模拟
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.urgeHandleSimulate = /**
     * 催办模拟
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        this.ifSelectNode = false;
        this.ifSelectUser = false;
        this.ifAssignUser = false;
        this.ifUrgeType = true;
        this.commentPlaceHolder = this.i18nService.getValue('task.urgeComment');
        this.showCommonComment = false;
        this.showAttachment = false;
        this.showUrgeMessageSubject = true;
        this.showSign = false;
        this.dialogHeight += this.dialogHeightBase * 2;
        /** @type {?} */
        var load = this.loadingService.show();
        /** @type {?} */
        var context = new UrgeHandleSimulateContext();
        context.procInstId = this.processInstanceId;
        this.taskService.urgeHandleSimulate(context).subscribe(function (re) {
            load.close();
            _this.urgeHandleResponse = re;
            if (re && re.urgeUsers && re.urgeUsers.length) {
                _this.urgeMessageSubject = re.urgeUsers[0].urgeInfos[0].urgeMessageSubject;
                _this.urgeMessageContent = re.urgeUsers[0].urgeInfos[0].urgeMessageContent;
                _this.subjectEditable = re.urgeUsers[0].urgeInfos[0].subjectEditable;
                _this.contentEditable = re.urgeUsers[0].urgeInfos[0].contentEditable;
                _this.addReminder = re.urgeUsers[0].urgeInfos[0].addReminder;
                /** @type {?} */
                var urgeUsers = re.urgeUsers;
                /** @type {?} */
                var assignInfo = new AssigneeInfo();
                urgeUsers.forEach(function (user) {
                    if (user.anonymousText) {
                        user.name = user.anonymousText;
                        user.code = '';
                        user.orgName = '';
                    }
                });
                assignInfo.assigneeUsers = urgeUsers;
                assignInfo.selectAssignee = urgeUsers.length > 1 ? true : false;
                assignInfo.multiSelect = true;
                _this.assignInfos[0].assigneeInfo = assignInfo;
                _this.assignInfos[0].assignees = urgeUsers.length == 1 ? urgeUsers : [];
            }
            else {
                _this.notify.warning(_this.i18nService.getValue('task.noUrgeUsers'));
            }
        }, function (error) {
            load.close();
            _this.taskService.error(error);
        });
    };
    /**
     * 预解析
     * 通过、驳回、重新提交、其他自定义动作
     */
    /**
     * 预解析
     * 通过、驳回、重新提交、其他自定义动作
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.completeSimulate = /**
     * 预解析
     * 通过、驳回、重新提交、其他自定义动作
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var subject = new Subject();
        this.ifSelectNode = true;
        this.ifAssignUser = true;
        this.dialogHeight += this.dialogHeightBase * 2;
        if (this.actionEntity.parameters && this.actionEntity.parameters.length) { // 是否允许加签
            this.actionEntity.parameters.forEach(function (p) {
                if (p.code === 'AddSignBehindAble' && p.value === 'true') {
                    _this.ifSelectUser = true;
                    _this.selectUserText = _this.i18nService.getValue('task.addSign') + _this.i18nService.getValue('task.person');
                    _this.dialogHeight += _this.dialogHeightBase;
                    /** @type {?} */
                    var load_1 = _this.loadingService.show();
                    //获取加签范围
                    _this.taskService.getOrganizationScope(_this.workItemId, 'AddSignBehind').subscribe(function (orgList) {
                        load_1.close();
                        if (orgList.length) { // 全员会返回空数组
                            _this.filter.orgId = orgList[0].id;
                            _this.filter.withAllOrg = orgList[0].includeChildren;
                        }
                    }, function (error) {
                        _this.taskService.error(error);
                    });
                }
            });
        }
        if (this.actionEntity.code === 'Back') {
            this.selectNodeText = this.i18nService.getValue('task.backNodeText');
        }
        /** @type {?} */
        var context = new CompleteContext();
        context.workItemId = this.workItemId;
        context.conclusionValue = this.actionEntity.code;
        /** @type {?} */
        var load = this.loadingService.show();
        this.taskService.completeSimulate(context).subscribe(function (response) {
            load.close();
            _this.clearSimulateResult();
            _this.response = response;
            _this.showBackWardConfig.dynamicBackWardRuleAble = response.dynamicBackWardRuleAble;
            if (!response.simulationPaths.length) { // 模拟返回路径为空时
                _this.ifSelectNode = false;
                _this.ifAssignUser = false;
            }
            else { // 模拟返回了路径
                _this.destNodes = response.simulationPaths && response.simulationPaths.map(function (path) { return ({
                    id: path.nodeInfoList.map(function (node) { return node.activityDefinitionId; }).join('，'),
                    name: path.nodeInfoList.map(function (node) { return node.activityDefinitionName; }).join('，')
                }); });
                // 处理默认分支，无默认分支返回-1
                /** @type {?} */
                var defaultIndex = response.simulationPaths.findIndex(function (a) { return a.default; });
                if (defaultIndex > -1) {
                    _this.selectedNodeId = _this.destNodes[defaultIndex].id;
                    _this.nodePlaceholder = _this.destNodes[defaultIndex].name.indexOf('，') > -1 ? response.simulationPaths[defaultIndex].name : _this.destNodes[defaultIndex].name;
                    _this.setAssignInfo(response.simulationPaths[defaultIndex].nodeInfoList);
                }
                else {
                    _this.nodePlaceholder = _this.i18nService.getValue('task.selectPlaceholder');
                }
            }
            subject.next(true);
        }, function (error) {
            load.close();
            subject.next(false);
            _this.taskService.error(error);
        });
        return subject.asObservable();
    };
    /**
     * 清空预解析结果
     */
    /**
     * 清空预解析结果
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.clearSimulateResult = /**
     * 清空预解析结果
     * @private
     * @return {?}
     */
    function () {
        this.assignInfos = [{
                // 重新预解析时清空
                selectedAssignees: [],
                assigneeInfo: null,
                assignees: [],
                activityName: '',
                dependency: '',
                anonymous: false,
                anonymousText: '',
                resolved: false,
            }];
        this.destNodes = []; // 重新预解析时清空
        this.nodePlaceholder = '';
        this.selectedNodeId = '';
    };
    /**
     * 设置当前指派信息帮助参数
     */
    /**
     * 设置当前指派信息帮助参数
     * @private
     * @param {?} nodeInfoList
     * @return {?}
     */
    TaskExecuteComponent.prototype.setAssignInfo = /**
     * 设置当前指派信息帮助参数
     * @private
     * @param {?} nodeInfoList
     * @return {?}
     */
    function (nodeInfoList) {
        var _this = this;
        this.assignInfos = [];
        this.selectedNodeId.split('，').forEach(function (nodeId) {
            /** @type {?} */
            var node = nodeInfoList.find(function (node) { return node.activityDefinitionId === nodeId; });
            if (node) {
                _this.assignInfos.push({
                    selectedAssignees: node.selectedAssignees,
                    assigneeInfo: node.assigneeInfo,
                    assignees: node.selectedAssignees.map(function (user) { return { id: user.id, name: user.name }; }),
                    activityName: node.activityDefinitionName,
                    dependency: node.dependency,
                    anonymous: node.anonymous,
                    anonymousText: node.anonymousText,
                    resolved: node.resolved,
                });
            }
            else {
                _this.assignInfos.push({
                    selectedAssignees: [],
                    assigneeInfo: null,
                    assignees: [],
                    activityName: '',
                    dependency: '',
                    anonymous: false,
                    anonymousText: '',
                    resolved: false,
                });
            }
        });
        this.cd.detectChanges();
    };
    /**
     * 点击确定后方法
     */
    /**
     * 点击确定后方法
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.assignSubmit = /**
     * 点击确定后方法
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.comment.length > 300) {
            this.notify.warning(this.i18nService.getValue('task.commentTooLong'));
            this.subject.next({ result: false, isClose: false });
        }
        else if (!this.assignInfos[0].assignees.length) {
            this.notify.warning(this.i18nService.getValue('static.assignee.noAssignee'));
            this.subject.next({ result: false, isClose: false });
        }
        else {
            /** @type {?} */
            var context = {
                workItemId: this.workItemId,
                assigneeIds: this.assignInfos[0].assignees.map(function (user) { return user.id; }),
                comment: this.comment,
                addendum: this.addendum
            };
            this.taskService.assignNextUsersByWorkItemId(context).subscribe(function () {
                _this.notify.success(_this.i18nService.getValue('static.assignee.successAssign'));
                _this.subject.next(_this.submitResult);
            }, function (error) {
                _this.subject.next({ result: false, isClose: false });
                _this.taskService.error(error);
            });
        }
    };
    /**
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.claimSubmit = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.comment.length > 300) {
            this.notify.warning(this.i18nService.getValue('task.commentTooLong'));
            this.subject.next({ result: false, isClose: false });
        }
        else {
            this.taskService.claim(this.workItemId, this.comment).subscribe(function () {
                _this.notify.success(_this.i18nService.getValue('cueWords.successClaim')),
                    _this.submitResult.isClose = false;
                _this.subject.next(_this.submitResult);
            }, function (error) {
                _this.subject.next({ result: false, isClose: false });
                _this.taskService.error(error);
            });
        }
    };
    /**
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.unClaimSubmit = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.comment.length > 300) {
            this.notify.warning(this.i18nService.getValue('task.commentTooLong'));
            this.subject.next({ result: false, isClose: false });
        }
        else {
            this.taskService.unClaim(this.workItemId, this.comment).subscribe(function () {
                _this.notify.success(_this.i18nService.getValue('cueWords.successUnClaim')),
                    _this.subject.next(_this.submitResult);
            }, function (error) {
                _this.subject.next({ result: false, isClose: false });
                _this.taskService.error(error);
            });
        }
    };
    /**
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.retrieveSubmit = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.comment.length > 300) {
            this.notify.warning(this.i18nService.getValue('task.commentTooLong'));
            this.subject.next({ result: false, isClose: false });
        }
        else {
            /** @type {?} */
            var retrieveContext = {
                workItemId: this.workItemId,
                comment: this.comment
            };
            this.taskService.retrieve(retrieveContext).subscribe(function () {
                _this.notify.success(_this.i18nService.getValue('cueWords.successRetrieve'));
                _this.subject.next(_this.submitResult);
            }, function (error) {
                _this.subject.next({ result: false, isClose: false });
                _this.taskService.error(error);
            });
        }
    };
    /**
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.transferSubmit = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.comment.length > 300) {
            this.notify.warning(this.i18nService.getValue('task.commentTooLong'));
            this.subject.next({ result: false, isClose: false });
        }
        else if (this.selectedUsers.length === 0) {
            this.notify.warning(this.i18nService.getValue('task.selectPlaceholder') + this.selectUserText);
            this.subject.next({ result: false, isClose: false });
        }
        else {
            /** @type {?} */
            var context = {
                workItemId: this.workItemId,
                assignee: this.selectedUsers[0],
                comment: this.comment,
                addendum: this.addendum
            };
            this.submitDisable = true; // 禁用提交按钮
            this.taskService.transfer(context).subscribe(function () {
                _this.notify.success(_this.i18nService.getValue('static.transfer.successTransfer'));
                _this.subject.next(_this.submitResult);
            }, function (error) {
                _this.subject.next({ result: false, isClose: false });
                _this.taskService.error(error);
            });
        }
    };
    /**
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.commentSubmit = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (!this.comment || this.comment.length === 0) {
            this.notify.warning(this.i18nService.getValue('cueWords.inputOpinion'));
            this.subject.next({ result: false, isClose: false });
        }
        else if (this.comment.length > 300) {
            this.notify.warning(this.i18nService.getValue('task.commentTooLong'));
            this.subject.next({ result: false, isClose: false });
        }
        else {
            /** @type {?} */
            var context = {
                workItemId: this.workItemId,
                comment: this.comment,
                addendum: this.addendum
            };
            this.taskService.comment(context).subscribe(function () {
                _this.notify.success(_this.i18nService.getValue('static.comment.successComment'));
                _this.submitResult.isClose = false;
                _this.subject.next(_this.submitResult);
            }, function (error) {
                _this.subject.next({ result: false, isClose: false });
                _this.taskService.error(error);
            });
            this.comment = '';
        }
    };
    /**
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.addSignFrontSubmit = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.comment.length > 300) {
            this.notify.warning(this.i18nService.getValue('task.commentTooLong'));
            this.subject.next({ result: false, isClose: false });
        }
        else if (this.selectedUsers.length === 0) {
            this.notify.warning(this.i18nService.getValue('task.selectPlaceholder') + this.selectUserText);
            this.subject.next({ result: false, isClose: false });
        }
        else {
            /** @type {?} */
            var context = {
                workItemId: this.workItemId,
                action: this.actionEntity.code,
                assignees: this.selectedUsers,
                comment: this.comment,
                addendum: this.addendum
            };
            this.submitDisable = true; // 禁用提交按钮
            this.taskService.addSign(context).subscribe(function () {
                _this.notify.success(_this.i18nService.getValue('cueWords.success'));
                _this.subject.next(_this.submitResult);
            }, function (error) {
                _this.subject.next({ result: false, isClose: false });
                _this.taskService.error(error);
            });
        }
    };
    /**
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.addSignSubmit = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.comment.length > 300) {
            this.notify.warning(this.i18nService.getValue('task.commentTooLong'));
            this.subject.next({ result: false, isClose: false });
        }
        else if (this.selectedUsers.length === 0) {
            this.notify.warning(this.i18nService.getValue('task.selectPlaceholder') + this.selectUserText);
            this.subject.next({ result: false, isClose: false });
        }
        else {
            /** @type {?} */
            var payload = {
                workItemId: this.workItemId,
                comment: this.comment,
                conclusionValue: "Pass",
                signAssignees: this.selectedUsers,
                actionCode: "AddSignBehind",
                multiInstanceType: this.addSign.showMultiInstanceType ? this.addSign.curMultiInstType : this.addSign.originMultiInstType,
                counterSignRule: 'allPass',
                completedRule: 'all',
                allowSignToSign: this.addSign.allowSignToSIgn,
                activityName: '',
                addendum: this.addendum
            };
            /** @type {?} */
            var load_2 = this.loadingService.show();
            this.taskService.adhocAssignee(payload).subscribe(function (re) {
                _this.notify.success(_this.i18nService.getValue('cueWords.success'));
                _this.subject.next({ result: true, isClose: true });
                load_2.close();
            }, function (error) {
                load_2.close();
                _this.subject.next({ result: false, isClose: false });
                _this.taskService.error(error);
            });
        }
    };
    /**
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.readSubmit = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.comment.length > 300) {
            this.notify.warning(this.i18nService.getValue('task.commentTooLong'));
            this.subject.next({ result: false, isClose: false });
        }
        else {
            /** @type {?} */
            var context = {
                workItemId: this.workItemId,
                comment: this.comment,
                addendum: this.addendum,
                hideComment: this.hideComment
            };
            this.taskService.readTask(context).subscribe(function () {
                _this.notify.success(_this.i18nService.getValue('cueWords.success'));
                _this.subject.next({ result: true, isClose: true });
            }, function (error) {
                _this.taskService.error(error);
                _this.subject.next({ result: false, isClose: false });
            });
        }
    };
    /**
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.notifySubmit = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.comment.length > 300) {
            this.notify.warning(this.i18nService.getValue('task.commentTooLong'));
            this.subject.next({ result: false, isClose: false });
        }
        else if (this.selectedUsers.length === 0) {
            this.notify.warning(this.i18nService.getValue('task.selectPlaceholder') + this.selectUserText);
            this.subject.next({ result: false, isClose: false });
        }
        else {
            /** @type {?} */
            var context = {
                workItemId: this.workItemId,
                comment: this.comment,
                addendum: this.addendum,
                action: this.actionEntity.code,
                assignees: this.selectedUsers,
            };
            this.taskService.addSign(context).subscribe(function () {
                _this.notify.success(_this.i18nService.getValue('cueWords.success'));
                _this.subject.next({ result: true, isClose: false });
            }, function (error) {
                _this.subject.next({ result: false, isClose: false });
                _this.taskService.error(error);
            });
        }
    };
    /**
     * 催办提交
     */
    /**
     * 催办提交
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.urgeHandleSubmit = /**
     * 催办提交
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.comment.length > 300) {
            this.notify.warning(this.i18nService.getValue('task.commentTooLong'));
            this.subject.next({ result: false, isClose: false });
        }
        else if (!this.urgeHandleResponse.urgeUsers || !this.urgeHandleResponse.urgeUsers.length) { //没有符合条件的催办用户
            this.notify.warning(this.i18nService.getValue('task.noUrgeUsers'));
            this.subject.next({ result: false, isClose: false });
        }
        else if (!this.assignInfos[0].assignees.length) { //没有选人
            this.notify.warning(this.i18nService.getValue('task.selectPlaceholder') + this.i18nService.getValue('task.receiver'));
            this.subject.next({ result: false, isClose: false });
        }
        else if (!this.urgeHandleComponent.urgeMessageSubject) {
            this.notify.warning(this.i18nService.getValue('task.noUrgeSubject'));
            this.subject.next({ result: false, isClose: false });
        }
        else if (!this.urgeHandleComponent.urgeMessageContent) {
            this.notify.warning(this.i18nService.getValue('task.noUrgeContent'));
            this.subject.next({ result: false, isClose: false });
        }
        else {
            /** @type {?} */
            var context = new UrgeHandleContext();
            context.procInstId = this.processInstanceId;
            context.urgeUsers = this.urgeHandleResponse.urgeUsers.filter(function (a) { return _this.assignInfos[0].assignees.some(function (b) { return b.id == a.id; }); });
            context.urgeMessageSubject = this.urgeHandleComponent.urgeMessageSubject;
            context.urgeMessageContent = this.urgeHandleComponent.urgeMessageContent;
            context.addReminder = this.addReminder;
            /** @type {?} */
            var load_3 = this.loadingService.show();
            this.taskService.urgeHandle(context).subscribe(function (re) {
                _this.notify.success(_this.i18nService.getValue('cueWords.success'));
                _this.subject.next({ result: true, isClose: false });
                load_3.close();
            }, function (error) {
                load_3.close();
                _this.subject.next({ result: false, isClose: false });
                _this.taskService.error(error);
            });
        }
    };
    /**
     * 取消征询提交
     */
    /**
     * 取消征询提交
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.cancelConsultSubmit = /**
     * 取消征询提交
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var context = new WorkItemExecuteParam();
        context.workItemId = this.workItemId;
        context.comment = this.comment;
        context.addendum = this.addendum;
        /** @type {?} */
        var load = this.loadingService.show();
        this.taskService.cancelConsult(context).subscribe(function () {
            load.close();
            _this.notify.success(_this.i18nService.getValue('cueWords.success'));
            _this.subject.next({ result: true, isClose: false });
        }, function (error) {
            load.close();
            _this.subject.next({ result: false, isClose: false });
            _this.taskService.error(error);
        });
    };
    /**
     * @private
     * @return {?}
     */
    TaskExecuteComponent.prototype.completeSubmit = /**
     * @private
     * @return {?}
     */
    function () {
        // 通过、驳回、其他第三方动作
        /** @type {?} */
        var context = {
            workItemId: this.workItemId,
            conclusionValue: this.actionEntity.code,
            comment: this.comment,
            signAssignees: this.selectedUsers,
            nextFlowNodes: [],
            addendum: this.addendum,
            //动态驳回规则
            dynamicBackWardRule: this.showBackWardConfig.dynamicBackWardRuleAble ? (this.showBackWardConfig.enable ? 'backToThisNode' : 'sequence') : ''
        };
        if (context.signAssignees.length || !this.response || !this.response.simulationPaths.length) { // 加签 or 仿真返回为空，直接往下走
            this.completeTask(context);
        }
        else {
            if (this.selectedNodeId) { // 加签时，选择下一环节被禁用，destNodeId为undefined
                // 加签时，选择下一环节被禁用，destNodeId为undefined
                /** @type {?} */
                var nextFlowNodes = [];
                /** @type {?} */
                var nodes = this.selectedNodeId.split('，');
                for (var i = 0; i < nodes.length; i++) {
                    /** @type {?} */
                    var nextFlowNode = {
                        activityDefinitionId: nodes[i],
                        activityDefinitionName: this.assignInfos[i].activityName,
                        dependency: this.assignInfos[i].dependency,
                        selectedAssignees: this.assignInfos[i].assigneeInfo ? this.assignInfos[i].assignees : [],
                        assigneeInfo: null,
                        resolved: false,
                        anonymous: this.assignInfos[i].anonymous,
                        anonymousText: this.assignInfos[i].anonymousText
                    };
                    //节点找不到人，且异常提示时，并行网关暂不处理
                    if (this.response && this.response.simulationPaths.length && !this.response.simulationPaths[0].id.startsWith('ParallelGateway')) {
                        if (nodes.length == 1 && nodes[i].startsWith('UserActivity') && this.assignInfos[i].resolved && !this.assignInfos[i].assigneeInfo && !this.assignInfos[i].selectedAssignees.length) {
                            /** @type {?} */
                            var str = this.assignInfos[i].activityName + this.i18nService.getValue('startProcess.node') + this.i18nService.getValue('startProcess.noUser');
                            this.notify.warning(str);
                            this.subject.next({ result: false, isClose: false });
                            return;
                        }
                    }
                    nextFlowNodes.push(nextFlowNode);
                }
                context.nextFlowNodes = nextFlowNodes;
            }
            if (this.destNodes.length > 1 && context.nextFlowNodes.length <= 0) { // 用户没选择跳转节点，不允许提交
                this.notify.warning(this.i18nService.getValue('cueWords.selectNode'));
                this.subject.next({ result: false, isClose: false });
            }
            else if (this.assignInfos.filter(function (info) { return info.assigneeInfo && info.assigneeInfo.selectAssignee && !info.assignees.length; }).length) {
                this.notify.warning(this.i18nService.getValue('task.selectProcessor'));
                this.subject.next({ result: false, isClose: false });
            }
            else {
                this.completeTask(context);
            }
        }
    };
    /**
     * @private
     * @param {?} completeContext
     * @return {?}
     */
    TaskExecuteComponent.prototype.completeTask = /**
     * @private
     * @param {?} completeContext
     * @return {?}
     */
    function (completeContext) {
        var _this = this;
        /** @type {?} */
        var attachmentNecessary = this.actionEntity.parameters.find(function (entity) { return entity.code === 'AttachmentNecessary'; });
        /** @type {?} */
        var certificationNecessary = this.actionEntity.parameters.find(function (entity) { return entity.code === 'CertificationNecessary'; });
        /** @type {?} */
        var commentNecessary = this.actionEntity.parameters.find(function (entity) { return entity.code === 'CommentNecessary'; });
        if (attachmentNecessary && attachmentNecessary.value === 'true' && (!completeContext.addendum.attachment || completeContext.addendum.attachment === '[]')) {
            this.notify.warning(this.i18nService.getValue('cueWords.attachmentsRequired'));
            this.subject.next({ result: false, isClose: false });
        }
        else if (commentNecessary && commentNecessary.value === 'true' && !completeContext.comment) {
            this.notify.warning(this.i18nService.getValue('cueWords.inputOpinion'));
            this.subject.next({ result: false, isClose: false });
        }
        else if (this.comment.length > 300) {
            this.notify.warning(this.i18nService.getValue('task.commentTooLong'));
            this.subject.next({ result: false, isClose: false });
        }
        else {
            if (certificationNecessary && certificationNecessary.value === 'true') {
                this.verifySignature(function () {
                    completeContext.verifySigned = _this.verifySigned;
                    _this.taskComplete(completeContext);
                });
                /** @type {?} */
                var msg = [this.workItemId];
                gspCA.getSignedMsg(msg);
            }
            else {
                this.taskComplete(completeContext);
            }
        }
    };
    /**
     * @private
     * @param {?} hander
     * @return {?}
     */
    TaskExecuteComponent.prototype.executeFormActionsAfterCompleteTask = /**
     * @private
     * @param {?} hander
     * @return {?}
     */
    function (hander) {
        var _this = this;
        /** @type {?} */
        var postActions = this.billMethodConfigs.filter(function (action) { return action.action === _this.actionEntity.code && action.executionTime === 'Post'; }).sort(function (x, y) { return x.sortOrder - y.sortOrder; });
        // 如果表单注册了事件
        if (this.ifRegistered && this.formObject && postActions.length) {
            this.executePostFormActions(postActions, hander);
        }
        else {
            hander();
        }
    };
    /**
     * @private
     * @param {?} formActions
     * @param {?} hander
     * @return {?}
     */
    TaskExecuteComponent.prototype.executePostFormActions = /**
     * @private
     * @param {?} formActions
     * @param {?} hander
     * @return {?}
     */
    function (formActions, hander) {
        var _this = this;
        if (formActions.length > 0) {
            this.messageSubject = new Subject();
            this.messageSubject.subscribe(function (re) {
                console.log(re.data);
                /** @type {?} */
                var data = re.data.data;
                if (data.result === true) {
                    _this.executePostFormActions(formActions, hander);
                }
                else {
                    _this.subject.next({ result: false, isClose: false }); // 任务办理界面不关闭
                    throw new Error('审批后表单操作执行失败！');
                }
            });
            // 执行表单动作
            /** @type {?} */
            var formAction = formActions.shift();
            this.sendMessage(this.workItemId, formAction);
        }
        else {
            hander();
        }
    };
    //帮助选人后
    //帮助选人后
    /**
     * @param {?} data
     * @return {?}
     */
    TaskExecuteComponent.prototype.afterConfirmForTransfer = 
    //帮助选人后
    /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        if (data && data.length) {
            this.selectedUsers = data.map(function (user) { return user.id; });
            this.selectedUserNgModule = data.map(function (user) { return user.name; }).join();
        }
        else {
            this.selectedUsers = [];
        }
        if (this.actionEntity.code == 'AddSign' && this.addSign.originMultiInstType == MultiInstanceType.Preempt.toString() && this.selectedUsers.length > 1) {
            this.addSign.showMultiInstanceType = true;
        }
        else {
            this.addSign.showMultiInstanceType = false;
        }
    };
    /**
     * @return {?}
     */
    TaskExecuteComponent.prototype.cancel = /**
     * @return {?}
     */
    function () {
        this.submitResult.isClose = false;
        this.subject.next(this.submitResult);
        return this.subject.asObservable();
    };
    /**
     * @return {?}
     */
    TaskExecuteComponent.prototype.getSubject = /**
     * @return {?}
     */
    function () {
        return this.subject.asObservable();
    };
    // 下一环节选择后事件
    // 下一环节选择后事件
    /**
     * @param {?} data
     * @return {?}
     */
    TaskExecuteComponent.prototype.selectNodeChange = 
    // 下一环节选择后事件
    /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        this.selectedNodeId = data && data.data && data.data.id;
        if (this.response.simulationPaths[data.index].nodeInfoList.every(function (node) { return node.resolved === true; })) { // 已预解析参与者
            this.setAssignInfo(this.response.simulationPaths[data.index].nodeInfoList);
        }
        else {
            /** @type {?} */
            var nodeIds = this.selectedNodeId.split('，').map(function (node) { return "\"" + node + "\""; }).join();
            // 注意一个中文逗号一个英文逗号
            /** @type {?} */
            var load_4 = this.loadingService.show();
            this.taskService.getSimulationAssigneeInfo(this.workItemId, nodeIds).subscribe(function (nodeInfoList) {
                load_4.close();
                _this.setAssignInfo(nodeInfoList);
            }, function (error) {
                load_4.close();
                _this.taskService.error(error);
            });
        }
    };
    // 下一环节清空后事件
    // 下一环节清空后事件
    /**
     * @return {?}
     */
    TaskExecuteComponent.prototype.selectNodeClear = 
    // 下一环节清空后事件
    /**
     * @return {?}
     */
    function () {
        this.selectedNodeId = null;
        this.assignInfos = [{
                selectedAssignees: [],
                assigneeInfo: null,
                assignees: [],
                activityName: '',
                dependency: '',
                anonymous: false,
                anonymousText: '',
                resolved: false,
            }];
    };
    /**
     * @param {?} data
     * @param {?} index
     * @return {?}
     */
    TaskExecuteComponent.prototype.afterConfirmForAssign = /**
     * @param {?} data
     * @param {?} index
     * @return {?}
     */
    function (data, index) {
        this.assignInfos[index].assignees = data;
    };
    /**
     * 上传附件后事件
     */
    /**
     * 上传附件后事件
     * @param {?} data
     * @return {?}
     */
    TaskExecuteComponent.prototype.addAttachment = /**
     * 上传附件后事件
     * @param {?} data
     * @return {?}
     */
    function (data) {
        this.addendum.attachment = JSON.stringify(data);
    };
    /**
     * 手写签名后事件
     */
    /**
     * 手写签名后事件
     * @param {?} data
     * @return {?}
     */
    TaskExecuteComponent.prototype.addSignature = /**
     * 手写签名后事件
     * @param {?} data
     * @return {?}
     */
    function (data) {
        if (data) {
            /** @type {?} */
            var signInfo = {
                id: data,
                waterMarking: null
            };
            this.addendum.signature = JSON.stringify(signInfo);
        }
        else {
            this.addendum.signature = '';
        }
    };
    // 以服务方式打开组件时，左右加上padding
    // 以服务方式打开组件时，左右加上padding
    /**
     * @return {?}
     */
    TaskExecuteComponent.prototype.addPadding = 
    // 以服务方式打开组件时，左右加上padding
    /**
     * @return {?}
     */
    function () {
        this.cls = 'f-utils-fill-flex-column h-100 px-4 py-2';
    };
    /**
     * @private
     * @param {?} workItemId
     * @param {?} action
     * @return {?}
     */
    TaskExecuteComponent.prototype.sendMessage = /**
     * @private
     * @param {?} workItemId
     * @param {?} action
     * @return {?}
     */
    function (workItemId, action) {
        if (this.iframe) {
            /** @type {?} */
            var iframeWindow = this.iframe.nativeElement.contentWindow;
            /** @type {?} */
            var message = {
                target: workItemId,
                data: {
                    command: action.method,
                    arguments: action.methodParameters
                }
            };
            iframeWindow.postMessage(message, this.POST_MESSAGE_TARGET);
        }
        else {
            throw new Error('表单尚未加载!');
        }
    };
    // 提交审批前的数字签名及验签
    // 提交审批前的数字签名及验签
    /**
     * @param {?} handler
     * @return {?}
     */
    TaskExecuteComponent.prototype.verifySignature = 
    // 提交审批前的数字签名及验签
    /**
     * @param {?} handler
     * @return {?}
     */
    function (handler) {
        /** @type {?} */
        var that = this;
        if (((/** @type {?} */ (window))).gspframeworkService &&
            ((/** @type {?} */ (window))).gspframeworkService.rtf) {
            ((/** @type {?} */ (window))).gspframeworkService.rtf.caEvent.on(((/** @type {?} */ (window))).gspframeworkService.rtf.caEvent.signedMsgOverToken(), 'signedMsgOver', function signMsgOver(signedData) {
                if (signedData && signedData[0] === 'true' && signedData.length > 0) {
                    // 证书对象
                    /** @type {?} */
                    var cert = gspCA.getCurCert();
                    // 验签参数
                    that.verifySigned = {
                        // 要验证的证书base64编码的字符流(certkey)
                        certBase64Info: gspCA.getCertBase64(cert),
                        // 签名原信息
                        msg: [that.workItemId],
                        // 要签名后信息
                        signedmsg: signedData[1][0],
                        // 用户使用场景，目前未使用，可以为空
                        useCase: null,
                    };
                    handler();
                }
                else {
                    that.loadingService.close();
                    that.subject.next({ result: false, isClose: false });
                    that.notify.error(signedData[1]);
                    throw new Error(signedData[1]);
                }
            });
        }
    };
    // 通过、驳回、其他第三方动作
    // 通过、驳回、其他第三方动作
    /**
     * @param {?} completeContext
     * @return {?}
     */
    TaskExecuteComponent.prototype.taskComplete = 
    // 通过、驳回、其他第三方动作
    /**
     * @param {?} completeContext
     * @return {?}
     */
    function (completeContext) {
        var _this = this;
        this.taskService.complete(completeContext).subscribe(function (cr) {
            _this.executeFormActionsAfterCompleteTask(function () {
                if (cr.needInteraction) { // 通过后指派场景
                    if (_this.origin == ActionOrigin.TaskCenter) {
                        _this.subject.next({ result: true, isClose: false });
                    }
                    else {
                        _this.subject.next({ result: false, isClose: false }); //关掉loading
                    }
                    _this.notify.info(_this.i18nService.getValue('cueWords.select')
                        + '【' + cr.nextFlowNodes[0].activityDefinitionName + '】'
                        + _this.i18nService.getValue('cueWords.processor'));
                    /** @type {?} */
                    var task = new TaskEntity();
                    /** @type {?} */
                    var action = new TaskAction();
                    task.sourceId = cr.nextFlowNodes[0].assigneeInfo.workItemId;
                    action.code = 'AssignUser';
                    action.name = _this.i18nService.getValue('cueWords.assignUser');
                    _this.handlerService.execute(task, action).subscribe(function (re) {
                        if (re) {
                            _this.subject.next({ result: true, isClose: true });
                        }
                    });
                }
                else {
                    if (completeContext.conclusionValue === 'Pass') {
                        _this.notify.success(_this.i18nService.getValue('cueWords.successPass'));
                    }
                    else if (completeContext.conclusionValue === 'Back') {
                        _this.notify.success(_this.i18nService.getValue('cueWords.successBack'));
                    }
                    else {
                        _this.notify.success(_this.i18nService.getValue('cueWords.success'));
                    }
                    _this.subject.next({ result: true, isClose: true });
                }
            });
        }, function (error) {
            _this.subject.next({ result: false, isClose: false });
            _this.taskService.error(error);
        });
    };
    /**
     * 消息监听处理方法
     */
    TaskExecuteComponent.func = null;
    TaskExecuteComponent.decorators = [
        { type: Component, args: [{
                    selector: 'lib-task-execute',
                    template: "<!-- \u610F\u89C1\u8F93\u5165 -->\r\n<wf-comment\r\n  *ngIf=\"!showUrgeMessageSubject\"\r\n  class=\"w-100\"\r\n  name=\"comment\"\r\n  [(ngModel)]=\"comment\"\r\n  [placeholder]=\"commentPlaceHolder\"\r\n  [processInstanceId]=\"processInstanceId\"\r\n  [showAttachment]=\"showAttachment\"\r\n  [showCommonComment]=\"showCommonComment\"\r\n  [showSign]=\"showSign\"\r\n  [textAreaHeight]=\"textAreaHeight\"\r\n  [TaskCenterConfig]=\"configList\"\r\n  (attachment)=\"addAttachment($event)\"\r\n  (signature)=\"addSignature($event)\"\r\n>\r\n</wf-comment>\r\n\r\n<!--\u50AC\u529E\u6D88\u606F-->\r\n<urge-handle\r\n  *ngIf=\"showUrgeMessageSubject\"\r\n  [placeholder]=\"commentPlaceHolder\"\r\n  [showMessageSubject]=\"showUrgeMessageSubject\"\r\n  [urgeMessageSubject]=\"urgeMessageSubject\"\r\n  [urgeMessageContent]=\"urgeMessageContent\"\r\n  [subjectEditable]=\"subjectEditable\"\r\n  [contentEditable]=\"contentEditable\"\r\n  [textAreaHeight]=\"textAreaHeight\"\r\n>\r\n</urge-handle>\r\n\r\n<!-- \u5BA1\u6279\u8BB0\u5F55\u9690\u85CF\uFF08\u4EC5\u5BF9\u81EA\u5DF1\u53EF\u89C1\uFF09 -->\r\n<div\r\n  *ngIf=\"ifShowCommentToMySelf\"\r\n  class=\"custom-control custom-checkbox custom-control-inline\"\r\n  style=\"margin-bottom: 10px\"\r\n>\r\n  <input\r\n    type=\"checkbox\"\r\n    class=\"custom-control-input\"\r\n    [(ngModel)]=\"hideComment\"\r\n    id=\"taskcenterhidecomment\"\r\n    name=\"taskcenterhidecomment\"\r\n  />\r\n  <label class=\"custom-control-label\" for=\"taskcenterhidecomment\">{{\r\n    \"static.hideComment\" | translate\r\n  }}</label>\r\n</div>\r\n\r\n<!-- \u4E0B\u4E00\u73AF\u8282 -->\r\n<div *ngIf=\"ifSelectNode\" class=\"wf-task-handler-help-div\">\r\n  <div class=\"wf-task-handler-help-text\">{{ selectNodeText }}</div>\r\n  <div class=\"d-flex\" style=\"flex: 1\">\r\n    <farris-combo-list\r\n      style=\"flex: 1\"\r\n      [data]=\"destNodes\"\r\n      [editable]=\"false\"\r\n      [textField]=\"'name'\"\r\n      [valueField]=\"'id'\"\r\n      [idField]=\"'id'\"\r\n      [readonly]=\"destNodes.length > 1 ? false : true\"\r\n      (selectChange)=\"selectNodeChange($event)\"\r\n      (clear)=\"selectNodeClear()\"\r\n      [placeholder]=\"nodePlaceholder\"\r\n      [forcePlaceholder]=\"true\"\r\n    >\r\n    </farris-combo-list>\r\n  </div>\r\n</div>\r\n\r\n<!-- \u529E\u7406\u4EBA\u5458\uFF08\u6307\u6D3E\uFF09 -->\r\n<div *ngIf=\"ifAssignUser || ifUrgeType\">\r\n  <lib-assignee-info\r\n    *ngFor=\"let assignInfo of assignInfos; let i = index\"\r\n    [assigneeInfo]=\"assignInfo.assigneeInfo\"\r\n    [setAnonymous]=\"assignInfo.anonymous\"\r\n    [setAnonymousText]=\"assignInfo.anonymousText\"\r\n    [selectedAssignees]=\"assignInfo.selectedAssignees\"\r\n    [activityName]=\"\r\n      assignInfos.length > 1\r\n        ? assignInfo.activityName\r\n        : ifUrgeType\r\n        ? ('task.urgeText' | translate)\r\n        : ''\r\n    \"\r\n    [ifShowBlank]=\"assignInfos.length > 1 ? false : true\"\r\n    [wfContext]=\"wfContext\"\r\n    (afterConfirm)=\"afterConfirmForAssign($event, i)\"\r\n  ></lib-assignee-info>\r\n</div>\r\n\r\n<!-- \u79FB\u4EA4\u3001\u52A0\u7B7E\u3001\u5F81\u8BE2\u3001\u77E5\u4F1A \u4EBA\u5458\u5E2E\u52A9-->\r\n<lib-assignee-info\r\n  *ngIf=\"ifSelectUser\"\r\n  [activityName]=\"selectUserText\"\r\n  [singleSelect]=\"singleSelect\"\r\n  [filter]=\"filter\"\r\n  [disabled]=\"false\"\r\n  [placeholder]=\"'task.selectPlaceholder' | translate\"\r\n  [allowGlobalAssign]=\"true\"\r\n  [wfContext]=\"wfContext\"\r\n  (afterConfirm)=\"afterConfirmForTransfer($event)\"\r\n>\r\n</lib-assignee-info>\r\n\r\n<!-- \u52A0\u7B7E -->\r\n<!-- \u5BA1\u6279\u7B56\u7565 -->\r\n<div *ngIf=\"addSign.showMultiInstanceType\" class=\"wf-task-handler-help-div\">\r\n  <div class=\"wf-task-handler-help-text\">\r\n    {{ \"addSign.multiInstanceType\" | translate }}\r\n  </div>\r\n  <div class=\"d-flex\" style=\"flex: 1\">\r\n    <farris-radiogroup\r\n      [(ngModel)]=\"addSign.curMultiInstType\"\r\n      [data]=\"addSign.multiInstanceType\"\r\n      [horizontal]=\"true\"\r\n    >\r\n    </farris-radiogroup>\r\n  </div>\r\n</div>\r\n\r\n<!-- \u5141\u8BB8\u518D\u52A0\u7B7E -->\r\n<div *ngIf=\"addSign.showSignToSign\" class=\"wf-task-handler-help-div\">\r\n  <div class=\"wf-task-handler-help-text\">\r\n    {{ \"addSign.allowSignToSign\" | translate }}{{ actionEntity.name }}\r\n  </div>\r\n  <farris-switch\r\n    [(ngModel)]=\"addSign.allowSignToSIgn\"\r\n    [size]=\"'small'\"\r\n    trueValue=\"true\"\r\n    falseValue=\"false\"\r\n  >\r\n  </farris-switch>\r\n</div>\r\n\r\n<!-- \u9A73\u56DE\u540E\u518D\u6B21\u63D0\u4EA4\u65F6\u76F4\u63A5\u56DE\u5230\u672C\u8282\u70B9 -->\r\n<div\r\n  *ngIf=\"showBackWardConfig.dynamicBackWardRuleAble\"\r\n  class=\"wf-task-handler-help-div\"\r\n>\r\n  <div class=\"wf-task-handler-help-text\">\r\n    {{ actionEntity.name\r\n    }}{{ \"backWardConfig.allowResubmitToThisNode\" | translate }}\r\n  </div>\r\n  <farris-switch\r\n    [(ngModel)]=\"showBackWardConfig.enable\"\r\n    [size]=\"'small'\"\r\n    trueValue=\"true\"\r\n    falseValue=\"false\"\r\n  >\r\n  </farris-switch>\r\n</div>\r\n\r\n<!-- \u6309\u94AE -->\r\n<ng-template #taskExecuteButtons>\r\n  <button type=\"button\" class=\"btn btn-secondary\" (click)=\"cancel()\">\r\n    {{ \"static.footCancel\" | translate }}\r\n  </button>\r\n  <button\r\n    type=\"button\"\r\n    class=\"btn btn-primary\"\r\n    (click)=\"submit()\"\r\n    [disabled]=\"submitDisable\"\r\n  >\r\n    {{ \"static.footOk\" | translate }}\r\n  </button>\r\n</ng-template>\r\n",
                    styles: [".wf-task-handler-help-div{font-size:13px;color:#2d2f33;margin-bottom:20px}.wf-task-handler-help-div-submit{margin-bottom:20px}.wf-task-handler-help-text{padding-bottom:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]
                }] }
    ];
    /** @nocollapse */
    TaskExecuteComponent.ctorParameters = function () { return [
        { type: TaskService },
        { type: NotifyService },
        { type: I18nService },
        { type: WfTaskHandlerService },
        { type: LoadingService },
        { type: MessagerService },
        { type: Injector },
        { type: ChangeDetectorRef }
    ]; };
    TaskExecuteComponent.propDecorators = {
        buttons: [{ type: ViewChild, args: ['taskExecuteButtons',] }],
        sysUserHelp: [{ type: ViewChild, args: [SysFarrisLookupComponent,] }],
        urgeHandleComponent: [{ type: ViewChild, args: [UrgeHandleComponent,] }],
        cls: [{ type: HostBinding, args: ['class',] }]
    };
    return TaskExecuteComponent;
}(ActionBaseImplComponent));
export { TaskExecuteComponent };
if (false) {
    /**
     * 消息监听处理方法
     * @type {?}
     * @private
     */
    TaskExecuteComponent.func;
    /** @type {?} */
    TaskExecuteComponent.prototype.task;
    /** @type {?} */
    TaskExecuteComponent.prototype.workItemId;
    /** @type {?} */
    TaskExecuteComponent.prototype.processInstanceId;
    /** @type {?} */
    TaskExecuteComponent.prototype.actionEntity;
    /** @type {?} */
    TaskExecuteComponent.prototype.comment;
    /** @type {?} */
    TaskExecuteComponent.prototype.wfCacheComment;
    /** @type {?} */
    TaskExecuteComponent.prototype.currentDefaultValue;
    /** @type {?} */
    TaskExecuteComponent.prototype.ifSelectNode;
    /** @type {?} */
    TaskExecuteComponent.prototype.ifSelectUser;
    /** @type {?} */
    TaskExecuteComponent.prototype.ifAssignUser;
    /** @type {?} */
    TaskExecuteComponent.prototype.ifUrgeType;
    /** @type {?} */
    TaskExecuteComponent.prototype.ifShowCommentToMySelf;
    /** @type {?} */
    TaskExecuteComponent.prototype.singleSelect;
    /** @type {?} */
    TaskExecuteComponent.prototype.selectTargetAble;
    /** @type {?} */
    TaskExecuteComponent.prototype.hideComment;
    /** @type {?} */
    TaskExecuteComponent.prototype.filter;
    /** @type {?} */
    TaskExecuteComponent.prototype.selectedUsers;
    /** @type {?} */
    TaskExecuteComponent.prototype.selectedUserNgModule;
    /** @type {?} */
    TaskExecuteComponent.prototype.buttons;
    /** @type {?} */
    TaskExecuteComponent.prototype.sysUserHelp;
    /** @type {?} */
    TaskExecuteComponent.prototype.urgeHandleComponent;
    /** @type {?} */
    TaskExecuteComponent.prototype.subject;
    /** @type {?} */
    TaskExecuteComponent.prototype.submitResult;
    /** @type {?} */
    TaskExecuteComponent.prototype.bindingData;
    /** @type {?} */
    TaskExecuteComponent.prototype.selectNodeText;
    /** @type {?} */
    TaskExecuteComponent.prototype.selectUserText;
    /** @type {?} */
    TaskExecuteComponent.prototype.commentPlaceHolder;
    /** @type {?} */
    TaskExecuteComponent.prototype.showAttachment;
    /** @type {?} */
    TaskExecuteComponent.prototype.showSign;
    /** @type {?} */
    TaskExecuteComponent.prototype.showCommonComment;
    /** @type {?} */
    TaskExecuteComponent.prototype.textAreaHeight;
    /** @type {?} */
    TaskExecuteComponent.prototype.nodePlaceholder;
    /** @type {?} */
    TaskExecuteComponent.prototype.selectedNodeId;
    /** @type {?} */
    TaskExecuteComponent.prototype.destNodes;
    /** @type {?} */
    TaskExecuteComponent.prototype.dialogHeight;
    /** @type {?} */
    TaskExecuteComponent.prototype.dialogHeightBase;
    /** @type {?} */
    TaskExecuteComponent.prototype.addendum;
    /** @type {?} */
    TaskExecuteComponent.prototype.groupIcon;
    /** @type {?} */
    TaskExecuteComponent.prototype.assignInfos;
    /** @type {?} */
    TaskExecuteComponent.prototype.response;
    /** @type {?} */
    TaskExecuteComponent.prototype.urgeHandleResponse;
    /** @type {?} */
    TaskExecuteComponent.prototype.formObject;
    /** @type {?} */
    TaskExecuteComponent.prototype.ifRegistered;
    /** @type {?} */
    TaskExecuteComponent.prototype.billMethodConfigs;
    /** @type {?} */
    TaskExecuteComponent.prototype.configList;
    /** @type {?} */
    TaskExecuteComponent.prototype.verifySigned;
    /** @type {?} */
    TaskExecuteComponent.prototype.submitDisable;
    /** @type {?} */
    TaskExecuteComponent.prototype.addSign;
    /** @type {?} */
    TaskExecuteComponent.prototype.showBackWardConfig;
    /**
     * 任务催办时使用
     * @type {?}
     */
    TaskExecuteComponent.prototype.showUrgeMessageSubject;
    /** @type {?} */
    TaskExecuteComponent.prototype.urgeMessageSubject;
    /** @type {?} */
    TaskExecuteComponent.prototype.urgeMessageContent;
    /** @type {?} */
    TaskExecuteComponent.prototype.addReminder;
    /** @type {?} */
    TaskExecuteComponent.prototype.subjectEditable;
    /** @type {?} */
    TaskExecuteComponent.prototype.contentEditable;
    /** @type {?} */
    TaskExecuteComponent.prototype.wfContext;
    /** @type {?} */
    TaskExecuteComponent.prototype.cls;
    /** @type {?} */
    TaskExecuteComponent.prototype.POST_MESSAGE_TARGET;
    /**
     * @type {?}
     * @private
     */
    TaskExecuteComponent.prototype.messageSubject;
    /**
     * 监听事件处理
     * @type {?}
     */
    TaskExecuteComponent.prototype.eventHandler;
    /**
     * @type {?}
     * @private
     */
    TaskExecuteComponent.prototype.taskService;
    /**
     * @type {?}
     * @private
     */
    TaskExecuteComponent.prototype.notify;
    /**
     * @type {?}
     * @private
     */
    TaskExecuteComponent.prototype.i18nService;
    /**
     * @type {?}
     * @private
     */
    TaskExecuteComponent.prototype.handlerService;
    /**
     * @type {?}
     * @private
     */
    TaskExecuteComponent.prototype.loadingService;
    /**
     * @type {?}
     * @private
     */
    TaskExecuteComponent.prototype.message;
    /**
     * @type {?}
     * @private
     */
    TaskExecuteComponent.prototype.injector;
    /**
     * @type {?}
     * @private
     */
    TaskExecuteComponent.prototype.cd;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFzay1leGVjdXRlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bnc3Atd2Yvd2YtdGFzay1oYW5kbGVyLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvdGFzay1leGVjdXRlL3Rhc2stZXhlY3V0ZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUVULFNBQVMsRUFDVCxXQUFXLEVBQ1gsV0FBVyxFQUNYLFFBQVEsRUFFUixpQkFBaUIsRUFFbEIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsZUFBZSxFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFDeEYsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ3pELE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQzlELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNsRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFDOUQsT0FBTyxFQUFxQyxZQUFZLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNqRyxPQUFPLEVBQWMsZUFBZSxFQUFFLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUM1RCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDdEQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFDckUsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3RELE9BQU8sRUFBZ0IsdUJBQXVCLEVBQWtELFlBQVksRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQzVJLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUdwRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFJdEQsT0FBTyxF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SUFDN0IsMkNBQWdDOzs7OztJQUNoQyw4Q0FBNEM7Ozs7O0lBQzVDLDhDQUFzQzs7Ozs7SUFDdEMsdUNBQWdDOzs7OztJQUNoQyx3Q0FBMEI7Ozs7O0lBQzFCLGtDQUE2QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgQ29tcG9uZW50LFxyXG4gIE9uSW5pdCxcclxuICBWaWV3Q2hpbGQsXHJcbiAgVGVtcGxhdGVSZWYsXHJcbiAgSG9zdEJpbmRpbmcsXHJcbiAgSW5qZWN0b3IsXHJcbiAgQWZ0ZXJWaWV3SW5pdCxcclxuICBDaGFuZ2VEZXRlY3RvclJlZixcclxuICBJbnB1dFxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBBZGRlbmR1bSwgVmVyaWZ5U2lnbmVkLCBDb21wbGV0ZUNvbnRleHQgfSBmcm9tICcuLi8uLi9lbnRpdHkvY29tcGxldGUtY29udGV4dCc7XHJcbmltcG9ydCB7IFRhc2tTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZS90YXNrLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBTeXNGYXJyaXNMb29rdXBDb21wb25lbnQgfSBmcm9tICdAZ3NwLXN5cy9zeXNtZ3ItdWknO1xyXG5pbXBvcnQgeyBOb3RpZnlTZXJ2aWNlIH0gZnJvbSAnQGZhcnJpcy91aS1ub3RpZnknO1xyXG5pbXBvcnQgeyBJMThuU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2UvaTE4bi9pMThuLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBDb21wbGV0ZVJlc3BvbnNlLCBBc3NpZ25QYXJhbWV0ZXIsIEFzc2lnbmVlSW5mbyB9IGZyb20gJy4uLy4uL2VudGl0eS9jb21wbGV0ZS1yZXNwb25zZSc7XHJcbmltcG9ydCB7IE9ic2VydmFibGUsIEJlaGF2aW9yU3ViamVjdCwgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBUYXNrQWN0aW9uIH0gZnJvbSAnLi4vLi4vZW50aXR5L3Rhc2stYWN0aW9uJztcclxuaW1wb3J0IHsgV2ZUYXNrSGFuZGxlclNlcnZpY2UgfSBmcm9tICcuLi8uLi93Zi10YXNrLWhhbmRsZXIuc2VydmljZSc7XHJcbmltcG9ydCB7IFRhc2tFbnRpdHkgfSBmcm9tICcuLi8uLi9lbnRpdHkvdGFzay1lbnRpdHknO1xyXG5pbXBvcnQgeyBTdWJtaXRSZXN1bHQsIEFjdGlvbkJhc2VJbXBsQ29tcG9uZW50LCBBY3Rpb25FdmVudCwgVGFza0V2ZW50UmVzdWx0LCBUYXNrRXZlbnRDb250ZXh0LCBBY3Rpb25PcmlnaW4gfSBmcm9tICdAZ3NwLXdmL3Rhc2staW1wbC1hcGknO1xyXG5pbXBvcnQgeyBMb2FkaW5nU2VydmljZSB9IGZyb20gJ0BmYXJyaXMvdWktbG9hZGluZyc7XHJcbmltcG9ydCB7IE9yZ2FuaXphdGlvblNjb3BlIH0gZnJvbSAnLi4vLi4vZW50aXR5L29yZ2FuaXphdGlvbi1zY29wZSc7XHJcbmltcG9ydCB7IEZsb3dOb2RlSW5mbywgQXNzaWduZWUgfSBmcm9tICcuLi8uLi9lbnRpdHkvc3RhcnQtcHJvY2Vzcy1wYXlsb2FkJztcclxuaW1wb3J0IHsgTWVzc2FnZXJTZXJ2aWNlIH0gZnJvbSAnQGZhcnJpcy91aS1tZXNzYWdlcic7XHJcbmltcG9ydCB7IEFzc2lnbkluZm9IZWxwRW50aXR5IH0gZnJvbSAnLi4vLi4vZW50aXR5L2Fzc2lnbkluZm9IZWxwJztcclxuaW1wb3J0IHsgU2ltdWxhdGVSZXNwb25zZSB9IGZyb20gJy4uLy4uL2VudGl0eS9zaW11bGF0ZS1yZXNwb25zZSc7XHJcbmltcG9ydCB7IEJpbGxNZXRob2RDb25maWcsIEZvcm1FdmVudE1lc3NhZ2UgfSBmcm9tICcuLi8uLi9lbnRpdHkvZm9ybUFjdGlvbic7XHJcbmltcG9ydCB7IENvbmZpZ0NvZGUsIFRhc2tDZW50ZXJDb25maWcsIE93bmVyVHlwZSB9IGZyb20gJy4uLy4uL2VudGl0eS90YXNrLWNlbnRlci1jb25maWcnO1xyXG5pbXBvcnQgeyBDb3VudGVyU2lnblBhcmFtLCBXb3JrSXRlbUV4ZWN1dGVQYXJhbSB9IGZyb20gJy4uLy4uL2VudGl0eS93b3JraXRlbS1leGVjdXRlLXBhcmFtJztcclxuaW1wb3J0IHsgVXJnZUhhbmRsZUNvbnRleHQsIFVyZ2VIYW5kbGVSZXNwb25zZSwgVXJnZUhhbmRsZVNpbXVsYXRlQ29udGV4dCB9IGZyb20gJy4uLy4uL2VudGl0eS91cmdlLWhhbmRsZSc7XHJcbmltcG9ydCB7IEJhdGNoVmVyaWZ5U2lnbmVkQ29udGV4dCB9IGZyb20gJy4uLy4uL2VudGl0eS9iYXRjaFZlcmlmeXNpZ25lZCc7XHJcbmltcG9ydCB7IFdmQ29udGV4dCB9IGZyb20gJy4uLy4uL2VudGl0eS93ZkNvbnRleHQnO1xyXG5pbXBvcnQgeyBVcmdlSGFuZGxlQ29tcG9uZW50IH0gZnJvbSBcIi4uL3VyZ2UtaGFuZGxlL3VyZ2UtaGFuZGxlLmNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBBZGRTaWduUGF5bG9hZCwgQWRkU2lnblNpbXVsYXRlUmVzcG9uc2UsIE11bHRpSW5zdGFuY2VUeXBlIH0gZnJvbSAnLi4vLi4vZW50aXR5L2FkZC1zaWduJztcclxuXHJcbmRlY2xhcmUgdmFyIFN5c3RlbTogYW55O1xyXG5kZWNsYXJlIGNvbnN0IGdzcENBOiBhbnk7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2xpYi10YXNrLWV4ZWN1dGUnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi90YXNrLWV4ZWN1dGUuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL3Rhc2stZXhlY3V0ZS5jb21wb25lbnQuY3NzJ10sXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBUYXNrRXhlY3V0ZUNvbXBvbmVudCBleHRlbmRzIEFjdGlvbkJhc2VJbXBsQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBBZnRlclZpZXdJbml0IHtcclxuXHJcbiAgLyoqXHJcbiAgICog5raI5oGv55uR5ZCs5aSE55CG5pa55rOVXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzdGF0aWMgZnVuYyA9IG51bGw7XHJcbiAgdGFzazogVGFza0VudGl0eTsvL+W9k+WJjeS7u+WKoVxyXG4gIHdvcmtJdGVtSWQ6IHN0cmluZzsgLy8g5bel5L2c6aG5SURcclxuICBwcm9jZXNzSW5zdGFuY2VJZDogc3RyaW5nOyAvLyDmtYHnqIvlrp7kvotJRFxyXG4gIGFjdGlvbkVudGl0eSA9IG5ldyBUYXNrQWN0aW9uKCk7IC8vIOWKqOS9nOWunuS9k1xyXG4gIGNvbW1lbnQgPSAnJzsgLy8g5a6h5om55oSP6KeBXHJcbiAgd2ZDYWNoZUNvbW1lbnQ6IHN0cmluZzsvL+e8k+WtmOeahOaEj+ingVxyXG4gIGN1cnJlbnREZWZhdWx0VmFsdWU6IHN0cmluZzsvL+W9k+WJjeWKqOS9nOeahOm7mOiupOaEj+ingVxyXG5cclxuICBpZlNlbGVjdE5vZGUgPSBmYWxzZTsgLy8g5piv5ZCm5pi+56S66YCJ5oup5LiL5LiA546v6IqCXHJcbiAgaWZTZWxlY3RVc2VyID0gZmFsc2U7IC8vIOaYr+WQpuaYvuekuuS4i+S4gOeOr+iKguWkhOeQhuS6ulxyXG4gIGlmQXNzaWduVXNlciA9IGZhbHNlOyAvLyDmmK/lkKbmmL7npLrlip7nkIbkurrlkZjmoYZcclxuICBpZlVyZ2VUeXBlID0gZmFsc2U7IC8vIOaYr+WQpuaYvuekuuaOpeaUtuS6uuahhu+8iOWCrOWKnua2iOaBr+aOpeaUtuS6uu+8iVxyXG4gIGlmU2hvd0NvbW1lbnRUb015U2VsZiA9IGZhbHNlOy8vIOaYr+WQpuaYvuekuuWuoeaJueiusOW9leS7heiHquW3seWPr+ingVxyXG5cclxuICBzaW5nbGVTZWxlY3QgPSBmYWxzZTsgLy8g55So5oi35biu5Yqp5piv5ZCm5Y2V6YCJ77yM6buY6K6k5aSa6YCJXHJcbiAgc2VsZWN0VGFyZ2V0QWJsZSA9IGZhbHNlOyAvLyDmmK/lkKblhYHorrjpgInmi6nkuIvkuIDnjq/oioJcclxuICBoaWRlQ29tbWVudCA9IGZhbHNlOy8v5a6h5om56K6w5b2V5LuF6Ieq5bex5Y+v6KeBXHJcblxyXG4gIGZpbHRlciA9IHsgbm90R2V0Q3VycmVudFVzZXI6IHRydWUsIG5vdEdldFN0b3BVc2VyOiB0cnVlLCBvcmRlckZpZWxkOiAnb3JkZXInLCB3aXRoQWxsT3JnOiB0cnVlLCBvcmdJZDogJycgfTsgLy8g57O757uf55So5oi35biu5Yqp5piv5ZCm6L+H5ruk5b2T5YmN5Lq6XHJcbiAgc2VsZWN0ZWRVc2Vyczogc3RyaW5nW10gPSBbXTsgLy8g55So5oi35biu5Yqp6YCJ5oup5ZCO55qESWTmlbDnu4RcclxuXHJcbiAgc2VsZWN0ZWRVc2VyTmdNb2R1bGU6IHN0cmluZzsgLy8g6YCJ5oup5aSE55CG5Lq655qEcGxhY2Vob2xkZXJcclxuXHJcbiAgQFZpZXdDaGlsZCgndGFza0V4ZWN1dGVCdXR0b25zJykgYnV0dG9uczogVGVtcGxhdGVSZWY8YW55PjsgLy8g56Gu6K6k5Y+W5raI5oyJ6ZKuXHJcbiAgQFZpZXdDaGlsZChTeXNGYXJyaXNMb29rdXBDb21wb25lbnQpIHN5c1VzZXJIZWxwOiBTeXNGYXJyaXNMb29rdXBDb21wb25lbnQ7IC8vIOezu+e7n+eUqOaIt+W4ruWKqVxyXG4gIEBWaWV3Q2hpbGQoVXJnZUhhbmRsZUNvbXBvbmVudCkgdXJnZUhhbmRsZUNvbXBvbmVudDogVXJnZUhhbmRsZUNvbXBvbmVudDtcclxuXHJcbiAgc3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8U3VibWl0UmVzdWx0PihudWxsKTtcclxuICBzdWJtaXRSZXN1bHQ6IFN1Ym1pdFJlc3VsdCA9IHsgcmVzdWx0OiB0cnVlLCBpc0Nsb3NlOiB0cnVlIH07IC8vIOWKqOS9nOaJp+ihjOWujOaIkOWQjui/lOWbnueahOWunuS9k+e7k+aenFxyXG4gIGJpbmRpbmdEYXRhOiB7IGlkPzogc3RyaW5nLCBuYW1lPzogc3RyaW5nIH0gPSB7fTsgLy8g57O757uf5biu5Yqp5aSa6YCJ5pe255So5YiwXHJcblxyXG4gIHNlbGVjdE5vZGVUZXh0OiBzdHJpbmcgPSB0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCd0YXNrLm5leHROb2RlVGV4dCcpOyAvLyDkuIvkuIDnjq/oioLmmL7npLrnmoTmloflrZcsXCLkuIvkuIDnjq/oioJcIlxyXG4gIHNlbGVjdFVzZXJUZXh0OiBzdHJpbmc7IC8vIOWkhOeQhuS6uuWRmOaYvuekuuaWh+Wtl1xyXG4gIGNvbW1lbnRQbGFjZUhvbGRlcjogc3RyaW5nID0gdGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgnc3RhdGljLmlucHV0SG9sZGVyJyk7Ly/lrqHmibnmhI/op4HmoYZwbGFjZWhvbGRlclxyXG4gIHNob3dBdHRhY2htZW50OiBib29sZWFuID0gdHJ1ZTsvL+aYr+WQpuaYvuekuumZhOS7tuS4iuS8oFxyXG4gIHNob3dTaWduOiBib29sZWFuID0gdHJ1ZTsvL+aYr+WQpuaYvuekuuetvuWQjVxyXG4gIHNob3dDb21tb25Db21tZW50OiBib29sZWFuID0gdHJ1ZTsvL+aYr+WQpuaYvuekuuW4uOeUqOaEj+ingVxyXG4gIHRleHRBcmVhSGVpZ2h0OiBudW1iZXIgPSA4NDsvL+aWh+Wtl+ahhueahOmrmOW6plxyXG5cclxuICBub2RlUGxhY2Vob2xkZXI6IHN0cmluZzsgLy8g6YCJ5oup5LiL5LiA546v6IqC55qEcGxhY2Vob2xkZXJcclxuXHJcbiAgc2VsZWN0ZWROb2RlSWQ6IHN0cmluZzsgLy8g6YCJ5oup55qE5LiL5LiA546v6IqCSUTvvIzlubbooYzliIbmlK/mmK/vvIzpgJflj7fpmpTlvIDnmoRcclxuICBkZXN0Tm9kZXM6IHsgaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nIH1bXSA9IFtdOyAvLyDlgJnpgInkuIvkuIDnjq/oioJcclxuXHJcbiAgZGlhbG9nSGVpZ2h0ID0gMjcwOyAvLyDlvLnmoYbnmoTpq5jluqZcclxuICBkaWFsb2dIZWlnaHRCYXNlID0gNjY7XHJcblxyXG4gIGFkZGVuZHVtID0gbmV3IEFkZGVuZHVtKCk7IC8vIOmZhOS7tuOAgeetvuWQjeS/oeaBr1xyXG4gIGdyb3VwSWNvbiA9ICc8aSBjbGFzcz1cImYtaWNvbiBmLWljb24tbG9va3VwXCI+PC9pPic7XHJcblxyXG4gIGFzc2lnbkluZm9zOiBBc3NpZ25JbmZvSGVscEVudGl0eVtdID0gW3sgLy8g6IqC54K56L+U5Zue55qE5oyH5rS+5L+h5oGv77yI5aSa5Liq77yJXHJcbiAgICBzZWxlY3RlZEFzc2lnbmVlczogW10sXHJcbiAgICBhc3NpZ25lZUluZm86IG51bGwsXHJcbiAgICBhc3NpZ25lZXM6IFtdLFxyXG4gICAgYWN0aXZpdHlOYW1lOiAnJyxcclxuICAgIGRlcGVuZGVuY3k6ICcnLFxyXG4gICAgYW5vbnltb3VzOiBmYWxzZSxcclxuICAgIGFub255bW91c1RleHQ6IG51bGwsXHJcbiAgICByZXNvbHZlZDogZmFsc2UsXHJcbiAgfV07XHJcblxyXG4gIHJlc3BvbnNlOiBTaW11bGF0ZVJlc3BvbnNlOyAvLyDkv53lrZjmqKHmi5/lrqHmibnlkI7ov5Tlm57nmoTlhoXlrrnvvIzpgInmi6noioLngrnml7bkvb/nlKhcclxuICB1cmdlSGFuZGxlUmVzcG9uc2U6IFVyZ2VIYW5kbGVSZXNwb25zZTsvL+S/neWtmOWCrOWKnuaooeaLn+WQjui/lOWbnueahOWGheWuuVxyXG5cclxuICBmb3JtT2JqZWN0OiBhbnk7IC8vIOihqOWNleWvueixoVxyXG4gIGlmUmVnaXN0ZXJlZCA9IGZhbHNlOyAvLyDooajljZXmmK/lkKbms6jlhoxcclxuICBiaWxsTWV0aG9kQ29uZmlnczogQmlsbE1ldGhvZENvbmZpZ1tdID0gW107IC8vIOihqOWNleWKqOS9nOmFjee9ruWIl+ihqFxyXG4gIGNvbmZpZ0xpc3Q6IFRhc2tDZW50ZXJDb25maWdbXSA9IFtdOyAvL+S7u+WKoeS4reW/g+mFjee9rumhuVxyXG5cclxuICB2ZXJpZnlTaWduZWQ6IFZlcmlmeVNpZ25lZCA9IG5ldyBWZXJpZnlTaWduZWQoKTsgLy8g5pWw5a2X6aqM562+5Y+C5pWwXHJcbiAgc3VibWl0RGlzYWJsZTogYm9vbGVhbiA9IGZhbHNlOyAvLyDmj5DkuqTmjInpkq7mmK/lkKbnpoHnlKhcclxuXHJcbiAgLy/liqDnrb7kvb/nlKhcclxuICBhZGRTaWduID0ge1xyXG4gICAgc2hvd1NpZ25Ub1NpZ246IGZhbHNlLFxyXG4gICAgYWxsb3dTaWduVG9TSWduOiBmYWxzZSxcclxuICAgIHNob3dNdWx0aUluc3RhbmNlVHlwZTogZmFsc2UsXHJcbiAgICBtdWx0aUluc3RhbmNlVHlwZTogW1xyXG4gICAgICB7IHZhbHVlOiAnUGFyYWxsZWwnLCBuYW1lOiB0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCdhZGRTaWduLnBhcmFsbGVsJykgfSxcclxuICAgICAgeyB2YWx1ZTogJ1NlcXVlbnRpYWwnLCBuYW1lOiB0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCdhZGRTaWduLnNlcXVlbnRpYWwnKSB9LFxyXG4gICAgICB7IHZhbHVlOiAnUHJlZW1wdCcsIG5hbWU6IHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ2FkZFNpZ24ucHJlZW1wdCcpIH0sXHJcbiAgICBdLFxyXG4gICAgb3JpZ2luTXVsdGlJbnN0VHlwZTogJycsXHJcbiAgICBjdXJNdWx0aUluc3RUeXBlOiBNdWx0aUluc3RhbmNlVHlwZS5QYXJhbGxlbC50b1N0cmluZygpXHJcbiAgfVxyXG4gIC8v5Yqo5oCB6amz5Zue6YWN572uXHJcbiAgc2hvd0JhY2tXYXJkQ29uZmlnID0ge1xyXG4gICAgZHluYW1pY0JhY2tXYXJkUnVsZUFibGU6IGZhbHNlLFxyXG4gICAgZW5hYmxlOiBmYWxzZSxcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOS7u+WKoeWCrOWKnuaXtuS9v+eUqFxyXG4gICAqL1xyXG4gIHNob3dVcmdlTWVzc2FnZVN1YmplY3Q6IGJvb2xlYW4gPSBmYWxzZTsgLy8g5piv5ZCm5pi+56S65YKs5Yqe5raI5oGv5Li76aKY77yI5YKs5Yqe5pe25L2/55So77yJXHJcbiAgdXJnZU1lc3NhZ2VTdWJqZWN0OiBzdHJpbmc7IC8vIOWCrOWKnua2iOaBr+S4u+mimOaWh+acrFxyXG4gIHVyZ2VNZXNzYWdlQ29udGVudDogc3RyaW5nOyAvLyDlgqzlip7mtojmga/lhoXlrrnmlofmnKxcclxuICBhZGRSZW1pbmRlcjogYm9vbGVhbjsgLy8g5piv5ZCm5pi+56S65YKs5Yqe5Lq65raI5oGvXHJcbiAgc3ViamVjdEVkaXRhYmxlOiBib29sZWFuOyAvLyDkuLvpopjlj6/nvJbovpFcclxuICBjb250ZW50RWRpdGFibGU6IGJvb2xlYW47IC8vIOWGheWuueWPr+e8lui+kVxyXG5cclxuICB3ZkNvbnRleHQgPSBuZXcgV2ZDb250ZXh0KCk7Ly/lt6XkvZzmtYHkuIrkuIvmlodcclxuXHJcbiAgQEhvc3RCaW5kaW5nKCdjbGFzcycpIGNscyA9ICcnO1xyXG5cclxuICBQT1NUX01FU1NBR0VfVEFSR0VUID0gd2luZG93LmRvY3VtZW50LmxvY2F0aW9uLm9yaWdpbjtcclxuICBwcml2YXRlIG1lc3NhZ2VTdWJqZWN0O1xyXG5cclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIHRhc2tTZXJ2aWNlOiBUYXNrU2VydmljZSxcclxuICAgIHByaXZhdGUgbm90aWZ5OiBOb3RpZnlTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBpMThuU2VydmljZTogSTE4blNlcnZpY2UsXHJcbiAgICBwcml2YXRlIGhhbmRsZXJTZXJ2aWNlOiBXZlRhc2tIYW5kbGVyU2VydmljZSxcclxuICAgIHByaXZhdGUgbG9hZGluZ1NlcnZpY2U6IExvYWRpbmdTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBtZXNzYWdlOiBNZXNzYWdlclNlcnZpY2UsXHJcbiAgICBwcml2YXRlIGluamVjdG9yOiBJbmplY3RvcixcclxuICAgIHByaXZhdGUgY2Q6IENoYW5nZURldGVjdG9yUmVmLFxyXG4gICkge1xyXG4gICAgc3VwZXIoKTtcclxuICAgIC8vIOWmguaenOWtmOWcqOa2iOaBr+ebkeWQrO+8jOWFiOWIoOaOiVxyXG4gICAgaWYgKFRhc2tFeGVjdXRlQ29tcG9uZW50LmZ1bmMpIHtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBUYXNrRXhlY3V0ZUNvbXBvbmVudC5mdW5jLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmFkZE1lc3NhZ2VMaXN0ZW5lcigpO1xyXG4gIH1cclxuXHJcbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICBjb25zdCBsb2FkID0gdGhpcy5sb2FkaW5nU2VydmljZS5zaG93KCk7XHJcbiAgICB0aGlzLnRhc2tTZXJ2aWNlLmdldEFsbFVzZXJDb25maWcoKS5zdWJzY3JpYmUoKGNvbmZpZ0xpc3Q6IFRhc2tDZW50ZXJDb25maWdbXSkgPT4ge1xyXG4gICAgICBsb2FkLmNsb3NlKCk7XHJcbiAgICAgIHRoaXMuY29uZmlnTGlzdCA9IGNvbmZpZ0xpc3Q7XHJcbiAgICAgIGNvbnN0IGNvbW1lbnQgPSBjb25maWdMaXN0LmZpbmQoYyA9PiBjLmNvbmZpZ0NvZGUgPT09IENvbmZpZ0NvZGUuRGVmYXVsdF9BcHByb3ZhbF9Db21tZW50KTtcclxuICAgICAgY29uc3QgaWZfc3RvcmVfY29tbWVudCA9IGNvbmZpZ0xpc3QuZmluZChjID0+IGMuY29uZmlnQ29kZSA9PT0gQ29uZmlnQ29kZS5JZl9TdG9yZV9Db21tZW50KTtcclxuICAgICAgbGV0IHBhc3NDb21tZW50OiBzdHJpbmc7XHJcbiAgICAgIGxldCBiYWNrQ29tbWVudDogc3RyaW5nO1xyXG4gICAgICBpZiAoY29tbWVudCAmJiBjb21tZW50LmN1cnJlbnRWYWx1ZSkge1xyXG4gICAgICAgIHBhc3NDb21tZW50ID0gSlNPTi5wYXJzZShjb21tZW50LmN1cnJlbnRWYWx1ZSkucGFzcztcclxuICAgICAgICBiYWNrQ29tbWVudCA9IEpTT04ucGFyc2UoY29tbWVudC5jdXJyZW50VmFsdWUpLmJhY2s7XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aW9uRW50aXR5LmNvZGUgPT09ICdQYXNzJykge1xyXG4gICAgICAgICAgdGhpcy5jb21tZW50ID0gcGFzc0NvbW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmFjdGlvbkVudGl0eS5jb2RlID09PSAnQmFjaycpIHtcclxuICAgICAgICAgIHRoaXMuY29tbWVudCA9IGJhY2tDb21tZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoaWZfc3RvcmVfY29tbWVudCAmJiBpZl9zdG9yZV9jb21tZW50LmN1cnJlbnRWYWx1ZSA9PT0gJ3RydWUnKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud2ZDYWNoZUNvbW1lbnQpIHtcclxuICAgICAgICAgIGlmICh0aGlzLmFjdGlvbkVudGl0eS5jb2RlID09ICdCYWNrJyAmJiB0aGlzLndmQ2FjaGVDb21tZW50ID09IHBhc3NDb21tZW50KSB7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNvbW1lbnQgPSB0aGlzLndmQ2FjaGVDb21tZW50O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSwgKCkgPT4ge1xyXG4gICAgICBsb2FkLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLy8g5LuO5Lu75Yqh5Yqe55CG55WM6Z2i5omT5byA5pe277yM5omN5rOo5YaM5pyN5YqhXHJcbiAgICBpZiAodGhpcy5vcmlnaW4gPT09IEFjdGlvbk9yaWdpbi5UYXNrRm9ybSkge1xyXG4gICAgICB0aGlzLmluaXRGb3JtRXZlbnQoKTtcclxuXHJcbiAgICAgIC8vIOiOt+WPluihqOWNleaTjeS9nOmFjee9rlxyXG4gICAgICB0aGlzLnRhc2tTZXJ2aWNlLmdldEFwcEluZm8odGhpcy53b3JrSXRlbUlkKS5zdWJzY3JpYmUoKHJlOiBhbnkpID0+IHtcclxuICAgICAgICBpZiAocmUgJiYgcmUuYmlsbE1ldGhvZENvbmZpZ3MgJiYgcmUuYmlsbE1ldGhvZENvbmZpZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0aGlzLmJpbGxNZXRob2RDb25maWdzID0gcmUuYmlsbE1ldGhvZENvbmZpZ3M7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGxldCBjb250ZXh0ID0gbmV3IFVyZ2VIYW5kbGVTaW11bGF0ZUNvbnRleHQoKTtcclxuICAgIGNvbnRleHQucHJvY0luc3RJZCA9IHRoaXMucHJvY2Vzc0luc3RhbmNlSWQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZE1lc3NhZ2VMaXN0ZW5lcigpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5ldmVudEhhbmRsZXIsIGZhbHNlKTtcclxuICAgIFRhc2tFeGVjdXRlQ29tcG9uZW50LmZ1bmMgPSB0aGlzLmV2ZW50SGFuZGxlcjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOebkeWQrOS6i+S7tuWkhOeQhlxyXG4gICAqL1xyXG4gIGV2ZW50SGFuZGxlciA9IChldmVudCkgPT4ge1xyXG4gICAgdGhpcy5tZXNzYWdlU3ViamVjdC5uZXh0KGV2ZW50KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOmHjeWGmeeItuexu+aWueazlVxyXG4gICAqIEBwYXJhbSB0YXNrXHJcbiAgICovXHJcbiAgc2V0VGFzayh0YXNrOiBUYXNrRW50aXR5KSB7XHJcbiAgICBpZiAodGFzaykge1xyXG4gICAgICB0aGlzLnRhc2sgPSB0YXNrO1xyXG4gICAgICB0aGlzLndvcmtJdGVtSWQgPSB0YXNrLnNvdXJjZUlkO1xyXG4gICAgICB0aGlzLnByb2Nlc3NJbnN0YW5jZUlkID0gdGFzay5wcm9jZXNzSW5zdGFuY2VJZDtcclxuICAgICAgdGhpcy53ZkNvbnRleHQucHJvY2Vzc0NhdGVnb3J5SWQgPSB0YXNrLmNhdGVnb3J5SWQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDph43lhpnniLbnsbvmlrnms5VcclxuICAgKiBAcGFyYW0gYWN0aW9uXHJcbiAgICovXHJcbiAgc2V0QWN0aW9uKGFjdGlvbjogVGFza0FjdGlvbikge1xyXG4gICAgaWYgKGFjdGlvbikge1xyXG4gICAgICB0aGlzLmFjdGlvbkVudGl0eSA9IGFjdGlvbjtcclxuICAgICAgaWYgKHRoaXMudGFzaykgey8vIOWNleS4quOAgeaJuemHj+mDvXNldEFjdGlvbu+8jOWNleS4quaJjeaJp+ihjOaooeaLn1xyXG4gICAgICAgIHRoaXMuZXhlY3V0ZSh0aGlzLmFjdGlvbkVudGl0eSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWJjeS6i+S7tuWIneWni+WMlu+8jOWwhuacjeWKoeazqOWGjOWIsHdpbmRvd+S4iu+8jOS+m+ihqOWNleiwg+eUqFxyXG4gICAqIOS7u+WKoeWKnueQhueVjOmdoueahHdpbmRvd++8jOihqOWNleeahHdpbmRvdy5wYXJlbnRcclxuICAgKi9cclxuICBwcml2YXRlIGluaXRGb3JtRXZlbnQoKSB7XHJcbiAgICAvLyDlrqHmibnliY3kuovku7ZcclxuICAgIGNvbnN0IGFjdGlvblRva2VuID0gdGhpcy53b3JrSXRlbUlkICsgJ2FjdGlvbic7XHJcbiAgICBjb25zdCBzdWJqZWN0Q29kZSA9ICdGb3JtU3ViamVjdENvZGUnO1xyXG4gICAgKHdpbmRvdyBhcyBhbnkpLmdzcFdmRXZlbnRTZXJ2aWNlID0gKHdpbmRvdyBhcyBhbnkpLmdzcFdmRXZlbnRTZXJ2aWNlIHx8IHt9O1xyXG4gICAgKHdpbmRvdyBhcyBhbnkpLmdzcFdmRXZlbnRTZXJ2aWNlLnJlZ2lzdGVyID0gKGZvcm1PYmplY3Q6IGFueSkgPT4ge1xyXG4gICAgICB0aGlzLnRhc2tTZXJ2aWNlLnN1YmplY3RSZWdpc3RlcihzdWJqZWN0Q29kZSwgYWN0aW9uVG9rZW4pO1xyXG4gICAgICB0aGlzLmlmUmVnaXN0ZXJlZCA9IHRydWU7XHJcbiAgICAgIHRoaXMuZm9ybU9iamVjdCA9IGZvcm1PYmplY3Q7XHJcbiAgICB9O1xyXG5cclxuICAgICh3aW5kb3cgYXMgYW55KS5nc3BXZkV2ZW50U2VydmljZS5ub3RpZnkgPSAodmFsdWU6IEZvcm1FdmVudE1lc3NhZ2UpID0+IHtcclxuICAgICAgaWYgKHRoaXMuaWZSZWdpc3RlcmVkKSB7XHJcbiAgICAgICAgdGhpcy50YXNrU2VydmljZS5zdWJqZWN0Tm90aWZ5KGFjdGlvblRva2VuLCB2YWx1ZSk7XHJcbiAgICAgIH0gZWxzZSB7Ly8g6KGo5Y2V5LiN5rOo5YaM77yM5Lmf5Y+v55u05o6l6LCD55Sobm90aWZ5XHJcbiAgICAgICAgY29uc3Qgc2ltdWxhdGVUb2tlbiA9IHRoaXMud29ya0l0ZW1JZCArICdzaW11bGF0ZSc7XHJcbiAgICAgICAgdGhpcy50YXNrU2VydmljZS5zdWJqZWN0UmVnaXN0ZXIoc3ViamVjdENvZGUsIHNpbXVsYXRlVG9rZW4pO1xyXG4gICAgICAgIHRoaXMudGFza1NlcnZpY2Uuc3ViamVjdFJlc3BvbnNlKHNpbXVsYXRlVG9rZW4sICcnLCAodmFsdWU6IEZvcm1FdmVudE1lc3NhZ2UpID0+IHtcclxuICAgICAgICAgIHZhbHVlICYmIHZhbHVlLmRhdGFDaGFuZ2VkICYmIHRoaXMuY29tcGxldGVTaW11bGF0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudGFza1NlcnZpY2Uuc3ViamVjdE5vdGlmeShzaW11bGF0ZVRva2VuLCB2YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDngrnlh7vmj5DkuqTnmoTml7blgJnvvIzmiafooYzooajljZXnmoTliY3kuovku7ZcclxuICAgKi9cclxuICBwcml2YXRlIGJlZm9yZUNvbXBsZXRlU3VibWl0KCkge1xyXG4gICAgY29uc3QgcGFzc1ByZUFjdGlvbnMgPSB0aGlzLmJpbGxNZXRob2RDb25maWdzLmZpbHRlcihhY3Rpb24gPT4gYWN0aW9uLmFjdGlvbiA9PT0gdGhpcy5hY3Rpb25FbnRpdHkuY29kZSAmJiBhY3Rpb24uZXhlY3V0aW9uVGltZSA9PT0gJ1ByZScpLnNvcnQoKHgsIHkpID0+IHguc29ydE9yZGVyIC0geS5zb3J0T3JkZXIpO1xyXG4gICAgLy8g5aaC5p6c6KGo5Y2V5rOo5YaM5LqG5LqL5Lu2XHJcbiAgICBpZiAocGFzc1ByZUFjdGlvbnMgJiYgcGFzc1ByZUFjdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuZXhlY3V0ZUZvcm1BY3Rpb25zKFsuLi5wYXNzUHJlQWN0aW9uc10pO1xyXG4gICAgfVxyXG4gICAgLy8g5rKh5pyJ5a6a5LmJ5YmN5ZCO5LqL5Lu277yM55u05o6l5o+Q5LqkXHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5jb21wbGV0ZVN1Ym1pdCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIGZvcm1BY3Rpb25zIOihqOWNleS4reimgeaJp+ihjOeahOWKqOS9nFxyXG4gICAqL1xyXG4gIHByaXZhdGUgZXhlY3V0ZUZvcm1BY3Rpb25zKGZvcm1BY3Rpb25zOiBCaWxsTWV0aG9kQ29uZmlnW10pIHtcclxuICAgIGlmIChmb3JtQWN0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHRoaXMubWVzc2FnZVN1YmplY3QgPSBuZXcgU3ViamVjdDxhbnk+KCk7XHJcbiAgICAgIHRoaXMubWVzc2FnZVN1YmplY3Quc3Vic2NyaWJlKChyZTogYW55KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmUuZGF0YSk7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHJlLmRhdGEuZGF0YTtcclxuICAgICAgICBpZiAoZGF0YS5yZXN1bHQgPT09IHRydWUpIHtcclxuICAgICAgICAgIGlmIChkYXRhLmRhdGFDaGFuZ2VkID09PSB0cnVlKSB7Ly8g5aaC5p6c6ZyA6KaB6aKE6Kej5p6Q77yM5YWI6aKE6Kej5p6Q5YaN57un57ut5omn6KGMXHJcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGVTaW11bGF0ZSgpLnN1YnNjcmliZSgocikgPT4ge1xyXG4gICAgICAgICAgICAgIGlmIChyKSB7Ly8g6aKE6Kej5p6Q5q2j56GuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGVGb3JtQWN0aW9ucyhmb3JtQWN0aW9ucyk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHsvLyDpooTop6PmnpDplJnor69cclxuICAgICAgICAgICAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiBmYWxzZSwgaXNDbG9zZTogZmFsc2UgfSk7IC8vIOS7u+WKoeWKnueQhueVjOmdouS4jeWFs+mXrVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2Ugey8vIOS4jemcgOimgemihOino+aekO+8jOe7p+e7reaJp+ihjFxyXG4gICAgICAgICAgICB0aGlzLmV4ZWN1dGVGb3JtQWN0aW9ucyhmb3JtQWN0aW9ucyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiBmYWxzZSwgaXNDbG9zZTogZmFsc2UgfSk7IC8vIOS7u+WKoeWKnueQhueVjOmdouS4jeWFs+mXrVxyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCflrqHmibnliY3ooajljZXmk43kvZzmiafooYzlpLHotKXvvIEnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICAvLyDmiafooYzooajljZXliqjkvZxcclxuICAgICAgY29uc3QgZm9ybUFjdGlvbiA9IGZvcm1BY3Rpb25zLnNoaWZ0KCk7XHJcbiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UodGhpcy53b3JrSXRlbUlkLCBmb3JtQWN0aW9uKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY29tcGxldGVTdWJtaXQoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOmihOino+aekFxyXG4gICAqIEBwYXJhbSBhY3Rpb25cclxuICAgKi9cclxuICBleGVjdXRlKGFjdGlvbjogVGFza0FjdGlvbikge1xyXG4gICAgc3dpdGNoIChhY3Rpb24uY29kZSkge1xyXG4gICAgICBjYXNlICdBc3NpZ25Vc2VyJzogLy8g5oyH5rS+IOWNleeLrOWPguaVsFxyXG4gICAgICAgIHRoaXMuYXNzaWduU2ltdWxhdGUoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnQ2xhaW0nOiAvLyDpoobnlKhcclxuICAgICAgICB0aGlzLnNob3dBdHRhY2htZW50ID0gZmFsc2U7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ1VuY2xhaW0nOiAvLyDlj5bmtojpoobnlKhcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnUmV0cmlldmUnOiAvLyDlj5blm55cclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnVHJhbnNmZXInOiAvLyDnp7vkuqQg5Y2V54us5Y+C5pWwXHJcbiAgICAgICAgdGhpcy50cmFuc2ZlclNpbXVsYXRlKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ0FkZFNpZ24nOiAvLyDliqDnrb5cclxuICAgICAgICB0aGlzLmFkZFNpZ25TaW11bGF0ZSgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdBZGRTaWduRnJvbnQnOiAvLyDlvoHor6JcclxuICAgICAgICB0aGlzLmFkZFNpZ25Gcm9udFNpbXVsYXRlKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ05vdGlmeSc6IC8v55+l5LyaXHJcbiAgICAgICAgdGhpcy5ub3RpZnlTaW11bGF0ZSgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdSZWZ1c2UnOiAvLyDlkKblhrNcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnT2Jzb2xldGUnOiAvLyDkvZzlup9cclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnQ29tbWVudCc6IC8vIOivhOiuulxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdSZWFkVGFzayc6IC8vIOW3sumYhVxyXG4gICAgICAgIHRoaXMuaWZTaG93Q29tbWVudFRvTXlTZWxmID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmRpYWxvZ0hlaWdodCA9IDM0MDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnVXJnZUhhbmRsZSc6Ly/lgqzlip5cclxuICAgICAgICB0aGlzLnVyZ2VIYW5kbGVTaW11bGF0ZSgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdDYW5jZWxDb25zdWx0JzovL+WPlua2iOW+geivolxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OiAvLyDpgJrov4cg6amz5ZueIOmHjeaWsOaPkOS6pCDlhbbku5boh6rlrprkuYnnmoTliqjkvZxcclxuICAgICAgICB0aGlzLmNvbXBsZXRlU2ltdWxhdGUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOecn+ato+WcsOaPkOS6pFxyXG4gICAqIOmHjeWGmeeItuexu+aWueazlVxyXG4gICAqL1xyXG4gIHN1Ym1pdCgpOiBPYnNlcnZhYmxlPFN1Ym1pdFJlc3VsdD4ge1xyXG4gICAgc3dpdGNoICh0aGlzLmFjdGlvbkVudGl0eS5jb2RlKSB7XHJcbiAgICAgIGNhc2UgJ0Fzc2lnblVzZXInOiAvLyDmjIfmtL4g5Y2V54us5Y+C5pWwXHJcbiAgICAgICAgdGhpcy5hc3NpZ25TdWJtaXQoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnQ2xhaW0nOiAvLyDpoobnlKhcclxuICAgICAgICB0aGlzLmNsYWltU3VibWl0KCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ1VuY2xhaW0nOiAvLyDlj5bmtojpoobnlKhcclxuICAgICAgICB0aGlzLnVuQ2xhaW1TdWJtaXQoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnUmV0cmlldmUnOiAvLyDlj5blm55cclxuICAgICAgICB0aGlzLnJldHJpZXZlU3VibWl0KCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ1RyYW5zZmVyJzogLy8g56e75LqkIOWNleeLrOWPguaVsFxyXG4gICAgICAgIHRoaXMudHJhbnNmZXJTdWJtaXQoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnQWRkU2lnbic6IC8vIOWKoOetvlxyXG4gICAgICAgIHRoaXMuYWRkU2lnblN1Ym1pdCgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdBZGRTaWduRnJvbnQnOiAvLyDlvoHor6JcclxuICAgICAgICB0aGlzLmFkZFNpZ25Gcm9udFN1Ym1pdCgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdDb21tZW50JzogLy8g6K+E6K66XHJcbiAgICAgICAgdGhpcy5jb21tZW50U3VibWl0KCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ05vdGlmeSc6IC8v55+l5LyaXHJcbiAgICAgICAgdGhpcy5ub3RpZnlTdWJtaXQoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnUmVhZFRhc2snOiAvLyDlt7LpmIVcclxuICAgICAgICB0aGlzLnJlYWRTdWJtaXQoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnVXJnZUhhbmRsZSc6Ly/lgqzlip5cclxuICAgICAgICB0aGlzLnVyZ2VIYW5kbGVTdWJtaXQoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnQ2FuY2VsQ29uc3VsdCc6Ly/lj5bmtojlvoHor6JcclxuICAgICAgICB0aGlzLmNhbmNlbENvbnN1bHRTdWJtaXQoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDogLy8g6YCa6L+HIOmps+WbniDlkKblhrMg5L2c5bqfIOmHjeaWsOaPkOS6pCDlhbbku5boh6rlrprkuYnliqjkvZxcclxuICAgICAgICB0aGlzLmJlZm9yZUNvbXBsZXRlU3VibWl0KCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5zdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5om56YeP5Yqe55CGXHJcbiAgICogQHBhcmFtIHRhc2tzIOaJuemHj+S7u+WKoeWIl+ihqFxyXG4gICAqL1xyXG4gIGJhdGNoU3VibWl0KHRhc2tzOiBUYXNrRW50aXR5W10pOiBPYnNlcnZhYmxlPFN1Ym1pdFJlc3VsdD4ge1xyXG4gICAgbGV0IGZpbHRlck51bSA9IDA7XHJcbiAgICBjb25zdCBzdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxTdWJtaXRSZXN1bHQ+KG51bGwpO1xyXG4gICAgY29uc3Qgc3VjY2Vzc1N1Ym1pdDogU3VibWl0UmVzdWx0ID0geyByZXN1bHQ6IHRydWUsIGlzQ2xvc2U6IHRydWUgfTtcclxuICAgIGlmICgodGhpcy5hY3Rpb25FbnRpdHkuY29kZSA9PT0gJ0JhY2snIHx8IHRoaXMuYWN0aW9uRW50aXR5LmNvZGUgPT09ICdSZWZ1c2UnKSAmJiAhdGhpcy5jb21tZW50KSB7Ly8g5om56YeP5oSP6KeB5piv5ZCm5b+F5aGr5LiN5pSv5oyB5qC55o2u5a6h5om56aG56YWN572u5pON5L2c77yM5om56YeP6amz5Zue5oSP6KeB5b+F5aGrXHJcbiAgICAgIHRoaXMubm90aWZ5Lndhcm5pbmcodGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgnY3VlV29yZHMuaW5wdXRPcGluaW9uJykpO1xyXG4gICAgICBzdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5jb21tZW50Lmxlbmd0aCA+IDMwMCkge1xyXG4gICAgICB0aGlzLm5vdGlmeS53YXJuaW5nKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ3Rhc2suY29tbWVudFRvb0xvbmcnKSk7XHJcbiAgICAgIHN1YmplY3QubmV4dCh7IHJlc3VsdDogZmFsc2UsIGlzQ2xvc2U6IGZhbHNlIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3Qgbm9BY3Rpb25UYXNrcyA9IHRhc2tzLmZpbHRlcih0ID0+IHQuYWN0aW9ucy5maW5kSW5kZXgoYSA9PiBhLmNvZGUgPT09IHRoaXMuYWN0aW9uRW50aXR5LmNvZGUpID09PSAtMSk7XHJcbiAgICAgIGlmIChub0FjdGlvblRhc2tzICYmIG5vQWN0aW9uVGFza3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgYSBvZiBub0FjdGlvblRhc2tzKSB7XHJcbiAgICAgICAgICBmaWx0ZXJOdW0rKztcclxuICAgICAgICAgIGlmIChmaWx0ZXJOdW0gPT09IHRhc2tzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBzdWJqZWN0Lm5leHQoc3VjY2Vzc1N1Ym1pdCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0JhdGNoU3VibWl0SW5mbygwLCBmaWx0ZXJOdW0sIDAsIDApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBsZXQgYWN0VGFza3MgPSB0YXNrcy5maWx0ZXIodCA9PiB0LmFjdGlvbnMuc29tZShhID0+IGEuY29kZSA9PT0gdGhpcy5hY3Rpb25FbnRpdHkuY29kZSkpO1xyXG4gICAgICBpZiAoYWN0VGFza3MgJiYgYWN0VGFza3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHRoaXMuZXhlY3V0ZUJhdGNoRXZlbnQoWy4uLnRoaXMuYWN0aW9uRW50aXR5LnByZUV2ZW50cy5maWx0ZXIoZSA9PiBlLmJhdGNoKV0sIGFjdFRhc2tzLCB0aGlzLmFjdGlvbkVudGl0eSwgKHJlOiBUYXNrRXZlbnRSZXN1bHQpID0+IHtcclxuICAgICAgICAgIGlmIChyZSAmJiByZS5yZXN1bHQpIHtcclxuICAgICAgICAgICAgaWYgKHJlLnBhc3NUYXNrcykge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGJhY2tUYXNrcyA9IGFjdFRhc2tzLmZpbHRlcih0ID0+IHJlLnBhc3NUYXNrcy5maW5kSW5kZXgoaWQgPT4gaWQgPT09IHQuaWQpID09PSAtMSk7XHJcbiAgICAgICAgICAgICAgaWYgKGJhY2tUYXNrcyAmJiBiYWNrVGFza3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIGJhY2tUYXNrcykge1xyXG4gICAgICAgICAgICAgICAgICBmaWx0ZXJOdW0rKztcclxuICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlck51bSA9PT0gdGFza3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5uZXh0KHN1Y2Nlc3NTdWJtaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0JhdGNoU3VibWl0SW5mbygwLCBmaWx0ZXJOdW0sIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGFjdFRhc2tzID0gYWN0VGFza3MuZmlsdGVyKHQgPT4gcmUucGFzc1Rhc2tzLmZpbmRJbmRleChpZCA9PiBpZCA9PT0gdC5pZCkgPiAtMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFjdFRhc2tzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICBjb25zdCBiYXRjaFZlcmlmeVNpZ25lZGNvbnRleHQgPSBuZXcgQmF0Y2hWZXJpZnlTaWduZWRDb250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgdGhpcy5iYXRjaHZlcmlmeVN1Ym1pdChhY3RUYXNrcywgZmlsdGVyTnVtLCBiYXRjaFZlcmlmeVNpZ25lZGNvbnRleHQpLnN1YnNjcmliZSgocjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAociAmJiByLnN1Y2Nlc3NTdWJtaXQgJiYgci5zdWNjZXNzU3VibWl0LnJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGVCYXRjaEV2ZW50KFsuLi50aGlzLmFjdGlvbkVudGl0eS5wb3N0RXZlbnRzLmZpbHRlcihlID0+IGUuYmF0Y2gpXSwgci5zdWNjZXNzSGFuZGxlVGFza3MsIHRoaXMuYWN0aW9uRW50aXR5LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5uZXh0KHIuc3VjY2Vzc1N1Ym1pdCk7XHJcbiAgICAgICAgICAgICAgICAgIH0sIHsgcmVzdWx0OiB0cnVlLCBwYXNzVGFza3M6IHIuc3VjY2Vzc0hhbmRsZVRhc2tzLm1hcCh0ID0+IHQuaWQpIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCB7IHJlc3VsdDogdHJ1ZSwgcGFzc1Rhc2tzOiBhY3RUYXNrcy5tYXAodCA9PiB0LmlkKSB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHJpdmF0ZSBiYXRjaHZlcmlmeVN1Ym1pdCh0YXNrczogVGFza0VudGl0eVtdLCBmaWx0ZXJOdW06IG51bWJlciA9IDAsIGJhdGNoVmVyaWZ5U2lnbmVkY29udGV4dDogQmF0Y2hWZXJpZnlTaWduZWRDb250ZXh0KTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIGNvbnN0IHN1YmplY3QgPSBuZXcgU3ViamVjdCgpO1xyXG4gICAgY29uc3QgdmVyaWZ5VGFza3MgPSB0YXNrcy5maWx0ZXIodCA9PiB7XHJcbiAgICAgIGNvbnN0IGFjdGlvbiA9IHQuYWN0aW9ucy5maW5kKGEgPT4gYS5jb2RlID09PSB0aGlzLmFjdGlvbkVudGl0eS5jb2RlKTtcclxuICAgICAgaWYgKCFhY3Rpb24pIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGFjdGlvbi5wYXJhbWV0ZXJzLnNvbWUocCA9PiBwLmNvZGUgPT09ICdDZXJ0aWZpY2F0aW9uTmVjZXNzYXJ5JyAmJiBwLnZhbHVlID09PSAndHJ1ZScpKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBjb25zdCB2ZXJpZnlUYXNrc051bSA9IHZlcmlmeVRhc2tzLmxlbmd0aDtcclxuICAgIGlmICh2ZXJpZnlUYXNrcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLmdzcGZyYW1ld29ya1NlcnZpY2UgJiZcclxuICAgICAgICAod2luZG93IGFzIGFueSkuZ3NwZnJhbWV3b3JrU2VydmljZS5ydGZcclxuICAgICAgKSB7XHJcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLmdzcGZyYW1ld29ya1NlcnZpY2UucnRmLmNhRXZlbnQub24oXHJcbiAgICAgICAgICAod2luZG93IGFzIGFueSkuZ3NwZnJhbWV3b3JrU2VydmljZS5ydGYuY2FFdmVudC5zaWduZWRNc2dPdmVyVG9rZW4oKSxcclxuICAgICAgICAgICdzaWduZWRNc2dPdmVyJyxcclxuICAgICAgICAgIGZ1bmN0aW9uIHNpZ25Nc2dPdmVyKHNpZ25lZERhdGEpIHtcclxuICAgICAgICAgICAgaWYgKHNpZ25lZERhdGEgJiYgc2lnbmVkRGF0YVswXSA9PT0gJ3RydWUnICYmIHNpZ25lZERhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgIC8vIOivgeS5puWvueixoVxyXG4gICAgICAgICAgICAgIGNvbnN0IGNlcnQgPSBnc3BDQS5nZXRDdXJDZXJ0KCk7XHJcbiAgICAgICAgICAgICAgLy8g6aqM562+5Y+C5pWwXHJcbiAgICAgICAgICAgICAgdGhhdC52ZXJpZnlTaWduZWQgPSB7XHJcbiAgICAgICAgICAgICAgICAvLyDopoHpqozor4HnmoTor4HkuaZiYXNlNjTnvJbnoIHnmoTlrZfnrKbmtYEoY2VydGtleSlcclxuICAgICAgICAgICAgICAgIGNlcnRCYXNlNjRJbmZvOiBnc3BDQS5nZXRDZXJ0QmFzZTY0KGNlcnQpLFxyXG4gICAgICAgICAgICAgICAgLy8g562+5ZCN5Y6f5L+h5oGvXHJcbiAgICAgICAgICAgICAgICBtc2c6IFsnQmF0Y2hEaWdpdGFsU2lnbmF0dXJlJ10sXHJcbiAgICAgICAgICAgICAgICAvLyDopoHnrb7lkI3lkI7kv6Hmga9cclxuICAgICAgICAgICAgICAgIHNpZ25lZG1zZzogc2lnbmVkRGF0YVsxXVswXSxcclxuICAgICAgICAgICAgICAgIC8vIOeUqOaIt+S9v+eUqOWcuuaZr++8jOebruWJjeacquS9v+eUqO+8jOWPr+S7peS4uuepulxyXG4gICAgICAgICAgICAgICAgdXNlQ2FzZTogbnVsbCxcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIGJhdGNoVmVyaWZ5U2lnbmVkY29udGV4dC52ZXJpZnlTaWduZWQgPSB0aGF0LnZlcmlmeVNpZ25lZDtcclxuICAgICAgICAgICAgICB0aGF0LnRhc2tTZXJ2aWNlLmJhdGNoVmVyaWZ5U2lnbmVkKGJhdGNoVmVyaWZ5U2lnbmVkY29udGV4dCkuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZlcmlmeVRhc2tzTnVtID0gMDtcclxuICAgICAgICAgICAgICAgIHRoYXQuYmF0Y2hDb21wbGV0ZSh0YXNrcywgZmlsdGVyTnVtLCB2ZXJpZnlUYXNrc051bSkuc3Vic2NyaWJlKHJlID0+IHtcclxuICAgICAgICAgICAgICAgICAgc3ViamVjdC5uZXh0KHJlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJUYXNrcyA9IHRhc2tzLmZpbHRlcih0ID0+IHZlcmlmeVRhc2tzLmZpbmRJbmRleCh0YXNrID0+IHRhc2suaWQgPT09IHQuaWQpID09PSAtMSk7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmJhdGNoQ29tcGxldGUob3RoZXJUYXNrcywgZmlsdGVyTnVtLCB2ZXJpZnlUYXNrc051bSkuc3Vic2NyaWJlKHJlID0+IHtcclxuICAgICAgICAgICAgICAgICAgc3ViamVjdC5uZXh0KHJlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoYXQubm90aWZ5LmVycm9yKHNpZ25lZERhdGFbMV0pO1xyXG4gICAgICAgICAgICAgIHN1YmplY3QubmV4dCh7IHN1Y2Nlc3NTdWJtaXQ6IHsgcmVzdWx0OiBmYWxzZSwgaXNDbG9zZTogZmFsc2UgfSwgc3VjY2Vzc0hhbmRsZVRhc2tzOiBuZXcgQXJyYXkoKSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgbXNnID0gWydCYXRjaERpZ2l0YWxTaWduYXR1cmUnXTtcclxuICAgICAgZ3NwQ0EuZ2V0U2lnbmVkTXNnKG1zZyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmJhdGNoQ29tcGxldGUodGFza3MsIGZpbHRlck51bSwgdmVyaWZ5VGFza3NOdW0pLnN1YnNjcmliZShyZSA9PiB7XHJcbiAgICAgICAgc3ViamVjdC5uZXh0KHJlKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3ViamVjdC5hc09ic2VydmFibGUoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYmF0Y2hDb21wbGV0ZSh0YXNrczogVGFza0VudGl0eVtdLCBmaWx0ZXJOdW06IG51bWJlciA9IDAsIHZlcmlmeVRhc2tzTnVtOiBudW1iZXIpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3Qgc3ViamVjdCA9IG5ldyBTdWJqZWN0PGFueT4oKTtcclxuICAgIGxldCBzdWNjZXNzTnVtID0gMDtcclxuICAgIGxldCBmYWlsZWROdW0gPSAwO1xyXG4gICAgbGV0IGVycm9yTnVtID0gMDtcclxuICAgIGNvbnN0IHN1Y2Nlc3NTdWJtaXQ6IFN1Ym1pdFJlc3VsdCA9IHsgcmVzdWx0OiB0cnVlLCBpc0Nsb3NlOiB0cnVlIH07XHJcbiAgICBjb25zdCBzdWNjZXNzSGFuZGxlVGFza3MgPSBuZXcgQXJyYXkoKTtcclxuXHJcbiAgICBjb25zdCBsb2FkID0gdGhpcy5sb2FkaW5nU2VydmljZS5zaG93KCk7XHJcbiAgICBmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcclxuICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBDb21wbGV0ZUNvbnRleHQoKTtcclxuICAgICAgY29udGV4dC53b3JrSXRlbUlkID0gdGFzay5zb3VyY2VJZDtcclxuICAgICAgY29udGV4dC5jb25jbHVzaW9uVmFsdWUgPSB0aGlzLmFjdGlvbkVudGl0eS5jb2RlO1xyXG4gICAgICBjb250ZXh0LmNvbW1lbnQgPSB0aGlzLmNvbW1lbnQ7XHJcbiAgICAgIGNvbnRleHQuYWRkZW5kdW0gPSB0aGlzLmFkZGVuZHVtO1xyXG4gICAgICB0aGlzLnRhc2tTZXJ2aWNlLmNvbXBsZXRlU2ltdWxhdGUoY29udGV4dCkuc3Vic2NyaWJlKChyZXNwb25zZTogU2ltdWxhdGVSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5uZWVkSW50ZXJhY3Rpb24gPT09IHRydWUpIHsvLyDpnIDopoHkuqTkupJcclxuICAgICAgICAgIGZhaWxlZE51bSsrO1xyXG4gICAgICAgICAgaWYgKHN1Y2Nlc3NOdW0gKyBmYWlsZWROdW0gKyBlcnJvck51bSA9PT0gdGFza3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGxvYWQuY2xvc2UoKTtcclxuICAgICAgICAgICAgc3ViamVjdC5uZXh0KHsgc3VjY2Vzc1N1Ym1pdCwgc3VjY2Vzc0hhbmRsZVRhc2tzIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dCYXRjaFN1Ym1pdEluZm8oc3VjY2Vzc051bSwgZmFpbGVkTnVtICsgZmlsdGVyTnVtLCBlcnJvck51bSwgdmVyaWZ5VGFza3NOdW0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7Ly8g5LiN6ZyA6KaB5Lqk5LqSXHJcbiAgICAgICAgICB0aGlzLnRhc2tTZXJ2aWNlLmNvbXBsZXRlKGNvbnRleHQpLnN1YnNjcmliZSgoKSA9PiB7Ly8g5omn6KGM5oiQ5YqfXHJcbiAgICAgICAgICAgIHN1Y2Nlc3NOdW0rKztcclxuICAgICAgICAgICAgc3VjY2Vzc0hhbmRsZVRhc2tzLnB1c2godGFzayk7XHJcbiAgICAgICAgICAgIGlmIChzdWNjZXNzTnVtICsgZmFpbGVkTnVtICsgZXJyb3JOdW0gPT09IHRhc2tzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgIGxvYWQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICBzdWJqZWN0Lm5leHQoeyBzdWNjZXNzU3VibWl0LCBzdWNjZXNzSGFuZGxlVGFza3MgfSk7XHJcbiAgICAgICAgICAgICAgdGhpcy5zaG93QmF0Y2hTdWJtaXRJbmZvKHN1Y2Nlc3NOdW0sIGZhaWxlZE51bSArIGZpbHRlck51bSwgZXJyb3JOdW0sIHZlcmlmeVRhc2tzTnVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSwgKCkgPT4gey8vIOaJp+ihjOaKpemUmVxyXG4gICAgICAgICAgICBlcnJvck51bSsrO1xyXG4gICAgICAgICAgICBpZiAoc3VjY2Vzc051bSArIGZhaWxlZE51bSArIGVycm9yTnVtID09PSB0YXNrcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICBsb2FkLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgc3ViamVjdC5uZXh0KHsgc3VjY2Vzc1N1Ym1pdCwgc3VjY2Vzc0hhbmRsZVRhc2tzIH0pO1xyXG4gICAgICAgICAgICAgIHRoaXMuc2hvd0JhdGNoU3VibWl0SW5mbyhzdWNjZXNzTnVtLCBmYWlsZWROdW0gKyBmaWx0ZXJOdW0sIGVycm9yTnVtLCB2ZXJpZnlUYXNrc051bSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgKCkgPT4gey8vIOS7u+WKoeaooeaLn+ivt+axguaKpemUmVxyXG4gICAgICAgIGVycm9yTnVtKys7XHJcbiAgICAgICAgaWYgKHN1Y2Nlc3NOdW0gKyBmYWlsZWROdW0gKyBlcnJvck51bSA9PT0gdGFza3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICBsb2FkLmNsb3NlKCk7XHJcbiAgICAgICAgICBzdWJqZWN0Lm5leHQoeyBzdWNjZXNzU3VibWl0LCBzdWNjZXNzSGFuZGxlVGFza3MgfSk7XHJcbiAgICAgICAgICB0aGlzLnNob3dCYXRjaFN1Ym1pdEluZm8oc3VjY2Vzc051bSwgZmFpbGVkTnVtICsgZmlsdGVyTnVtLCBlcnJvck51bSwgdmVyaWZ5VGFza3NOdW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3ViamVjdC5hc09ic2VydmFibGUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOaJuemHj+aPkOS6pOaPkOekuuS/oeaBr1xyXG4gICAqIEBwYXJhbSBzdWNjZXNzTnVtIOaIkOWKn+adoeaVsFxyXG4gICAqIEBwYXJhbSBmYWlsZWROdW0g6ZyA6KaB5Lqk5LqS55qE5p2h5pWwXHJcbiAgICogQHBhcmFtIGVycm9yTnVtIOaJp+ihjOaKpemUmeeahOadoeaVsFxyXG4gICAqIEBwYXJhbSB2ZXJpZnlUYXNrc051bSDpnIDopoHmlbDlrZfnrb7lkI3nmoTmnaHmlbBcclxuICAgKi9cclxuICBwcml2YXRlIHNob3dCYXRjaFN1Ym1pdEluZm8oc3VjY2Vzc051bTogbnVtYmVyLCBmYWlsZWROdW06IG51bWJlciwgZXJyb3JOdW06IG51bWJlciwgdmVyaWZ5VGFza3NOdW06IG51bWJlcikge1xyXG4gICAgbGV0IG1lc3NhZ2UgPSAnJztcclxuICAgIGlmIChzdWNjZXNzTnVtICYmICFmYWlsZWROdW0gJiYgIWVycm9yTnVtICYmICF2ZXJpZnlUYXNrc051bSkgey8vIOaJuemHj+WFqOmDqOaIkOWKn1xyXG4gICAgICB0aGlzLm5vdGlmeS5zdWNjZXNzKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ2N1ZVdvcmRzLnN1Y2Nlc3MnKSk7XHJcbiAgICB9IGVsc2Ugey8vIOmdnuWFqOmDqOaIkOWKn1xyXG4gICAgICBzdWNjZXNzTnVtICYmIChtZXNzYWdlICs9IHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ2JhdGNoU3VibWl0LnN1Y2Nlc3MnKSArIGDjgJAke3N1Y2Nlc3NOdW1944CRYCArIHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ2JhdGNoU3VibWl0LnJvdycpKTtcclxuICAgICAgZXJyb3JOdW0gJiYgKG1lc3NhZ2UgKz0gdGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgnYmF0Y2hTdWJtaXQuZXJyb3InKSArIGDjgJAke2Vycm9yTnVtfeOAkWAgKyB0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCdiYXRjaFN1Ym1pdC5yb3cnKSk7XHJcbiAgICAgIGZhaWxlZE51bSAmJiAobWVzc2FnZSArPSB0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCdiYXRjaFN1Ym1pdC5mYWlsZWQnKSArIGDjgJAke2ZhaWxlZE51bX3jgJFgICsgdGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgnYmF0Y2hTdWJtaXQucm93JykpO1xyXG4gICAgICB2ZXJpZnlUYXNrc051bSAmJiAobWVzc2FnZSArPSB0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCdiYXRjaFN1Ym1pdC52YWxpZGF0aW9uRmFpbGVkJykgKyBg44CQJHt2ZXJpZnlUYXNrc051bX3jgJFgICsgdGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgnYmF0Y2hTdWJtaXQucm93JykpO1xyXG4gICAgICBtZXNzYWdlICs9IHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ2JhdGNoU3VibWl0LnNpbmdsZScpO1xyXG4gICAgICB0aGlzLm1lc3NhZ2Uuc2hvdygnd2FybmluZycsIG1lc3NhZ2UsIHsgc2FmZUh0bWw6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBleGVjdXRlQmF0Y2hFdmVudChldmVudHM6IEFjdGlvbkV2ZW50W10sIGVudGl0aWVzOiBBcnJheTxUYXNrRW50aXR5PiwgYWN0aW9uOiBUYXNrQWN0aW9uLCBoYW5kbGVyOiBhbnksIHJlc3VsdD86IFRhc2tFdmVudFJlc3VsdCkge1xyXG4gICAgaWYgKHRoaXMuaW5qZWN0b3IpIHtcclxuICAgICAgaWYgKGV2ZW50cyAmJiBldmVudHMubGVuZ3RoID4gMCAmJiBlbnRpdGllcyAmJiBlbnRpdGllcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc3QgZXZlbnQgPSBldmVudHMuc2hpZnQoKTtcclxuICAgICAgICBjb25zdCB1cmwgPSBldmVudC5ldmVudEltcGwuc3BsaXQoJyMnKVswXTtcclxuICAgICAgICBjb25zdCBmdW5jID0gZXZlbnQuZXZlbnRJbXBsLnNwbGl0KCcjJylbMV07XHJcbiAgICAgICAgU3lzdGVtLmltcG9ydCh1cmwgKyAnP3Y9JyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpLnRvU3RyaW5nKCkpXHJcbiAgICAgICAgICAudGhlbigobW9kdWxlRmFjdG9yaWVzOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbW9kdWxlRmFjdG9yeTogYW55ID0gT2JqZWN0LnZhbHVlcyhtb2R1bGVGYWN0b3JpZXMpWzBdO1xyXG4gICAgICAgICAgICBjb25zdCBtb2R1bGVSZWYgPSBtb2R1bGVGYWN0b3J5LmNyZWF0ZSh0aGlzLmluamVjdG9yKTtcclxuICAgICAgICAgICAgY29uc3QgY29udGV4dDogVGFza0V2ZW50Q29udGV4dCA9IHtcclxuICAgICAgICAgICAgICBhY3Rpb24sXHJcbiAgICAgICAgICAgICAgdGFza0xpc3Q6IGVudGl0aWVzLFxyXG4gICAgICAgICAgICAgIG9yaWdpbjogJ1Rhc2tDZW50ZXInLFxyXG4gICAgICAgICAgICAgIHByZUV2ZW50UmVzdWx0OiByZXN1bHRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgbW9kdWxlUmVmLmluc3RhbmNlW2Z1bmNdLmFwcGx5KG1vZHVsZVJlZi5pbnN0YW5jZSwgW2NvbnRleHRdKS5zdWJzY3JpYmUoKHJlOiBUYXNrRXZlbnRSZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICBpZiAocmUgJiYgcmUucmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGVCYXRjaEV2ZW50KGV2ZW50cywgZW50aXRpZXMsIGFjdGlvbiwgaGFuZGxlciwgcmUpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyKHJlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaGFuZGxlcihyZXN1bHQpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBoYW5kbGVyKHJlc3VsdCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgcHJpdmF0ZSBhc3NpZ25TaW11bGF0ZSgpIHtcclxuICAgIHRoaXMuc2hvd0F0dGFjaG1lbnQgPSBmYWxzZTtcclxuICAgIHRoaXMuaWZBc3NpZ25Vc2VyID0gdHJ1ZTtcclxuICAgIHRoaXMuZGlhbG9nSGVpZ2h0ICs9IHRoaXMuZGlhbG9nSGVpZ2h0QmFzZTtcclxuICAgIHRoaXMudGFza1NlcnZpY2UuZ2V0QXNzaWduZWVJbmZvKHRoaXMud29ya0l0ZW1JZCkuc3Vic2NyaWJlKChpbmZvOiBGbG93Tm9kZUluZm8pID0+IHtcclxuICAgICAgdGhpcy5hc3NpZ25JbmZvcyA9IFt7XHJcbiAgICAgICAgc2VsZWN0ZWRBc3NpZ25lZXM6IGluZm8uc2VsZWN0ZWRBc3NpZ25lZXMsXHJcbiAgICAgICAgYXNzaWduZWVJbmZvOiBpbmZvLmFzc2lnbmVlSW5mbyxcclxuICAgICAgICBhc3NpZ25lZXM6IGluZm8uc2VsZWN0ZWRBc3NpZ25lZXMubWFwKHVzZXIgPT4geyByZXR1cm4geyBpZDogdXNlci5pZCwgbmFtZTogdXNlci5uYW1lIH07IH0pLFxyXG4gICAgICAgIGFjdGl2aXR5TmFtZTogaW5mby5hY3Rpdml0eURlZmluaXRpb25OYW1lLFxyXG4gICAgICAgIGRlcGVuZGVuY3k6IGluZm8uZGVwZW5kZW5jeSxcclxuICAgICAgICBhbm9ueW1vdXM6IGluZm8uYW5vbnltb3VzLFxyXG4gICAgICAgIGFub255bW91c1RleHQ6IGluZm8uYW5vbnltb3VzVGV4dCxcclxuICAgICAgICByZXNvbHZlZDogaW5mby5yZXNvbHZlZCxcclxuICAgICAgfV07XHJcbiAgICB9LCAoZXJyb3IpID0+IHtcclxuICAgICAgdGhpcy50YXNrU2VydmljZS5lcnJvcihlcnJvcik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdHJhbnNmZXJTaW11bGF0ZSgpIHsvLyDnp7vkuqRcclxuICAgIHRoaXMuaWZTZWxlY3RVc2VyID0gdHJ1ZTtcclxuICAgIHRoaXMuc2VsZWN0VXNlclRleHQgPSB0aGlzLmFjdGlvbkVudGl0eS5uYW1lICsgdGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgndGFzay5wZXJzb24nKTtcclxuICAgIHRoaXMuc2luZ2xlU2VsZWN0ID0gdHJ1ZTtcclxuICAgIHRoaXMuZGlhbG9nSGVpZ2h0ICs9IHRoaXMuZGlhbG9nSGVpZ2h0QmFzZTtcclxuICAgIHRoaXMuZ2V0T3JnYW5pemF0aW9uU2NvcGUoKTtcclxuXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZFNpZ25Gcm9udFNpbXVsYXRlKCkgey8vIOW+geivolxyXG4gICAgdGhpcy5pZlNlbGVjdFVzZXIgPSB0cnVlO1xyXG4gICAgdGhpcy5zZWxlY3RVc2VyVGV4dCA9IHRoaXMuYWN0aW9uRW50aXR5Lm5hbWUgKyB0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCd0YXNrLnBlcnNvbicpO1xyXG4gICAgdGhpcy5kaWFsb2dIZWlnaHQgKz0gdGhpcy5kaWFsb2dIZWlnaHRCYXNlO1xyXG4gICAgdGhpcy5nZXRPcmdhbml6YXRpb25TY29wZSgpO1xyXG5cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWRkU2lnblNpbXVsYXRlKCkgey8vIOWKoOetvlxyXG4gICAgdGhpcy5pZlNlbGVjdFVzZXIgPSB0cnVlO1xyXG4gICAgdGhpcy5zZWxlY3RVc2VyVGV4dCA9IHRoaXMuYWN0aW9uRW50aXR5Lm5hbWUgKyB0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCd0YXNrLnBlcnNvbicpO1xyXG4gICAgdGhpcy5kaWFsb2dIZWlnaHQgKz0gdGhpcy5kaWFsb2dIZWlnaHRCYXNlICogMjtcclxuICAgIGNvbnN0IGxvYWQgPSB0aGlzLmxvYWRpbmdTZXJ2aWNlLnNob3coKTtcclxuICAgIHRoaXMudGFza1NlcnZpY2UuZ2V0QWRob2NDb25maWcodGhpcy53b3JrSXRlbUlkKS5zdWJzY3JpYmUoKHJlc3BvbnNlOiBBZGRTaWduU2ltdWxhdGVSZXNwb25zZSkgPT4ge1xyXG4gICAgICBsb2FkLmNsb3NlKCk7XHJcbiAgICAgIHRoaXMuYWRkU2lnbi5zaG93U2lnblRvU2lnbiA9IHJlc3BvbnNlLnNob3dTaWduVG9TaWduO1xyXG4gICAgICB0aGlzLmFkZFNpZ24ub3JpZ2luTXVsdGlJbnN0VHlwZSA9IHJlc3BvbnNlLm11bHRpSW5zdGFuY2VUeXBlO1xyXG4gICAgICBpZiAocmVzcG9uc2Uub3JnYW5pemF0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5maWx0ZXIub3JnSWQgPSByZXNwb25zZS5vcmdhbml6YXRpb24uaWQ7XHJcbiAgICAgICAgdGhpcy5maWx0ZXIud2l0aEFsbE9yZyA9IHJlc3BvbnNlLm9yZ2FuaXphdGlvbi5pbmNsdWRlQ2hpbGRyZW47XHJcbiAgICAgIH1cclxuICAgIH0sIGVycm9yID0+IHtcclxuICAgICAgbG9hZC5jbG9zZSgpO1xyXG4gICAgICB0aGlzLnRhc2tTZXJ2aWNlLmVycm9yKGVycm9yKTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG5vdGlmeVNpbXVsYXRlKCkgey8v55+l5LyaXHJcbiAgICB0aGlzLmlmU2VsZWN0VXNlciA9IHRydWU7XHJcbiAgICB0aGlzLnNlbGVjdFVzZXJUZXh0ID0gdGhpcy5hY3Rpb25FbnRpdHkubmFtZSArIHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ3Rhc2sucGVyc29uJyk7XHJcbiAgICB0aGlzLmRpYWxvZ0hlaWdodCArPSB0aGlzLmRpYWxvZ0hlaWdodEJhc2U7XHJcbiAgICB0aGlzLnNpbmdsZVNlbGVjdCA9IGZhbHNlO1xyXG4gICAgdGhpcy5nZXRPcmdhbml6YXRpb25TY29wZSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRPcmdhbml6YXRpb25TY29wZSgpIHtcclxuICAgIGNvbnN0IGxvYWQgPSB0aGlzLmxvYWRpbmdTZXJ2aWNlLnNob3coKTtcclxuICAgIHRoaXMudGFza1NlcnZpY2UuZ2V0T3JnYW5pemF0aW9uU2NvcGUodGhpcy53b3JrSXRlbUlkLCB0aGlzLmFjdGlvbkVudGl0eS5jb2RlKS5zdWJzY3JpYmUoKG9yZ0xpc3Q6IE9yZ2FuaXphdGlvblNjb3BlW10pID0+IHtcclxuICAgICAgbG9hZC5jbG9zZSgpO1xyXG4gICAgICBpZiAob3JnTGlzdC5sZW5ndGgpIHsvLyDlhajlkZjkvJrov5Tlm57nqbrmlbDnu4RcclxuICAgICAgICB0aGlzLmZpbHRlci5vcmdJZCA9IG9yZ0xpc3RbMF0uaWQ7XHJcbiAgICAgICAgdGhpcy5maWx0ZXIud2l0aEFsbE9yZyA9IG9yZ0xpc3RbMF0uaW5jbHVkZUNoaWxkcmVuO1xyXG4gICAgICB9XHJcbiAgICB9LCBlcnJvciA9PiB7XHJcbiAgICAgIGxvYWQuY2xvc2UoKTtcclxuICAgICAgdGhpcy50YXNrU2VydmljZS5lcnJvcihlcnJvcik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWCrOWKnuaooeaLn1xyXG4gICAqL1xyXG4gIHByaXZhdGUgdXJnZUhhbmRsZVNpbXVsYXRlKCkge1xyXG4gICAgdGhpcy5pZlNlbGVjdE5vZGUgPSBmYWxzZTtcclxuICAgIHRoaXMuaWZTZWxlY3RVc2VyID0gZmFsc2U7XHJcbiAgICB0aGlzLmlmQXNzaWduVXNlciA9IGZhbHNlO1xyXG4gICAgdGhpcy5pZlVyZ2VUeXBlID0gdHJ1ZTtcclxuICAgIHRoaXMuY29tbWVudFBsYWNlSG9sZGVyID0gdGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgndGFzay51cmdlQ29tbWVudCcpO1xyXG4gICAgdGhpcy5zaG93Q29tbW9uQ29tbWVudCA9IGZhbHNlO1xyXG4gICAgdGhpcy5zaG93QXR0YWNobWVudCA9IGZhbHNlO1xyXG4gICAgdGhpcy5zaG93VXJnZU1lc3NhZ2VTdWJqZWN0ID0gdHJ1ZTtcclxuICAgIHRoaXMuc2hvd1NpZ24gPSBmYWxzZTtcclxuICAgIHRoaXMuZGlhbG9nSGVpZ2h0ICs9IHRoaXMuZGlhbG9nSGVpZ2h0QmFzZSAqIDI7XHJcbiAgICBjb25zdCBsb2FkID0gdGhpcy5sb2FkaW5nU2VydmljZS5zaG93KCk7XHJcbiAgICBsZXQgY29udGV4dCA9IG5ldyBVcmdlSGFuZGxlU2ltdWxhdGVDb250ZXh0KCk7XHJcbiAgICBjb250ZXh0LnByb2NJbnN0SWQgPSB0aGlzLnByb2Nlc3NJbnN0YW5jZUlkO1xyXG4gICAgdGhpcy50YXNrU2VydmljZS51cmdlSGFuZGxlU2ltdWxhdGUoY29udGV4dCkuc3Vic2NyaWJlKChyZTogVXJnZUhhbmRsZVJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIGxvYWQuY2xvc2UoKTtcclxuICAgICAgdGhpcy51cmdlSGFuZGxlUmVzcG9uc2UgPSByZTtcclxuICAgICAgaWYgKHJlICYmIHJlLnVyZ2VVc2VycyAmJiByZS51cmdlVXNlcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy51cmdlTWVzc2FnZVN1YmplY3QgPSByZS51cmdlVXNlcnNbMF0udXJnZUluZm9zWzBdLnVyZ2VNZXNzYWdlU3ViamVjdDtcclxuICAgICAgICB0aGlzLnVyZ2VNZXNzYWdlQ29udGVudCA9IHJlLnVyZ2VVc2Vyc1swXS51cmdlSW5mb3NbMF0udXJnZU1lc3NhZ2VDb250ZW50O1xyXG4gICAgICAgIHRoaXMuc3ViamVjdEVkaXRhYmxlID0gcmUudXJnZVVzZXJzWzBdLnVyZ2VJbmZvc1swXS5zdWJqZWN0RWRpdGFibGU7XHJcbiAgICAgICAgdGhpcy5jb250ZW50RWRpdGFibGUgPSByZS51cmdlVXNlcnNbMF0udXJnZUluZm9zWzBdLmNvbnRlbnRFZGl0YWJsZTtcclxuICAgICAgICB0aGlzLmFkZFJlbWluZGVyID0gcmUudXJnZVVzZXJzWzBdLnVyZ2VJbmZvc1swXS5hZGRSZW1pbmRlcjtcclxuICAgICAgICBsZXQgdXJnZVVzZXJzID0gcmUudXJnZVVzZXJzO1xyXG4gICAgICAgIGxldCBhc3NpZ25JbmZvID0gbmV3IEFzc2lnbmVlSW5mbygpO1xyXG4gICAgICAgIHVyZ2VVc2Vycy5mb3JFYWNoKHVzZXIgPT4ge1xyXG4gICAgICAgICAgaWYgKHVzZXIuYW5vbnltb3VzVGV4dCkge1xyXG4gICAgICAgICAgICB1c2VyLm5hbWUgPSB1c2VyLmFub255bW91c1RleHQ7XHJcbiAgICAgICAgICAgIHVzZXIuY29kZSA9ICcnO1xyXG4gICAgICAgICAgICB1c2VyLm9yZ05hbWUgPSAnJztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGFzc2lnbkluZm8uYXNzaWduZWVVc2VycyA9IHVyZ2VVc2VycztcclxuICAgICAgICBhc3NpZ25JbmZvLnNlbGVjdEFzc2lnbmVlID0gdXJnZVVzZXJzLmxlbmd0aCA+IDEgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgYXNzaWduSW5mby5tdWx0aVNlbGVjdCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hc3NpZ25JbmZvc1swXS5hc3NpZ25lZUluZm8gPSBhc3NpZ25JbmZvO1xyXG4gICAgICAgIHRoaXMuYXNzaWduSW5mb3NbMF0uYXNzaWduZWVzID0gdXJnZVVzZXJzLmxlbmd0aCA9PSAxID8gdXJnZVVzZXJzIDogW107XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5ub3RpZnkud2FybmluZyh0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCd0YXNrLm5vVXJnZVVzZXJzJykpO1xyXG4gICAgICB9XHJcbiAgICB9LCBlcnJvciA9PiB7XHJcbiAgICAgIGxvYWQuY2xvc2UoKTtcclxuICAgICAgdGhpcy50YXNrU2VydmljZS5lcnJvcihlcnJvcik7XHJcbiAgICB9KVxyXG5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOmihOino+aekFxyXG4gICAqIOmAmui/h+OAgemps+WbnuOAgemHjeaWsOaPkOS6pOOAgeWFtuS7luiHquWumuS5ieWKqOS9nFxyXG4gICAqL1xyXG4gIHByaXZhdGUgY29tcGxldGVTaW11bGF0ZSgpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgY29uc3Qgc3ViamVjdCA9IG5ldyBTdWJqZWN0KCk7XHJcbiAgICB0aGlzLmlmU2VsZWN0Tm9kZSA9IHRydWU7XHJcbiAgICB0aGlzLmlmQXNzaWduVXNlciA9IHRydWU7XHJcbiAgICB0aGlzLmRpYWxvZ0hlaWdodCArPSB0aGlzLmRpYWxvZ0hlaWdodEJhc2UgKiAyO1xyXG5cclxuICAgIGlmICh0aGlzLmFjdGlvbkVudGl0eS5wYXJhbWV0ZXJzICYmIHRoaXMuYWN0aW9uRW50aXR5LnBhcmFtZXRlcnMubGVuZ3RoKSB7Ly8g5piv5ZCm5YWB6K645Yqg562+XHJcbiAgICAgIHRoaXMuYWN0aW9uRW50aXR5LnBhcmFtZXRlcnMuZm9yRWFjaCgocCkgPT4ge1xyXG4gICAgICAgIGlmIChwLmNvZGUgPT09ICdBZGRTaWduQmVoaW5kQWJsZScgJiYgcC52YWx1ZSA9PT0gJ3RydWUnKSB7XHJcbiAgICAgICAgICB0aGlzLmlmU2VsZWN0VXNlciA9IHRydWU7XHJcbiAgICAgICAgICB0aGlzLnNlbGVjdFVzZXJUZXh0ID0gdGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgndGFzay5hZGRTaWduJykgKyB0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCd0YXNrLnBlcnNvbicpO1xyXG4gICAgICAgICAgdGhpcy5kaWFsb2dIZWlnaHQgKz0gdGhpcy5kaWFsb2dIZWlnaHRCYXNlO1xyXG4gICAgICAgICAgY29uc3QgbG9hZCA9IHRoaXMubG9hZGluZ1NlcnZpY2Uuc2hvdygpO1xyXG4gICAgICAgICAgLy/ojrflj5bliqDnrb7ojIPlm7RcclxuICAgICAgICAgIHRoaXMudGFza1NlcnZpY2UuZ2V0T3JnYW5pemF0aW9uU2NvcGUodGhpcy53b3JrSXRlbUlkLCAnQWRkU2lnbkJlaGluZCcpLnN1YnNjcmliZSgob3JnTGlzdDogT3JnYW5pemF0aW9uU2NvcGVbXSkgPT4ge1xyXG4gICAgICAgICAgICBsb2FkLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIGlmIChvcmdMaXN0Lmxlbmd0aCkgey8vIOWFqOWRmOS8mui/lOWbnuepuuaVsOe7hFxyXG4gICAgICAgICAgICAgIHRoaXMuZmlsdGVyLm9yZ0lkID0gb3JnTGlzdFswXS5pZDtcclxuICAgICAgICAgICAgICB0aGlzLmZpbHRlci53aXRoQWxsT3JnID0gb3JnTGlzdFswXS5pbmNsdWRlQ2hpbGRyZW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sIGVycm9yID0+IHtcclxuICAgICAgICAgICAgdGhpcy50YXNrU2VydmljZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuYWN0aW9uRW50aXR5LmNvZGUgPT09ICdCYWNrJykge1xyXG4gICAgICB0aGlzLnNlbGVjdE5vZGVUZXh0ID0gdGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgndGFzay5iYWNrTm9kZVRleHQnKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb250ZXh0ID0gbmV3IENvbXBsZXRlQ29udGV4dCgpO1xyXG4gICAgY29udGV4dC53b3JrSXRlbUlkID0gdGhpcy53b3JrSXRlbUlkO1xyXG4gICAgY29udGV4dC5jb25jbHVzaW9uVmFsdWUgPSB0aGlzLmFjdGlvbkVudGl0eS5jb2RlO1xyXG5cclxuICAgIGNvbnN0IGxvYWQgPSB0aGlzLmxvYWRpbmdTZXJ2aWNlLnNob3coKTtcclxuICAgIHRoaXMudGFza1NlcnZpY2UuY29tcGxldGVTaW11bGF0ZShjb250ZXh0KS5zdWJzY3JpYmUoKHJlc3BvbnNlOiBTaW11bGF0ZVJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIGxvYWQuY2xvc2UoKTtcclxuICAgICAgdGhpcy5jbGVhclNpbXVsYXRlUmVzdWx0KCk7XHJcbiAgICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcclxuICAgICAgdGhpcy5zaG93QmFja1dhcmRDb25maWcuZHluYW1pY0JhY2tXYXJkUnVsZUFibGUgPSByZXNwb25zZS5keW5hbWljQmFja1dhcmRSdWxlQWJsZTtcclxuICAgICAgaWYgKCFyZXNwb25zZS5zaW11bGF0aW9uUGF0aHMubGVuZ3RoKSB7Ly8g5qih5ouf6L+U5Zue6Lev5b6E5Li656m65pe2XHJcbiAgICAgICAgdGhpcy5pZlNlbGVjdE5vZGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlmQXNzaWduVXNlciA9IGZhbHNlO1xyXG4gICAgICB9IGVsc2Ugey8vIOaooeaLn+i/lOWbnuS6hui3r+W+hFxyXG4gICAgICAgIHRoaXMuZGVzdE5vZGVzID0gcmVzcG9uc2Uuc2ltdWxhdGlvblBhdGhzICYmIHJlc3BvbnNlLnNpbXVsYXRpb25QYXRocy5tYXAocGF0aCA9PiAoe1xyXG4gICAgICAgICAgaWQ6IHBhdGgubm9kZUluZm9MaXN0Lm1hcChub2RlID0+IG5vZGUuYWN0aXZpdHlEZWZpbml0aW9uSWQpLmpvaW4oJ++8jCcpLFxyXG4gICAgICAgICAgbmFtZTogcGF0aC5ub2RlSW5mb0xpc3QubWFwKG5vZGUgPT4gbm9kZS5hY3Rpdml0eURlZmluaXRpb25OYW1lKS5qb2luKCfvvIwnKVxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICAvLyDlpITnkIbpu5jorqTliIbmlK/vvIzml6Dpu5jorqTliIbmlK/ov5Tlm54tMVxyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRJbmRleCA9IHJlc3BvbnNlLnNpbXVsYXRpb25QYXRocy5maW5kSW5kZXgoYSA9PiBhLmRlZmF1bHQpO1xyXG4gICAgICAgIGlmIChkZWZhdWx0SW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgdGhpcy5zZWxlY3RlZE5vZGVJZCA9IHRoaXMuZGVzdE5vZGVzW2RlZmF1bHRJbmRleF0uaWQ7XHJcbiAgICAgICAgICB0aGlzLm5vZGVQbGFjZWhvbGRlciA9IHRoaXMuZGVzdE5vZGVzW2RlZmF1bHRJbmRleF0ubmFtZS5pbmRleE9mKCfvvIwnKSA+IC0xID8gcmVzcG9uc2Uuc2ltdWxhdGlvblBhdGhzW2RlZmF1bHRJbmRleF0ubmFtZSA6IHRoaXMuZGVzdE5vZGVzW2RlZmF1bHRJbmRleF0ubmFtZTtcclxuICAgICAgICAgIHRoaXMuc2V0QXNzaWduSW5mbyhyZXNwb25zZS5zaW11bGF0aW9uUGF0aHNbZGVmYXVsdEluZGV4XS5ub2RlSW5mb0xpc3QpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLm5vZGVQbGFjZWhvbGRlciA9IHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ3Rhc2suc2VsZWN0UGxhY2Vob2xkZXInKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgc3ViamVjdC5uZXh0KHRydWUpO1xyXG4gICAgfSwgZXJyb3IgPT4ge1xyXG4gICAgICBsb2FkLmNsb3NlKCk7XHJcbiAgICAgIHN1YmplY3QubmV4dChmYWxzZSk7XHJcbiAgICAgIHRoaXMudGFza1NlcnZpY2UuZXJyb3IoZXJyb3IpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gc3ViamVjdC5hc09ic2VydmFibGUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOa4heepuumihOino+aekOe7k+aenFxyXG4gICAqL1xyXG4gIHByaXZhdGUgY2xlYXJTaW11bGF0ZVJlc3VsdCgpIHtcclxuICAgIHRoaXMuYXNzaWduSW5mb3MgPSBbey8vIOmHjeaWsOmihOino+aekOaXtua4heepulxyXG4gICAgICBzZWxlY3RlZEFzc2lnbmVlczogW10sXHJcbiAgICAgIGFzc2lnbmVlSW5mbzogbnVsbCxcclxuICAgICAgYXNzaWduZWVzOiBbXSxcclxuICAgICAgYWN0aXZpdHlOYW1lOiAnJyxcclxuICAgICAgZGVwZW5kZW5jeTogJycsXHJcbiAgICAgIGFub255bW91czogZmFsc2UsXHJcbiAgICAgIGFub255bW91c1RleHQ6ICcnLFxyXG4gICAgICByZXNvbHZlZDogZmFsc2UsXHJcbiAgICB9XTtcclxuICAgIHRoaXMuZGVzdE5vZGVzID0gW107IC8vIOmHjeaWsOmihOino+aekOaXtua4heepulxyXG4gICAgdGhpcy5ub2RlUGxhY2Vob2xkZXIgPSAnJztcclxuICAgIHRoaXMuc2VsZWN0ZWROb2RlSWQgPSAnJztcclxuICB9XHJcbiAgLyoqXHJcbiAgICog6K6+572u5b2T5YmN5oyH5rS+5L+h5oGv5biu5Yqp5Y+C5pWwXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzZXRBc3NpZ25JbmZvKG5vZGVJbmZvTGlzdDogRmxvd05vZGVJbmZvW10pIHtcclxuICAgIHRoaXMuYXNzaWduSW5mb3MgPSBbXTtcclxuICAgIHRoaXMuc2VsZWN0ZWROb2RlSWQuc3BsaXQoJ++8jCcpLmZvckVhY2gobm9kZUlkID0+IHtcclxuICAgICAgY29uc3Qgbm9kZSA9IG5vZGVJbmZvTGlzdC5maW5kKG5vZGUgPT4gbm9kZS5hY3Rpdml0eURlZmluaXRpb25JZCA9PT0gbm9kZUlkKTtcclxuICAgICAgaWYgKG5vZGUpIHtcclxuICAgICAgICB0aGlzLmFzc2lnbkluZm9zLnB1c2goe1xyXG4gICAgICAgICAgc2VsZWN0ZWRBc3NpZ25lZXM6IG5vZGUuc2VsZWN0ZWRBc3NpZ25lZXMsXHJcbiAgICAgICAgICBhc3NpZ25lZUluZm86IG5vZGUuYXNzaWduZWVJbmZvLFxyXG4gICAgICAgICAgYXNzaWduZWVzOiBub2RlLnNlbGVjdGVkQXNzaWduZWVzLm1hcCh1c2VyID0+IHsgcmV0dXJuIHsgaWQ6IHVzZXIuaWQsIG5hbWU6IHVzZXIubmFtZSB9OyB9KSxcclxuICAgICAgICAgIGFjdGl2aXR5TmFtZTogbm9kZS5hY3Rpdml0eURlZmluaXRpb25OYW1lLFxyXG4gICAgICAgICAgZGVwZW5kZW5jeTogbm9kZS5kZXBlbmRlbmN5LFxyXG4gICAgICAgICAgYW5vbnltb3VzOiBub2RlLmFub255bW91cyxcclxuICAgICAgICAgIGFub255bW91c1RleHQ6IG5vZGUuYW5vbnltb3VzVGV4dCxcclxuICAgICAgICAgIHJlc29sdmVkOiBub2RlLnJlc29sdmVkLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuYXNzaWduSW5mb3MucHVzaCh7XHJcbiAgICAgICAgICBzZWxlY3RlZEFzc2lnbmVlczogW10sXHJcbiAgICAgICAgICBhc3NpZ25lZUluZm86IG51bGwsXHJcbiAgICAgICAgICBhc3NpZ25lZXM6IFtdLFxyXG4gICAgICAgICAgYWN0aXZpdHlOYW1lOiAnJyxcclxuICAgICAgICAgIGRlcGVuZGVuY3k6ICcnLFxyXG4gICAgICAgICAgYW5vbnltb3VzOiBmYWxzZSxcclxuICAgICAgICAgIGFub255bW91c1RleHQ6ICcnLFxyXG4gICAgICAgICAgcmVzb2x2ZWQ6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog54K55Ye756Gu5a6a5ZCO5pa55rOVXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBhc3NpZ25TdWJtaXQoKSB7XHJcbiAgICBpZiAodGhpcy5jb21tZW50Lmxlbmd0aCA+IDMwMCkge1xyXG4gICAgICB0aGlzLm5vdGlmeS53YXJuaW5nKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ3Rhc2suY29tbWVudFRvb0xvbmcnKSk7XHJcbiAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiBmYWxzZSwgaXNDbG9zZTogZmFsc2UgfSk7XHJcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmFzc2lnbkluZm9zWzBdLmFzc2lnbmVlcy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5ub3RpZnkud2FybmluZyh0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCdzdGF0aWMuYXNzaWduZWUubm9Bc3NpZ25lZScpKTtcclxuICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGNvbnRleHQ6IEFzc2lnblBhcmFtZXRlciA9IHtcclxuICAgICAgICB3b3JrSXRlbUlkOiB0aGlzLndvcmtJdGVtSWQsXHJcbiAgICAgICAgYXNzaWduZWVJZHM6IHRoaXMuYXNzaWduSW5mb3NbMF0uYXNzaWduZWVzLm1hcCh1c2VyID0+IHVzZXIuaWQpLFxyXG4gICAgICAgIGNvbW1lbnQ6IHRoaXMuY29tbWVudCxcclxuICAgICAgICBhZGRlbmR1bTogdGhpcy5hZGRlbmR1bVxyXG4gICAgICB9O1xyXG4gICAgICB0aGlzLnRhc2tTZXJ2aWNlLmFzc2lnbk5leHRVc2Vyc0J5V29ya0l0ZW1JZChjb250ZXh0KS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMubm90aWZ5LnN1Y2Nlc3ModGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgnc3RhdGljLmFzc2lnbmVlLnN1Y2Nlc3NBc3NpZ24nKSk7XHJcbiAgICAgICAgdGhpcy5zdWJqZWN0Lm5leHQodGhpcy5zdWJtaXRSZXN1bHQpO1xyXG4gICAgICB9LCAoZXJyb3IpID0+IHtcclxuICAgICAgICB0aGlzLnN1YmplY3QubmV4dCh7IHJlc3VsdDogZmFsc2UsIGlzQ2xvc2U6IGZhbHNlIH0pO1xyXG4gICAgICAgIHRoaXMudGFza1NlcnZpY2UuZXJyb3IoZXJyb3IpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2xhaW1TdWJtaXQoKSB7XHJcbiAgICBpZiAodGhpcy5jb21tZW50Lmxlbmd0aCA+IDMwMCkge1xyXG4gICAgICB0aGlzLm5vdGlmeS53YXJuaW5nKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ3Rhc2suY29tbWVudFRvb0xvbmcnKSk7XHJcbiAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiBmYWxzZSwgaXNDbG9zZTogZmFsc2UgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnRhc2tTZXJ2aWNlLmNsYWltKHRoaXMud29ya0l0ZW1JZCwgdGhpcy5jb21tZW50KS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMubm90aWZ5LnN1Y2Nlc3ModGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgnY3VlV29yZHMuc3VjY2Vzc0NsYWltJykpLFxyXG4gICAgICAgICAgdGhpcy5zdWJtaXRSZXN1bHQuaXNDbG9zZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHRoaXMuc3VibWl0UmVzdWx0KTtcclxuICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgICAgICB0aGlzLnRhc2tTZXJ2aWNlLmVycm9yKGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVuQ2xhaW1TdWJtaXQoKSB7XHJcbiAgICBpZiAodGhpcy5jb21tZW50Lmxlbmd0aCA+IDMwMCkge1xyXG4gICAgICB0aGlzLm5vdGlmeS53YXJuaW5nKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ3Rhc2suY29tbWVudFRvb0xvbmcnKSk7XHJcbiAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiBmYWxzZSwgaXNDbG9zZTogZmFsc2UgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnRhc2tTZXJ2aWNlLnVuQ2xhaW0odGhpcy53b3JrSXRlbUlkLCB0aGlzLmNvbW1lbnQpLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5ub3RpZnkuc3VjY2Vzcyh0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCdjdWVXb3Jkcy5zdWNjZXNzVW5DbGFpbScpKSxcclxuICAgICAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHRoaXMuc3VibWl0UmVzdWx0KTtcclxuICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgICAgICB0aGlzLnRhc2tTZXJ2aWNlLmVycm9yKGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJldHJpZXZlU3VibWl0KCkge1xyXG4gICAgaWYgKHRoaXMuY29tbWVudC5sZW5ndGggPiAzMDApIHtcclxuICAgICAgdGhpcy5ub3RpZnkud2FybmluZyh0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCd0YXNrLmNvbW1lbnRUb29Mb25nJykpO1xyXG4gICAgICB0aGlzLnN1YmplY3QubmV4dCh7IHJlc3VsdDogZmFsc2UsIGlzQ2xvc2U6IGZhbHNlIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgcmV0cmlldmVDb250ZXh0ID0ge1xyXG4gICAgICAgIHdvcmtJdGVtSWQ6IHRoaXMud29ya0l0ZW1JZCxcclxuICAgICAgICBjb21tZW50OiB0aGlzLmNvbW1lbnRcclxuICAgICAgfTtcclxuICAgICAgdGhpcy50YXNrU2VydmljZS5yZXRyaWV2ZShyZXRyaWV2ZUNvbnRleHQpLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5ub3RpZnkuc3VjY2Vzcyh0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCdjdWVXb3Jkcy5zdWNjZXNzUmV0cmlldmUnKSk7XHJcbiAgICAgICAgdGhpcy5zdWJqZWN0Lm5leHQodGhpcy5zdWJtaXRSZXN1bHQpO1xyXG4gICAgICB9LCAoZXJyb3IpID0+IHtcclxuICAgICAgICB0aGlzLnN1YmplY3QubmV4dCh7IHJlc3VsdDogZmFsc2UsIGlzQ2xvc2U6IGZhbHNlIH0pO1xyXG4gICAgICAgIHRoaXMudGFza1NlcnZpY2UuZXJyb3IoZXJyb3IpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgdHJhbnNmZXJTdWJtaXQoKSB7XHJcbiAgICBpZiAodGhpcy5jb21tZW50Lmxlbmd0aCA+IDMwMCkge1xyXG4gICAgICB0aGlzLm5vdGlmeS53YXJuaW5nKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ3Rhc2suY29tbWVudFRvb0xvbmcnKSk7XHJcbiAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiBmYWxzZSwgaXNDbG9zZTogZmFsc2UgfSk7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWRVc2Vycy5sZW5ndGggPT09IDApIHtcclxuICAgICAgdGhpcy5ub3RpZnkud2FybmluZyh0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCd0YXNrLnNlbGVjdFBsYWNlaG9sZGVyJykgKyB0aGlzLnNlbGVjdFVzZXJUZXh0KTtcclxuICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB7XHJcbiAgICAgICAgd29ya0l0ZW1JZDogdGhpcy53b3JrSXRlbUlkLFxyXG4gICAgICAgIGFzc2lnbmVlOiB0aGlzLnNlbGVjdGVkVXNlcnNbMF0sXHJcbiAgICAgICAgY29tbWVudDogdGhpcy5jb21tZW50LFxyXG4gICAgICAgIGFkZGVuZHVtOiB0aGlzLmFkZGVuZHVtXHJcbiAgICAgIH07XHJcbiAgICAgIHRoaXMuc3VibWl0RGlzYWJsZSA9IHRydWU7IC8vIOemgeeUqOaPkOS6pOaMiemSrlxyXG4gICAgICB0aGlzLnRhc2tTZXJ2aWNlLnRyYW5zZmVyKGNvbnRleHQpLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5ub3RpZnkuc3VjY2Vzcyh0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCdzdGF0aWMudHJhbnNmZXIuc3VjY2Vzc1RyYW5zZmVyJykpO1xyXG4gICAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHRoaXMuc3VibWl0UmVzdWx0KTtcclxuICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgICAgICB0aGlzLnRhc2tTZXJ2aWNlLmVycm9yKGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNvbW1lbnRTdWJtaXQoKSB7IC8vIOivhOiuulxyXG4gICAgaWYgKCF0aGlzLmNvbW1lbnQgfHwgdGhpcy5jb21tZW50Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICB0aGlzLm5vdGlmeS53YXJuaW5nKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ2N1ZVdvcmRzLmlucHV0T3BpbmlvbicpKTtcclxuICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5jb21tZW50Lmxlbmd0aCA+IDMwMCkge1xyXG4gICAgICB0aGlzLm5vdGlmeS53YXJuaW5nKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ3Rhc2suY29tbWVudFRvb0xvbmcnKSk7XHJcbiAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiBmYWxzZSwgaXNDbG9zZTogZmFsc2UgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBjb250ZXh0ID0ge1xyXG4gICAgICAgIHdvcmtJdGVtSWQ6IHRoaXMud29ya0l0ZW1JZCxcclxuICAgICAgICBjb21tZW50OiB0aGlzLmNvbW1lbnQsXHJcbiAgICAgICAgYWRkZW5kdW06IHRoaXMuYWRkZW5kdW1cclxuICAgICAgfTtcclxuICAgICAgdGhpcy50YXNrU2VydmljZS5jb21tZW50KGNvbnRleHQpLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5ub3RpZnkuc3VjY2Vzcyh0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCdzdGF0aWMuY29tbWVudC5zdWNjZXNzQ29tbWVudCcpKTtcclxuICAgICAgICB0aGlzLnN1Ym1pdFJlc3VsdC5pc0Nsb3NlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zdWJqZWN0Lm5leHQodGhpcy5zdWJtaXRSZXN1bHQpO1xyXG4gICAgICB9LCAoZXJyb3IpID0+IHtcclxuICAgICAgICB0aGlzLnN1YmplY3QubmV4dCh7IHJlc3VsdDogZmFsc2UsIGlzQ2xvc2U6IGZhbHNlIH0pO1xyXG4gICAgICAgIHRoaXMudGFza1NlcnZpY2UuZXJyb3IoZXJyb3IpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5jb21tZW50ID0gJyc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZFNpZ25Gcm9udFN1Ym1pdCgpIHtcclxuICAgIGlmICh0aGlzLmNvbW1lbnQubGVuZ3RoID4gMzAwKSB7XHJcbiAgICAgIHRoaXMubm90aWZ5Lndhcm5pbmcodGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgndGFzay5jb21tZW50VG9vTG9uZycpKTtcclxuICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RlZFVzZXJzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICB0aGlzLm5vdGlmeS53YXJuaW5nKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ3Rhc2suc2VsZWN0UGxhY2Vob2xkZXInKSArIHRoaXMuc2VsZWN0VXNlclRleHQpO1xyXG4gICAgICB0aGlzLnN1YmplY3QubmV4dCh7IHJlc3VsdDogZmFsc2UsIGlzQ2xvc2U6IGZhbHNlIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgY29udGV4dCA9IHtcclxuICAgICAgICB3b3JrSXRlbUlkOiB0aGlzLndvcmtJdGVtSWQsXHJcbiAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbkVudGl0eS5jb2RlLFxyXG4gICAgICAgIGFzc2lnbmVlczogdGhpcy5zZWxlY3RlZFVzZXJzLFxyXG4gICAgICAgIGNvbW1lbnQ6IHRoaXMuY29tbWVudCxcclxuICAgICAgICBhZGRlbmR1bTogdGhpcy5hZGRlbmR1bVxyXG4gICAgICB9O1xyXG4gICAgICB0aGlzLnN1Ym1pdERpc2FibGUgPSB0cnVlOyAvLyDnpoHnlKjmj5DkuqTmjInpkq5cclxuICAgICAgdGhpcy50YXNrU2VydmljZS5hZGRTaWduKGNvbnRleHQpLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5ub3RpZnkuc3VjY2Vzcyh0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCdjdWVXb3Jkcy5zdWNjZXNzJykpO1xyXG4gICAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHRoaXMuc3VibWl0UmVzdWx0KTtcclxuICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgICAgICB0aGlzLnRhc2tTZXJ2aWNlLmVycm9yKGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZFNpZ25TdWJtaXQoKSB7Ly8g5Yqg562+5o+Q5LqkXHJcbiAgICBpZiAodGhpcy5jb21tZW50Lmxlbmd0aCA+IDMwMCkge1xyXG4gICAgICB0aGlzLm5vdGlmeS53YXJuaW5nKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ3Rhc2suY29tbWVudFRvb0xvbmcnKSk7XHJcbiAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiBmYWxzZSwgaXNDbG9zZTogZmFsc2UgfSk7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWRVc2Vycy5sZW5ndGggPT09IDApIHtcclxuICAgICAgdGhpcy5ub3RpZnkud2FybmluZyh0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCd0YXNrLnNlbGVjdFBsYWNlaG9sZGVyJykgKyB0aGlzLnNlbGVjdFVzZXJUZXh0KTtcclxuICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxldCBwYXlsb2FkOiBBZGRTaWduUGF5bG9hZCA9IHtcclxuICAgICAgICB3b3JrSXRlbUlkOiB0aGlzLndvcmtJdGVtSWQsXHJcbiAgICAgICAgY29tbWVudDogdGhpcy5jb21tZW50LFxyXG4gICAgICAgIGNvbmNsdXNpb25WYWx1ZTogXCJQYXNzXCIsXHJcbiAgICAgICAgc2lnbkFzc2lnbmVlczogdGhpcy5zZWxlY3RlZFVzZXJzLFxyXG4gICAgICAgIGFjdGlvbkNvZGU6IFwiQWRkU2lnbkJlaGluZFwiLFxyXG4gICAgICAgIG11bHRpSW5zdGFuY2VUeXBlOiB0aGlzLmFkZFNpZ24uc2hvd011bHRpSW5zdGFuY2VUeXBlID8gdGhpcy5hZGRTaWduLmN1ck11bHRpSW5zdFR5cGUgOiB0aGlzLmFkZFNpZ24ub3JpZ2luTXVsdGlJbnN0VHlwZSxcclxuICAgICAgICBjb3VudGVyU2lnblJ1bGU6ICdhbGxQYXNzJyxcclxuICAgICAgICBjb21wbGV0ZWRSdWxlOiAnYWxsJyxcclxuICAgICAgICBhbGxvd1NpZ25Ub1NpZ246IHRoaXMuYWRkU2lnbi5hbGxvd1NpZ25Ub1NJZ24sXHJcbiAgICAgICAgYWN0aXZpdHlOYW1lOiAnJyxcclxuICAgICAgICBhZGRlbmR1bTogdGhpcy5hZGRlbmR1bVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgbG9hZCA9IHRoaXMubG9hZGluZ1NlcnZpY2Uuc2hvdygpO1xyXG4gICAgICB0aGlzLnRhc2tTZXJ2aWNlLmFkaG9jQXNzaWduZWUocGF5bG9hZCkuc3Vic2NyaWJlKHJlID0+IHtcclxuICAgICAgICB0aGlzLm5vdGlmeS5zdWNjZXNzKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ2N1ZVdvcmRzLnN1Y2Nlc3MnKSk7XHJcbiAgICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IHRydWUsIGlzQ2xvc2U6IHRydWUgfSk7XHJcbiAgICAgICAgbG9hZC5jbG9zZSgpO1xyXG4gICAgICB9LCBlcnJvciA9PiB7XHJcbiAgICAgICAgbG9hZC5jbG9zZSgpO1xyXG4gICAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiBmYWxzZSwgaXNDbG9zZTogZmFsc2UgfSk7XHJcbiAgICAgICAgdGhpcy50YXNrU2VydmljZS5lcnJvcihlcnJvcik7XHJcbiAgICAgIH0pXHJcblxyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVhZFN1Ym1pdCgpIHsvL+W3sumYheaPkOS6pFxyXG4gICAgaWYgKHRoaXMuY29tbWVudC5sZW5ndGggPiAzMDApIHtcclxuICAgICAgdGhpcy5ub3RpZnkud2FybmluZyh0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCd0YXNrLmNvbW1lbnRUb29Mb25nJykpO1xyXG4gICAgICB0aGlzLnN1YmplY3QubmV4dCh7IHJlc3VsdDogZmFsc2UsIGlzQ2xvc2U6IGZhbHNlIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgY29udGV4dDogV29ya0l0ZW1FeGVjdXRlUGFyYW0gPSB7XHJcbiAgICAgICAgd29ya0l0ZW1JZDogdGhpcy53b3JrSXRlbUlkLFxyXG4gICAgICAgIGNvbW1lbnQ6IHRoaXMuY29tbWVudCxcclxuICAgICAgICBhZGRlbmR1bTogdGhpcy5hZGRlbmR1bSxcclxuICAgICAgICBoaWRlQ29tbWVudDogdGhpcy5oaWRlQ29tbWVudFxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMudGFza1NlcnZpY2UucmVhZFRhc2soY29udGV4dCkuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICB0aGlzLm5vdGlmeS5zdWNjZXNzKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ2N1ZVdvcmRzLnN1Y2Nlc3MnKSk7XHJcbiAgICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IHRydWUsIGlzQ2xvc2U6IHRydWUgfSk7XHJcbiAgICAgIH0sIGVycm9yID0+IHtcclxuICAgICAgICB0aGlzLnRhc2tTZXJ2aWNlLmVycm9yKGVycm9yKTtcclxuICAgICAgICB0aGlzLnN1YmplY3QubmV4dCh7IHJlc3VsdDogZmFsc2UsIGlzQ2xvc2U6IGZhbHNlIH0pO1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIHByaXZhdGUgbm90aWZ5U3VibWl0KCkgey8v55+l5Lya5o+Q5LqkXHJcbiAgICBpZiAodGhpcy5jb21tZW50Lmxlbmd0aCA+IDMwMCkge1xyXG4gICAgICB0aGlzLm5vdGlmeS53YXJuaW5nKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ3Rhc2suY29tbWVudFRvb0xvbmcnKSk7XHJcbiAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiBmYWxzZSwgaXNDbG9zZTogZmFsc2UgfSk7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWRVc2Vycy5sZW5ndGggPT09IDApIHtcclxuICAgICAgdGhpcy5ub3RpZnkud2FybmluZyh0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCd0YXNrLnNlbGVjdFBsYWNlaG9sZGVyJykgKyB0aGlzLnNlbGVjdFVzZXJUZXh0KTtcclxuICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGNvbnRleHQ6IENvdW50ZXJTaWduUGFyYW0gPSB7XHJcbiAgICAgICAgd29ya0l0ZW1JZDogdGhpcy53b3JrSXRlbUlkLFxyXG4gICAgICAgIGNvbW1lbnQ6IHRoaXMuY29tbWVudCxcclxuICAgICAgICBhZGRlbmR1bTogdGhpcy5hZGRlbmR1bSxcclxuICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uRW50aXR5LmNvZGUsXHJcbiAgICAgICAgYXNzaWduZWVzOiB0aGlzLnNlbGVjdGVkVXNlcnMsXHJcbiAgICAgIH07XHJcbiAgICAgIHRoaXMudGFza1NlcnZpY2UuYWRkU2lnbihjb250ZXh0KS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMubm90aWZ5LnN1Y2Nlc3ModGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgnY3VlV29yZHMuc3VjY2VzcycpKTtcclxuICAgICAgICB0aGlzLnN1YmplY3QubmV4dCh7IHJlc3VsdDogdHJ1ZSwgaXNDbG9zZTogZmFsc2UgfSk7XHJcbiAgICAgIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiBmYWxzZSwgaXNDbG9zZTogZmFsc2UgfSk7XHJcbiAgICAgICAgdGhpcy50YXNrU2VydmljZS5lcnJvcihlcnJvcik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWCrOWKnuaPkOS6pFxyXG4gICAqL1xyXG4gIHByaXZhdGUgdXJnZUhhbmRsZVN1Ym1pdCgpIHtcclxuICAgIGlmICh0aGlzLmNvbW1lbnQubGVuZ3RoID4gMzAwKSB7XHJcbiAgICAgIHRoaXMubm90aWZ5Lndhcm5pbmcodGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgndGFzay5jb21tZW50VG9vTG9uZycpKTtcclxuICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgIH0gZWxzZSBpZiAoIXRoaXMudXJnZUhhbmRsZVJlc3BvbnNlLnVyZ2VVc2VycyB8fCAhdGhpcy51cmdlSGFuZGxlUmVzcG9uc2UudXJnZVVzZXJzLmxlbmd0aCkgey8v5rKh5pyJ56ym5ZCI5p2h5Lu255qE5YKs5Yqe55So5oi3XHJcbiAgICAgIHRoaXMubm90aWZ5Lndhcm5pbmcodGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgndGFzay5ub1VyZ2VVc2VycycpKTtcclxuICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgIH0gZWxzZSBpZiAoIXRoaXMuYXNzaWduSW5mb3NbMF0uYXNzaWduZWVzLmxlbmd0aCkgey8v5rKh5pyJ6YCJ5Lq6XHJcbiAgICAgIHRoaXMubm90aWZ5Lndhcm5pbmcodGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgndGFzay5zZWxlY3RQbGFjZWhvbGRlcicpICsgdGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgndGFzay5yZWNlaXZlcicpKTtcclxuICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgIH0gZWxzZSBpZiAoIXRoaXMudXJnZUhhbmRsZUNvbXBvbmVudC51cmdlTWVzc2FnZVN1YmplY3QpIHtcclxuICAgICAgdGhpcy5ub3RpZnkud2FybmluZyh0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCd0YXNrLm5vVXJnZVN1YmplY3QnKSk7XHJcbiAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiBmYWxzZSwgaXNDbG9zZTogZmFsc2UgfSk7XHJcbiAgICB9IGVsc2UgaWYgKCF0aGlzLnVyZ2VIYW5kbGVDb21wb25lbnQudXJnZU1lc3NhZ2VDb250ZW50KSB7XHJcbiAgICAgIHRoaXMubm90aWZ5Lndhcm5pbmcodGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgndGFzay5ub1VyZ2VDb250ZW50JykpO1xyXG4gICAgICB0aGlzLnN1YmplY3QubmV4dCh7IHJlc3VsdDogZmFsc2UsIGlzQ2xvc2U6IGZhbHNlIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IGNvbnRleHQgPSBuZXcgVXJnZUhhbmRsZUNvbnRleHQoKTtcclxuICAgICAgY29udGV4dC5wcm9jSW5zdElkID0gdGhpcy5wcm9jZXNzSW5zdGFuY2VJZDtcclxuICAgICAgY29udGV4dC51cmdlVXNlcnMgPSB0aGlzLnVyZ2VIYW5kbGVSZXNwb25zZS51cmdlVXNlcnMuZmlsdGVyKGEgPT4gdGhpcy5hc3NpZ25JbmZvc1swXS5hc3NpZ25lZXMuc29tZShiID0+IGIuaWQgPT0gYS5pZCkpO1xyXG4gICAgICBjb250ZXh0LnVyZ2VNZXNzYWdlU3ViamVjdCA9IHRoaXMudXJnZUhhbmRsZUNvbXBvbmVudC51cmdlTWVzc2FnZVN1YmplY3Q7XHJcbiAgICAgIGNvbnRleHQudXJnZU1lc3NhZ2VDb250ZW50ID0gdGhpcy51cmdlSGFuZGxlQ29tcG9uZW50LnVyZ2VNZXNzYWdlQ29udGVudDtcclxuICAgICAgY29udGV4dC5hZGRSZW1pbmRlciA9IHRoaXMuYWRkUmVtaW5kZXI7XHJcbiAgICAgIGNvbnN0IGxvYWQgPSB0aGlzLmxvYWRpbmdTZXJ2aWNlLnNob3coKTtcclxuICAgICAgdGhpcy50YXNrU2VydmljZS51cmdlSGFuZGxlKGNvbnRleHQpLnN1YnNjcmliZShyZSA9PiB7XHJcbiAgICAgICAgdGhpcy5ub3RpZnkuc3VjY2Vzcyh0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCdjdWVXb3Jkcy5zdWNjZXNzJykpO1xyXG4gICAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiB0cnVlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgICAgICBsb2FkLmNsb3NlKCk7XHJcbiAgICAgIH0sIGVycm9yID0+IHtcclxuICAgICAgICBsb2FkLmNsb3NlKCk7XHJcbiAgICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgICAgICB0aGlzLnRhc2tTZXJ2aWNlLmVycm9yKGVycm9yKTtcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlj5bmtojlvoHor6Lmj5DkuqRcclxuICAgKi9cclxuICBwcml2YXRlIGNhbmNlbENvbnN1bHRTdWJtaXQoKSB7XHJcbiAgICBsZXQgY29udGV4dCA9IG5ldyBXb3JrSXRlbUV4ZWN1dGVQYXJhbSgpO1xyXG4gICAgY29udGV4dC53b3JrSXRlbUlkID0gdGhpcy53b3JrSXRlbUlkO1xyXG4gICAgY29udGV4dC5jb21tZW50ID0gdGhpcy5jb21tZW50O1xyXG4gICAgY29udGV4dC5hZGRlbmR1bSA9IHRoaXMuYWRkZW5kdW07XHJcbiAgICBjb25zdCBsb2FkID0gdGhpcy5sb2FkaW5nU2VydmljZS5zaG93KCk7XHJcbiAgICB0aGlzLnRhc2tTZXJ2aWNlLmNhbmNlbENvbnN1bHQoY29udGV4dCkuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgbG9hZC5jbG9zZSgpO1xyXG4gICAgICB0aGlzLm5vdGlmeS5zdWNjZXNzKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ2N1ZVdvcmRzLnN1Y2Nlc3MnKSk7XHJcbiAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiB0cnVlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgIH0sIGVycm9yID0+IHtcclxuICAgICAgbG9hZC5jbG9zZSgpO1xyXG4gICAgICB0aGlzLnN1YmplY3QubmV4dCh7IHJlc3VsdDogZmFsc2UsIGlzQ2xvc2U6IGZhbHNlIH0pO1xyXG4gICAgICB0aGlzLnRhc2tTZXJ2aWNlLmVycm9yKGVycm9yKTtcclxuICAgIH0pXHJcblxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjb21wbGV0ZVN1Ym1pdCgpIHsvLyDpgJrov4fjgIHpqbPlm57jgIHlhbbku5bnrKzkuInmlrnliqjkvZxcclxuICAgIGNvbnN0IGNvbnRleHQ6IENvbXBsZXRlQ29udGV4dCA9IHtcclxuICAgICAgd29ya0l0ZW1JZDogdGhpcy53b3JrSXRlbUlkLFxyXG4gICAgICBjb25jbHVzaW9uVmFsdWU6IHRoaXMuYWN0aW9uRW50aXR5LmNvZGUsXHJcbiAgICAgIGNvbW1lbnQ6IHRoaXMuY29tbWVudCxcclxuICAgICAgc2lnbkFzc2lnbmVlczogdGhpcy5zZWxlY3RlZFVzZXJzLFxyXG4gICAgICBuZXh0Rmxvd05vZGVzOiBbXSxcclxuICAgICAgYWRkZW5kdW06IHRoaXMuYWRkZW5kdW0sXHJcbiAgICAgIC8v5Yqo5oCB6amz5Zue6KeE5YiZXHJcbiAgICAgIGR5bmFtaWNCYWNrV2FyZFJ1bGU6IHRoaXMuc2hvd0JhY2tXYXJkQ29uZmlnLmR5bmFtaWNCYWNrV2FyZFJ1bGVBYmxlID8gKHRoaXMuc2hvd0JhY2tXYXJkQ29uZmlnLmVuYWJsZSA/ICdiYWNrVG9UaGlzTm9kZScgOiAnc2VxdWVuY2UnKSA6ICcnXHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChjb250ZXh0LnNpZ25Bc3NpZ25lZXMubGVuZ3RoIHx8ICF0aGlzLnJlc3BvbnNlIHx8ICF0aGlzLnJlc3BvbnNlLnNpbXVsYXRpb25QYXRocy5sZW5ndGgpIHsvLyDliqDnrb4gb3Ig5Lu/55yf6L+U5Zue5Li656m677yM55u05o6l5b6A5LiL6LWwXHJcbiAgICAgIHRoaXMuY29tcGxldGVUYXNrKGNvbnRleHQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMuc2VsZWN0ZWROb2RlSWQpIHsvLyDliqDnrb7ml7bvvIzpgInmi6nkuIvkuIDnjq/oioLooqvnpoHnlKjvvIxkZXN0Tm9kZUlk5Li6dW5kZWZpbmVkXHJcbiAgICAgICAgY29uc3QgbmV4dEZsb3dOb2RlczogRmxvd05vZGVJbmZvW10gPSBbXTtcclxuICAgICAgICBjb25zdCBub2Rlczogc3RyaW5nW10gPSB0aGlzLnNlbGVjdGVkTm9kZUlkLnNwbGl0KCfvvIwnKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBjb25zdCBuZXh0Rmxvd05vZGU6IEZsb3dOb2RlSW5mbyA9IHtcclxuICAgICAgICAgICAgYWN0aXZpdHlEZWZpbml0aW9uSWQ6IG5vZGVzW2ldLFxyXG4gICAgICAgICAgICBhY3Rpdml0eURlZmluaXRpb25OYW1lOiB0aGlzLmFzc2lnbkluZm9zW2ldLmFjdGl2aXR5TmFtZSxcclxuICAgICAgICAgICAgZGVwZW5kZW5jeTogdGhpcy5hc3NpZ25JbmZvc1tpXS5kZXBlbmRlbmN5LFxyXG4gICAgICAgICAgICBzZWxlY3RlZEFzc2lnbmVlczogdGhpcy5hc3NpZ25JbmZvc1tpXS5hc3NpZ25lZUluZm8gPyB0aGlzLmFzc2lnbkluZm9zW2ldLmFzc2lnbmVlcyA6IFtdLFxyXG4gICAgICAgICAgICBhc3NpZ25lZUluZm86IG51bGwsXHJcbiAgICAgICAgICAgIHJlc29sdmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgYW5vbnltb3VzOiB0aGlzLmFzc2lnbkluZm9zW2ldLmFub255bW91cyxcclxuICAgICAgICAgICAgYW5vbnltb3VzVGV4dDogdGhpcy5hc3NpZ25JbmZvc1tpXS5hbm9ueW1vdXNUZXh0XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgLy/oioLngrnmib7kuI3liLDkurrvvIzkuJTlvILluLjmj5DnpLrml7bvvIzlubbooYznvZHlhbPmmoLkuI3lpITnkIZcclxuICAgICAgICAgIGlmICh0aGlzLnJlc3BvbnNlICYmIHRoaXMucmVzcG9uc2Uuc2ltdWxhdGlvblBhdGhzLmxlbmd0aCAmJiAhdGhpcy5yZXNwb25zZS5zaW11bGF0aW9uUGF0aHNbMF0uaWQuc3RhcnRzV2l0aCgnUGFyYWxsZWxHYXRld2F5JykpIHtcclxuICAgICAgICAgICAgaWYgKG5vZGVzLmxlbmd0aCA9PSAxICYmIG5vZGVzW2ldLnN0YXJ0c1dpdGgoJ1VzZXJBY3Rpdml0eScpICYmIHRoaXMuYXNzaWduSW5mb3NbaV0ucmVzb2x2ZWQgJiYgIXRoaXMuYXNzaWduSW5mb3NbaV0uYXNzaWduZWVJbmZvICYmICF0aGlzLmFzc2lnbkluZm9zW2ldLnNlbGVjdGVkQXNzaWduZWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHN0ciA9IHRoaXMuYXNzaWduSW5mb3NbaV0uYWN0aXZpdHlOYW1lICsgdGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgnc3RhcnRQcm9jZXNzLm5vZGUnKSArIHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ3N0YXJ0UHJvY2Vzcy5ub1VzZXInKTtcclxuICAgICAgICAgICAgICB0aGlzLm5vdGlmeS53YXJuaW5nKHN0cik7XHJcbiAgICAgICAgICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIG5leHRGbG93Tm9kZXMucHVzaChuZXh0Rmxvd05vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb250ZXh0Lm5leHRGbG93Tm9kZXMgPSBuZXh0Rmxvd05vZGVzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5kZXN0Tm9kZXMubGVuZ3RoID4gMSAmJiBjb250ZXh0Lm5leHRGbG93Tm9kZXMubGVuZ3RoIDw9IDApIHsvLyDnlKjmiLfmsqHpgInmi6not7PovazoioLngrnvvIzkuI3lhYHorrjmj5DkuqRcclxuICAgICAgICB0aGlzLm5vdGlmeS53YXJuaW5nKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ2N1ZVdvcmRzLnNlbGVjdE5vZGUnKSk7XHJcbiAgICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLmFzc2lnbkluZm9zLmZpbHRlcihpbmZvID0+IGluZm8uYXNzaWduZWVJbmZvICYmIGluZm8uYXNzaWduZWVJbmZvLnNlbGVjdEFzc2lnbmVlICYmICFpbmZvLmFzc2lnbmVlcy5sZW5ndGgpLmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMubm90aWZ5Lndhcm5pbmcodGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgndGFzay5zZWxlY3RQcm9jZXNzb3InKSk7XHJcbiAgICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmNvbXBsZXRlVGFzayhjb250ZXh0KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjb21wbGV0ZVRhc2soY29tcGxldGVDb250ZXh0OiBDb21wbGV0ZUNvbnRleHQpIHtcclxuICAgIGNvbnN0IGF0dGFjaG1lbnROZWNlc3NhcnkgPSB0aGlzLmFjdGlvbkVudGl0eS5wYXJhbWV0ZXJzLmZpbmQoZW50aXR5ID0+IGVudGl0eS5jb2RlID09PSAnQXR0YWNobWVudE5lY2Vzc2FyeScpO1xyXG4gICAgY29uc3QgY2VydGlmaWNhdGlvbk5lY2Vzc2FyeSA9IHRoaXMuYWN0aW9uRW50aXR5LnBhcmFtZXRlcnMuZmluZChlbnRpdHkgPT4gZW50aXR5LmNvZGUgPT09ICdDZXJ0aWZpY2F0aW9uTmVjZXNzYXJ5Jyk7XHJcbiAgICBjb25zdCBjb21tZW50TmVjZXNzYXJ5ID0gdGhpcy5hY3Rpb25FbnRpdHkucGFyYW1ldGVycy5maW5kKGVudGl0eSA9PiBlbnRpdHkuY29kZSA9PT0gJ0NvbW1lbnROZWNlc3NhcnknKTtcclxuICAgIGlmIChhdHRhY2htZW50TmVjZXNzYXJ5ICYmIGF0dGFjaG1lbnROZWNlc3NhcnkudmFsdWUgPT09ICd0cnVlJyAmJiAoIWNvbXBsZXRlQ29udGV4dC5hZGRlbmR1bS5hdHRhY2htZW50IHx8IGNvbXBsZXRlQ29udGV4dC5hZGRlbmR1bS5hdHRhY2htZW50ID09PSAnW10nKSkge1xyXG4gICAgICB0aGlzLm5vdGlmeS53YXJuaW5nKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ2N1ZVdvcmRzLmF0dGFjaG1lbnRzUmVxdWlyZWQnKSk7XHJcbiAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiBmYWxzZSwgaXNDbG9zZTogZmFsc2UgfSk7XHJcbiAgICB9IGVsc2UgaWYgKGNvbW1lbnROZWNlc3NhcnkgJiYgY29tbWVudE5lY2Vzc2FyeS52YWx1ZSA9PT0gJ3RydWUnICYmICFjb21wbGV0ZUNvbnRleHQuY29tbWVudCkge1xyXG4gICAgICB0aGlzLm5vdGlmeS53YXJuaW5nKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ2N1ZVdvcmRzLmlucHV0T3BpbmlvbicpKTtcclxuICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IGZhbHNlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5jb21tZW50Lmxlbmd0aCA+IDMwMCkge1xyXG4gICAgICB0aGlzLm5vdGlmeS53YXJuaW5nKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ3Rhc2suY29tbWVudFRvb0xvbmcnKSk7XHJcbiAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiBmYWxzZSwgaXNDbG9zZTogZmFsc2UgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoY2VydGlmaWNhdGlvbk5lY2Vzc2FyeSAmJiBjZXJ0aWZpY2F0aW9uTmVjZXNzYXJ5LnZhbHVlID09PSAndHJ1ZScpIHtcclxuICAgICAgICB0aGlzLnZlcmlmeVNpZ25hdHVyZSgoKSA9PiB7XHJcbiAgICAgICAgICBjb21wbGV0ZUNvbnRleHQudmVyaWZ5U2lnbmVkID0gdGhpcy52ZXJpZnlTaWduZWQ7XHJcbiAgICAgICAgICB0aGlzLnRhc2tDb21wbGV0ZShjb21wbGV0ZUNvbnRleHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IG1zZyA9IFt0aGlzLndvcmtJdGVtSWRdO1xyXG4gICAgICAgIGdzcENBLmdldFNpZ25lZE1zZyhtc2cpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMudGFza0NvbXBsZXRlKGNvbXBsZXRlQ29udGV4dCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZXhlY3V0ZUZvcm1BY3Rpb25zQWZ0ZXJDb21wbGV0ZVRhc2soaGFuZGVyOiBhbnkpIHtcclxuICAgIGNvbnN0IHBvc3RBY3Rpb25zID0gdGhpcy5iaWxsTWV0aG9kQ29uZmlncy5maWx0ZXIoYWN0aW9uID0+IGFjdGlvbi5hY3Rpb24gPT09IHRoaXMuYWN0aW9uRW50aXR5LmNvZGUgJiYgYWN0aW9uLmV4ZWN1dGlvblRpbWUgPT09ICdQb3N0Jykuc29ydCgoeCwgeSkgPT4geC5zb3J0T3JkZXIgLSB5LnNvcnRPcmRlcik7XHJcbiAgICAvLyDlpoLmnpzooajljZXms6jlhozkuobkuovku7ZcclxuICAgIGlmICh0aGlzLmlmUmVnaXN0ZXJlZCAmJiB0aGlzLmZvcm1PYmplY3QgJiYgcG9zdEFjdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuZXhlY3V0ZVBvc3RGb3JtQWN0aW9ucyhwb3N0QWN0aW9ucywgaGFuZGVyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGhhbmRlcigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBleGVjdXRlUG9zdEZvcm1BY3Rpb25zKGZvcm1BY3Rpb25zOiBCaWxsTWV0aG9kQ29uZmlnW10sIGhhbmRlcjogYW55KSB7XHJcbiAgICBpZiAoZm9ybUFjdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICB0aGlzLm1lc3NhZ2VTdWJqZWN0ID0gbmV3IFN1YmplY3Q8YW55PigpO1xyXG4gICAgICB0aGlzLm1lc3NhZ2VTdWJqZWN0LnN1YnNjcmliZSgocmU6IGFueSkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlLmRhdGEpO1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSByZS5kYXRhLmRhdGE7XHJcbiAgICAgICAgaWYgKGRhdGEucmVzdWx0ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICB0aGlzLmV4ZWN1dGVQb3N0Rm9ybUFjdGlvbnMoZm9ybUFjdGlvbnMsIGhhbmRlcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiBmYWxzZSwgaXNDbG9zZTogZmFsc2UgfSk7IC8vIOS7u+WKoeWKnueQhueVjOmdouS4jeWFs+mXrVxyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCflrqHmibnlkI7ooajljZXmk43kvZzmiafooYzlpLHotKXvvIEnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICAvLyDmiafooYzooajljZXliqjkvZxcclxuICAgICAgY29uc3QgZm9ybUFjdGlvbiA9IGZvcm1BY3Rpb25zLnNoaWZ0KCk7XHJcbiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UodGhpcy53b3JrSXRlbUlkLCBmb3JtQWN0aW9uKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGhhbmRlcigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy/luK7liqnpgInkurrlkI5cclxuICBhZnRlckNvbmZpcm1Gb3JUcmFuc2ZlcihkYXRhOiBBc3NpZ25lZVtdKSB7XHJcbiAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkVXNlcnMgPSBkYXRhLm1hcCh1c2VyID0+IHVzZXIuaWQpO1xyXG4gICAgICB0aGlzLnNlbGVjdGVkVXNlck5nTW9kdWxlID0gZGF0YS5tYXAodXNlciA9PiB1c2VyLm5hbWUpLmpvaW4oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRVc2VycyA9IFtdO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuYWN0aW9uRW50aXR5LmNvZGUgPT0gJ0FkZFNpZ24nICYmIHRoaXMuYWRkU2lnbi5vcmlnaW5NdWx0aUluc3RUeXBlID09IE11bHRpSW5zdGFuY2VUeXBlLlByZWVtcHQudG9TdHJpbmcoKSAmJiB0aGlzLnNlbGVjdGVkVXNlcnMubGVuZ3RoID4gMSkge1xyXG4gICAgICB0aGlzLmFkZFNpZ24uc2hvd011bHRpSW5zdGFuY2VUeXBlID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYWRkU2lnbi5zaG93TXVsdGlJbnN0YW5jZVR5cGUgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNhbmNlbCgpOiBPYnNlcnZhYmxlPFN1Ym1pdFJlc3VsdD4ge1xyXG4gICAgdGhpcy5zdWJtaXRSZXN1bHQuaXNDbG9zZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5zdWJqZWN0Lm5leHQodGhpcy5zdWJtaXRSZXN1bHQpO1xyXG4gICAgcmV0dXJuIHRoaXMuc3ViamVjdC5hc09ic2VydmFibGUoKTtcclxuICB9XHJcblxyXG4gIGdldFN1YmplY3QoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8g5LiL5LiA546v6IqC6YCJ5oup5ZCO5LqL5Lu2XHJcbiAgc2VsZWN0Tm9kZUNoYW5nZShkYXRhOiBhbnkpIHtcclxuICAgIHRoaXMuc2VsZWN0ZWROb2RlSWQgPSBkYXRhICYmIGRhdGEuZGF0YSAmJiBkYXRhLmRhdGEuaWQ7XHJcbiAgICBpZiAodGhpcy5yZXNwb25zZS5zaW11bGF0aW9uUGF0aHNbZGF0YS5pbmRleF0ubm9kZUluZm9MaXN0LmV2ZXJ5KG5vZGUgPT4gbm9kZS5yZXNvbHZlZCA9PT0gdHJ1ZSkpIHsvLyDlt7LpooTop6PmnpDlj4LkuI7ogIVcclxuICAgICAgdGhpcy5zZXRBc3NpZ25JbmZvKHRoaXMucmVzcG9uc2Uuc2ltdWxhdGlvblBhdGhzW2RhdGEuaW5kZXhdLm5vZGVJbmZvTGlzdCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBub2RlSWRzID0gdGhpcy5zZWxlY3RlZE5vZGVJZC5zcGxpdCgn77yMJykubWFwKG5vZGUgPT4gYFwiJHtub2RlfVwiYCkuam9pbigpOyAvLyDms6jmhI/kuIDkuKrkuK3mlofpgJflj7fkuIDkuKroi7HmlofpgJflj7dcclxuICAgICAgY29uc3QgbG9hZCA9IHRoaXMubG9hZGluZ1NlcnZpY2Uuc2hvdygpO1xyXG4gICAgICB0aGlzLnRhc2tTZXJ2aWNlLmdldFNpbXVsYXRpb25Bc3NpZ25lZUluZm8odGhpcy53b3JrSXRlbUlkLCBub2RlSWRzKS5zdWJzY3JpYmUoKG5vZGVJbmZvTGlzdDogRmxvd05vZGVJbmZvW10pID0+IHtcclxuICAgICAgICBsb2FkLmNsb3NlKCk7XHJcbiAgICAgICAgdGhpcy5zZXRBc3NpZ25JbmZvKG5vZGVJbmZvTGlzdCk7XHJcbiAgICAgIH0sIGVycm9yID0+IHtcclxuICAgICAgICBsb2FkLmNsb3NlKCk7XHJcbiAgICAgICAgdGhpcy50YXNrU2VydmljZS5lcnJvcihlcnJvcik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5LiL5LiA546v6IqC5riF56m65ZCO5LqL5Lu2XHJcbiAgc2VsZWN0Tm9kZUNsZWFyKCkge1xyXG4gICAgdGhpcy5zZWxlY3RlZE5vZGVJZCA9IG51bGw7XHJcbiAgICB0aGlzLmFzc2lnbkluZm9zID0gW3tcclxuICAgICAgc2VsZWN0ZWRBc3NpZ25lZXM6IFtdLFxyXG4gICAgICBhc3NpZ25lZUluZm86IG51bGwsXHJcbiAgICAgIGFzc2lnbmVlczogW10sXHJcbiAgICAgIGFjdGl2aXR5TmFtZTogJycsXHJcbiAgICAgIGRlcGVuZGVuY3k6ICcnLFxyXG4gICAgICBhbm9ueW1vdXM6IGZhbHNlLFxyXG4gICAgICBhbm9ueW1vdXNUZXh0OiAnJyxcclxuICAgICAgcmVzb2x2ZWQ6IGZhbHNlLFxyXG4gICAgfV07XHJcbiAgfVxyXG5cclxuICBhZnRlckNvbmZpcm1Gb3JBc3NpZ24oZGF0YTogQXNzaWduZWVbXSwgaW5kZXg6IG51bWJlcikge1xyXG4gICAgdGhpcy5hc3NpZ25JbmZvc1tpbmRleF0uYXNzaWduZWVzID0gZGF0YTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOS4iuS8oOmZhOS7tuWQjuS6i+S7tlxyXG4gICAqL1xyXG4gIGFkZEF0dGFjaG1lbnQoZGF0YTogYW55KSB7XHJcbiAgICB0aGlzLmFkZGVuZHVtLmF0dGFjaG1lbnQgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOaJi+WGmeetvuWQjeWQjuS6i+S7tlxyXG4gICAqL1xyXG4gIGFkZFNpZ25hdHVyZShkYXRhOiBhbnkpIHtcclxuICAgIGlmIChkYXRhKSB7XHJcbiAgICAgIGNvbnN0IHNpZ25JbmZvID0ge1xyXG4gICAgICAgIGlkOiBkYXRhLFxyXG4gICAgICAgIHdhdGVyTWFya2luZzogbnVsbFxyXG4gICAgICB9O1xyXG4gICAgICB0aGlzLmFkZGVuZHVtLnNpZ25hdHVyZSA9IEpTT04uc3RyaW5naWZ5KHNpZ25JbmZvKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYWRkZW5kdW0uc2lnbmF0dXJlID0gJyc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDku6XmnI3liqHmlrnlvI/miZPlvIDnu4Tku7bml7bvvIzlt6blj7PliqDkuIpwYWRkaW5nXHJcbiAgYWRkUGFkZGluZygpIHtcclxuICAgIHRoaXMuY2xzID0gJ2YtdXRpbHMtZmlsbC1mbGV4LWNvbHVtbiBoLTEwMCBweC00IHB5LTInO1xyXG4gIH1cclxuXHJcblxyXG4gIHByaXZhdGUgc2VuZE1lc3NhZ2Uod29ya0l0ZW1JZDogc3RyaW5nLCBhY3Rpb246IEJpbGxNZXRob2RDb25maWcpIHtcclxuICAgIGlmICh0aGlzLmlmcmFtZSkge1xyXG4gICAgICBjb25zdCBpZnJhbWVXaW5kb3cgPSB0aGlzLmlmcmFtZS5uYXRpdmVFbGVtZW50LmNvbnRlbnRXaW5kb3c7XHJcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7XHJcbiAgICAgICAgdGFyZ2V0OiB3b3JrSXRlbUlkLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIGNvbW1hbmQ6IGFjdGlvbi5tZXRob2QsXHJcbiAgICAgICAgICBhcmd1bWVudHM6IGFjdGlvbi5tZXRob2RQYXJhbWV0ZXJzXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICBpZnJhbWVXaW5kb3cucG9zdE1lc3NhZ2UobWVzc2FnZSwgdGhpcy5QT1NUX01FU1NBR0VfVEFSR0VUKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcign6KGo5Y2V5bCa5pyq5Yqg6L29IScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5o+Q5Lqk5a6h5om55YmN55qE5pWw5a2X562+5ZCN5Y+K6aqM562+XHJcbiAgdmVyaWZ5U2lnbmF0dXJlKGhhbmRsZXI6IGFueSkge1xyXG4gICAgY29uc3QgdGhhdCA9IHRoaXM7XHJcbiAgICBpZiAoXHJcbiAgICAgICh3aW5kb3cgYXMgYW55KS5nc3BmcmFtZXdvcmtTZXJ2aWNlICYmXHJcbiAgICAgICh3aW5kb3cgYXMgYW55KS5nc3BmcmFtZXdvcmtTZXJ2aWNlLnJ0ZlxyXG4gICAgKSB7XHJcbiAgICAgICh3aW5kb3cgYXMgYW55KS5nc3BmcmFtZXdvcmtTZXJ2aWNlLnJ0Zi5jYUV2ZW50Lm9uKFxyXG4gICAgICAgICh3aW5kb3cgYXMgYW55KS5nc3BmcmFtZXdvcmtTZXJ2aWNlLnJ0Zi5jYUV2ZW50LnNpZ25lZE1zZ092ZXJUb2tlbigpLFxyXG4gICAgICAgICdzaWduZWRNc2dPdmVyJyxcclxuICAgICAgICBmdW5jdGlvbiBzaWduTXNnT3ZlcihzaWduZWREYXRhKSB7XHJcbiAgICAgICAgICBpZiAoc2lnbmVkRGF0YSAmJiBzaWduZWREYXRhWzBdID09PSAndHJ1ZScgJiYgc2lnbmVkRGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIOivgeS5puWvueixoVxyXG4gICAgICAgICAgICBjb25zdCBjZXJ0ID0gZ3NwQ0EuZ2V0Q3VyQ2VydCgpO1xyXG4gICAgICAgICAgICAvLyDpqoznrb7lj4LmlbBcclxuICAgICAgICAgICAgdGhhdC52ZXJpZnlTaWduZWQgPSB7XHJcbiAgICAgICAgICAgICAgLy8g6KaB6aqM6K+B55qE6K+B5LmmYmFzZTY057yW56CB55qE5a2X56ym5rWBKGNlcnRrZXkpXHJcbiAgICAgICAgICAgICAgY2VydEJhc2U2NEluZm86IGdzcENBLmdldENlcnRCYXNlNjQoY2VydCksXHJcbiAgICAgICAgICAgICAgLy8g562+5ZCN5Y6f5L+h5oGvXHJcbiAgICAgICAgICAgICAgbXNnOiBbdGhhdC53b3JrSXRlbUlkXSxcclxuICAgICAgICAgICAgICAvLyDopoHnrb7lkI3lkI7kv6Hmga9cclxuICAgICAgICAgICAgICBzaWduZWRtc2c6IHNpZ25lZERhdGFbMV1bMF0sXHJcbiAgICAgICAgICAgICAgLy8g55So5oi35L2/55So5Zy65pmv77yM55uu5YmN5pyq5L2/55So77yM5Y+v5Lul5Li656m6XHJcbiAgICAgICAgICAgICAgdXNlQ2FzZTogbnVsbCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaGFuZGxlcigpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhhdC5sb2FkaW5nU2VydmljZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICB0aGF0LnN1YmplY3QubmV4dCh7IHJlc3VsdDogZmFsc2UsIGlzQ2xvc2U6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICB0aGF0Lm5vdGlmeS5lcnJvcihzaWduZWREYXRhWzFdKTtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHNpZ25lZERhdGFbMV0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOmAmui/h+OAgemps+WbnuOAgeWFtuS7luesrOS4ieaWueWKqOS9nFxyXG4gIHRhc2tDb21wbGV0ZShjb21wbGV0ZUNvbnRleHQ6IENvbXBsZXRlQ29udGV4dCkge1xyXG4gICAgdGhpcy50YXNrU2VydmljZS5jb21wbGV0ZShjb21wbGV0ZUNvbnRleHQpLnN1YnNjcmliZSgoY3I6IENvbXBsZXRlUmVzcG9uc2UpID0+IHtcclxuICAgICAgdGhpcy5leGVjdXRlRm9ybUFjdGlvbnNBZnRlckNvbXBsZXRlVGFzaygoKSA9PiB7XHJcbiAgICAgICAgaWYgKGNyLm5lZWRJbnRlcmFjdGlvbikgey8vIOmAmui/h+WQjuaMh+a0vuWcuuaZr1xyXG4gICAgICAgICAgaWYgKHRoaXMub3JpZ2luID09IEFjdGlvbk9yaWdpbi5UYXNrQ2VudGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiB0cnVlLCBpc0Nsb3NlOiBmYWxzZSB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ViamVjdC5uZXh0KHsgcmVzdWx0OiBmYWxzZSwgaXNDbG9zZTogZmFsc2UgfSk7Ly/lhbPmjolsb2FkaW5nXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLm5vdGlmeS5pbmZvKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ2N1ZVdvcmRzLnNlbGVjdCcpXHJcbiAgICAgICAgICAgICsgJ+OAkCcgKyBjci5uZXh0Rmxvd05vZGVzWzBdLmFjdGl2aXR5RGVmaW5pdGlvbk5hbWUgKyAn44CRJ1xyXG4gICAgICAgICAgICArIHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ2N1ZVdvcmRzLnByb2Nlc3NvcicpKTtcclxuICAgICAgICAgIGxldCB0YXNrID0gbmV3IFRhc2tFbnRpdHkoKTtcclxuICAgICAgICAgIGxldCBhY3Rpb24gPSBuZXcgVGFza0FjdGlvbigpO1xyXG4gICAgICAgICAgdGFzay5zb3VyY2VJZCA9IGNyLm5leHRGbG93Tm9kZXNbMF0uYXNzaWduZWVJbmZvLndvcmtJdGVtSWQ7XHJcbiAgICAgICAgICBhY3Rpb24uY29kZSA9ICdBc3NpZ25Vc2VyJztcclxuICAgICAgICAgIGFjdGlvbi5uYW1lID0gdGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgnY3VlV29yZHMuYXNzaWduVXNlcicpO1xyXG4gICAgICAgICAgdGhpcy5oYW5kbGVyU2VydmljZS5leGVjdXRlKHRhc2ssIGFjdGlvbikuc3Vic2NyaWJlKHJlID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IHRydWUsIGlzQ2xvc2U6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAoY29tcGxldGVDb250ZXh0LmNvbmNsdXNpb25WYWx1ZSA9PT0gJ1Bhc3MnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubm90aWZ5LnN1Y2Nlc3ModGhpcy5pMThuU2VydmljZS5nZXRWYWx1ZSgnY3VlV29yZHMuc3VjY2Vzc1Bhc3MnKSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbXBsZXRlQ29udGV4dC5jb25jbHVzaW9uVmFsdWUgPT09ICdCYWNrJykge1xyXG4gICAgICAgICAgICB0aGlzLm5vdGlmeS5zdWNjZXNzKHRoaXMuaTE4blNlcnZpY2UuZ2V0VmFsdWUoJ2N1ZVdvcmRzLnN1Y2Nlc3NCYWNrJykpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5ub3RpZnkuc3VjY2Vzcyh0aGlzLmkxOG5TZXJ2aWNlLmdldFZhbHVlKCdjdWVXb3Jkcy5zdWNjZXNzJykpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5zdWJqZWN0Lm5leHQoeyByZXN1bHQ6IHRydWUsIGlzQ2xvc2U6IHRydWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0sIChlcnJvcikgPT4ge1xyXG4gICAgICB0aGlzLnN1YmplY3QubmV4dCh7IHJlc3VsdDogZmFsc2UsIGlzQ2xvc2U6IGZhbHNlIH0pO1xyXG4gICAgICB0aGlzLnRhc2tTZXJ2aWNlLmVycm9yKGVycm9yKTtcclxuICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxufVxyXG4iXX0=