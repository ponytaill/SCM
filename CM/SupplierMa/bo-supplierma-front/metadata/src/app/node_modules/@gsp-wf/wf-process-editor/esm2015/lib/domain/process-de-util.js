/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
export class ProcessDeUtil {
    constructor() { }
    /**
     * @return {?}
     */
    static GenerateElementId() {
        ++(this.generatedId);
        return '_' + this.Decimal2String(this.generatedId);
    }
    /**
     * @private
     * @param {?} a
     * @return {?}
     */
    static Decimal2String(a) {
        /** @type {?} */
        let c;
        /** @type {?} */
        let b = '';
        do {
            c = a % this.exponent, b = this.keys[c] + b, a = (a - c) / this.exponent;
        } while (a > 0);
        return b;
    }
    /**
     * 创建内码
     * @return {?}
     */
    static createNM() {
        /**
         * @return {?}
         */
        function S4() {
            return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);
        }
        return (S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4());
        // return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {
        //     const r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);
        //     return v.toString(16);
        // });
    }
    /**
     * @return {?}
     */
    getProcessDesignerRouter() {
        /** @type {?} */
        const url = 'processList';
        return url;
    }
    // 获取流程分类webapi
    /**
     * @return {?}
     */
    getFlowFormWebApi() {
        return '/api/runtime/wf/v1.0/flowForm';
    }
    // 获取参数列表webapi
    /**
     * @return {?}
     */
    getFormalParametersWebApi() {
        return '/api/runtime/wf/v1.0/formalParameter';
    }
    // 获取运行时元数据webapi
    /**
     * @return {?}
     */
    getMetaDataRUWebApi() {
        return '/api/runtime/lcm/v1.0/rt-metadatas/';
    }
    // 获取流程构件webapi
    /**
     * @return {?}
     */
    getBizComponentsWebApi() {
        return '/api/runtime/wf/v1.0/bizComponent';
    }
    // 基于流程分类获取表单定义
    /**
     * @return {?}
     */
    getExcuteFormsWebApi() {
        return '/api/runtime/wf/v1.0/excuteForm';
    }
    // 获取设计时流程定义WebAPi
    /**
     * @return {?}
     */
    getProcessDefinitionWebApi() {
        return '/api/runtime/wf/v1.0/dtProcDefs';
    }
    // 判断是否允许删除流程定义的api
    /**
     * @return {?}
     */
    getCheckExistActiveProcDefApi() {
        return '/api/runtime/wf/v1.0/procDefs/checkExistActiveProcDef';
    }
    /**
     * 获取业务活动webApi
     * @param {?} ffId
     * @return {?}
     */
    getBizActivityWebApi(ffId) {
        return `/api/runtime/wf/v1.0/bizActivity?flowFormKey=${ffId}`;
    }
    /**
     * @return {?}
     */
    getProcDefKeyWebApi() {
        return '/api/runtime/wf/v1.0/procDefs/processDefinitionKeys';
    }
    // /**
    //  * 业务活动构件webApi
    //  */
    // getBizActCptWebApi() {
    //     return '/api/runtime/wf/v1.0/BizActivities/GetComponents';
    // }
    /**
     * 发布流程api
     * @return {?}
     */
    deployWebApi() {
        return '/api/runtime/wf/v1.0/procDefs/deploy';
    }
    /**
     * 保存流程api
     * @return {?}
     */
    saveWebApi() {
        return '/api/runtime/wf/v1.0/DTProcessDefinitions/SaveBpmnModel';
    }
    /**
     * 获取审批动作webapi
     * @return {?}
     */
    getApprovalActionWebApi() {
        return '/api/runtime/wf/v1.0/approvalAction';
    }
    /**
     * 获取运行时流程定义WebAPi
     * @return {?}
     */
    getRTProcessDefinitionWebApi() {
        return '/api/runtime/wf/v1.0/procDefs';
    }
    /**
     * @param {?} data
     * @param {?} code
     * @return {?}
     */
    getValue(data, code) {
        if (!code) {
            return '';
        }
        /** @type {?} */
        let resultVal = '';
        if (code.indexOf('.') === -1) {
            resultVal = data[code];
        }
        else {
            resultVal = code.split('.').reduce((/**
             * @param {?} obj
             * @param {?} key
             * @return {?}
             */
            (obj, key) => {
                if (obj) {
                    return obj[key];
                }
                else {
                    return null;
                }
            }), data);
        }
        return resultVal;
    }
    /**
     * 转换
     * @param {?} jsonObj Object
     * @return {?}
     */
    toUpperCase(jsonObj) {
        if (typeof (jsonObj) === 'object') {
            for (const key of Object.keys(jsonObj)) {
                jsonObj[key.substring(0, 1).toUpperCase() + key.substring(1)] = jsonObj[key];
                delete (jsonObj[key]);
            }
        }
        return jsonObj;
    }
    /**
     * @param {?} jsonObj
     * @return {?}
     */
    toLowCase(jsonObj) {
        if (typeof (jsonObj) === 'object') {
            for (const key of Object.keys(jsonObj)) {
                if ((key.substring(0, 1).toLowerCase() + key.substring(1)) !== key) {
                    jsonObj[key.substring(0, 1).toLowerCase() + key.substring(1)] = jsonObj[key];
                    delete (jsonObj[key]);
                }
            }
        }
        return jsonObj;
    }
}
ProcessDeUtil.generatedId = parseInt(Date.now().toString());
ProcessDeUtil.keys = '0123456789ABCDEFGHJKLMNPQRSTUVWXYZ';
ProcessDeUtil.exponent = 34;
ProcessDeUtil.decorators = [
    { type: Injectable }
];
/** @nocollapse */
ProcessDeUtil.ctorParameters = () => [];
if (false) {
    /**
     * @type {?}
     * @private
     */
    ProcessDeUtil.generatedId;
    /**
     * @type {?}
     * @private
     */
    ProcessDeUtil.keys;
    /**
     * @type {?}
     * @private
     */
    ProcessDeUtil.exponent;
    /** @type {?} */
    ProcessDeUtil.prototype.funcId;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvY2Vzcy1kZS11dGlsLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGdzcC13Zi93Zi1wcm9jZXNzLWVkaXRvci8iLCJzb3VyY2VzIjpbImxpYi9kb21haW4vcHJvY2Vzcy1kZS11dGlsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBSTNDLE1BQU0sT0FBTyxhQUFhO0lBT3RCLGdCQUFnQixDQUFDOzs7O0lBRWpCLE1BQU0sQ0FBQyxpQkFBaUI7UUFDcEIsRUFBRSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUVyQixPQUFPLEdBQUcsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUN2RCxDQUFDOzs7Ozs7SUFFTyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQVM7O1lBQy9CLENBQVM7O1lBQ1QsQ0FBQyxHQUFHLEVBQUU7UUFDVixHQUFHO1lBQ0MsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztTQUM1RSxRQUNNLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDZCxPQUFPLENBQUMsQ0FBQztJQUNiLENBQUM7Ozs7O0lBSUQsTUFBTSxDQUFDLFFBQVE7Ozs7UUFDWCxTQUFTLEVBQUU7WUFDUCxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNFLENBQUM7UUFDRCxPQUFPLENBQUMsRUFBRSxF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Q0QsU0FBUyxDQUFDLE9BQWU7UUFDckIsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssUUFBUSxFQUFFO1lBQy9CLEtBQUssTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRTtnQkFDcEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUU7b0JBQ2hFLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUM3RSxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7aUJBQ3pCO2FBQ0o7U0FDSjtRQUNELE9BQU8sT0FBTyxDQUFDO0lBQ25CLENBQUM7O0FBeEpjLHlCQUFXLEdBQVcsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO0FBQ3RELGtCQUFJLEdBQUcsb0NBQW9DLENBQUM7QUFDNUMsc0JBQVEsR0FBRyxFQUFFLENBQUM7O1lBTmhDLFVBQVU7Ozs7Ozs7OztJQUlQLDBCQUFxRTs7Ozs7SUFDckUsbUJBQTJEOzs7OztJQUMzRCx1QkFBNkI7O0lBRTdCLCtCQUFzQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbkBJbmplY3RhYmxlKClcclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9jZXNzRGVVdGlsIHtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBnZW5lcmF0ZWRJZDogbnVtYmVyID0gcGFyc2VJbnQoRGF0ZS5ub3coKS50b1N0cmluZygpKTtcclxuICAgIHByaXZhdGUgc3RhdGljIGtleXMgPSAnMDEyMzQ1Njc4OUFCQ0RFRkdISktMTU5QUVJTVFVWV1hZWic7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBleHBvbmVudCA9IDM0O1xyXG5cclxuICAgIHB1YmxpYyBmdW5jSWQ6IHN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gICAgc3RhdGljIEdlbmVyYXRlRWxlbWVudElkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgKysodGhpcy5nZW5lcmF0ZWRJZCk7XHJcblxyXG4gICAgICAgIHJldHVybiAnXycgKyB0aGlzLkRlY2ltYWwyU3RyaW5nKHRoaXMuZ2VuZXJhdGVkSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIERlY2ltYWwyU3RyaW5nKGE6IG51bWJlcikge1xyXG4gICAgICAgIGxldCBjOiBudW1iZXI7XHJcbiAgICAgICAgbGV0IGIgPSAnJztcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIGMgPSBhICUgdGhpcy5leHBvbmVudCwgYiA9IHRoaXMua2V5c1tjXSArIGIsIGEgPSAoYSAtIGMpIC8gdGhpcy5leHBvbmVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKGEgPiAwKTtcclxuICAgICAgICByZXR1cm4gYjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5Yib5bu65YaF56CBXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjcmVhdGVOTSgpIHtcclxuICAgICAgICBmdW5jdGlvbiBTNCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICgoKDEgKyBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDApIHwgMCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChTNCgpICsgUzQoKSArICctJyArIFM0KCkgKyAnLScgKyBTNCgpICsgJy0nICsgUzQoKSArICctJyArIFM0KCkgKyBTNCgpICsgUzQoKSk7XHJcbiAgICAgICAgLy8gcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgKGMpID0+IHtcclxuICAgICAgICAvLyAgICAgY29uc3QgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDAsIHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMgfCAweDgpO1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UHJvY2Vzc0Rlc2lnbmVyUm91dGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHVybCA9ICdwcm9jZXNzTGlzdCc7XHJcbiAgICAgICAgcmV0dXJuIHVybDtcclxuICAgIH1cclxuICAgIC8vIOiOt+WPlua1geeoi+WIhuexu3dlYmFwaVxyXG4gICAgZ2V0Rmxvd0Zvcm1XZWJBcGkoKSB7XHJcbiAgICAgICAgcmV0dXJuICcvYXBpL3J1bnRpbWUvd2YvdjEuMC9mbG93Rm9ybSc7XHJcbiAgICB9XHJcbiAgICAvLyDojrflj5blj4LmlbDliJfooah3ZWJhcGlcclxuICAgIGdldEZvcm1hbFBhcmFtZXRlcnNXZWJBcGkoKSB7XHJcbiAgICAgICAgcmV0dXJuICcvYXBpL3J1bnRpbWUvd2YvdjEuMC9mb3JtYWxQYXJhbWV0ZXInO1xyXG4gICAgfVxyXG4gICAgLy8g6I635Y+W6L+Q6KGM5pe25YWD5pWw5o2ud2ViYXBpXHJcbiAgICBnZXRNZXRhRGF0YVJVV2ViQXBpKCkge1xyXG4gICAgICAgIHJldHVybiAnL2FwaS9ydW50aW1lL2xjbS92MS4wL3J0LW1ldGFkYXRhcy8nO1xyXG4gICAgfVxyXG4gICAgLy8g6I635Y+W5rWB56iL5p6E5Lu2d2ViYXBpXHJcbiAgICBnZXRCaXpDb21wb25lbnRzV2ViQXBpKCkge1xyXG4gICAgICAgIHJldHVybiAnL2FwaS9ydW50aW1lL3dmL3YxLjAvYml6Q29tcG9uZW50JztcclxuICAgIH1cclxuICAgIC8vIOWfuuS6jua1geeoi+WIhuexu+iOt+WPluihqOWNleWumuS5iVxyXG4gICAgZ2V0RXhjdXRlRm9ybXNXZWJBcGkoKSB7XHJcbiAgICAgICAgcmV0dXJuICcvYXBpL3J1bnRpbWUvd2YvdjEuMC9leGN1dGVGb3JtJztcclxuICAgIH1cclxuICAgIC8vIOiOt+WPluiuvuiuoeaXtua1geeoi+WumuS5iVdlYkFQaVxyXG4gICAgZ2V0UHJvY2Vzc0RlZmluaXRpb25XZWJBcGkoKSB7XHJcbiAgICAgICAgcmV0dXJuICcvYXBpL3J1bnRpbWUvd2YvdjEuMC9kdFByb2NEZWZzJztcclxuICAgIH1cclxuXHJcbiAgICAvLyDliKTmlq3mmK/lkKblhYHorrjliKDpmaTmtYHnqIvlrprkuYnnmoRhcGlcclxuICAgIGdldENoZWNrRXhpc3RBY3RpdmVQcm9jRGVmQXBpKCkge1xyXG4gICAgICAgIHJldHVybiAnL2FwaS9ydW50aW1lL3dmL3YxLjAvcHJvY0RlZnMvY2hlY2tFeGlzdEFjdGl2ZVByb2NEZWYnO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bkuJrliqHmtLvliqh3ZWJBcGlcclxuICAgICAqL1xyXG4gICAgZ2V0Qml6QWN0aXZpdHlXZWJBcGkoZmZJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIGAvYXBpL3J1bnRpbWUvd2YvdjEuMC9iaXpBY3Rpdml0eT9mbG93Rm9ybUtleT0ke2ZmSWR9YDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQcm9jRGVmS2V5V2ViQXBpKCkge1xyXG4gICAgICAgIHJldHVybiAnL2FwaS9ydW50aW1lL3dmL3YxLjAvcHJvY0RlZnMvcHJvY2Vzc0RlZmluaXRpb25LZXlzJztcclxuICAgIH1cclxuICAgIC8vIC8qKlxyXG4gICAgLy8gICog5Lia5Yqh5rS75Yqo5p6E5Lu2d2ViQXBpXHJcbiAgICAvLyAgKi9cclxuICAgIC8vIGdldEJpekFjdENwdFdlYkFwaSgpIHtcclxuICAgIC8vICAgICByZXR1cm4gJy9hcGkvcnVudGltZS93Zi92MS4wL0JpekFjdGl2aXRpZXMvR2V0Q29tcG9uZW50cyc7XHJcbiAgICAvLyB9XHJcbiAgICAvKipcclxuICAgICAqIOWPkeW4g+a1geeoi2FwaVxyXG4gICAgICovXHJcbiAgICBkZXBsb3lXZWJBcGkoKSB7XHJcbiAgICAgICAgcmV0dXJuICcvYXBpL3J1bnRpbWUvd2YvdjEuMC9wcm9jRGVmcy9kZXBsb3knO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDkv53lrZjmtYHnqIthcGlcclxuICAgICAqL1xyXG4gICAgc2F2ZVdlYkFwaSgpIHtcclxuICAgICAgICByZXR1cm4gJy9hcGkvcnVudGltZS93Zi92MS4wL0RUUHJvY2Vzc0RlZmluaXRpb25zL1NhdmVCcG1uTW9kZWwnO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5blrqHmibnliqjkvZx3ZWJhcGlcclxuICAgICAqL1xyXG4gICAgZ2V0QXBwcm92YWxBY3Rpb25XZWJBcGkoKSB7XHJcbiAgICAgICAgcmV0dXJuICcvYXBpL3J1bnRpbWUvd2YvdjEuMC9hcHByb3ZhbEFjdGlvbic7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bov5DooYzml7bmtYHnqIvlrprkuYlXZWJBUGlcclxuICAgICAqL1xyXG4gICAgZ2V0UlRQcm9jZXNzRGVmaW5pdGlvbldlYkFwaSgpIHtcclxuICAgICAgICByZXR1cm4gJy9hcGkvcnVudGltZS93Zi92MS4wL3Byb2NEZWZzJztcclxuICAgIH1cclxuXHJcbiAgICBnZXRWYWx1ZShkYXRhOiBhbnksIGNvZGU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKCFjb2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJlc3VsdFZhbCA9ICcnO1xyXG4gICAgICAgIGlmIChjb2RlLmluZGV4T2YoJy4nKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgcmVzdWx0VmFsID0gZGF0YVtjb2RlXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXN1bHRWYWwgPSBjb2RlLnNwbGl0KCcuJykucmVkdWNlKChvYmosIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iaikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmpba2V5XTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0VmFsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDovazmjaJcclxuICAgICAqIEBwYXJhbSBqc29uT2JqIE9iamVjdFxyXG4gICAgICovXHJcbiAgICB0b1VwcGVyQ2FzZShqc29uT2JqOiBPYmplY3QpOiBhbnkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgKGpzb25PYmopID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhqc29uT2JqKSkge1xyXG4gICAgICAgICAgICAgICAganNvbk9ialtrZXkuc3Vic3RyaW5nKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBrZXkuc3Vic3RyaW5nKDEpXSA9IGpzb25PYmpba2V5XTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSAoanNvbk9ialtrZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ganNvbk9iajtcclxuICAgIH1cclxuICAgIHRvTG93Q2FzZShqc29uT2JqOiBPYmplY3QpOiBhbnkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgKGpzb25PYmopID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhqc29uT2JqKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChrZXkuc3Vic3RyaW5nKDAsIDEpLnRvTG93ZXJDYXNlKCkgKyBrZXkuc3Vic3RyaW5nKDEpKSAhPT0ga2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAganNvbk9ialtrZXkuc3Vic3RyaW5nKDAsIDEpLnRvTG93ZXJDYXNlKCkgKyBrZXkuc3Vic3RyaW5nKDEpXSA9IGpzb25PYmpba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgKGpzb25PYmpba2V5XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGpzb25PYmo7XHJcbiAgICB9XHJcbn1cclxuIl19