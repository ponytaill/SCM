import { Type } from '../core/index';
import { Modification } from '../changeset/index';
import { Subject } from 'rxjs';
import { Entity } from '../entity/index';
/**
 * 实体集合
 * @todo：应该用EntityList代替。
 */
declare class EntityCollection<T extends Entity> {
    /**
     * 内部实体Set
     */
    private innerEntitySet;
    /**
     * 内部实体Map
     */
    private innerEntityMap;
    /**
     * Entity集合变更流
     */
    collectionChanged: Subject<Modification>;
    /**
     * 实体类型
     */
    readonly entityType: Type<T>;
    /**
     * 实体主键
     */
    readonly primaryKey: string;
    /**
     * 实体当前分页信息
     */
    paginationInfo: any;
    /**
     * 构造函数
     */
    constructor(entityType: Type<T>);
    /**
     * 实体数量
     */
    count(): number;
    readonly entityTypeName: string;
    /**
     * 是否包含指定主键值的实体
     * @param id 主键值
     */
    has(id: string): boolean;
    /**
     * 清空全部实体
     */
    clear(): void;
    /**
     * 转换为实体数组
     */
    toArray(): Entity[];
    /**
     * 转换为JSON数组
     */
    toJSON(): any[];
    /**
     * 批量加载实体
     */
    loadEntities(entities: any[]): void;
    /**
     * 追加实体
     * @param entity 要追加的实体
     */
    addEntity(entity: T): void;
    /**
     * 批量追加实体
     * @param entities 要加载的实体数组
     */
    addEntities(entities: T[]): void;
    /**
     * 根据主键值获取实体
     */
    getEntityById(identity: string): T;
    /**
     * 根据路径获取实体
     */
    getEntityByPath(pathArray: string[]): any;
    /**
     * 返回符合指定条件的实体集合
     * @param predicate 条件谓词
     */
    getEntities(predicate: (value: T, index: number, array: T[]) => T): T[];
    /**
     * 获取全部实体
     */
    getAllEntities(): T[];
    /**
     * 根据主键值删除对应实体
     * @param identity 主键值
     */
    removeEntityById(identity: string): T;
    removeEntitiesByIds(id: string): void;
    /**
     * 删除符合条件的实体集合
     */
    removeEntities(predicate: (value: T, index: number, array: T[]) => any): T[];
    /**
     * 重置子表数据
     * @param paths 路径
     * 路径格式 ['实体主键:主键值','从表Codes','从从表Codes']
     * @param entities 实体数组
     */
    resetEntities(paths: string[], entities: T[]): void;
    /**
     * 验证实体是否能够添加
     */
    private verifyEntityToAdd;
    /**
     * 验证实体是否能移除
     */
    private verifyEntityToRemove;
    /**
     * 实体集合变更流
     */
    private notifyCollectionChanged;
    /**
     * 设置分页大小
     */
    /**
    * 获取分页大小
    * @description 如果用户未指定分页大小则默认为0，即获取所有数据
    */
    pageSize: number;
    /**
     * 设置数据总条数
     */
    /**
    * 获取数据总条数
    */
    totalCount: number;
    /**
     * 设置当前页码
     */
    /**
    * 获取当前页码
    */
    pageIndex: number;
    /**
     * 更新分页信息
     * @param path 绑定路径
     * @param pageInfo 分页信息
     */
    updatePaginationInfoByPath(path: string, pageInfo: {
        pageIndex: any;
        pageSize: any;
        totalCount: any;
        [prop: string]: any;
    }): void;
    /**
     * 根据路径获取分页大小
     * @param path 路径
     */
    getPaginationConfigByPath(path: string, defaultValue?: any): any;
    /**
     * 设置分页信息
     * @param path 路径
     * @param value 值
     */
    setPaginationConfigByPath(path: string | Array<any>, value: any): any;
}
export { EntityCollection };
