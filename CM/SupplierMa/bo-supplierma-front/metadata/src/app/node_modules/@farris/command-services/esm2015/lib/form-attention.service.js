import { Injectable, Injector } from "@angular/core";
import { FrameContext } from "@farris/devkit";
import { EMPTY } from "rxjs";
import { AttentionService } from '@farris/ui-tooltip';
export class FormAttentionService {
    constructor(injector, frameContext, attentionService) {
        this.injector = injector;
        this.frameContext = frameContext;
        this.attentionService = attentionService;
    }
    /**
     * 闪烁按钮
     * @param ids id字符串或数组
     * @param duration 时间间隔
     * @returns
     */
    blink(ids, duration) {
        if (typeof ids === 'string') {
            ids = ids.split(',').filter(p => p);
        }
        if (!Array.isArray(ids) || ids.length < 1) {
            return EMPTY;
        }
        if (typeof duration === 'string') {
            duration = duration.trim();
        }
        if (!duration) {
            duration = 600;
        }
        duration = parseInt(duration);
        if (isNaN(duration) || duration <= 0) {
            duration = 600;
        }
        const elements = ids.map((item) => {
            return {
                idOrEl: item,
            };
        });
        this.attentionService.catchAttention(elements, duration);
    }
}
FormAttentionService.decorators = [
    { type: Injectable }
];
/** @nocollapse */
FormAttentionService.ctorParameters = () => [
    { type: Injector },
    { type: FrameContext },
    { type: AttentionService }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS1hdHRlbnRpb24uc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvY29tbWFuZC1zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbImxpYi9mb3JtLWF0dGVudGlvbi5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3JELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM5QyxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQzdCLE9BQU8sRUFBRSxnQkFBZ0IsRUFBb0IsTUFBTSxvQkFBb0IsQ0FBQztBQUl4RSxNQUFNLE9BQU8sb0JBQW9CO0lBQy9CLFlBQW9CLFFBQWtCLEVBQVUsWUFBMEIsRUFBVSxnQkFBa0M7UUFBbEcsYUFBUSxHQUFSLFFBQVEsQ0FBVTtRQUFVLGlCQUFZLEdBQVosWUFBWSxDQUFjO1FBQVUscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFrQjtJQUFJLENBQUM7SUFDM0g7Ozs7O09BS0c7SUFDSSxLQUFLLENBQUMsR0FBc0IsRUFBRSxRQUFjO1FBQ2pELElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxFQUFFO1lBQzNCLEdBQUcsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3JDO1FBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDekMsT0FBTyxLQUFLLENBQUM7U0FDZDtRQUNELElBQUksT0FBTyxRQUFRLEtBQUssUUFBUSxFQUFFO1lBQ2hDLFFBQVEsR0FBRyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDNUI7UUFDRCxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2IsUUFBUSxHQUFHLEdBQUcsQ0FBQztTQUNoQjtRQUNELFFBQVEsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUIsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksUUFBUSxJQUFJLENBQUMsRUFBRTtZQUNwQyxRQUFRLEdBQUcsR0FBRyxDQUFDO1NBQ2hCO1FBQ0QsTUFBTSxRQUFRLEdBQXVCLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFZLEVBQUUsRUFBRTtZQUM1RCxPQUFPO2dCQUNMLE1BQU0sRUFBRSxJQUFJO2FBR2IsQ0FBQztRQUNKLENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDM0QsQ0FBQzs7O1lBbENGLFVBQVU7Ozs7WUFOVSxRQUFRO1lBQ3BCLFlBQVk7WUFFWixnQkFBZ0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBJbmplY3RvciB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBGcmFtZUNvbnRleHQgfSBmcm9tIFwiQGZhcnJpcy9kZXZraXRcIjtcbmltcG9ydCB7IEVNUFRZIH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IEF0dGVudGlvblNlcnZpY2UsIEF0dGVudGlvbkVsZW1lbnQgfSBmcm9tICdAZmFycmlzL3VpLXRvb2x0aXAnO1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBGb3JtQXR0ZW50aW9uU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaW5qZWN0b3I6IEluamVjdG9yLCBwcml2YXRlIGZyYW1lQ29udGV4dDogRnJhbWVDb250ZXh0LCBwcml2YXRlIGF0dGVudGlvblNlcnZpY2U6IEF0dGVudGlvblNlcnZpY2UpIHsgfVxuICAvKipcbiAgICog6Zeq54OB5oyJ6ZKuXG4gICAqIEBwYXJhbSBpZHMgaWTlrZfnrKbkuLLmiJbmlbDnu4RcbiAgICogQHBhcmFtIGR1cmF0aW9uIOaXtumXtOmXtOmalFxuICAgKiBAcmV0dXJucyBcbiAgICovXG4gIHB1YmxpYyBibGluayhpZHM6IHN0cmluZyB8IHN0cmluZ1tdLCBkdXJhdGlvbj86IGFueSkge1xuICAgIGlmICh0eXBlb2YgaWRzID09PSAnc3RyaW5nJykge1xuICAgICAgaWRzID0gaWRzLnNwbGl0KCcsJykuZmlsdGVyKHAgPT4gcCk7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShpZHMpIHx8IGlkcy5sZW5ndGggPCAxKSB7XG4gICAgICByZXR1cm4gRU1QVFk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICBkdXJhdGlvbiA9IGR1cmF0aW9uLnRyaW0oKTtcbiAgICB9XG4gICAgaWYgKCFkdXJhdGlvbikge1xuICAgICAgZHVyYXRpb24gPSA2MDA7XG4gICAgfVxuICAgIGR1cmF0aW9uID0gcGFyc2VJbnQoZHVyYXRpb24pO1xuICAgIGlmIChpc05hTihkdXJhdGlvbikgfHwgZHVyYXRpb24gPD0gMCkge1xuICAgICAgZHVyYXRpb24gPSA2MDA7XG4gICAgfVxuICAgIGNvbnN0IGVsZW1lbnRzOiBBdHRlbnRpb25FbGVtZW50W10gPSBpZHMubWFwKChpdGVtOiBzdHJpbmcpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkT3JFbDogaXRlbSxcbiAgICAgICAgLy8gdHlwZTonJyxcbiAgICAgICAgLy8gY2xhc3M6JydcbiAgICAgIH07XG4gICAgfSk7XG4gICAgdGhpcy5hdHRlbnRpb25TZXJ2aWNlLmNhdGNoQXR0ZW50aW9uKGVsZW1lbnRzLCBkdXJhdGlvbik7XG4gIH1cbn0iXX0=