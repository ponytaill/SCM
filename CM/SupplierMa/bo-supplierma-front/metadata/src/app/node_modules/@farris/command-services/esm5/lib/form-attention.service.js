import { Injectable, Injector } from "@angular/core";
import { FrameContext } from "@farris/devkit";
import { EMPTY } from "rxjs";
import { AttentionService } from '@farris/ui-tooltip';
var FormAttentionService = /** @class */ (function () {
    function FormAttentionService(injector, frameContext, attentionService) {
        this.injector = injector;
        this.frameContext = frameContext;
        this.attentionService = attentionService;
    }
    /**
     * 闪烁按钮
     * @param ids id字符串或数组
     * @param duration 时间间隔
     * @returns
     */
    FormAttentionService.prototype.blink = function (ids, duration) {
        if (typeof ids === 'string') {
            ids = ids.split(',').filter(function (p) { return p; });
        }
        if (!Array.isArray(ids) || ids.length < 1) {
            return EMPTY;
        }
        if (typeof duration === 'string') {
            duration = duration.trim();
        }
        if (!duration) {
            duration = 600;
        }
        duration = parseInt(duration);
        if (isNaN(duration) || duration <= 0) {
            duration = 600;
        }
        var elements = ids.map(function (item) {
            return {
                idOrEl: item,
            };
        });
        this.attentionService.catchAttention(elements, duration);
    };
    FormAttentionService.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    FormAttentionService.ctorParameters = function () { return [
        { type: Injector },
        { type: FrameContext },
        { type: AttentionService }
    ]; };
    return FormAttentionService;
}());
export { FormAttentionService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS1hdHRlbnRpb24uc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvY29tbWFuZC1zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbImxpYi9mb3JtLWF0dGVudGlvbi5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3JELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM5QyxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQzdCLE9BQU8sRUFBRSxnQkFBZ0IsRUFBb0IsTUFBTSxvQkFBb0IsQ0FBQztBQUd4RTtJQUVFLDhCQUFvQixRQUFrQixFQUFVLFlBQTBCLEVBQVUsZ0JBQWtDO1FBQWxHLGFBQVEsR0FBUixRQUFRLENBQVU7UUFBVSxpQkFBWSxHQUFaLFlBQVksQ0FBYztRQUFVLHFCQUFnQixHQUFoQixnQkFBZ0IsQ0FBa0I7SUFBSSxDQUFDO0lBQzNIOzs7OztPQUtHO0lBQ0ksb0NBQUssR0FBWixVQUFhLEdBQXNCLEVBQUUsUUFBYztRQUNqRCxJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsRUFBRTtZQUMzQixHQUFHLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLEVBQUQsQ0FBQyxDQUFDLENBQUM7U0FDckM7UUFDRCxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUN6QyxPQUFPLEtBQUssQ0FBQztTQUNkO1FBQ0QsSUFBSSxPQUFPLFFBQVEsS0FBSyxRQUFRLEVBQUU7WUFDaEMsUUFBUSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUM1QjtRQUNELElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDYixRQUFRLEdBQUcsR0FBRyxDQUFDO1NBQ2hCO1FBQ0QsUUFBUSxHQUFHLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM5QixJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxRQUFRLElBQUksQ0FBQyxFQUFFO1lBQ3BDLFFBQVEsR0FBRyxHQUFHLENBQUM7U0FDaEI7UUFDRCxJQUFNLFFBQVEsR0FBdUIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxVQUFDLElBQVk7WUFDeEQsT0FBTztnQkFDTCxNQUFNLEVBQUUsSUFBSTthQUdiLENBQUM7UUFDSixDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzNELENBQUM7O2dCQWxDRixVQUFVOzs7O2dCQU5VLFFBQVE7Z0JBQ3BCLFlBQVk7Z0JBRVosZ0JBQWdCOztJQXNDekIsMkJBQUM7Q0FBQSxBQW5DRCxJQW1DQztTQWxDWSxvQkFBb0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBJbmplY3RvciB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBGcmFtZUNvbnRleHQgfSBmcm9tIFwiQGZhcnJpcy9kZXZraXRcIjtcbmltcG9ydCB7IEVNUFRZIH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IEF0dGVudGlvblNlcnZpY2UsIEF0dGVudGlvbkVsZW1lbnQgfSBmcm9tICdAZmFycmlzL3VpLXRvb2x0aXAnO1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBGb3JtQXR0ZW50aW9uU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaW5qZWN0b3I6IEluamVjdG9yLCBwcml2YXRlIGZyYW1lQ29udGV4dDogRnJhbWVDb250ZXh0LCBwcml2YXRlIGF0dGVudGlvblNlcnZpY2U6IEF0dGVudGlvblNlcnZpY2UpIHsgfVxuICAvKipcbiAgICog6Zeq54OB5oyJ6ZKuXG4gICAqIEBwYXJhbSBpZHMgaWTlrZfnrKbkuLLmiJbmlbDnu4RcbiAgICogQHBhcmFtIGR1cmF0aW9uIOaXtumXtOmXtOmalFxuICAgKiBAcmV0dXJucyBcbiAgICovXG4gIHB1YmxpYyBibGluayhpZHM6IHN0cmluZyB8IHN0cmluZ1tdLCBkdXJhdGlvbj86IGFueSkge1xuICAgIGlmICh0eXBlb2YgaWRzID09PSAnc3RyaW5nJykge1xuICAgICAgaWRzID0gaWRzLnNwbGl0KCcsJykuZmlsdGVyKHAgPT4gcCk7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShpZHMpIHx8IGlkcy5sZW5ndGggPCAxKSB7XG4gICAgICByZXR1cm4gRU1QVFk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICBkdXJhdGlvbiA9IGR1cmF0aW9uLnRyaW0oKTtcbiAgICB9XG4gICAgaWYgKCFkdXJhdGlvbikge1xuICAgICAgZHVyYXRpb24gPSA2MDA7XG4gICAgfVxuICAgIGR1cmF0aW9uID0gcGFyc2VJbnQoZHVyYXRpb24pO1xuICAgIGlmIChpc05hTihkdXJhdGlvbikgfHwgZHVyYXRpb24gPD0gMCkge1xuICAgICAgZHVyYXRpb24gPSA2MDA7XG4gICAgfVxuICAgIGNvbnN0IGVsZW1lbnRzOiBBdHRlbnRpb25FbGVtZW50W10gPSBpZHMubWFwKChpdGVtOiBzdHJpbmcpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkT3JFbDogaXRlbSxcbiAgICAgICAgLy8gdHlwZTonJyxcbiAgICAgICAgLy8gY2xhc3M6JydcbiAgICAgIH07XG4gICAgfSk7XG4gICAgdGhpcy5hdHRlbnRpb25TZXJ2aWNlLmNhdGNoQXR0ZW50aW9uKGVsZW1lbnRzLCBkdXJhdGlvbik7XG4gIH1cbn0iXX0=