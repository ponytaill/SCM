/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, Input, ViewChild, ViewEncapsulation, ElementRef, ChangeDetectorRef, Renderer2, NgZone, EventEmitter, Output, Injector, Optional, LOCALE_ID, InjectFlags, HostBinding } from '@angular/core';
import { FarrisSidebarComponent } from '@farris/ui-sidebar';
import { LocaleService } from '@farris/ui-locale';
import { FilterPanelService } from '@farris/ui-filter-panel';
import { QuerySolutionService } from '@farris/ui-filter-condition';
import { FilterService } from './filter.service';
import { ConvertorService } from './service/convertorservice';
import { ControlType } from './entity/controltype';
import { TextValue } from './entity/conditionvalue/textvalue';
import { HelpValue } from './entity/conditionvalue/helpvalue';
import { DropDownListValue } from './entity/conditionvalue/dropdownlistvalue';
import { DateRangeValue } from './entity/conditionvalue/daterangevalue';
import { NumberRangeValue } from './entity/conditionvalue/numberrangevaue';
import { SearchValue } from './entity/conditionvalue/searchvalue';
import { DateValue } from './entity/conditionvalue/datevalue';
import { CheckboxGroupValue } from './entity/conditionvalue/checkboxgroupvalue';
import { FILTER_HANDLER_TOKEN } from './interface/filterHandler';
import { deepCopy } from './utils';
import { RadioGroupValue } from './entity/conditionvalue/radiovalue';
import { MonthRangeValue } from './entity/conditionvalue/monthrange';
import { YearRangeValue } from './entity/conditionvalue/yearrange';
import { MonthValue } from './entity/conditionvalue/month';
import { YearValue } from './entity/conditionvalue/yearvalue';
import { InputGroupValue } from './entity/conditionvalue/inputgroup';
import { NumberValue } from './entity/conditionvalue/numbervalue';
import { FlexibleNumberValue } from './entity/conditionvalue/flexiblenumbervalue';
import { FlexibleDateValue } from './entity/conditionvalue/flexibledatevalue';
import ResizeObserver from "resize-observer-polyfill";
var FilterComponent = /** @class */ (function () {
    function FilterComponent(filterPanelService, filterService, convertorService, handler, cd, render, ngzone, localeService, injector) {
        this.filterPanelService = filterPanelService;
        this.filterService = filterService;
        this.convertorService = convertorService;
        this.handler = handler;
        this.cd = cd;
        this.render = render;
        this.ngzone = ngzone;
        this.localeService = localeService;
        this.injector = injector;
        this._filterList = [];
        //是否禁用
        this.disabled = false;
        this.showReminder = false;
        // 是否启用侧边栏収折-过滤条件在侧边栏显示
        this.floatFilter = true;
        // 启用自动宽度
        this._enableAutoWidth = false;
        this.localStorageKey = 'farrisSearchRecord';
        this.cla = true;
        this.query = new EventEmitter();
        this.searchChange = new EventEmitter();
        this.resetChange = new EventEmitter();
        this.clearFilter = new EventEmitter();
        this.expandFilter = new EventEmitter();
        this.packupFilter = new EventEmitter();
        this.filterResize = new EventEmitter();
        // 展开
        this.filterExtend = false;
        // 是否显示三个点
        this.filterEllipsis = false;
        // 是否显示展开收起
        this.filterExtendShow = false;
        this.filterExtendText = '展开';
        this.filterExtendIcon = 'f-icon-arrow-chevron-down';
        this.expandText = '展开';
        this.foldText = '收起';
        this.sidebarOpen = false;
        this.floatPanelOpen = false;
        this.showExpandTag = false;
        /**
         * 表单是否允许提交
         */
        this.canSubmit = false;
        /**
         * 表单是否允许提交,用于高级筛选清空后
         */
        this.advancedCanSubmit = true;
        /**
         * 默认展开项是否允许提交
         */
        this.showCanSubmit = true;
        /**
         * 是否显示清空已选
         */
        this.filledFilter = false;
        /**
         * 默认展开的筛选项
         */
        this.showFilterList = new Array();
        /**
         * 高级筛选
         */
        this.extendFilterList = new Array();
        this.extendFilterListStore = new Array();
        this.extendFilterListTemporary = new Array();
        /**
         * 已填写筛选数据
         */
        this.filledFilterList = new Array();
        /**
         * 高级筛选中已填写的
         */
        this.filledExtendFilterList = new Array();
        /** 没有填写的筛选项 */
        // unFilledFilterList:Array<QueryCondition> = new Array<QueryCondition>();
        /**
         * 高级筛选中必填项
         */
        this.extendRequiredList = new Array();
        /**
         * 默认筛选中必填项
         */
        this.showRequiredList = new Array();
        /**
         * 循环表单
         */
        this.listFilterConditions = new Array();
        /**
         * 默认展开＋高级筛选中已填写的
         */
        this.loopFilterList = new Array();
        /**
         * 用来存储setvalue前数据
         */
        this.stagListFilterConditions = new Array();
        /**
         * 显示中表单的必填项
         */
        this.requiredListFilter = [];
        this.localeIds = {
            'en': 'en',
            'zh-CHS': 'zh-CHS'
        };
        this.currentLocale = 'zh-CHS';
        this.isControlInline = true;
        this.reminderLeft = 0;
        // 绑定大小变化响应
        this.ro = null;
        // 记录旧的宽度数据
        this.containerWidthRecord = 0;
        // 阈值
        this.distanceThreshold = 20;
        if (this.injector) {
            this.currentLocale = this.injector.get(LOCALE_ID);
            this.filterHandler = this.injector.get(FILTER_HANDLER_TOKEN, null, InjectFlags.Optional);
        }
    }
    Object.defineProperty(FilterComponent.prototype, "filterList", {
        get: /**
         * @return {?}
         */
        function () {
            return this._filterList;
        },
        set: /**
         * @param {?} filterList
         * @return {?}
         */
        function (filterList) {
            this._filterList = filterList || [];
            this.initFilterList();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FilterComponent.prototype, "enableAutoWidth", {
        get: /**
         * @return {?}
         */
        function () {
            return this._enableAutoWidth;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (value !== this._enableAutoWidth) {
                if (value) {
                    this.filterEllipsis = false;
                    this.filterExtendShow = false;
                }
                this._enableAutoWidth = value;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FilterComponent.prototype, "defaultValue", {
        get: /**
         * @return {?}
         */
        function () {
            return this._defaultValue;
        },
        set: /**
         * @param {?} configs
         * @return {?}
         */
        function (configs) {
            var _this_1 = this;
            this._defaultValue = configs;
            setTimeout((/**
             * @return {?}
             */
            function () {
                _this_1.setFilterValue(_this_1._defaultValue);
            }));
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    FilterComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.filterWrapperEl = this.filterListWrapper && this.filterListWrapper.nativeElement;
        // 绑定事件
        this.bindRoEvent();
        this.foldText = this.localeService.getValue('filterPanel.fold');
        this.expandText = this.localeService.getValue('filterPanel.expand');
        this.filterExtendText = this.expandText;
        if (this.currentLocale === this.localeIds['en']) {
            this.isControlInline = false;
        }
        else {
            this.isControlInline = true;
        }
    };
    /**
     * @return {?}
     */
    FilterComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        if (this.ro) {
            this.ro.unobserve(this.filterWrapperEl);
            this.ro = null;
        }
    };
    /**
     * 绑定监控大小的事件
     */
    /**
     * 绑定监控大小的事件
     * @private
     * @return {?}
     */
    FilterComponent.prototype.bindRoEvent = /**
     * 绑定监控大小的事件
     * @private
     * @return {?}
     */
    function () {
        var _this_1 = this;
        if (!this.filterWrapper) {
            return;
        }
        this.ngzone.runOutsideAngular((/**
         * @return {?}
         */
        function () {
            // 这样一直都绑定可能有性能问题
            _this_1.ro = new ResizeObserver((/**
             * @param {?} entries
             * @param {?} observer
             * @return {?}
             */
            function (entries, observer) {
                /** @type {?} */
                var tempWidth = entries[0].contentRect.width;
                if (Math.abs(tempWidth - _this_1.containerWidthRecord) >
                    _this_1.distanceThreshold) {
                    if (!_this_1.filterList.length)
                        return;
                    if (_this_1.enableAutoWidth) {
                        return;
                    }
                    _this_1.listEllipsisInit();
                    _this_1.containerWidthRecord = tempWidth;
                }
            }));
            _this_1.ro.observe(_this_1.filterWrapper.nativeElement);
            // fromEvent(window, 'resize')
            //     .pipe(debounceTime(50, animationFrame))
            //     .subscribe((): void => {
            //         this.ngzone.run(() => {
            //             // console.log('resize');
            //             if (!this.filterList.length) return;
            //             if (this.enableAutoWidth) {return;}
            //             this.listEllipsisInit();
            //         });
            //     });
        }));
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    FilterComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        // if (changes.filterList && !changes.filterList.isFirstChange()) {
        //   this.initFilterList();
        // }
    };
    /**
     * @return {?}
     */
    FilterComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * 初始化筛选项
     */
    /**
     * 初始化筛选项
     * @return {?}
     */
    FilterComponent.prototype.initFilterList = /**
     * 初始化筛选项
     * @return {?}
     */
    function () {
        var _this_1 = this;
        this.listFilterConditions = new Array();
        /** @type {?} */
        var filterDatas = this.filterService.fieldSchemasConvert(this.filterList);
        if (filterDatas && filterDatas.length) {
            this.listFilterConditions = this.convertorService.getSelectedFieldConditions(filterDatas, this.listFilterConditions);
        }
        this.stagListFilterConditions = this.listFilterConditions.map((/**
         * @param {?} o
         * @return {?}
         */
        function (o) { return (tslib_1.__assign({}, o)); }));
        this.filterListClassify();
        setTimeout((/**
         * @return {?}
         */
        function () {
            if (_this_1.showReminder && _this_1.showFilterList && _this_1.showFilterList.length) {
                _this_1.showReminderItem = _this_1.showFilterList[0];
                if (_this_1.showReminderItem) {
                    /** @type {?} */
                    var filterlistItems = _this_1.filterListWrapper && _this_1.filterListWrapper.nativeElement.children;
                    if (filterlistItems && filterlistItems.length) {
                        /** @type {?} */
                        var showRemItem = void 0;
                        for (var i = 0; i < filterlistItems.length; i++) {
                            if (_this_1.showReminderItem['id'] == filterlistItems[i].getAttribute('id')) {
                                showRemItem = filterlistItems[i];
                            }
                        }
                        if (showRemItem) {
                            _this_1.reminderLeft = showRemItem.offsetLeft >= 0 ? showRemItem.offsetLeft : 0;
                        }
                    }
                }
            }
            else {
                _this_1.showReminderItem = null;
            }
        }), 0);
        this.cd.detectChanges();
    };
    /** 筛选项分类 */
    /**
     * 筛选项分类
     * @return {?}
     */
    FilterComponent.prototype.filterListClassify = /**
     * 筛选项分类
     * @return {?}
     */
    function () {
        var _this_1 = this;
        this.extendFilterList = [];
        this.extendFilterListStore = [];
        this.showFilterList = [];
        this.filledFilterList = [];
        this.filledExtendFilterList = [];
        this.loopFilterList = [];
        this.extendRequiredList = [];
        this.showRequiredList = [];
        // 必填
        /** @type {?} */
        var requiredList = this.listFilterConditions.filter((/**
         * @param {?} listitem
         * @return {?}
         */
        function (listitem) {
            return listitem.control.required;
        }));
        if (requiredList && requiredList.length) {
            this.requiredListFilter = requiredList;
            this.canSubmit = this.canSubmitFilter(this.requiredListFilter);
        }
        else {
            this.requiredListFilter = [];
            this.canSubmit = true;
        }
        // 几种类型分类
        this.listFilterConditions.forEach((/**
         * @param {?} field
         * @return {?}
         */
        function (field) {
            if (field.control.isExtend && field['filled']) {
                _this_1.filledExtendFilterList.push(field);
            }
            if (field['filled']) {
                _this_1.filledFilterList.push(field);
            }
            // else if(!field.control.isExtend){
            //   this.unFilledFilterList.push(field);
            // }
            if (field.control.isExtend) {
                _this_1.extendFilterListStore.push(field);
            }
            else {
                _this_1.showFilterList.push(field);
            }
        }));
        if (this.filledFilterList.length) {
            this.filledFilter = true;
        }
        else {
            this.filledFilter = false;
        }
        /** @type {?} */
        var list = this.listFilterConditions.filter((/**
         * @param {?} item
         * @return {?}
         */
        function (item) {
            return !item.control.isExtend || item['filled'];
        }));
        // this.loopFilterList = this.showFilterList.concat(this.filledExtendFilterList);
        this.loopFilterList = list ? list : [];
        this.loopFilterList.forEach((/**
         * @param {?} item
         * @return {?}
         */
        function (item) {
            _this_1.getValueText(item);
        }));
        this.extendFilterList = this.extendFilterListStore.map((/**
         * @param {?} o
         * @return {?}
         */
        function (o) { return (tslib_1.__assign({}, o)); }));
        /** @type {?} */
        var extendRequiredList = this.extendFilterList.filter((/**
         * @param {?} listitem
         * @return {?}
         */
        function (listitem) {
            return listitem.control.required;
        }));
        if (extendRequiredList && extendRequiredList.length) {
            this.extendRequiredList = extendRequiredList;
        }
        /** @type {?} */
        var showrequiredList = this.showFilterList.filter((/**
         * @param {?} listitem
         * @return {?}
         */
        function (listitem) {
            return listitem.control.required;
        }));
        if (showrequiredList && showrequiredList.length) {
            this.showRequiredList = showrequiredList;
        }
        this.showCanSubmit = this.canSubmitFilter(this.showRequiredList);
        this.advancedCanSubmit = this.canSubmitFilter(this.extendRequiredList);
        // console.log('已填写',this.filledExtendFilterList);
        // console.log('显示出来的',this.loopFilterList);
        // console.log('隐藏部分',this.extendFilterList);
        this.filterExtendShow = true;
        // 如果是支持自动宽度，就是不収折,判断涉及赋值时机
        if (!this.enableAutoWidth) {
            setTimeout((/**
             * @return {?}
             */
            function () {
                _this_1.listEllipsisInit();
            }), 0);
        }
    };
    /**
     * 已填写筛选项点击
     * @param event
     * @param data
     */
    /**
     * 已填写筛选项点击
     * @param {?} event
     * @param {?} data
     * @param {?} index
     * @return {?}
     */
    FilterComponent.prototype.filterClick = /**
     * 已填写筛选项点击
     * @param {?} event
     * @param {?} data
     * @param {?} index
     * @return {?}
     */
    function (event, data, index) {
        var _this_1 = this;
        event.stopPropagation();
        if (this.disabled)
            return;
        if (data) {
            this.showReminderItem = null;
        }
        if (data && this.currentFilterId != data.id) {
            /** @type {?} */
            var panelItem = deepCopy(data);
            this.currentFilterId = data.id;
            var _a = event.currentTarget.getBoundingClientRect(), left = _a.left, top_1 = _a.top, height = _a.height, right = _a.right;
            this.filterPanelContainer = this.filterPanelService.showPanel({
                left: left,
                top: top_1 + height + 2,
                right: right,
                item: panelItem,
                localStorageKey: this.localStorageKey
            });
            this.filterPanelContainer.hidePanel.subscribe((/**
             * @param {?} e
             * @return {?}
             */
            function (e) {
                _this_1.filterPanelService.hidePanel();
                _this_1.filterPanelContainer = null;
                _this_1.currentFilterId = null;
            }));
            this.filterPanelContainer.clearFilter.subscribe((/**
             * @param {?} e
             * @return {?}
             */
            function (e) {
                _this_1.clearFilter.emit(e);
            }));
            //提交弹窗内
            /** @type {?} */
            var _this_2 = this;
            this.filterPanelContainer.submit.subscribe((/**
             * @param {?} e
             * @return {?}
             */
            function (e) {
                e.filled = (e.valueText && e.valueText.length > 0) ? true : false;
                _this_2.loopFilterList[index] = e;
                /** @type {?} */
                var panelListIndex = _this_2.listFilterConditions.findIndex((/**
                 * @param {?} item
                 * @return {?}
                 */
                function (item) {
                    return item['id'] == e['id'];
                }));
                if (panelListIndex >= 0) {
                    _this_2.listFilterConditions[panelListIndex] = e;
                }
                _this_1.searchChange.emit(_this_1.listFilterConditions);
                _this_1.inSetCurrentFilterConditions();
                _this_1.filterListClassify();
                // valueText是有需要计算的，所以延后判断是否显示
                /** @type {?} */
                var findItem = _this_2.loopFilterList.find((/**
                 * @param {?} item
                 * @return {?}
                 */
                function (item) {
                    return item['id'] == e['id'];
                }));
                if (findItem) {
                    findItem['filled'] = findItem.valueText && findItem.valueText.length > 0 ? true : false;
                }
                _this_1.cd.markForCheck();
                _this_1.submit('panelFormData', _this_1.listFilterConditions, e);
                _this_1.filterPanelService.hidePanel();
                _this_1.filterPanelContainer = null;
                _this_1.currentFilterId = null;
            }));
        }
        else {
            this.filterPanelService.hidePanel();
            this.filterPanelContainer = null;
            this.currentFilterId = null;
        }
    };
    /**
     * 清空筛选项
     */
    /**
     * 清空筛选项
     * @param {?} data
     * @param {?} index
     * @param {?} event
     * @return {?}
     */
    FilterComponent.prototype.filterClear = /**
     * 清空筛选项
     * @param {?} data
     * @param {?} index
     * @param {?} event
     * @return {?}
     */
    function (data, index, event) {
        event.stopPropagation();
        this.filterPanelService.hidePanel();
        this.currentFilterId = null;
        this.resetListCondition(data);
        this.filterListClassify();
        this.cd.markForCheck();
        this.searchChange.emit(this.listFilterConditions);
        this.clearFilter.emit(data);
        this.inSetCurrentFilterConditions();
        this.advancedCanSubmit = this.canSubmitFilter(this.extendRequiredList);
        this.submit('panelFormData', this.listFilterConditions);
    };
    /**
     * 展开高级筛选
     */
    /**
     * 展开高级筛选
     * @return {?}
     */
    FilterComponent.prototype.advancedFilter = /**
     * 展开高级筛选
     * @return {?}
     */
    function () {
        this.showReminderItem = null;
        this.extendFilterListTemporary = deepCopy(this.extendFilterList);
        this.farrissidebar.isOpen = true;
    };
    /**
     * @return {?}
     */
    FilterComponent.prototype.listCancel = /**
     * @return {?}
     */
    function () {
        this.extendFilterList = deepCopy(this.extendFilterListTemporary);
        this.farrissidebar.isOpen = false;
        this.floatPanelOpen = false;
    };
    /**
     * 打开面板高级筛选
     */
    /**
     * 打开面板高级筛选
     * @return {?}
     */
    FilterComponent.prototype.floatFilterOpen = /**
     * 打开面板高级筛选
     * @return {?}
     */
    function () {
        this.floatPanelOpen = !this.floatPanelOpen;
        if (this.floatPanelOpen) {
            this.extendFilterListTemporary = deepCopy(this.extendFilterList);
        }
    };
    /**
     * 列表展示初始化
     */
    /**
     * 列表展示初始化
     * @return {?}
     */
    FilterComponent.prototype.listEllipsisInit = /**
     * 列表展示初始化
     * @return {?}
     */
    function () {
        if (this.enableAutoWidth)
            return;
        // if(this.filterExtend) return;
        /** @type {?} */
        var filterMainWidth = this.filterMain.nativeElement.offsetWidth;
        this.filterToolWidth = 0;
        // filterTool = this.filterTool.nativeElement.offsetWidth;
        if (this.filterTool) {
            this.filterToolWidth = this.filterTool.nativeElement.offsetWidth;
        }
        // 筛选条件区域最大宽度
        /** @type {?} */
        var filterListW;
        if (this.filterExtend) {
            filterListW = filterMainWidth - 26;
        }
        else {
            // filterListW = filterMainWidth- 48 - this.filterToolWidth - 26;
            filterListW = filterMainWidth - 48 - this.filterToolWidth - 26;
        }
        // const filterWrapper = this.filterListWrapper.nativeElement;
        // const filterWrapperWidth = filterWrapper.offsetWidth;
        // console.log(filterWrapperWidth);
        /** @type {?} */
        var filterItems = this.filterWrapperEl ? this.filterWrapperEl.children : [];
        /** @type {?} */
        var filterItemWidth = 0;
        if (filterItems && filterItems.length) {
            for (var i = 0, len = filterItems.length; i < len; i++) {
                this.render.setStyle(filterItems[i], 'display', 'flex');
                /** @type {?} */
                var width = filterItems[i].offsetWidth;
                filterItemWidth += width + 8;
                if (filterItemWidth >= filterListW && !this.filterExtend) {
                    this.render.setStyle(filterItems[i], 'display', 'none');
                }
                else {
                    this.render.setStyle(filterItems[i], 'display', 'flex');
                }
                // console.log(filterItemWidth,filterListW,i);
            }
        }
        // if(filterItemWidth > this.filterWrapperEl.offsetWidth){
        if (filterItemWidth >= filterListW) {
            this.filterEllipsis = true;
            this.filterExtendShow = true;
        }
        else {
            this.filterEllipsis = false;
            this.filterExtendShow = false;
        }
        if (filterItems.length)
            this.filterResize.emit();
        if (!this.cd['destroyed']) {
            this.cd.detectChanges();
        }
    };
    /**
     * 筛选项展开收起切换
     */
    /**
     * 筛选项展开收起切换
     * @return {?}
     */
    FilterComponent.prototype.filterExpand = /**
     * 筛选项展开收起切换
     * @return {?}
     */
    function () {
        var _this_1 = this;
        this.showReminderItem = null;
        this.filterExtend = !this.filterExtend;
        if (this.filterExtend) {
            this.filterEllipsis = false;
            this.filterExtendText = this.foldText;
            this.filterExtendIcon = 'f-icon-arrow-chevron-up';
            /** @type {?} */
            var filterItems = this.filterWrapperEl.children;
            if (filterItems && filterItems.length) {
                for (var i = 0, len = filterItems.length; i < len; i++) {
                    this.render.setStyle(filterItems[i], 'display', 'flex');
                }
            }
            ;
            this.render.setStyle(this.filterWrapperEl, 'flex-wrap', 'wrap');
            this.expandFilter.emit();
            this.cd.detectChanges();
        }
        else {
            this.filterExtendText = this.expandText;
            this.filterExtendIcon = 'f-icon-arrow-chevron-down';
            setTimeout((/**
             * @return {?}
             */
            function () {
                _this_1.listEllipsisInit();
            }), 0);
            this.packupFilter.emit();
        }
    };
    /**
     * 高级筛选表单项搜索变化
     * @param $event
     * @param item
     */
    /**
     * 高级筛选表单项搜索变化
     * @param {?} $event
     * @param {?} item
     * @return {?}
     */
    FilterComponent.prototype.onSearch = /**
     * 高级筛选表单项搜索变化
     * @param {?} $event
     * @param {?} item
     * @return {?}
     */
    function ($event, item) {
        if (this.disabled) {
            return;
        }
        this.advancedCanSubmit = this.canSubmitFilter(this.extendRequiredList);
        // console.log(this.advancedCanSubmit,this.canSubmit);
        this.searchChange.emit({ item: item, conditions: this.listFilterConditions, instance: this });
    };
    /** 判断是否所有必填项都填写完毕 */
    /**
     * 判断是否所有必填项都填写完毕
     * @param {?} requirelist
     * @return {?}
     */
    FilterComponent.prototype.canSubmitFilter = /**
     * 判断是否所有必填项都填写完毕
     * @param {?} requirelist
     * @return {?}
     */
    function (requirelist) {
        /** @type {?} */
        var formCanSubmit = false;
        if (!requirelist || !requirelist.length) {
            formCanSubmit = true;
            return formCanSubmit;
        }
        else {
            for (var i = 0; i < requirelist.length; i++) {
                /** @type {?} */
                var item = requirelist[i];
                if (item.control.getControlType() === ControlType.Text) {
                    /** @type {?} */
                    var tv = ((/** @type {?} */ (item.value)));
                    if (Object.keys(tv).length < 0 || !tv.value) {
                        formCanSubmit = false;
                        return false;
                    }
                    else {
                        formCanSubmit = true;
                    }
                }
                else if (item.control.getControlType() === ControlType.Help) {
                    /** @type {?} */
                    var shv = ((/** @type {?} */ (item.value)));
                    if (Object.keys(shv).length === 0 || !shv.value || !shv.valueField) {
                        formCanSubmit = false;
                        return false;
                    }
                    else {
                        formCanSubmit = true;
                    }
                }
                else if (item.control.getControlType() === ControlType.DropDown) {
                    /** @type {?} */
                    var ddv = ((/** @type {?} */ (item.value)));
                    if (Object.keys(ddv).length === 0 || !ddv.value) {
                        formCanSubmit = false;
                        return false;
                    }
                    else {
                        formCanSubmit = true;
                    }
                }
                else if (item.control.getControlType() === ControlType.DateRange) {
                    /** @type {?} */
                    var drv = ((/** @type {?} */ (item.value)));
                    if (Object.keys(drv).length === 0 || (!drv.startTime && !drv.endTime)) {
                        formCanSubmit = false;
                        return false;
                    }
                    else {
                        formCanSubmit = true;
                    }
                }
                else if (item.control.getControlType() === ControlType.DateRangeTime) {
                    /** @type {?} */
                    var drv = ((/** @type {?} */ (item.value)));
                    if (Object.keys(drv).length === 0 || (!drv.startTime && !drv.endTime)) {
                        formCanSubmit = false;
                        return false;
                    }
                    else {
                        formCanSubmit = true;
                    }
                }
                else if (item.control.getControlType() === ControlType.MonthRange) {
                    /** @type {?} */
                    var mrv = ((/** @type {?} */ (item.value)));
                    if (Object.keys(mrv).length === 0 || (!mrv.startTime && !mrv.endTime)) {
                        formCanSubmit = false;
                        return false;
                    }
                    else {
                        formCanSubmit = true;
                    }
                }
                else if (item.control.getControlType() === ControlType.YearRange) {
                    /** @type {?} */
                    var yrv = ((/** @type {?} */ (item.value)));
                    if (Object.keys(yrv).length === 0 || (!yrv.startTime && !yrv.endTime)) {
                        formCanSubmit = false;
                        return false;
                    }
                    else {
                        formCanSubmit = true;
                    }
                }
                else if (item.control.getControlType() === ControlType.NumberRange) {
                    /** @type {?} */
                    var nrv = ((/** @type {?} */ (item.value)));
                    if (Object.keys(nrv).length === 0 || (nrv.startValue === null && nrv.endValue === null)) {
                        formCanSubmit = false;
                        return false;
                    }
                    else {
                        formCanSubmit = true;
                    }
                }
                else if (item.control.getControlType() === ControlType.Search) {
                    /** @type {?} */
                    var sv = ((/** @type {?} */ (item.value)));
                    if (Object.keys(sv).length < 0 || !sv.value) {
                        formCanSubmit = false;
                        return false;
                    }
                    else {
                        formCanSubmit = true;
                    }
                }
                else if (item.control.getControlType() === ControlType.Date) {
                    /** @type {?} */
                    var dv = ((/** @type {?} */ (item.value)));
                    if (Object.keys(dv).length < 0 || !dv.value) {
                        formCanSubmit = false;
                        return false;
                    }
                    else {
                        formCanSubmit = true;
                    }
                }
                else if (item.control.getControlType() === ControlType.Month) {
                    /** @type {?} */
                    var mv = ((/** @type {?} */ (item.value)));
                    if (Object.keys(mv).length < 0 || !mv.value) {
                        formCanSubmit = false;
                        return false;
                    }
                    else {
                        formCanSubmit = true;
                    }
                }
                else if (item.control.getControlType() === ControlType.Year) {
                    /** @type {?} */
                    var yv = ((/** @type {?} */ (item.value)));
                    if (Object.keys(yv).length < 0 || !yv.value) {
                        formCanSubmit = false;
                        return false;
                    }
                    else {
                        formCanSubmit = true;
                    }
                }
                else if (item.control.getControlType() === ControlType.CheckboxGroup) {
                    /** @type {?} */
                    var cbgv = ((/** @type {?} */ (item.value)));
                    if (Object.keys(cbgv).length === 0 || Object.keys(cbgv.value).length === 0) {
                        formCanSubmit = false;
                        return false;
                    }
                    else {
                        formCanSubmit = true;
                    }
                }
                else if (item.control.getControlType() === ControlType.Radio) {
                    /** @type {?} */
                    var radiov = ((/** @type {?} */ (item.value)));
                    if (Object.keys(radiov).length < 0 || radiov.value === '') {
                        formCanSubmit = false;
                        return false;
                    }
                    else {
                        formCanSubmit = true;
                    }
                }
                else if (item.control.getControlType() === ControlType.InputGroup) {
                    /** @type {?} */
                    var sv = ((/** @type {?} */ (item.value)));
                    if (Object.keys(sv).length < 0 || !sv.textValue) {
                        formCanSubmit = false;
                        return false;
                    }
                    else {
                        formCanSubmit = true;
                    }
                }
                else if (item.control.getControlType() === ControlType.Number) {
                    /** @type {?} */
                    var nrv = ((/** @type {?} */ (item.value)));
                    if (Object.keys(nrv).length === 0 || (nrv.value == null)) {
                        formCanSubmit = false;
                        return false;
                    }
                    else {
                        formCanSubmit = true;
                    }
                }
                else if (item.control.getControlType() === ControlType.FlexibleNumber) {
                    /** @type {?} */
                    var flexv = ((/** @type {?} */ (item.value)));
                    if (flexv.single) {
                        if (Object.keys(flexv).length < 0 || flexv.value == null) {
                            formCanSubmit = false;
                            return false;
                        }
                        else {
                            formCanSubmit = true;
                        }
                    }
                    else {
                        if (Object.keys(flexv).length === 0 || (flexv.startValue == null && flexv.endValue == null)) {
                            formCanSubmit = false;
                            return false;
                        }
                        else {
                            formCanSubmit = true;
                        }
                    }
                }
                else if (item.control.getControlType() === ControlType.FlexibleDate) {
                    /** @type {?} */
                    var flexdatev = ((/** @type {?} */ (item.value)));
                    if (flexdatev.single) {
                        if (Object.keys(flexdatev).length < 0 || !flexdatev.value) {
                            formCanSubmit = false;
                            return false;
                        }
                        else {
                            formCanSubmit = true;
                        }
                    }
                    else {
                        if (Object.keys(flexdatev).length === 0 || (!flexdatev.startValue && !flexdatev.endValue)) {
                            formCanSubmit = false;
                            return false;
                        }
                        else {
                            formCanSubmit = true;
                        }
                    }
                }
            }
            return formCanSubmit;
        }
    };
    /** 高级筛选点击确定提交 */
    /**
     * 高级筛选点击确定提交
     * @return {?}
     */
    FilterComponent.prototype.listSearch = /**
     * 高级筛选点击确定提交
     * @return {?}
     */
    function () {
        var _this_1 = this;
        if (this.disabled) {
            return;
        }
        ;
        this.extendFilterList.forEach((/**
         * @param {?} field
         * @return {?}
         */
        function (field) {
            if ((field.control.getControlType() != ControlType.Date)
                && (field.control.getControlType() != ControlType.DateRange)
                && (field.control.getControlType() != ControlType.DateRangeTime)
                && (field.control.getControlType() != ControlType.FlexibleDate)) {
                if (!field.valueText) {
                    field.valueText = field.value.getValueText();
                }
            }
            // if(field.control.getControlType() == ControlType.Radio){
            //   console.log(field);
            // }
            field.filled = (field.valueText && field.valueText.length > 0) ? true : false;
            if (field.control.getControlType() == ControlType.Text) {
                /** @type {?} */
                var farrisSearchRecord = field.valueText;
                /** @type {?} */
                var farrisSearchRecordArray = [];
                /** @type {?} */
                var storagelabelCode = field.labelCode;
                /** @type {?} */
                var filterPanelArray = JSON.parse(localStorage.getItem(_this_1.localStorageKey));
                if (Array.isArray(filterPanelArray)) {
                    filterPanelArray = null;
                }
                if (!filterPanelArray || !filterPanelArray[storagelabelCode] || !filterPanelArray[storagelabelCode].length && farrisSearchRecord && farrisSearchRecord.length) {
                    farrisSearchRecordArray.push(farrisSearchRecord);
                }
                else {
                    farrisSearchRecordArray = filterPanelArray[storagelabelCode];
                    /** @type {?} */
                    var index = filterPanelArray[storagelabelCode].indexOf(farrisSearchRecord);
                    if (index < 0 && farrisSearchRecord && farrisSearchRecord.length) {
                        farrisSearchRecordArray.unshift(farrisSearchRecord);
                    }
                    farrisSearchRecordArray = farrisSearchRecordArray.slice(0, 6);
                }
                if (filterPanelArray == null)
                    filterPanelArray = {};
                filterPanelArray[storagelabelCode] = farrisSearchRecordArray;
                localStorage.setItem(_this_1.localStorageKey, JSON.stringify(filterPanelArray));
            }
        }));
        //判断高级筛选里是否已修改
        /** @type {?} */
        var extendAmendedList = this.extendFilterList.filter((/**
         * @param {?} item
         * @return {?}
         */
        function (item) { return item.filled; }));
        if (extendAmendedList && extendAmendedList.length) {
            this.showExpandTag = true;
        }
        else {
            this.showExpandTag = false;
        }
        this.extendFilterListStore = this.extendFilterList.map((/**
         * @param {?} o
         * @return {?}
         */
        function (o) { return (tslib_1.__assign({}, o)); }));
        this.extendFilterListStore.forEach((/**
         * @param {?} field
         * @return {?}
         */
        function (field) {
            /** @type {?} */
            var extendListIndex = _this_1.listFilterConditions.findIndex((/**
             * @param {?} item
             * @return {?}
             */
            function (item) {
                return item['id'] == field['id'];
            }));
            if (extendListIndex >= 0) {
                _this_1.listFilterConditions[extendListIndex] = field;
            }
        }));
        // console.log(this.listFilterConditions);
        this.searchChange.emit(this.listFilterConditions);
        this.inSetCurrentFilterConditions();
        this.filterListClassify();
        this.farrissidebar.isOpen = false;
        this.floatPanelOpen = false;
        this.cd.markForCheck();
        this.submit('extendFormData', this.listFilterConditions);
    };
    /** 提交表单 */
    /**
     * 提交表单
     * @param {?} type
     * @param {?} filterlist
     * @param {?=} filterItem
     * @return {?}
     */
    FilterComponent.prototype.submit = /**
     * 提交表单
     * @param {?} type
     * @param {?} filterlist
     * @param {?=} filterItem
     * @return {?}
     */
    function (type, filterlist, filterItem) {
        if (filterItem === void 0) { filterItem = null; }
        if (this.disabled || !this.showCanSubmit || !this.advancedCanSubmit) {
            return;
        }
        /** @type {?} */
        var queryList = this.handler.setFilterConditions(filterlist);
        this.query.emit({ type: type, data: JSON.stringify(queryList), filterItem: filterItem });
    };
    /** 设置筛选初始值 */
    /**
     * 设置筛选初始值
     * @param {?} fieldConfigs
     * @return {?}
     */
    FilterComponent.prototype.setFilterValue = /**
     * 设置筛选初始值
     * @param {?} fieldConfigs
     * @return {?}
     */
    function (fieldConfigs) {
        this.listFilterConditions = this.stagListFilterConditions.map((/**
         * @param {?} o
         * @return {?}
         */
        function (o) { return (tslib_1.__assign({}, o)); }));
        if (this.listFilterConditions && this.listFilterConditions.length) {
            this.setValues(this.listFilterConditions, fieldConfigs);
            /** @type {?} */
            var listFilter = this.listFilterConditions.map((/**
             * @param {?} o
             * @return {?}
             */
            function (o) { return (tslib_1.__assign({}, o)); }));
            this.listFilterConditions = listFilter;
            this.filterListClassify();
            this.searchChange.emit(this.listFilterConditions);
            this.inSetCurrentFilterConditions();
            // this.listSearch();
            this.cd.detectChanges();
            this.cd.markForCheck();
            this.canSubmit = this.canSubmitFilter(this.requiredListFilter);
            if (!this.canSubmit) {
                return;
            }
            this.submit('showFormData', this.listFilterConditions);
        }
    };
    /**
     * 清空筛选某一项
     * @param labelCode 字段编号唯一标识
     */
    /**
     * 清空筛选某一项
     * @param {?} labelCode 字段编号唯一标识
     * @return {?}
     */
    FilterComponent.prototype.resetFilterValue = /**
     * 清空筛选某一项
     * @param {?} labelCode 字段编号唯一标识
     * @return {?}
     */
    function (labelCode) {
        if (labelCode && this.listFilterConditions && this.listFilterConditions.length) {
            /** @type {?} */
            var resetCondition = this.listFilterConditions.find((/**
             * @param {?} conditions
             * @return {?}
             */
            function (conditions) {
                return conditions['fieldCode'] === labelCode;
            }));
            if (resetCondition) {
                this.resetListCondition(resetCondition);
                this.filterListClassify();
                this.cd.markForCheck();
                this.searchChange.emit(this.listFilterConditions);
                this.inSetCurrentFilterConditions();
                this.advancedCanSubmit = this.canSubmitFilter(this.extendRequiredList);
                this.submit('panelFormData', this.listFilterConditions);
            }
        }
    };
    // 设置value
    // 设置value
    /**
     * @param {?} conditions
     * @param {?} fieldConfigs
     * @return {?}
     */
    FilterComponent.prototype.setValues = 
    // 设置value
    /**
     * @param {?} conditions
     * @param {?} fieldConfigs
     * @return {?}
     */
    function (conditions, fieldConfigs) {
        var _this_1 = this;
        /** @type {?} */
        var qc;
        /** @type {?} */
        var controlType;
        if (fieldConfigs && fieldConfigs.length) {
            fieldConfigs.forEach((/**
             * @param {?} v
             * @return {?}
             */
            function (v) {
                qc = conditions.find((/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) { return c.fieldCode == v.labelCode; }));
                if (qc) {
                    controlType = _this_1.getControlType(qc);
                    qc.value = _this_1.filterService.setValues(controlType, v.value, qc.control.single);
                    qc.valueText = qc.value.getValueText(qc.control);
                    if (v.value) {
                        qc.filled = true;
                    }
                }
            }));
        }
    };
    /**
     * @param {?} fieldName
     * @return {?}
     */
    FilterComponent.prototype.getValue = /**
     * @param {?} fieldName
     * @return {?}
     */
    function (fieldName) {
        /** @type {?} */
        var queryList = this.handler.setFilterConditions(this.listFilterConditions);
        /** @type {?} */
        var item = queryList.find((/**
         * @param {?} n
         * @return {?}
         */
        function (n) { return n['FilterField'] === fieldName; }));
        if (item) {
            return item.value;
        }
        return undefined;
    };
    /**
     * 获取控件类型
     * @param selectedFieldCondition
     */
    /**
     * 获取控件类型
     * @param {?} selectedFieldCondition
     * @return {?}
     */
    FilterComponent.prototype.getControlType = /**
     * 获取控件类型
     * @param {?} selectedFieldCondition
     * @return {?}
     */
    function (selectedFieldCondition) {
        if (selectedFieldCondition) {
            if (selectedFieldCondition.control.getControlType() == ControlType.Text) {
                return 'input';
            }
            else if (selectedFieldCondition.control.getControlType() == ControlType.Search) {
                return 'search';
            }
            else if (selectedFieldCondition.control.getControlType() == ControlType.Date) {
                return 'date';
            }
            else if (selectedFieldCondition.control.getControlType() == ControlType.Month) {
                return 'month';
            }
            else if (selectedFieldCondition.control.getControlType() == ControlType.Year) {
                return 'year';
            }
            else if (selectedFieldCondition.control.getControlType() == ControlType.DateRange) {
                return 'daterange';
            }
            else if (selectedFieldCondition.control.getControlType() == ControlType.MonthRange) {
                return 'monthrange';
            }
            else if (selectedFieldCondition.control.getControlType() == ControlType.YearRange) {
                return 'yearrange';
            }
            else if (selectedFieldCondition.control.getControlType() == ControlType.DateRangeTime) {
                return 'daterangetime';
            }
            else if (selectedFieldCondition.control.getControlType() == ControlType.DropDown) {
                return 'dropdown';
            }
            else if (selectedFieldCondition.control.getControlType() == ControlType.NumberRange) {
                return 'number';
            }
            else if (selectedFieldCondition.control.getControlType() == ControlType.Help) {
                return 'help';
            }
            else if (selectedFieldCondition.control.getControlType() == ControlType.CheckboxGroup) {
                return 'checkboxgroup';
            }
            else if (selectedFieldCondition.control.getControlType() == ControlType.Radio) {
                return 'radio';
            }
            else if (selectedFieldCondition.control.getControlType() == ControlType.InputGroup) {
                return 'input-group';
            }
            else if (selectedFieldCondition.control.getControlType() == ControlType.Number) {
                return 'singlenumber';
            }
            else if (selectedFieldCondition.control.getControlType() == ControlType.FlexibleNumber) {
                return 'flexiblenumber';
            }
            else if (selectedFieldCondition.control.getControlType() == ControlType.FlexibleDate) {
                return 'flexibledate';
            }
            else {
                return 'input';
            }
        }
    };
    /**
     * 更新上下文中筛选数据
     */
    /**
     * 更新上下文中筛选数据
     * @return {?}
     */
    FilterComponent.prototype.inSetCurrentFilterConditions = /**
     * 更新上下文中筛选数据
     * @return {?}
     */
    function () {
        if (this.filterHandler) {
            this.filterHandler.setCurrentFilterConditions(this.listFilterConditions);
        }
    };
    /** 清空条件 */
    /**
     * 清空条件
     * @param {?} listFilterCondition
     * @return {?}
     */
    FilterComponent.prototype.resetListCondition = /**
     * 清空条件
     * @param {?} listFilterCondition
     * @return {?}
     */
    function (listFilterCondition) {
        if (listFilterCondition.control.getControlType() == ControlType.Text) {
            listFilterCondition.value = new TextValue();
        }
        else if (listFilterCondition.control.getControlType() == ControlType.Search) {
            listFilterCondition.value = new SearchValue();
        }
        else if (listFilterCondition.control.getControlType() == ControlType.Date) {
            listFilterCondition.value = new DateValue();
        }
        else if (listFilterCondition.control.getControlType() == ControlType.Month) {
            listFilterCondition.value = new MonthValue();
        }
        else if (listFilterCondition.control.getControlType() == ControlType.Year) {
            listFilterCondition.value = new YearValue();
        }
        else if (listFilterCondition.control.getControlType() == ControlType.DateRange) {
            listFilterCondition.value = new DateRangeValue();
        }
        else if (listFilterCondition.control.getControlType() == ControlType.MonthRange) {
            listFilterCondition.value = new MonthRangeValue();
        }
        else if (listFilterCondition.control.getControlType() == ControlType.YearRange) {
            listFilterCondition.value = new YearRangeValue();
        }
        else if (listFilterCondition.control.getControlType() == ControlType.DropDown) {
            listFilterCondition.value = new DropDownListValue();
        }
        else if (listFilterCondition.control.getControlType() == ControlType.NumberRange) {
            listFilterCondition.value = new NumberRangeValue();
        }
        else if (listFilterCondition.control.getControlType() == ControlType.Help) {
            listFilterCondition.value = new HelpValue();
        }
        else if (listFilterCondition.control.getControlType() == ControlType.CheckboxGroup) {
            listFilterCondition.value = new CheckboxGroupValue();
        }
        else if (listFilterCondition.control.getControlType() == ControlType.Radio) {
            listFilterCondition.value = new RadioGroupValue();
        }
        else if (listFilterCondition.control.getControlType() == ControlType.InputGroup) {
            listFilterCondition.value = new InputGroupValue();
        }
        else if (listFilterCondition.control.getControlType() == ControlType.Number) {
            listFilterCondition.value = new NumberValue();
        }
        else if (listFilterCondition.control.getControlType() == ControlType.FlexibleNumber) {
            listFilterCondition.value = new FlexibleNumberValue({ startValue: null, endValue: null, value: null }, listFilterCondition.control.single);
        }
        else if (listFilterCondition.control.getControlType() == ControlType.FlexibleDate) {
            listFilterCondition.value = new FlexibleDateValue({ startValue: null, endValue: null, value: null }, listFilterCondition.control.single);
        }
        else {
            listFilterCondition.value = new TextValue();
        }
        listFilterCondition.valueText = '';
        listFilterCondition.filled = false;
        // return listFilterCondition;
    };
    /**
     * @return {?}
     */
    FilterComponent.prototype.resetSearch = /**
     * @return {?}
     */
    function () {
        var _this_1 = this;
        if (this.disabled) {
            return;
        }
        if (this.listFilterConditions && this.listFilterConditions.length) {
            this.listFilterConditions.forEach((/**
             * @param {?} listFilterCondition
             * @return {?}
             */
            function (listFilterCondition) {
                _this_1.resetListCondition(listFilterCondition);
            }));
            this.listFilterConditions = this.listFilterConditions.map((/**
             * @param {?} o
             * @return {?}
             */
            function (o) { return (tslib_1.__assign({}, o)); }));
            this.filterListClassify();
            this.showCanSubmit = true;
            this.submit('panelFormData', this.listFilterConditions);
        }
        this.resetChange.emit();
        this.showExpandTag = false;
    };
    /**
     * 高级筛选清空筛选
     */
    /**
     * 高级筛选清空筛选
     * @return {?}
     */
    FilterComponent.prototype.resetAdvancedSearch = /**
     * 高级筛选清空筛选
     * @return {?}
     */
    function () {
        var _this_1 = this;
        if (this.extendFilterList && this.extendFilterList.length) {
            this.extendFilterList.forEach((/**
             * @param {?} listFilterCondition
             * @return {?}
             */
            function (listFilterCondition) {
                _this_1.resetListCondition(listFilterCondition);
            }));
            this.extendFilterList = this.extendFilterList.map((/**
             * @param {?} o
             * @return {?}
             */
            function (o) { return (tslib_1.__assign({}, o)); }));
        }
        if (this.extendRequiredList.length) {
            this.advancedCanSubmit = false;
        }
    };
    /**
     * valueText 特殊类型处理
     * @param item
     */
    /**
     * valueText 特殊类型处理
     * @param {?} item
     * @return {?}
     */
    FilterComponent.prototype.getValueText = /**
     * valueText 特殊类型处理
     * @param {?} item
     * @return {?}
     */
    function (item) {
        // console.log(item.fieldName,item.control.getControlType());
        if (item.control.getControlType() === ControlType.DropDown) {
            /** @type {?} */
            var enumValue = ((/** @type {?} */ (item.control))).enumValues;
            /** @type {?} */
            var value_1 = ((/** @type {?} */ (item.value))).value;
            if (enumValue && enumValue.length) {
                /** @type {?} */
                var texts = enumValue.find((/**
                 * @param {?} val
                 * @return {?}
                 */
                function (val) {
                    return val['value'] == value_1;
                }));
                if (texts) {
                    item.valueText = texts['name'];
                }
            }
        }
        else if (item.control.getControlType() === ControlType.CheckboxGroup) {
            /** @type {?} */
            var enumValue = ((/** @type {?} */ (item.control))).enumValues;
            /** @type {?} */
            var value_2 = ((/** @type {?} */ (item.value))).value;
            if (enumValue && enumValue.length && value_2 && value_2['length'] > 0) {
                if (item.control.boolcheck) {
                    item.valueText = value_2[0].toString();
                    if (item.valueText == 'true') {
                        item.valueText = this.localeService.getValue('text.yes');
                    }
                    else if (item.valueText == 'false') {
                        item.valueText = this.localeService.getValue('text.no');
                    }
                }
                else {
                    /** @type {?} */
                    var texts = [];
                    var _loop_1 = function (i) {
                        /** @type {?} */
                        var enums = enumValue.find((/**
                         * @param {?} val
                         * @return {?}
                         */
                        function (val) {
                            return val['value'] == value_2[i];
                        }));
                        if (enums) {
                            texts.push(enums['name']);
                        }
                    };
                    for (var i = 0; i <= value_2['length']; i++) {
                        _loop_1(i);
                    }
                    item.valueText = texts.join(',');
                }
            }
        }
        else if (item.control.getControlType() === ControlType.Radio) {
            /** @type {?} */
            var enumValue = ((/** @type {?} */ (item.control))).enumValues;
            /** @type {?} */
            var value_3 = ((/** @type {?} */ (item.value))).value;
            if (enumValue && enumValue.length) {
                /** @type {?} */
                var texts = enumValue.find((/**
                 * @param {?} val
                 * @return {?}
                 */
                function (val) {
                    return val['value'] == value_3;
                }));
                if (texts) {
                    item.valueText = texts['name'];
                    if (item.valueText == 'true') {
                        item.valueText = this.localeService.getValue('text.yes');
                    }
                    else if (item.valueText == 'false') {
                        item.valueText = this.localeService.getValue('text.no');
                    }
                }
            }
        }
        else if (item.control.getControlType() == ControlType.InputGroup) {
            item.valueText = item.value.getValueText();
        }
    };
    FilterComponent.decorators = [
        { type: Component, args: [{
                    selector: 'farris-filter',
                    template: "<div class=\"f-filter-wrapper\" #filterWrapper [style.display]=\"filterList&&filterList.length ? '': 'none'\">\r\n    <div class=\"f-filter-wrapper-inner f-utils-fill\">\r\n        <div class=\"f-filter-main f-utils-fill\" #filterMain>\r\n            <div class=\"f-filter-list-wrapper\" #listWrapper>\r\n                <div class=\"f-filter-list\"\r\n                [ngClass]=\"{'f-filter-list-extend': filterExtend && filterExtendShow}\"\r\n                 #filterListWrapper>\r\n                    <div class=\"f-filter-item\" \r\n                        *ngFor=\"let data of loopFilterList;let index = index;let last = last;let first = first;\"\r\n                        [ngClass]=\"{'f-filter-item-actived': data.filled,'f-filter-item-last':last,'f-filter-item-edit': data.id == currentFilterId}\"\r\n                        [id]=\"data['id']\"\r\n                        (click)=\"filterClick($event,data,index)\"\r\n                        >\r\n                            <div class=\"f-filter-item-inner\"\r\n                                farrisTooltip \r\n                                [showTip]=\"data.id !== currentFilterId && data.filled && data.valueText\" \r\n                                [placement]=\"'bottom'\" \r\n                                [content]=\"data.valueText\"\r\n                            >\r\n                                <span class=\"f-filter-item-required text-danger\" *ngIf=\"data.control.required\">*</span>\r\n                                <span class=\"f-filter-item-text\">\r\n                                    {{data.fieldName}}\r\n                                </span>\r\n                                <span class=\"f-filter-item-tip\" *ngIf=\"data.filled&&data.valueText\">\uFF1A</span>\r\n                                <span class=\"f-filter-item-content\" *ngIf=\"data.filled&&data.valueText\" >{{data.valueText}}</span>\r\n                                <!--  -->\r\n                                <span class=\"f-filter-item-arrow f-icon f-icon-arrow-chevron-down\"></span>\r\n                            </div>\r\n                            <span class=\"f-filter-item-clear\" *ngIf=\"!disabled&&data.filled&&data.valueText\" (click)=\"filterClear(data,index,$event)\">\r\n                                <span class=\"f-icon f-icon-close-circle\"></span>\r\n                            </span>\r\n                    </div>                 \r\n                    <div class=\"f-filter-toolbars\" *ngIf=\"filterExtend\">\r\n                        <button class=\"btn btn-link\" (click)=\"advancedFilter()\" *ngIf=\"floatFilter && extendFilterList && extendFilterList.length > 0\">{{ 'filterPanel.advancedFilter' | locale }}</button>\r\n                        <button class=\"btn btn-link\" (click)=\"resetSearch()\" *ngIf=\"!showReminder && filledFilter\">{{ 'filterPanel.reset' | locale }}</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"f-filter-list-ellipsis\" *ngIf=\"filterEllipsis && !filterExtend && filterExtendShow\" (click)=\"filterExpand()\">...</div>\r\n            <div class=\"f-filter-toolbars\" #filterTool *ngIf=\"!filterExtend\">\r\n                <button class=\"btn btn-link\" (click)=\"advancedFilter()\" *ngIf=\"floatFilter && extendFilterList && extendFilterList.length > 0\">{{ 'filterPanel.advancedFilter' | locale }}</button>\r\n                <button class=\"btn btn-link\" (click)=\"resetSearch()\" *ngIf=\"!showReminder && filledFilter\">{{ 'filterPanel.reset' | locale }}</button>\r\n            </div>\r\n        </div>\r\n        <div class=\"f-filter-extend-btn\" (click)=\"filterExpand()\" *ngIf=\"filterExtendShow\">\r\n            <button class=\"btn btn-link\">\r\n                <span class=\"extend-btn-text\">{{filterExtendText}}</span>\r\n                <span [class]=\"'extend-btn-arrow f-icon '+filterExtendIcon\"></span>\r\n            </button>\r\n        </div>\r\n        <div class=\"f-filter-extend-btn-advanced\" *ngIf=\"!floatFilter && extendFilterList && extendFilterList.length > 0\" [class.active]=\"floatPanelOpen\" (click)=\"floatFilterOpen()\">\r\n            <span class=\"f-icon f-icon-filtrate\"></span>\r\n            <span class=\"filter-expand-tag\" *ngIf=\"showExpandTag\"></span>\r\n        </div>\r\n    </div>\r\n    <div class=\"f-filter-inputs-extend position-absolute\" *ngIf=\"!floatFilter\" [hidden]=\"!floatPanelOpen\">\r\n        <div class=\"f-filter-typelist-arrow\"></div>\r\n        <div class=\"f-filter-inputs-extend-list farris-form farris-form-auto\" [ngClass]=\"{'farris-form-controls-inline':isControlInline}\">\r\n            <fieldset class=\"f-section-formgroup\">\r\n                <div class=\"f-section-formgroup-inputs\">\r\n                  <div class=\"col-12\">\r\n                    <ng-container *ngFor=\"let item of extendFilterList\">\r\n                        <div class=\"filter-input-list farris-group-wrap\">\r\n                            <ng-container [ngTemplateOutlet]=\"filterInputTemplate\" [ngTemplateOutletContext]=\"{ item: item }\">\r\n                            </ng-container>\r\n                        </div>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n            </fieldset>\r\n          <div class=\"f-filter-form-btns text-right\">\r\n            <button class=\"btn btn-link filter-form-btn-reset\" (click)=\"resetAdvancedSearch()\">{{ 'filterPanel.reset' | locale }}</button>\r\n            <!-- bugNum:456508 -->\r\n            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"listCancel()\">{{ 'filterPanel.cancel' | locale }}</button>\r\n            <button type=\"button\" class=\"f-sidebar-filter-btn-confirm btn btn-primary\" [ngClass]=\"{'disabled': disabled}\" (click)=\"listSearch()\">{{ 'filterPanel.confirm' | locale }}</button>\r\n          </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"f-filter-item-reminder\" *ngIf=\"showReminder && showReminderItem\" [ngStyle]=\"{'left': reminderLeft+'px'}\">\r\n        <span class=\"reminder-arrow\"></span>\r\n        <div class=\"reminder-inner\">\r\n            <span class=\"f-icon f-icon-help-01\"></span>\r\n            <span class=\"reminder-text\">{{ 'filterPanel.pleaseInput' | locale }}<span>{{showReminderItem.fieldName}}</span></span>\r\n        </div>\r\n    </div>\r\n</div>\r\n<farris-sidebar [title]=\"'filterPanel.advancedFilter' | locale\" #farrissidebar [resizeable]=\"true\" [mainCls]=\"'f-sidebar-filter-main'\"\r\n    [showEntry]=\"false\" [showHeader]=\"true\" [showFooter]=\"true\" [maskable]=\"true\" [maskClosable]=\"false\"\r\n    [showClose]=\"false\" [width]=\"468\" [isOpen]=\"sidebarOpen\" *ngIf=\"extendFilterList && extendFilterList.length > 0\">\r\n    <ng-template farrisSidebarToolbar></ng-template>\r\n    <ng-template farrisSidebarContent [contentCls]=\"'f-sidebar-filter-content'\">\r\n        <div class=\"f-sidebar-filter-list farris-form\" [ngClass]=\"{'farris-form-controls-inline':isControlInline}\">\r\n            <div class=\"filter-list-item farris-group-wrap\" *ngFor=\"let item of extendFilterList\">\r\n                <ng-container [ngTemplateOutlet]=\"filterInputTemplate\" [ngTemplateOutletContext]=\"{ item: item }\">\r\n                </ng-container>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n    <ng-template farrisSidebarFooter [footerCls]=\"'f-sidebar-filter-footer'\">\r\n        <div class=\"f-sidebar-filter-clear\">\r\n            <button class=\"btn btn-link\" (click)=\"resetAdvancedSearch()\">{{ 'filterPanel.reset' | locale }}</button>\r\n        </div>\r\n        <div class=\"f-sidebar-filter-btns\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" (click)=\"listCancel()\">{{ 'filterPanel.cancel' | locale }}</button>\r\n            <button type=\"button\" class=\"f-sidebar-filter-btn-confirm btn btn-primary\" [ngClass]=\"{'disabled': disabled}\" (click)=\"listSearch()\">{{ 'filterPanel.confirm' | locale }}</button>\r\n        </div>\r\n    </ng-template>\r\n</farris-sidebar>\r\n\r\n<ng-template #filterInputTemplate let-item=\"item\">\r\n    <ng-container [ngSwitch]=\"item | controlType\">\r\n        <div class=\"filter-input-item filter-type-input\" *ngSwitchCase=\"'input'\">\r\n            <app-filter-input [item]=\"item\" [disabled]=\"disabled\"\r\n                (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"></app-filter-input>\r\n        </div>\r\n        <div class=\"filter-input-item filter-type-search\" *ngSwitchCase=\"'search'\">\r\n            <app-filter-search [item]=\"item\" [disabled]=\"disabled\"\r\n                (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"></app-filter-search>\r\n        </div>\r\n        <div class=\"filter-input-item filter-type-date\" *ngSwitchCase=\"'date'\">\r\n            <app-filter-date [item]=\"item\" [disabled]=\"disabled\"\r\n                (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"></app-filter-date>\r\n        </div>\r\n        <div class=\"filter-input-item filter-type-year\" *ngSwitchCase=\"'year'\">\r\n            <app-filter-date [item]=\"item\" [disabled]=\"disabled\" [showType]=\"'3'\" (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"></app-filter-date>\r\n        </div>\r\n        <div class=\"filter-input-item filter-type-month\" *ngSwitchCase=\"'month'\">\r\n            <app-filter-date [item]=\"item\" [disabled]=\"disabled\" [showType]=\"'2'\" (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"></app-filter-date>\r\n        </div>\r\n        <div class=\"filter-input-item filter-type-date\" *ngSwitchCase=\"'daterange'\">\r\n            <app-filter-daterange [item]=\"item\" [disabled]=\"disabled\"\r\n                (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"></app-filter-daterange>\r\n        </div>\r\n        <div class=\"filter-input-item filter-type-date\" *ngSwitchCase=\"'daterangetime'\">\r\n            <app-filter-daterange [item]=\"item\" [disabled]=\"disabled\" [showTime]=\"true\"\r\n                (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"></app-filter-daterange>\r\n        </div>\r\n        <div class=\"filter-input-item filter-type-monthrange\" *ngSwitchCase=\"'monthrange'\">\r\n            <app-filter-daterange [item]=\"item\" [disabled]=\"disabled\" [showType]=\"'2'\" (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"></app-filter-daterange>\r\n        </div>\r\n        <div class=\"filter-input-item filter-type-yearrange\" *ngSwitchCase=\"'yearrange'\">\r\n            <app-filter-daterange [item]=\"item\" [disabled]=\"disabled\" [showType]=\"'3'\" (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"></app-filter-daterange>\r\n        </div>\r\n        <div class=\"filter-input-item filter-type-dropdown\" *ngSwitchCase=\"'dropdown'\">\r\n            <app-filter-dropdown [item]=\"item\" [disabled]=\"disabled\"\r\n                (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"></app-filter-dropdown>\r\n        </div>\r\n        <div class=\"filter-input-item filter-type-number\" *ngSwitchCase=\"'number'\">\r\n            <app-filter-number [item]=\"item\" [disabled]=\"disabled\"\r\n                (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"></app-filter-number>\r\n        </div>\r\n        <div class=\"filter-input-item filter-type-single-number\" *ngSwitchCase=\"'singlenumber'\">\r\n            <app-filter-single-number [item]=\"item\" [disabled]=\"disabled\"\r\n                (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"></app-filter-single-number>\r\n        </div>\r\n        <div class=\"filter-input-item filter-type-help\" *ngSwitchCase=\"'help'\">\r\n            <app-filter-help [item]=\"item\" [disabled]=\"disabled\" [hostRef]=\"this\"\r\n                (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"></app-filter-help>\r\n        </div>\r\n        <div class=\"filter-input-item filter-type-checkboxgroup\" *ngSwitchCase=\"'checkboxgroup'\">\r\n            <app-filter-checkbox [item]=\"item\" [disabled]=\"disabled\"\r\n                (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"\r\n                style=\"white-space: nowrap;\"></app-filter-checkbox>\r\n        </div>\r\n        <div class=\"filter-input-item filter-type-radio\" *ngSwitchCase=\"'radio'\">\r\n            <app-filter-radio [item]=\"item\" [disabled]=\"disabled\"\r\n                (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"\r\n                style=\"white-space: nowrap;\"></app-filter-radio>\r\n        </div>\r\n        <div class=\"filter-input-item filter-type-input-group\" *ngSwitchCase=\"'input-group'\">\r\n            <app-filter-inputgroup [item]=\"item\" [disabled]=\"disabled\"\r\n                (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"\r\n                style=\"white-space: nowrap;\"></app-filter-inputgroup>\r\n        </div>\r\n        <div class=\"filter-input-item filter-type-flexiblenumbe\" *ngSwitchCase=\"'flexiblenumber'\">\r\n            <app-filter-flexiblenumber [item]=\"item\" [disabled]=\"disabled\"\r\n                (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"\r\n                style=\"white-space: nowrap;\"></app-filter-flexiblenumber>\r\n        </div>\r\n        <div class=\"filter-input-item filter-type-flexiblenumbe\" *ngSwitchCase=\"'flexibledate'\">\r\n            <app-filter-flexibledate [item]=\"item\" [disabled]=\"disabled\"\r\n                (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"\r\n                style=\"white-space: nowrap;\"></app-filter-flexibledate>\r\n        </div>\r\n        <!-- <div class=\"filter-input-item filter-type-boolcheckbox\" *ngSwitchCase=\"'bool-check'\">\r\n            <app-filter-checkbox [item]=\"item\" [disabled]=\"disabled\" [boolcheck]=\"true\"\r\n            (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"\r\n            style=\"white-space: nowrap;\"></app-filter-checkbox>\r\n        </div> -->\r\n        <div class=\"filter-input-item filter-type-default\" *ngSwitchDefault>\r\n            <app-filter-input [item]=\"item\" [disabled]=\"disabled\"\r\n                (searchHandle)=\"onSearch($event,item)\" class=\"form-group farris-form-group\"></app-filter-input>\r\n        </div>\r\n    </ng-container>\r\n</ng-template>",
                    encapsulation: ViewEncapsulation.None,
                    providers: [
                        FilterPanelService
                    ]
                }] }
    ];
    /** @nocollapse */
    FilterComponent.ctorParameters = function () { return [
        { type: FilterPanelService },
        { type: FilterService },
        { type: ConvertorService },
        { type: QuerySolutionService },
        { type: ChangeDetectorRef },
        { type: Renderer2 },
        { type: NgZone },
        { type: LocaleService },
        { type: Injector, decorators: [{ type: Optional }] }
    ]; };
    FilterComponent.propDecorators = {
        filterList: [{ type: Input }],
        disabled: [{ type: Input }],
        showReminder: [{ type: Input }],
        floatFilter: [{ type: Input }],
        enableAutoWidth: [{ type: Input }],
        localStorageKey: [{ type: Input }],
        defaultValue: [{ type: Input }],
        cla: [{ type: HostBinding, args: ['class.f-filter',] }],
        query: [{ type: Output }],
        searchChange: [{ type: Output }],
        resetChange: [{ type: Output }],
        clearFilter: [{ type: Output }],
        expandFilter: [{ type: Output }],
        packupFilter: [{ type: Output }],
        filterResize: [{ type: Output }],
        filterMain: [{ type: ViewChild, args: ['filterMain',] }],
        filterTool: [{ type: ViewChild, args: ['filterTool',] }],
        filterWrapper: [{ type: ViewChild, args: ['filterWrapper',] }],
        farrissidebar: [{ type: ViewChild, args: ['farrissidebar',] }],
        listWrapper: [{ type: ViewChild, args: ['listWrapper',] }],
        filterListWrapper: [{ type: ViewChild, args: ['filterListWrapper',] }]
    };
    return FilterComponent;
}());
export { FilterComponent };
if (false) {
    /** @type {?} */
    FilterComponent.prototype._filterList;
    /** @type {?} */
    FilterComponent.prototype.disabled;
    /** @type {?} */
    FilterComponent.prototype.showReminder;
    /** @type {?} */
    FilterComponent.prototype.floatFilter;
    /**
     * @type {?}
     * @private
     */
    FilterComponent.prototype._enableAutoWidth;
    /** @type {?} */
    FilterComponent.prototype.localStorageKey;
    /** @type {?} */
    FilterComponent.prototype._defaultValue;
    /** @type {?} */
    FilterComponent.prototype.cla;
    /** @type {?} */
    FilterComponent.prototype.query;
    /** @type {?} */
    FilterComponent.prototype.searchChange;
    /** @type {?} */
    FilterComponent.prototype.resetChange;
    /** @type {?} */
    FilterComponent.prototype.clearFilter;
    /** @type {?} */
    FilterComponent.prototype.expandFilter;
    /** @type {?} */
    FilterComponent.prototype.packupFilter;
    /** @type {?} */
    FilterComponent.prototype.filterResize;
    /** @type {?} */
    FilterComponent.prototype.filterMain;
    /** @type {?} */
    FilterComponent.prototype.filterTool;
    /** @type {?} */
    FilterComponent.prototype.filterWrapper;
    /** @type {?} */
    FilterComponent.prototype.farrissidebar;
    /** @type {?} */
    FilterComponent.prototype.listWrapper;
    /** @type {?} */
    FilterComponent.prototype.filterListWrapper;
    /** @type {?} */
    FilterComponent.prototype.currentFilterId;
    /** @type {?} */
    FilterComponent.prototype.filterExtend;
    /** @type {?} */
    FilterComponent.prototype.filterEllipsis;
    /** @type {?} */
    FilterComponent.prototype.filterExtendShow;
    /** @type {?} */
    FilterComponent.prototype.filterExtendText;
    /** @type {?} */
    FilterComponent.prototype.filterExtendIcon;
    /** @type {?} */
    FilterComponent.prototype.expandText;
    /** @type {?} */
    FilterComponent.prototype.foldText;
    /** @type {?} */
    FilterComponent.prototype.filterWrapperEl;
    /** @type {?} */
    FilterComponent.prototype.filterToolWidth;
    /** @type {?} */
    FilterComponent.prototype.sidebarOpen;
    /** @type {?} */
    FilterComponent.prototype.floatPanelOpen;
    /** @type {?} */
    FilterComponent.prototype.showExpandTag;
    /**
     * 表单是否允许提交
     * @type {?}
     */
    FilterComponent.prototype.canSubmit;
    /**
     * 表单是否允许提交,用于高级筛选清空后
     * @type {?}
     */
    FilterComponent.prototype.advancedCanSubmit;
    /**
     * 默认展开项是否允许提交
     * @type {?}
     */
    FilterComponent.prototype.showCanSubmit;
    /**
     * 是否显示清空已选
     * @type {?}
     */
    FilterComponent.prototype.filledFilter;
    /**
     * 默认展开的筛选项
     * @type {?}
     */
    FilterComponent.prototype.showFilterList;
    /**
     * 高级筛选
     * @type {?}
     */
    FilterComponent.prototype.extendFilterList;
    /** @type {?} */
    FilterComponent.prototype.extendFilterListStore;
    /** @type {?} */
    FilterComponent.prototype.extendFilterListTemporary;
    /**
     * 已填写筛选数据
     * @type {?}
     */
    FilterComponent.prototype.filledFilterList;
    /**
     * 高级筛选中已填写的
     * @type {?}
     */
    FilterComponent.prototype.filledExtendFilterList;
    /**
     * 高级筛选中必填项
     * @type {?}
     */
    FilterComponent.prototype.extendRequiredList;
    /**
     * 默认筛选中必填项
     * @type {?}
     */
    FilterComponent.prototype.showRequiredList;
    /**
     * 循环表单
     * @type {?}
     */
    FilterComponent.prototype.listFilterConditions;
    /**
     * 默认展开＋高级筛选中已填写的
     * @type {?}
     */
    FilterComponent.prototype.loopFilterList;
    /**
     * 用来存储setvalue前数据
     * @type {?}
     */
    FilterComponent.prototype.stagListFilterConditions;
    /**
     * 显示中表单的必填项
     * @type {?}
     */
    FilterComponent.prototype.requiredListFilter;
    /** @type {?} */
    FilterComponent.prototype.localeIds;
    /** @type {?} */
    FilterComponent.prototype.currentLocale;
    /** @type {?} */
    FilterComponent.prototype.isControlInline;
    /**
     * 组件服务接口
     * @type {?}
     */
    FilterComponent.prototype.filterHandler;
    /** @type {?} */
    FilterComponent.prototype.filterPanelContainer;
    /** @type {?} */
    FilterComponent.prototype.showReminderItem;
    /** @type {?} */
    FilterComponent.prototype.reminderLeft;
    /**
     * @type {?}
     * @private
     */
    FilterComponent.prototype.ro;
    /**
     * @type {?}
     * @private
     */
    FilterComponent.prototype.containerWidthRecord;
    /**
     * @type {?}
     * @private
     */
    FilterComponent.prototype.distanceThreshold;
    /**
     * @type {?}
     * @private
     */
    FilterComponent.prototype.filterPanelService;
    /**
     * @type {?}
     * @private
     */
    FilterComponent.prototype.filterService;
    /**
     * @type {?}
     * @private
     */
    FilterComponent.prototype.convertorService;
    /**
     * @type {?}
     * @private
     */
    FilterComponent.prototype.handler;
    /**
     * @type {?}
     * @private
     */
    FilterComponent.prototype.cd;
    /**
     * @type {?}
     * @private
     */
    FilterComponent.prototype.render;
    /** @type {?} */
    FilterComponent.prototype.ngzone;
    /** @type {?} */
    FilterComponent.prototype.localeService;
    /**
     * @type {?}
     * @private
     */
    FilterComponent.prototype.injector;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BmYXJyaXMvdWktZmlsdGVyLyIsInNvdXJjZXMiOlsibGliL2ZpbHRlci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQ0gsU0FBUyxFQUFVLEtBQUssRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUUsVUFBVSxFQUFpQixpQkFBaUIsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUN2SCxZQUFZLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxXQUFXLEVBQ2hGLE1BQU0sZUFBZSxDQUFDO0FBSXZCLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBRTVELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNsRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUVuRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDakQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFFOUQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQUM5RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFDOUQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sMkNBQTJDLENBQUM7QUFDOUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHdDQUF3QyxDQUFDO0FBRXhFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHlDQUF5QyxDQUFDO0FBQzNFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxxQ0FBcUMs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TyxPQUFPLENBQUM7YUFDbEI7aUJBQ0ksSUFBSSxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFLElBQUksV0FBVyxDQUFDLE1BQU0sRUFBRTtnQkFDNUUsT0FBTyxRQUFRLENBQUM7YUFDbkI7aUJBQ0ksSUFBSSxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFLElBQUksV0FBVyxDQUFDLElBQUksRUFBRTtnQkFDMUUsT0FBTyxNQUFNLENBQUM7YUFDakI7aUJBQ0ksSUFBSSxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFLElBQUksV0FBVyxDQUFDLEtBQUssRUFBRTtnQkFDM0UsT0FBTyxPQUFPLENBQUM7YUFDbEI7aUJBQ0ksSUFBSSxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFLElBQUksV0FBVyxDQUFDLElBQUksRUFBRTtnQkFDMUUsT0FBTyxNQUFNLENBQUM7YUFDakI7aUJBQ0ksSUFBSSxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFLElBQUksV0FBVyxDQUFDLFNBQVMsRUFBRTtnQkFDL0UsT0FBTyxXQUFXLENBQUM7YUFDdEI7aUJBQ0ksSUFBSSxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFLElBQUksV0FBVyxDQUFDLFVBQVUsRUFBRTtnQkFDaEYsT0FBTyxZQUFZLENBQUM7YUFDdkI7aUJBQ0ksSUFBSSxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFLElBQUksV0FBVyxDQUFDLFNBQVMsRUFBRTtnQkFDL0UsT0FBTyxXQUFXLENBQUM7YUFDdEI7aUJBQ0ksSUFBSSxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFLElBQUksV0FBVyxDQUFDLGFBQWEsRUFBRTtnQkFDbkYsT0FBTyxlQUFlLENBQUM7YUFDMUI7aUJBQ0ksSUFBSSxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFLElBQUksV0FBVyxDQUFDLFFBQVEsRUFBRTtnQkFDOUUsT0FBTyxVQUFVLENBQUM7YUFDckI7aUJBQ0ksSUFBSSxzQkFBc0Is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REFBK0U7Ozs7O0lBRS9FLDJDQUFzRTs7Ozs7SUFFdEUsaURBQTRFOzs7OztJQUk1RSw2Q0FBd0U7Ozs7O0lBRXhFLDJDQUFzRTs7Ozs7SUFFdEUsK0NBQTBFOzs7OztJQUUxRSx5Q0FBb0U7Ozs7O0lBRXBFLG1EQUE4RTs7Ozs7SUFFOUUsNkNBQStDOztJQUUvQyxvQ0FHRTs7SUFDRix3Q0FBeUI7O0lBQ3pCLDBDQUF1Qjs7Ozs7SUFJdkIsd0NBQTZCOztJQUM3QiwrQ0FBcUI7O0lBRXJCLDJDQUFpQzs7SUFDakMsdUNBQWlCOzs7OztJQUVqQiw2QkFBeUM7Ozs7O0lBRXpDLCtDQUFpQzs7Ozs7SUFFakMsNENBQStCOzs7OztJQUczQiw2Q0FBOEM7Ozs7O0lBQzlDLHdDQUFvQzs7Ozs7SUFDcEMsMkNBQTBDOzs7OztJQUMxQyxrQ0FBcUM7Ozs7O0lBQ3JDLDZCQUE2Qjs7Ozs7SUFDN0IsaUNBQXlCOztJQUN6QixpQ0FBcUI7O0lBQ3JCLHdDQUFtQzs7Ozs7SUFDbkMsbUNBQXNDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICAgIENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgVmlld0NoaWxkLCBWaWV3RW5jYXBzdWxhdGlvbiwgRWxlbWVudFJlZiwgQWZ0ZXJWaWV3SW5pdCwgQ2hhbmdlRGV0ZWN0b3JSZWYsIFJlbmRlcmVyMiwgTmdab25lLFxyXG4gICAgRXZlbnRFbWl0dGVyLCBPdXRwdXQsIEluamVjdG9yLCBPcHRpb25hbCwgTE9DQUxFX0lELCBJbmplY3RGbGFncywgSG9zdEJpbmRpbmcsIE9uQ2hhbmdlcywgU2ltcGxlQ2hhbmdlcywgT25EZXN0cm95XHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IGZyb21FdmVudCB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBkZWJvdW5jZVRpbWUsIGZpbHRlciB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuaW1wb3J0IHsgYW5pbWF0aW9uRnJhbWUgfSBmcm9tICdyeGpzL2ludGVybmFsL3NjaGVkdWxlci9hbmltYXRpb25GcmFtZSc7XHJcbmltcG9ydCB7IEZhcnJpc1NpZGViYXJDb21wb25lbnQgfSBmcm9tICdAZmFycmlzL3VpLXNpZGViYXInO1xyXG5cclxuaW1wb3J0IHsgTG9jYWxlU2VydmljZSB9IGZyb20gJ0BmYXJyaXMvdWktbG9jYWxlJztcclxuaW1wb3J0IHsgRmlsdGVyUGFuZWxTZXJ2aWNlIH0gZnJvbSAnQGZhcnJpcy91aS1maWx0ZXItcGFuZWwnO1xyXG5pbXBvcnQgeyBRdWVyeVNvbHV0aW9uU2VydmljZSB9IGZyb20gJ0BmYXJyaXMvdWktZmlsdGVyLWNvbmRpdGlvbic7XHJcblxyXG5pbXBvcnQgeyBGaWx0ZXJTZXJ2aWNlIH0gZnJvbSAnLi9maWx0ZXIuc2VydmljZSc7XHJcbmltcG9ydCB7IENvbnZlcnRvclNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2UvY29udmVydG9yc2VydmljZSc7XHJcbmltcG9ydCB7IFF1ZXJ5Q29uZGl0aW9uIH0gZnJvbSAnLi9lbnRpdHkvcXVlcnljb25kaXRpb24nO1xyXG5pbXBvcnQgeyBDb250cm9sVHlwZSB9IGZyb20gJy4vZW50aXR5L2NvbnRyb2x0eXBlJztcclxuaW1wb3J0IHsgVGV4dFZhbHVlIH0gZnJvbSAnLi9lbnRpdHkvY29uZGl0aW9udmFsdWUvdGV4dHZhbHVlJztcclxuaW1wb3J0IHsgSGVscFZhbHVlIH0gZnJvbSAnLi9lbnRpdHkvY29uZGl0aW9udmFsdWUvaGVscHZhbHVlJztcclxuaW1wb3J0IHsgRHJvcERvd25MaXN0VmFsdWUgfSBmcm9tICcuL2VudGl0eS9jb25kaXRpb252YWx1ZS9kcm9wZG93bmxpc3R2YWx1ZSc7XHJcbmltcG9ydCB7IERhdGVSYW5nZVZhbHVlIH0gZnJvbSAnLi9lbnRpdHkvY29uZGl0aW9udmFsdWUvZGF0ZXJhbmdldmFsdWUnO1xyXG5pbXBvcnQgeyBEYXRlUmFuZ2VUaW1lVmFsdWUgfSBmcm9tICcuL2VudGl0eS9jb25kaXRpb252YWx1ZS9kYXRlcmFuZ2V0aW1ldmFsdWUnO1xyXG5pbXBvcnQgeyBOdW1iZXJSYW5nZVZhbHVlIH0gZnJvbSAnLi9lbnRpdHkvY29uZGl0aW9udmFsdWUvbnVtYmVycmFuZ2V2YXVlJztcclxuaW1wb3J0IHsgU2VhcmNoVmFsdWUgfSBmcm9tICcuL2VudGl0eS9jb25kaXRpb252YWx1ZS9zZWFyY2h2YWx1ZSc7XHJcbmltcG9ydCB7IERhdGVWYWx1ZSB9IGZyb20gJy4vZW50aXR5L2NvbmRpdGlvbnZhbHVlL2RhdGV2YWx1ZSc7XHJcbmltcG9ydCB7IENoZWNrYm94R3JvdXBWYWx1ZSB9IGZyb20gJy4vZW50aXR5L2NvbmRpdGlvbnZhbHVlL2NoZWNrYm94Z3JvdXB2YWx1ZSc7XHJcblxyXG5pbXBvcnQgeyBGaWVsZENvbmZpZyB9IGZyb20gJy4vZW50aXR5L2ZpZWxkY29uZmlnL2ZpZWxkY29uZmlnJztcclxuaW1wb3J0IHsgRmlsdGVySGFuZGxlciwgRklMVEVSX0hBTkRMRVJfVE9LRU4gfSBmcm9tICcuL2ludGVyZmFjZS9maWx0ZXJIYW5kbGVyJztcclxuaW1wb3J0IHsgZGVlcENvcHkgfSBmcm9tICcuL3V0aWxzJztcclxuaW1wb3J0IHsgRHJvcERvd25Db250cm9sIH0gZnJvbSAnLi9lbnRpdHkvY29udHJvbHR5cGUvZHJvcGRvd25saXN0L2Ryb3Bkb3duY29udHJvbCc7XHJcbmltcG9ydCB7IENoZWNrYm94R3JvdXBDb250cm9sIH0gZnJvbSAnLi9lbnRpdHkvY29udHJvbHR5cGUvY2hlY2tib3gvY2hlY2tib3hjb250cm9sJztcclxuaW1wb3J0IHsgUmFkaW9Hcm91cFZhbHVlIH0gZnJvbSAnLi9lbnRpdHkvY29uZGl0aW9udmFsdWUvcmFkaW92YWx1ZSc7XHJcbmltcG9ydCB7IFJhZGlvQ29udHJvbCB9IGZyb20gJy4vZW50aXR5L2NvbnRyb2x0eXBlL3JhZGlvL3JhZGlvY29udHJvbCc7XHJcbmltcG9ydCB7IE1vbnRoUmFuZ2VWYWx1ZSB9IGZyb20gJy4vZW50aXR5L2NvbmRpdGlvbnZhbHVlL21vbnRocmFuZ2UnO1xyXG5pbXBvcnQgeyBZZWFyUmFuZ2VWYWx1ZSB9IGZyb20gJy4vZW50aXR5L2NvbmRpdGlvbnZhbHVlL3llYXJyYW5nZSc7XHJcbmltcG9ydCB7IE1vbnRoVmFsdWUgfSBmcm9tICcuL2VudGl0eS9jb25kaXRpb252YWx1ZS9tb250aCc7XHJcbmltcG9ydCB7IFllYXJWYWx1ZSB9IGZyb20gJy4vZW50aXR5L2NvbmRpdGlvbnZhbHVlL3llYXJ2YWx1ZSc7XHJcbmltcG9ydCB7IElucHV0R3JvdXBWYWx1ZSB9IGZyb20gJy4vZW50aXR5L2NvbmRpdGlvbnZhbHVlL2lucHV0Z3JvdXAnO1xyXG5pbXBvcnQgeyBOdW1iZXJWYWx1ZSB9IGZyb20gJy4vZW50aXR5L2NvbmRpdGlvbnZhbHVlL251bWJlcnZhbHVlJztcclxuaW1wb3J0IHsgRmxleGlibGVOdW1iZXJWYWx1ZSB9IGZyb20gJy4vZW50aXR5L2NvbmRpdGlvbnZhbHVlL2ZsZXhpYmxlbnVtYmVydmFsdWUnO1xyXG5pbXBvcnQgeyBGbGV4aWJsZURhdGVWYWx1ZSB9IGZyb20gJy4vZW50aXR5L2NvbmRpdGlvbnZhbHVlL2ZsZXhpYmxlZGF0ZXZhbHVlJztcclxuaW1wb3J0IFJlc2l6ZU9ic2VydmVyIGZyb20gXCJyZXNpemUtb2JzZXJ2ZXItcG9seWZpbGxcIjtcclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ2ZhcnJpcy1maWx0ZXInLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcuL2ZpbHRlci5jb21wb25lbnQuaHRtbCcsXHJcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxyXG4gICAgcHJvdmlkZXJzOiBbXHJcbiAgICAgICAgRmlsdGVyUGFuZWxTZXJ2aWNlXHJcbiAgICBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBGaWx0ZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyVmlld0luaXQsIE9uQ2hhbmdlcywgT25EZXN0cm95IHtcclxuXHJcbiAgICBfZmlsdGVyTGlzdDogQXJyYXk8YW55PiA9IFtdO1xyXG4gICAgQElucHV0KClcclxuICAgIGdldCBmaWx0ZXJMaXN0KCk6IEFycmF5PGFueT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9maWx0ZXJMaXN0O1xyXG4gICAgfVxyXG4gICAgc2V0IGZpbHRlckxpc3QoZmlsdGVyTGlzdDogQXJyYXk8YW55Pikge1xyXG4gICAgICAgIHRoaXMuX2ZpbHRlckxpc3QgPSBmaWx0ZXJMaXN0IHx8IFtdO1xyXG4gICAgICAgIHRoaXMuaW5pdEZpbHRlckxpc3QoKTtcclxuICAgIH1cclxuICAgIC8v5piv5ZCm56aB55SoXHJcbiAgICBASW5wdXQoKSBkaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgQElucHV0KCkgc2hvd1JlbWluZGVyID0gZmFsc2U7XHJcbiAgICAvLyDmmK/lkKblkK/nlKjkvqfovrnmoI/lj47mipgt6L+H5ruk5p2h5Lu25Zyo5L6n6L655qCP5pi+56S6XHJcbiAgICBASW5wdXQoKSBmbG9hdEZpbHRlciA9IHRydWU7XHJcbiAgICAvLyDlkK/nlKjoh6rliqjlrr3luqZcclxuICAgIHByaXZhdGUgX2VuYWJsZUF1dG9XaWR0aCA9IGZhbHNlO1xyXG4gICAgQElucHV0KClcclxuICAgIHNldCBlbmFibGVBdXRvV2lkdGgodmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX2VuYWJsZUF1dG9XaWR0aCkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyRWxsaXBzaXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyRXh0ZW5kU2hvdyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZUF1dG9XaWR0aCA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldCBlbmFibGVBdXRvV2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuYWJsZUF1dG9XaWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBASW5wdXQoKSBsb2NhbFN0b3JhZ2VLZXk6IHN0cmluZyA9ICdmYXJyaXNTZWFyY2hSZWNvcmQnO1xyXG5cclxuICAgIC8v5Yid5aeL5YyW5YC8XHJcbiAgICBfZGVmYXVsdFZhbHVlOiBGaWVsZENvbmZpZ1tdO1xyXG4gICAgQElucHV0KClcclxuICAgIHNldCBkZWZhdWx0VmFsdWUoY29uZmlnczogRmllbGRDb25maWdbXSkge1xyXG4gICAgICAgIHRoaXMuX2RlZmF1bHRWYWx1ZSA9IGNvbmZpZ3M7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RmlsdGVyVmFsdWUodGhpcy5fZGVmYXVsdFZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGdldCBkZWZhdWx0VmFsdWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRWYWx1ZTtcclxuICAgIH1cclxuICAgIEBIb3N0QmluZGluZygnY2xhc3MuZi1maWx0ZXInKSBjbGEgPSB0cnVlO1xyXG5cclxuICAgIEBPdXRwdXQoKSBxdWVyeSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgIEBPdXRwdXQoKSBzZWFyY2hDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICBAT3V0cHV0KCkgcmVzZXRDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICBAT3V0cHV0KCkgY2xlYXJGaWx0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICBAT3V0cHV0KCkgZXhwYW5kRmlsdGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgQE91dHB1dCgpIHBhY2t1cEZpbHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgIEBPdXRwdXQoKSBmaWx0ZXJSZXNpemUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcblxyXG4gICAgQFZpZXdDaGlsZCgnZmlsdGVyTWFpbicpIGZpbHRlck1haW46IEVsZW1lbnRSZWY7XHJcbiAgICBAVmlld0NoaWxkKCdmaWx0ZXJUb29sJykgZmlsdGVyVG9vbDogRWxlbWVudFJlZjtcclxuICAgIEBWaWV3Q2hpbGQoJ2ZpbHRlcldyYXBwZXInKSBmaWx0ZXJXcmFwcGVyOiBFbGVtZW50UmVmO1xyXG4gICAgQFZpZXdDaGlsZCgnZmFycmlzc2lkZWJhcicpIGZhcnJpc3NpZGViYXI6IEZhcnJpc1NpZGViYXJDb21wb25lbnQ7XHJcbiAgICBAVmlld0NoaWxkKCdsaXN0V3JhcHBlcicpIGxpc3RXcmFwcGVyOiBFbGVtZW50UmVmO1xyXG4gICAgQFZpZXdDaGlsZCgnZmlsdGVyTGlzdFdyYXBwZXInKSBmaWx0ZXJMaXN0V3JhcHBlcjogRWxlbWVudFJlZjtcclxuICAgIGN1cnJlbnRGaWx0ZXJJZDtcclxuICAgIC8vIOWxleW8gFxyXG4gICAgZmlsdGVyRXh0ZW5kID0gZmFsc2U7XHJcbiAgICAvLyDmmK/lkKbmmL7npLrkuInkuKrngrlcclxuICAgIGZpbHRlckVsbGlwc2lzID0gZmFsc2U7XHJcbiAgICAvLyDmmK/lkKbmmL7npLrlsZXlvIDmlLbotbdcclxuICAgIGZpbHRlckV4dGVuZFNob3cgPSBmYWxzZTtcclxuICAgIGZpbHRlckV4dGVuZFRleHQgPSAn5bGV5byAJztcclxuICAgIGZpbHRlckV4dGVuZEljb24gPSAnZi1pY29uLWFycm93LWNoZXZyb24tZG93bic7XHJcbiAgICBleHBhbmRUZXh0ID0gJ+WxleW8gCc7XHJcbiAgICBmb2xkVGV4dCA9ICfmlLbotbcnO1xyXG4gICAgZmlsdGVyV3JhcHBlckVsO1xyXG4gICAgZmlsdGVyVG9vbFdpZHRoOiBudW1iZXI7XHJcbiAgICBzaWRlYmFyT3BlbiA9IGZhbHNlO1xyXG4gICAgZmxvYXRQYW5lbE9wZW4gPSBmYWxzZTtcclxuICAgIHNob3dFeHBhbmRUYWcgPSBmYWxzZTtcclxuICAgIC8qKiDooajljZXmmK/lkKblhYHorrjmj5DkuqQgKi9cclxuICAgIGNhblN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgLyoqIOihqOWNleaYr+WQpuWFgeiuuOaPkOS6pCznlKjkuo7pq5jnuqfnrZvpgInmuIXnqbrlkI4gKi9cclxuICAgIGFkdmFuY2VkQ2FuU3VibWl0ID0gdHJ1ZTtcclxuICAgIC8qKiDpu5jorqTlsZXlvIDpobnmmK/lkKblhYHorrjmj5DkuqQgKi9cclxuICAgIHNob3dDYW5TdWJtaXQgPSB0cnVlO1xyXG4gICAgLyoqIOaYr+WQpuaYvuekuua4heepuuW3sumAiSAqL1xyXG4gICAgZmlsbGVkRmlsdGVyID0gZmFsc2U7XHJcbiAgICAvKiog6buY6K6k5bGV5byA55qE562b6YCJ6aG5ICovXHJcbiAgICBzaG93RmlsdGVyTGlzdDogQXJyYXk8UXVlcnlDb25kaXRpb24+ID0gbmV3IEFycmF5PFF1ZXJ5Q29uZGl0aW9uPigpO1xyXG4gICAgLyoqIOmrmOe6p+etm+mAiSAqL1xyXG4gICAgZXh0ZW5kRmlsdGVyTGlzdDogQXJyYXk8UXVlcnlDb25kaXRpb24+ID0gbmV3IEFycmF5PFF1ZXJ5Q29uZGl0aW9uPigpO1xyXG4gICAgZXh0ZW5kRmlsdGVyTGlzdFN0b3JlOiBBcnJheTxRdWVyeUNvbmRpdGlvbj4gPSBuZXcgQXJyYXk8UXVlcnlDb25kaXRpb24+KCk7XHJcbiAgICBleHRlbmRGaWx0ZXJMaXN0VGVtcG9yYXJ5OiBBcnJheTxRdWVyeUNvbmRpdGlvbj4gPSBuZXcgQXJyYXk8UXVlcnlDb25kaXRpb24+KCk7XHJcbiAgICAvKiog5bey5aGr5YaZ562b6YCJ5pWw5o2uICovXHJcbiAgICBmaWxsZWRGaWx0ZXJMaXN0OiBBcnJheTxRdWVyeUNvbmRpdGlvbj4gPSBuZXcgQXJyYXk8UXVlcnlDb25kaXRpb24+KCk7XHJcbiAgICAvKiog6auY57qn562b6YCJ5Lit5bey5aGr5YaZ55qEICovXHJcbiAgICBmaWxsZWRFeHRlbmRGaWx0ZXJMaXN0OiBBcnJheTxRdWVyeUNvbmRpdGlvbj4gPSBuZXcgQXJyYXk8UXVlcnlDb25kaXRpb24+KCk7XHJcbiAgICAvKiog5rKh5pyJ5aGr5YaZ55qE562b6YCJ6aG5ICovXHJcbiAgICAvLyB1bkZpbGxlZEZpbHRlckxpc3Q6QXJyYXk8UXVlcnlDb25kaXRpb24+ID0gbmV3IEFycmF5PFF1ZXJ5Q29uZGl0aW9uPigpO1xyXG4gICAgLyoqIOmrmOe6p+etm+mAieS4reW/heWhq+mhuSAqL1xyXG4gICAgZXh0ZW5kUmVxdWlyZWRMaXN0OiBBcnJheTxRdWVyeUNvbmRpdGlvbj4gPSBuZXcgQXJyYXk8UXVlcnlDb25kaXRpb24+KCk7XHJcbiAgICAvKiog6buY6K6k562b6YCJ5Lit5b+F5aGr6aG5ICovXHJcbiAgICBzaG93UmVxdWlyZWRMaXN0OiBBcnJheTxRdWVyeUNvbmRpdGlvbj4gPSBuZXcgQXJyYXk8UXVlcnlDb25kaXRpb24+KCk7XHJcbiAgICAvKiog5b6q546v6KGo5Y2VICovXHJcbiAgICBsaXN0RmlsdGVyQ29uZGl0aW9uczogQXJyYXk8UXVlcnlDb25kaXRpb24+ID0gbmV3IEFycmF5PFF1ZXJ5Q29uZGl0aW9uPigpO1xyXG4gICAgLyoqIOm7mOiupOWxleW8gO+8i+mrmOe6p+etm+mAieS4reW3suWhq+WGmeeahCAqL1xyXG4gICAgbG9vcEZpbHRlckxpc3Q6IEFycmF5PFF1ZXJ5Q29uZGl0aW9uPiA9IG5ldyBBcnJheTxRdWVyeUNvbmRpdGlvbj4oKTtcclxuICAgIC8qKiDnlKjmnaXlrZjlgqhzZXR2YWx1ZeWJjeaVsOaNriAqL1xyXG4gICAgc3RhZ0xpc3RGaWx0ZXJDb25kaXRpb25zOiBBcnJheTxRdWVyeUNvbmRpdGlvbj4gPSBuZXcgQXJyYXk8UXVlcnlDb25kaXRpb24+KCk7XHJcbiAgICAvKiog5pi+56S65Lit6KGo5Y2V55qE5b+F5aGr6aG5ICovXHJcbiAgICByZXF1aXJlZExpc3RGaWx0ZXI6IEFycmF5PFF1ZXJ5Q29uZGl0aW9uPiA9IFtdO1xyXG5cclxuICAgIGxvY2FsZUlkcyA9IHtcclxuICAgICAgICAnZW4nOiAnZW4nLFxyXG4gICAgICAgICd6aC1DSFMnOiAnemgtQ0hTJ1xyXG4gICAgfTtcclxuICAgIGN1cnJlbnRMb2NhbGUgPSAnemgtQ0hTJztcclxuICAgIGlzQ29udHJvbElubGluZSA9IHRydWU7XHJcbiAgICAvKipcclxuICAgICAqIOe7hOS7tuacjeWKoeaOpeWPo1xyXG4gICAgICovXHJcbiAgICBmaWx0ZXJIYW5kbGVyOiBGaWx0ZXJIYW5kbGVyO1xyXG4gICAgZmlsdGVyUGFuZWxDb250YWluZXI7XHJcblxyXG4gICAgc2hvd1JlbWluZGVySXRlbTogUXVlcnlDb25kaXRpb247XHJcbiAgICByZW1pbmRlckxlZnQgPSAwO1xyXG4gICAgLy8g57uR5a6a5aSn5bCP5Y+Y5YyW5ZON5bqUXHJcbiAgICBwcml2YXRlIHJvOiBSZXNpemVPYnNlcnZlciB8IG51bGwgPSBudWxsO1xyXG4gICAgLy8g6K6w5b2V5pen55qE5a695bqm5pWw5o2uXHJcbiAgICBwcml2YXRlIGNvbnRhaW5lcldpZHRoUmVjb3JkID0gMDtcclxuICAgIC8vIOmYiOWAvFxyXG4gICAgcHJpdmF0ZSBkaXN0YW5jZVRocmVzaG9sZCA9IDIwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHByaXZhdGUgZmlsdGVyUGFuZWxTZXJ2aWNlOiBGaWx0ZXJQYW5lbFNlcnZpY2UsXHJcbiAgICAgICAgcHJpdmF0ZSBmaWx0ZXJTZXJ2aWNlOiBGaWx0ZXJTZXJ2aWNlLFxyXG4gICAgICAgIHByaXZhdGUgY29udmVydG9yU2VydmljZTogQ29udmVydG9yU2VydmljZSxcclxuICAgICAgICBwcml2YXRlIGhhbmRsZXI6IFF1ZXJ5U29sdXRpb25TZXJ2aWNlLFxyXG4gICAgICAgIHByaXZhdGUgY2Q6IENoYW5nZURldGVjdG9yUmVmLFxyXG4gICAgICAgIHByaXZhdGUgcmVuZGVyOiBSZW5kZXJlcjIsXHJcbiAgICAgICAgcHVibGljIG5nem9uZTogTmdab25lLFxyXG4gICAgICAgIHB1YmxpYyBsb2NhbGVTZXJ2aWNlOiBMb2NhbGVTZXJ2aWNlLFxyXG4gICAgICAgIEBPcHRpb25hbCgpIHByaXZhdGUgaW5qZWN0b3I6IEluamVjdG9yXHJcbiAgICApIHtcclxuICAgICAgICBpZiAodGhpcy5pbmplY3Rvcikge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2NhbGUgPSB0aGlzLmluamVjdG9yLmdldChMT0NBTEVfSUQpO1xyXG4gICAgICAgICAgICB0aGlzLmZpbHRlckhhbmRsZXIgPSB0aGlzLmluamVjdG9yLmdldDxGaWx0ZXJIYW5kbGVyPihGSUxURVJfSEFORExFUl9UT0tFTiwgbnVsbCwgSW5qZWN0RmxhZ3MuT3B0aW9uYWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBuZ09uSW5pdCgpIHtcclxuICAgICAgICB0aGlzLmZpbHRlcldyYXBwZXJFbCA9IHRoaXMuZmlsdGVyTGlzdFdyYXBwZXIgJiYgdGhpcy5maWx0ZXJMaXN0V3JhcHBlci5uYXRpdmVFbGVtZW50O1xyXG4gICAgICAgIC8vIOe7keWumuS6i+S7tlxyXG4gICAgICAgIHRoaXMuYmluZFJvRXZlbnQoKTtcclxuICAgICAgICB0aGlzLmZvbGRUZXh0ID0gdGhpcy5sb2NhbGVTZXJ2aWNlLmdldFZhbHVlKCdmaWx0ZXJQYW5lbC5mb2xkJyk7XHJcbiAgICAgICAgdGhpcy5leHBhbmRUZXh0ID0gdGhpcy5sb2NhbGVTZXJ2aWNlLmdldFZhbHVlKCdmaWx0ZXJQYW5lbC5leHBhbmQnKTtcclxuICAgICAgICB0aGlzLmZpbHRlckV4dGVuZFRleHQgPSB0aGlzLmV4cGFuZFRleHQ7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudExvY2FsZSA9PT0gdGhpcy5sb2NhbGVJZHNbJ2VuJ10pIHtcclxuICAgICAgICAgICAgdGhpcy5pc0NvbnRyb2xJbmxpbmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNDb250cm9sSW5saW5lID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBuZ09uRGVzdHJveSgpIHtcclxuICAgICAgICBpZiAodGhpcy5ybykge1xyXG4gICAgICAgICAgICB0aGlzLnJvLnVub2JzZXJ2ZSh0aGlzLmZpbHRlcldyYXBwZXJFbCk7XHJcbiAgICAgICAgICAgIHRoaXMucm8gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog57uR5a6a55uR5o6n5aSn5bCP55qE5LqL5Lu2XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYmluZFJvRXZlbnQoKXtcclxuICAgICAgICBpZighdGhpcy5maWx0ZXJXcmFwcGVyKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm5nem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIOi/meagt+S4gOebtOmDvee7keWumuWPr+iDveacieaAp+iDvemXrumimFxyXG4gICAgICAgICAgICB0aGlzLnJvID0gbmV3IFJlc2l6ZU9ic2VydmVyKChlbnRyaWVzLCBvYnNlcnZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcFdpZHRoID0gZW50cmllc1swXS5jb250ZW50UmVjdC53aWR0aDtcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyh0ZW1wV2lkdGggLSB0aGlzLmNvbnRhaW5lcldpZHRoUmVjb3JkKSA+XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXN0YW5jZVRocmVzaG9sZFxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmZpbHRlckxpc3QubGVuZ3RoKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlQXV0b1dpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0RWxsaXBzaXNJbml0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXJXaWR0aFJlY29yZCA9IHRlbXBXaWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucm8ub2JzZXJ2ZSh0aGlzLmZpbHRlcldyYXBwZXIubmF0aXZlRWxlbWVudCk7XHJcbiAgICAgICAgICAgIC8vIGZyb21FdmVudCh3aW5kb3csICdyZXNpemUnKVxyXG4gICAgICAgICAgICAvLyAgICAgLnBpcGUoZGVib3VuY2VUaW1lKDUwLCBhbmltYXRpb25GcmFtZSkpXHJcbiAgICAgICAgICAgIC8vICAgICAuc3Vic2NyaWJlKCgpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLm5nem9uZS5ydW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncmVzaXplJyk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGlmICghdGhpcy5maWx0ZXJMaXN0Lmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBpZiAodGhpcy5lbmFibGVBdXRvV2lkdGgpIHtyZXR1cm47fVxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLmxpc3RFbGxpcHNpc0luaXQoKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xyXG4gICAgICAgIC8vIGlmIChjaGFuZ2VzLmZpbHRlckxpc3QgJiYgIWNoYW5nZXMuZmlsdGVyTGlzdC5pc0ZpcnN0Q2hhbmdlKCkpIHtcclxuICAgICAgICAvLyAgIHRoaXMuaW5pdEZpbHRlckxpc3QoKTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xyXG5cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5Yid5aeL5YyW562b6YCJ6aG5XHJcbiAgICAgKi9cclxuICAgIGluaXRGaWx0ZXJMaXN0KCkge1xyXG4gICAgICAgIHRoaXMubGlzdEZpbHRlckNvbmRpdGlvbnMgPSBuZXcgQXJyYXk8UXVlcnlDb25kaXRpb24+KCk7XHJcbiAgICAgICAgY29uc3QgZmlsdGVyRGF0YXMgPSB0aGlzLmZpbHRlclNlcnZpY2UuZmllbGRTY2hlbWFzQ29udmVydCh0aGlzLmZpbHRlckxpc3QpO1xyXG4gICAgICAgIGlmIChmaWx0ZXJEYXRhcyAmJiBmaWx0ZXJEYXRhcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5saXN0RmlsdGVyQ29uZGl0aW9ucyA9IHRoaXMuY29udmVydG9yU2VydmljZS5nZXRTZWxlY3RlZEZpZWxkQ29uZGl0aW9ucyhmaWx0ZXJEYXRhcywgdGhpcy5saXN0RmlsdGVyQ29uZGl0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhZ0xpc3RGaWx0ZXJDb25kaXRpb25zID0gdGhpcy5saXN0RmlsdGVyQ29uZGl0aW9ucy5tYXAobyA9PiAoeyAuLi5vIH0pKTtcclxuICAgICAgICB0aGlzLmZpbHRlckxpc3RDbGFzc2lmeSgpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaG93UmVtaW5kZXIgJiYgdGhpcy5zaG93RmlsdGVyTGlzdCAmJiB0aGlzLnNob3dGaWx0ZXJMaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93UmVtaW5kZXJJdGVtID0gdGhpcy5zaG93RmlsdGVyTGlzdFswXTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dSZW1pbmRlckl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZmlsdGVybGlzdEl0ZW1zID0gdGhpcy5maWx0ZXJMaXN0V3JhcHBlciAmJiB0aGlzLmZpbHRlckxpc3RXcmFwcGVyLm5hdGl2ZUVsZW1lbnQuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcmxpc3RJdGVtcyAmJiBmaWx0ZXJsaXN0SXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzaG93UmVtSXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWx0ZXJsaXN0SXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3dSZW1pbmRlckl0ZW1bJ2lkJ10gPT0gZmlsdGVybGlzdEl0ZW1zW2ldLmdldEF0dHJpYnV0ZSgnaWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dSZW1JdGVtID0gZmlsdGVybGlzdEl0ZW1zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG93UmVtSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1pbmRlckxlZnQgPSBzaG93UmVtSXRlbS5vZmZzZXRMZWZ0ID49IDAgPyBzaG93UmVtSXRlbS5vZmZzZXRMZWZ0IDogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd1JlbWluZGVySXRlbSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCAwKTtcclxuICAgICAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcclxuICAgIH1cclxuICAgIC8qKiDnrZvpgInpobnliIbnsbsgKi9cclxuICAgIGZpbHRlckxpc3RDbGFzc2lmeSgpIHtcclxuICAgICAgICB0aGlzLmV4dGVuZEZpbHRlckxpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLmV4dGVuZEZpbHRlckxpc3RTdG9yZSA9IFtdO1xyXG4gICAgICAgIHRoaXMuc2hvd0ZpbHRlckxpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLmZpbGxlZEZpbHRlckxpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLmZpbGxlZEV4dGVuZEZpbHRlckxpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLmxvb3BGaWx0ZXJMaXN0ID0gW107XHJcbiAgICAgICAgdGhpcy5leHRlbmRSZXF1aXJlZExpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLnNob3dSZXF1aXJlZExpc3QgPSBbXTtcclxuICAgICAgICAvLyDlv4XloatcclxuICAgICAgICBsZXQgcmVxdWlyZWRMaXN0ID0gdGhpcy5saXN0RmlsdGVyQ29uZGl0aW9ucy5maWx0ZXIoKGxpc3RpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBsaXN0aXRlbS5jb250cm9sLnJlcXVpcmVkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChyZXF1aXJlZExpc3QgJiYgcmVxdWlyZWRMaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlcXVpcmVkTGlzdEZpbHRlciA9IHJlcXVpcmVkTGlzdDtcclxuICAgICAgICAgICAgdGhpcy5jYW5TdWJtaXQgPSB0aGlzLmNhblN1Ym1pdEZpbHRlcih0aGlzLnJlcXVpcmVkTGlzdEZpbHRlcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yZXF1aXJlZExpc3RGaWx0ZXIgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5jYW5TdWJtaXQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDlh6Dnp43nsbvlnovliIbnsbtcclxuICAgICAgICB0aGlzLmxpc3RGaWx0ZXJDb25kaXRpb25zLmZvckVhY2goZmllbGQgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZmllbGQuY29udHJvbC5pc0V4dGVuZCAmJiBmaWVsZFsnZmlsbGVkJ10pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsbGVkRXh0ZW5kRmlsdGVyTGlzdC5wdXNoKGZpZWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZmllbGRbJ2ZpbGxlZCddKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGxlZEZpbHRlckxpc3QucHVzaChmaWVsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZWxzZSBpZighZmllbGQuY29udHJvbC5pc0V4dGVuZCl7XHJcbiAgICAgICAgICAgIC8vICAgdGhpcy51bkZpbGxlZEZpbHRlckxpc3QucHVzaChmaWVsZCk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChmaWVsZC5jb250cm9sLmlzRXh0ZW5kKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4dGVuZEZpbHRlckxpc3RTdG9yZS5wdXNoKGZpZWxkKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0ZpbHRlckxpc3QucHVzaChmaWVsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZmlsbGVkRmlsdGVyTGlzdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5maWxsZWRGaWx0ZXIgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsbGVkRmlsdGVyID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBsaXN0ID0gdGhpcy5saXN0RmlsdGVyQ29uZGl0aW9ucy5maWx0ZXIoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAhaXRlbS5jb250cm9sLmlzRXh0ZW5kIHx8IGl0ZW1bJ2ZpbGxlZCddXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gdGhpcy5sb29wRmlsdGVyTGlzdCA9IHRoaXMuc2hvd0ZpbHRlckxpc3QuY29uY2F0KHRoaXMuZmlsbGVkRXh0ZW5kRmlsdGVyTGlzdCk7XHJcbiAgICAgICAgdGhpcy5sb29wRmlsdGVyTGlzdCA9IGxpc3QgPyBsaXN0IDogW107XHJcbiAgICAgICAgdGhpcy5sb29wRmlsdGVyTGlzdC5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmdldFZhbHVlVGV4dChpdGVtKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmV4dGVuZEZpbHRlckxpc3QgPSB0aGlzLmV4dGVuZEZpbHRlckxpc3RTdG9yZS5tYXAobyA9PiAoeyAuLi5vIH0pKTtcclxuICAgICAgICBjb25zdCBleHRlbmRSZXF1aXJlZExpc3QgPSB0aGlzLmV4dGVuZEZpbHRlckxpc3QuZmlsdGVyKChsaXN0aXRlbSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbGlzdGl0ZW0uY29udHJvbC5yZXF1aXJlZDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoZXh0ZW5kUmVxdWlyZWRMaXN0ICYmIGV4dGVuZFJlcXVpcmVkTGlzdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5leHRlbmRSZXF1aXJlZExpc3QgPSBleHRlbmRSZXF1aXJlZExpc3Q7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBzaG93cmVxdWlyZWRMaXN0ID0gdGhpcy5zaG93RmlsdGVyTGlzdC5maWx0ZXIoKGxpc3RpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBsaXN0aXRlbS5jb250cm9sLnJlcXVpcmVkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChzaG93cmVxdWlyZWRMaXN0ICYmIHNob3dyZXF1aXJlZExpc3QubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1JlcXVpcmVkTGlzdCA9IHNob3dyZXF1aXJlZExpc3Q7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNob3dDYW5TdWJtaXQgPSB0aGlzLmNhblN1Ym1pdEZpbHRlcih0aGlzLnNob3dSZXF1aXJlZExpc3QpO1xyXG4gICAgICAgIHRoaXMuYWR2YW5jZWRDYW5TdWJtaXQgPSB0aGlzLmNhblN1Ym1pdEZpbHRlcih0aGlzLmV4dGVuZFJlcXVpcmVkTGlzdCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ+W3suWhq+WGmScsdGhpcy5maWxsZWRFeHRlbmRGaWx0ZXJMaXN0KTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygn5pi+56S65Ye65p2l55qEJyx0aGlzLmxvb3BGaWx0ZXJMaXN0KTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygn6ZqQ6JeP6YOo5YiGJyx0aGlzLmV4dGVuZEZpbHRlckxpc3QpO1xyXG4gICAgICAgIHRoaXMuZmlsdGVyRXh0ZW5kU2hvdyA9IHRydWU7XHJcbiAgICAgICAgLy8g5aaC5p6c5piv5pSv5oyB6Ieq5Yqo5a695bqm77yM5bCx5piv5LiN5Y+O5oqYLOWIpOaWrea2ieWPiui1i+WAvOaXtuaculxyXG4gICAgICAgIGlmICghdGhpcy5lbmFibGVBdXRvV2lkdGgpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RFbGxpcHNpc0luaXQoKTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlt7LloavlhpnnrZvpgInpobnngrnlh7tcclxuICAgICAqIEBwYXJhbSBldmVudCBcclxuICAgICAqIEBwYXJhbSBkYXRhIFxyXG4gICAgICovXHJcbiAgICBmaWx0ZXJDbGljayhldmVudCwgZGF0YSwgaW5kZXgpIHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCkgcmV0dXJuO1xyXG4gICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1JlbWluZGVySXRlbSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhICYmIHRoaXMuY3VycmVudEZpbHRlcklkICE9IGRhdGEuaWQpIHtcclxuICAgICAgICAgICAgY29uc3QgcGFuZWxJdGVtID0gZGVlcENvcHkoZGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEZpbHRlcklkID0gZGF0YS5pZDtcclxuICAgICAgICAgICAgY29uc3QgeyBsZWZ0LCB0b3AsIGhlaWdodCwgcmlnaHQgfSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyUGFuZWxDb250YWluZXIgPSB0aGlzLmZpbHRlclBhbmVsU2VydmljZS5zaG93UGFuZWwoe1xyXG4gICAgICAgICAgICAgICAgbGVmdDogbGVmdCxcclxuICAgICAgICAgICAgICAgIHRvcDogdG9wICsgaGVpZ2h0ICsgMixcclxuICAgICAgICAgICAgICAgIHJpZ2h0OiByaWdodCxcclxuICAgICAgICAgICAgICAgIGl0ZW06IHBhbmVsSXRlbSxcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZUtleTogdGhpcy5sb2NhbFN0b3JhZ2VLZXlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyUGFuZWxDb250YWluZXIuaGlkZVBhbmVsLnN1YnNjcmliZShlID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyUGFuZWxTZXJ2aWNlLmhpZGVQYW5lbCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJQYW5lbENvbnRhaW5lciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRGaWx0ZXJJZCA9IG51bGw7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmZpbHRlclBhbmVsQ29udGFpbmVyLmNsZWFyRmlsdGVyLnN1YnNjcmliZShlID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJGaWx0ZXIuZW1pdChlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8v5o+Q5Lqk5by556qX5YaFXHJcbiAgICAgICAgICAgIGNvbnN0IF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5maWx0ZXJQYW5lbENvbnRhaW5lci5zdWJtaXQuc3Vic2NyaWJlKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5maWxsZWQgPSAoZS52YWx1ZVRleHQgJiYgZS52YWx1ZVRleHQubGVuZ3RoID4gMCkgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5sb29wRmlsdGVyTGlzdFtpbmRleF0gPSBlO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhbmVsTGlzdEluZGV4ID0gX3RoaXMubGlzdEZpbHRlckNvbmRpdGlvbnMuZmluZEluZGV4KGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtWydpZCddID09IGVbJ2lkJ107XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChwYW5lbExpc3RJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubGlzdEZpbHRlckNvbmRpdGlvbnNbcGFuZWxMaXN0SW5kZXhdID0gZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoQ2hhbmdlLmVtaXQodGhpcy5saXN0RmlsdGVyQ29uZGl0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluU2V0Q3VycmVudEZpbHRlckNvbmRpdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyTGlzdENsYXNzaWZ5KCk7XHJcbiAgICAgICAgICAgICAgICAvLyB2YWx1ZVRleHTmmK/mnInpnIDopoHorqHnrpfnmoTvvIzmiYDku6Xlu7blkI7liKTmlq3mmK/lkKbmmL7npLpcclxuICAgICAgICAgICAgICAgIGxldCBmaW5kSXRlbSA9IF90aGlzLmxvb3BGaWx0ZXJMaXN0LmZpbmQoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1bJ2lkJ10gPT0gZVsnaWQnXTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbmRJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmluZEl0ZW1bJ2ZpbGxlZCddID0gZmluZEl0ZW0udmFsdWVUZXh0ICYmIGZpbmRJdGVtLnZhbHVlVGV4dC5sZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0KCdwYW5lbEZvcm1EYXRhJywgdGhpcy5saXN0RmlsdGVyQ29uZGl0aW9ucywgZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlclBhbmVsU2VydmljZS5oaWRlUGFuZWwoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyUGFuZWxDb250YWluZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RmlsdGVySWQgPSBudWxsO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyUGFuZWxTZXJ2aWNlLmhpZGVQYW5lbCgpO1xyXG4gICAgICAgICAgICB0aGlzLmZpbHRlclBhbmVsQ29udGFpbmVyID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50RmlsdGVySWQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5riF56m6562b6YCJ6aG5XHJcbiAgICAgKi9cclxuICAgIGZpbHRlckNsZWFyKGRhdGEsIGluZGV4LCBldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIHRoaXMuZmlsdGVyUGFuZWxTZXJ2aWNlLmhpZGVQYW5lbCgpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEZpbHRlcklkID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJlc2V0TGlzdENvbmRpdGlvbihkYXRhKTtcclxuICAgICAgICB0aGlzLmZpbHRlckxpc3RDbGFzc2lmeSgpO1xyXG4gICAgICAgIHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hDaGFuZ2UuZW1pdCh0aGlzLmxpc3RGaWx0ZXJDb25kaXRpb25zKTtcclxuICAgICAgICB0aGlzLmNsZWFyRmlsdGVyLmVtaXQoZGF0YSk7XHJcbiAgICAgICAgdGhpcy5pblNldEN1cnJlbnRGaWx0ZXJDb25kaXRpb25zKCk7XHJcbiAgICAgICAgdGhpcy5hZHZhbmNlZENhblN1Ym1pdCA9IHRoaXMuY2FuU3VibWl0RmlsdGVyKHRoaXMuZXh0ZW5kUmVxdWlyZWRMaXN0KTtcclxuICAgICAgICB0aGlzLnN1Ym1pdCgncGFuZWxGb3JtRGF0YScsIHRoaXMubGlzdEZpbHRlckNvbmRpdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlsZXlvIDpq5jnuqfnrZvpgIlcclxuICAgICAqL1xyXG4gICAgYWR2YW5jZWRGaWx0ZXIoKSB7XHJcbiAgICAgICAgdGhpcy5zaG93UmVtaW5kZXJJdGVtID0gbnVsbDtcclxuICAgICAgICB0aGlzLmV4dGVuZEZpbHRlckxpc3RUZW1wb3JhcnkgPSBkZWVwQ29weSh0aGlzLmV4dGVuZEZpbHRlckxpc3QpO1xyXG4gICAgICAgIHRoaXMuZmFycmlzc2lkZWJhci5pc09wZW4gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgbGlzdENhbmNlbCgpIHtcclxuICAgICAgICB0aGlzLmV4dGVuZEZpbHRlckxpc3QgPSBkZWVwQ29weSh0aGlzLmV4dGVuZEZpbHRlckxpc3RUZW1wb3JhcnkpO1xyXG4gICAgICAgIHRoaXMuZmFycmlzc2lkZWJhci5pc09wZW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmZsb2F0UGFuZWxPcGVuID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOaJk+W8gOmdouadv+mrmOe6p+etm+mAiVxyXG4gICAgICovXHJcbiAgICBmbG9hdEZpbHRlck9wZW4oKSB7XHJcbiAgICAgICAgdGhpcy5mbG9hdFBhbmVsT3BlbiA9ICF0aGlzLmZsb2F0UGFuZWxPcGVuO1xyXG4gICAgICAgIGlmICh0aGlzLmZsb2F0UGFuZWxPcGVuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXh0ZW5kRmlsdGVyTGlzdFRlbXBvcmFyeSA9IGRlZXBDb3B5KHRoaXMuZXh0ZW5kRmlsdGVyTGlzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDliJfooajlsZXnpLrliJ3lp4vljJZcclxuICAgICAqL1xyXG4gICAgbGlzdEVsbGlwc2lzSW5pdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5lbmFibGVBdXRvV2lkdGgpIHJldHVybjtcclxuICAgICAgICAvLyBpZih0aGlzLmZpbHRlckV4dGVuZCkgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGZpbHRlck1haW5XaWR0aCA9IHRoaXMuZmlsdGVyTWFpbi5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgIHRoaXMuZmlsdGVyVG9vbFdpZHRoID0gMDtcclxuICAgICAgICAvLyBmaWx0ZXJUb29sID0gdGhpcy5maWx0ZXJUb29sLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyVG9vbCkge1xyXG4gICAgICAgICAgICB0aGlzLmZpbHRlclRvb2xXaWR0aCA9IHRoaXMuZmlsdGVyVG9vbC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDnrZvpgInmnaHku7bljLrln5/mnIDlpKflrr3luqZcclxuICAgICAgICBsZXQgZmlsdGVyTGlzdFc7XHJcbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyRXh0ZW5kKSB7XHJcbiAgICAgICAgICAgIGZpbHRlckxpc3RXID0gZmlsdGVyTWFpbldpZHRoIC0gMjY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBmaWx0ZXJMaXN0VyA9IGZpbHRlck1haW5XaWR0aC0gNDggLSB0aGlzLmZpbHRlclRvb2xXaWR0aCAtIDI2O1xyXG4gICAgICAgICAgICBmaWx0ZXJMaXN0VyA9IGZpbHRlck1haW5XaWR0aCAtIDQ4IC0gdGhpcy5maWx0ZXJUb29sV2lkdGggLSAyNjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY29uc3QgZmlsdGVyV3JhcHBlciA9IHRoaXMuZmlsdGVyTGlzdFdyYXBwZXIubmF0aXZlRWxlbWVudDtcclxuICAgICAgICAvLyBjb25zdCBmaWx0ZXJXcmFwcGVyV2lkdGggPSBmaWx0ZXJXcmFwcGVyLm9mZnNldFdpZHRoO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGZpbHRlcldyYXBwZXJXaWR0aCk7XHJcbiAgICAgICAgY29uc3QgZmlsdGVySXRlbXMgPSB0aGlzLmZpbHRlcldyYXBwZXJFbCA/IHRoaXMuZmlsdGVyV3JhcHBlckVsLmNoaWxkcmVuIDogW107XHJcbiAgICAgICAgbGV0IGZpbHRlckl0ZW1XaWR0aCA9IDA7XHJcbiAgICAgICAgaWYgKGZpbHRlckl0ZW1zICYmIGZpbHRlckl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gZmlsdGVySXRlbXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyLnNldFN0eWxlKGZpbHRlckl0ZW1zW2ldLCAnZGlzcGxheScsICdmbGV4Jyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgd2lkdGggPSBmaWx0ZXJJdGVtc1tpXS5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgICAgIGZpbHRlckl0ZW1XaWR0aCArPSB3aWR0aCArIDg7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVySXRlbVdpZHRoID49IGZpbHRlckxpc3RXICYmICF0aGlzLmZpbHRlckV4dGVuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyLnNldFN0eWxlKGZpbHRlckl0ZW1zW2ldLCAnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlci5zZXRTdHlsZShmaWx0ZXJJdGVtc1tpXSwgJ2Rpc3BsYXknLCAnZmxleCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZmlsdGVySXRlbVdpZHRoLGZpbHRlckxpc3RXLGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmKGZpbHRlckl0ZW1XaWR0aCA+IHRoaXMuZmlsdGVyV3JhcHBlckVsLm9mZnNldFdpZHRoKXtcclxuICAgICAgICBpZiAoZmlsdGVySXRlbVdpZHRoID49IGZpbHRlckxpc3RXKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyRWxsaXBzaXMgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmZpbHRlckV4dGVuZFNob3cgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5maWx0ZXJFbGxpcHNpcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmZpbHRlckV4dGVuZFNob3cgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZpbHRlckl0ZW1zLmxlbmd0aCkgdGhpcy5maWx0ZXJSZXNpemUuZW1pdCgpO1xyXG4gICAgICAgIGlmICghdGhpcy5jZFsnZGVzdHJveWVkJ10pIHtcclxuICAgICAgICAgICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDnrZvpgInpobnlsZXlvIDmlLbotbfliIfmjaJcclxuICAgICAqL1xyXG4gICAgZmlsdGVyRXhwYW5kKCkge1xyXG4gICAgICAgIHRoaXMuc2hvd1JlbWluZGVySXRlbSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5maWx0ZXJFeHRlbmQgPSAhdGhpcy5maWx0ZXJFeHRlbmQ7XHJcbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyRXh0ZW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyRWxsaXBzaXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5maWx0ZXJFeHRlbmRUZXh0ID0gdGhpcy5mb2xkVGV4dDtcclxuICAgICAgICAgICAgdGhpcy5maWx0ZXJFeHRlbmRJY29uID0gJ2YtaWNvbi1hcnJvdy1jaGV2cm9uLXVwJztcclxuICAgICAgICAgICAgY29uc3QgZmlsdGVySXRlbXMgPSB0aGlzLmZpbHRlcldyYXBwZXJFbC5jaGlsZHJlbjtcclxuICAgICAgICAgICAgaWYgKGZpbHRlckl0ZW1zICYmIGZpbHRlckl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGZpbHRlckl0ZW1zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIuc2V0U3R5bGUoZmlsdGVySXRlbXNbaV0sICdkaXNwbGF5JywgJ2ZsZXgnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIuc2V0U3R5bGUodGhpcy5maWx0ZXJXcmFwcGVyRWwsICdmbGV4LXdyYXAnLCAnd3JhcCcpO1xyXG4gICAgICAgICAgICB0aGlzLmV4cGFuZEZpbHRlci5lbWl0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyRXh0ZW5kVGV4dCA9IHRoaXMuZXhwYW5kVGV4dDtcclxuICAgICAgICAgICAgdGhpcy5maWx0ZXJFeHRlbmRJY29uID0gJ2YtaWNvbi1hcnJvdy1jaGV2cm9uLWRvd24nO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGlzdEVsbGlwc2lzSW5pdCgpO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgdGhpcy5wYWNrdXBGaWx0ZXIuZW1pdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6auY57qn562b6YCJ6KGo5Y2V6aG55pCc57Si5Y+Y5YyWXHJcbiAgICAgKiBAcGFyYW0gJGV2ZW50IFxyXG4gICAgICogQHBhcmFtIGl0ZW0gXHJcbiAgICAgKi9cclxuICAgIG9uU2VhcmNoKCRldmVudCwgaXRlbSkge1xyXG4gICAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7IHJldHVybjsgfVxyXG4gICAgICAgIHRoaXMuYWR2YW5jZWRDYW5TdWJtaXQgPSB0aGlzLmNhblN1Ym1pdEZpbHRlcih0aGlzLmV4dGVuZFJlcXVpcmVkTGlzdCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5hZHZhbmNlZENhblN1Ym1pdCx0aGlzLmNhblN1Ym1pdCk7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hDaGFuZ2UuZW1pdCh7IGl0ZW0sIGNvbmRpdGlvbnM6IHRoaXMubGlzdEZpbHRlckNvbmRpdGlvbnMsIGluc3RhbmNlOiB0aGlzIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiDliKTmlq3mmK/lkKbmiYDmnInlv4Xloavpobnpg73loavlhpnlrozmr5UgKi9cclxuICAgIGNhblN1Ym1pdEZpbHRlcihyZXF1aXJlbGlzdCkge1xyXG4gICAgICAgIGxldCBmb3JtQ2FuU3VibWl0ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKCFyZXF1aXJlbGlzdCB8fCAhcmVxdWlyZWxpc3QubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZvcm1DYW5TdWJtaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybUNhblN1Ym1pdDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlcXVpcmVsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gcmVxdWlyZWxpc3RbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgPT09IENvbnRyb2xUeXBlLlRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0diA9IChpdGVtLnZhbHVlIGFzIFRleHRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHR2KS5sZW5ndGggPCAwIHx8ICF0di52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ2FuU3VibWl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1DYW5TdWJtaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09PSBDb250cm9sVHlwZS5IZWxwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2h2ID0gKGl0ZW0udmFsdWUgYXMgSGVscFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoc2h2KS5sZW5ndGggPT09IDAgfHwgIXNodi52YWx1ZSB8fCAhc2h2LnZhbHVlRmllbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNhblN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ2FuU3VibWl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PT0gQ29udHJvbFR5cGUuRHJvcERvd24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZHYgPSAoaXRlbS52YWx1ZSBhcyBEcm9wRG93bkxpc3RWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGRkdikubGVuZ3RoID09PSAwIHx8ICFkZHYudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNhblN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ2FuU3VibWl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PT0gQ29udHJvbFR5cGUuRGF0ZVJhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHJ2ID0gKGl0ZW0udmFsdWUgYXMgRGF0ZVJhbmdlVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhkcnYpLmxlbmd0aCA9PT0gMCB8fCAoIWRydi5zdGFydFRpbWUgJiYgIWRydi5lbmRUaW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ2FuU3VibWl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1DYW5TdWJtaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09PSBDb250cm9sVHlwZS5EYXRlUmFuZ2VUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHJ2ID0gKGl0ZW0udmFsdWUgYXMgRGF0ZVJhbmdlVGltZVZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoZHJ2KS5sZW5ndGggPT09IDAgfHwgKCFkcnYuc3RhcnRUaW1lICYmICFkcnYuZW5kVGltZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNhblN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ2FuU3VibWl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PT0gQ29udHJvbFR5cGUuTW9udGhSYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1ydiA9IChpdGVtLnZhbHVlIGFzIE1vbnRoUmFuZ2VWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKG1ydikubGVuZ3RoID09PSAwIHx8ICghbXJ2LnN0YXJ0VGltZSAmJiAhbXJ2LmVuZFRpbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1DYW5TdWJtaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNhblN1Ym1pdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgPT09IENvbnRyb2xUeXBlLlllYXJSYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHlydiA9IChpdGVtLnZhbHVlIGFzIFllYXJSYW5nZVZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoeXJ2KS5sZW5ndGggPT09IDAgfHwgKCF5cnYuc3RhcnRUaW1lICYmICF5cnYuZW5kVGltZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNhblN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ2FuU3VibWl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09PSBDb250cm9sVHlwZS5OdW1iZXJSYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ydiA9IChpdGVtLnZhbHVlIGFzIE51bWJlclJhbmdlVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhucnYpLmxlbmd0aCA9PT0gMCB8fCAobnJ2LnN0YXJ0VmFsdWUgPT09IG51bGwgJiYgbnJ2LmVuZFZhbHVlID09PSBudWxsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ2FuU3VibWl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ2FuU3VibWl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09PSBDb250cm9sVHlwZS5TZWFyY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdiA9IChpdGVtLnZhbHVlIGFzIFNlYXJjaFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoc3YpLmxlbmd0aCA8IDAgfHwgIXN2LnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1DYW5TdWJtaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNhblN1Ym1pdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgPT09IENvbnRyb2xUeXBlLkRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkdiA9IChpdGVtLnZhbHVlIGFzIERhdGVWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGR2KS5sZW5ndGggPCAwIHx8ICFkdi52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ2FuU3VibWl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1DYW5TdWJtaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09PSBDb250cm9sVHlwZS5Nb250aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG12ID0gKGl0ZW0udmFsdWUgYXMgTW9udGhWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKG12KS5sZW5ndGggPCAwIHx8ICFtdi52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ2FuU3VibWl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1DYW5TdWJtaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09PSBDb250cm9sVHlwZS5ZZWFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeXYgPSAoaXRlbS52YWx1ZSBhcyBZZWFyVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh5dikubGVuZ3RoIDwgMCB8fCAheXYudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNhblN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ2FuU3VibWl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PT0gQ29udHJvbFR5cGUuQ2hlY2tib3hHcm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNiZ3YgPSAoaXRlbS52YWx1ZSBhcyBDaGVja2JveEdyb3VwVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhjYmd2KS5sZW5ndGggPT09IDAgfHwgT2JqZWN0LmtleXMoY2Jndi52YWx1ZSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1DYW5TdWJtaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNhblN1Ym1pdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgPT09IENvbnRyb2xUeXBlLlJhZGlvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFkaW92ID0gKGl0ZW0udmFsdWUgYXMgUmFkaW9Hcm91cFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMocmFkaW92KS5sZW5ndGggPCAwIHx8IHJhZGlvdi52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNhblN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ2FuU3VibWl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PT0gQ29udHJvbFR5cGUuSW5wdXRHcm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN2ID0gKGl0ZW0udmFsdWUgYXMgSW5wdXRHcm91cFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoc3YpLmxlbmd0aCA8IDAgfHwgIXN2LnRleHRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ2FuU3VibWl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1DYW5TdWJtaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09PSBDb250cm9sVHlwZS5OdW1iZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBucnYgPSAoaXRlbS52YWx1ZSBhcyBOdW1iZXJWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKG5ydikubGVuZ3RoID09PSAwIHx8IChucnYudmFsdWUgPT0gbnVsbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNhblN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ2FuU3VibWl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PT0gQ29udHJvbFR5cGUuRmxleGlibGVOdW1iZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmbGV4diA9IChpdGVtLnZhbHVlIGFzIEZsZXhpYmxlTnVtYmVyVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmbGV4di5zaW5nbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGZsZXh2KS5sZW5ndGggPCAwIHx8IGZsZXh2LnZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1DYW5TdWJtaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1DYW5TdWJtaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoZmxleHYpLmxlbmd0aCA9PT0gMCB8fCAoZmxleHYuc3RhcnRWYWx1ZSA9PSBudWxsICYmIGZsZXh2LmVuZFZhbHVlID09IG51bGwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ2FuU3VibWl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ2FuU3VibWl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09PSBDb250cm9sVHlwZS5GbGV4aWJsZURhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmbGV4ZGF0ZXYgPSAoaXRlbS52YWx1ZSBhcyBGbGV4aWJsZURhdGVWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZsZXhkYXRldi5zaW5nbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGZsZXhkYXRldikubGVuZ3RoIDwgMCB8fCAhZmxleGRhdGV2LnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ2FuU3VibWl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ2FuU3VibWl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGZsZXhkYXRldikubGVuZ3RoID09PSAwIHx8ICghZmxleGRhdGV2LnN0YXJ0VmFsdWUgJiYgIWZsZXhkYXRldi5lbmRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1DYW5TdWJtaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1DYW5TdWJtaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZm9ybUNhblN1Ym1pdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKiDpq5jnuqfnrZvpgInngrnlh7vnoa7lrprmj5DkuqQgKi9cclxuICAgIGxpc3RTZWFyY2goKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHsgcmV0dXJuOyB9O1xyXG4gICAgICAgIHRoaXMuZXh0ZW5kRmlsdGVyTGlzdC5mb3JFYWNoKGZpZWxkID0+IHtcclxuICAgICAgICAgICAgaWYgKChmaWVsZC5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgIT0gQ29udHJvbFR5cGUuRGF0ZSlcclxuICAgICAgICAgICAgICAgICYmIChmaWVsZC5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgIT0gQ29udHJvbFR5cGUuRGF0ZVJhbmdlKVxyXG4gICAgICAgICAgICAgICAgJiYgKGZpZWxkLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSAhPSBDb250cm9sVHlwZS5EYXRlUmFuZ2VUaW1lKVxyXG4gICAgICAgICAgICAgICAgJiYgKGZpZWxkLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSAhPSBDb250cm9sVHlwZS5GbGV4aWJsZURhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWVsZC52YWx1ZVRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQudmFsdWVUZXh0ID0gZmllbGQudmFsdWUuZ2V0VmFsdWVUZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGlmKGZpZWxkLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5SYWRpbyl7XHJcbiAgICAgICAgICAgIC8vICAgY29uc29sZS5sb2coZmllbGQpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIGZpZWxkLmZpbGxlZCA9IChmaWVsZC52YWx1ZVRleHQgJiYgZmllbGQudmFsdWVUZXh0Lmxlbmd0aCA+IDApID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZpZWxkLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5UZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZmFycmlzU2VhcmNoUmVjb3JkID0gZmllbGQudmFsdWVUZXh0O1xyXG4gICAgICAgICAgICAgICAgbGV0IGZhcnJpc1NlYXJjaFJlY29yZEFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgc3RvcmFnZWxhYmVsQ29kZSA9IGZpZWxkLmxhYmVsQ29kZTtcclxuICAgICAgICAgICAgICAgIGxldCBmaWx0ZXJQYW5lbEFycmF5ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmxvY2FsU3RvcmFnZUtleSkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZmlsdGVyUGFuZWxBcnJheSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJQYW5lbEFycmF5ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghZmlsdGVyUGFuZWxBcnJheSB8fCAhZmlsdGVyUGFuZWxBcnJheVtzdG9yYWdlbGFiZWxDb2RlXSB8fCAhZmlsdGVyUGFuZWxBcnJheVtzdG9yYWdlbGFiZWxDb2RlXS5sZW5ndGggJiYgZmFycmlzU2VhcmNoUmVjb3JkICYmIGZhcnJpc1NlYXJjaFJlY29yZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBmYXJyaXNTZWFyY2hSZWNvcmRBcnJheS5wdXNoKGZhcnJpc1NlYXJjaFJlY29yZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmYXJyaXNTZWFyY2hSZWNvcmRBcnJheSA9IGZpbHRlclBhbmVsQXJyYXlbc3RvcmFnZWxhYmVsQ29kZV07XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gZmlsdGVyUGFuZWxBcnJheVtzdG9yYWdlbGFiZWxDb2RlXS5pbmRleE9mKGZhcnJpc1NlYXJjaFJlY29yZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgMCAmJiBmYXJyaXNTZWFyY2hSZWNvcmQgJiYgZmFycmlzU2VhcmNoUmVjb3JkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYXJyaXNTZWFyY2hSZWNvcmRBcnJheS51bnNoaWZ0KGZhcnJpc1NlYXJjaFJlY29yZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZhcnJpc1NlYXJjaFJlY29yZEFycmF5ID0gZmFycmlzU2VhcmNoUmVjb3JkQXJyYXkuc2xpY2UoMCwgNik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyUGFuZWxBcnJheSA9PSBudWxsKSBmaWx0ZXJQYW5lbEFycmF5ID0ge307XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJQYW5lbEFycmF5W3N0b3JhZ2VsYWJlbENvZGVdID0gZmFycmlzU2VhcmNoUmVjb3JkQXJyYXk7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmxvY2FsU3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkoZmlsdGVyUGFuZWxBcnJheSkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8v5Yik5pat6auY57qn562b6YCJ6YeM5piv5ZCm5bey5L+u5pS5XHJcbiAgICAgICAgbGV0IGV4dGVuZEFtZW5kZWRMaXN0ID0gdGhpcy5leHRlbmRGaWx0ZXJMaXN0LmZpbHRlcihpdGVtID0+IHsgcmV0dXJuIGl0ZW0uZmlsbGVkIH0pO1xyXG4gICAgICAgIGlmIChleHRlbmRBbWVuZGVkTGlzdCAmJiBleHRlbmRBbWVuZGVkTGlzdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93RXhwYW5kVGFnID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0V4cGFuZFRhZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmV4dGVuZEZpbHRlckxpc3RTdG9yZSA9IHRoaXMuZXh0ZW5kRmlsdGVyTGlzdC5tYXAobyA9PiAoeyAuLi5vIH0pKTtcclxuICAgICAgICB0aGlzLmV4dGVuZEZpbHRlckxpc3RTdG9yZS5mb3JFYWNoKGZpZWxkID0+IHtcclxuICAgICAgICAgICAgbGV0IGV4dGVuZExpc3RJbmRleCA9IHRoaXMubGlzdEZpbHRlckNvbmRpdGlvbnMuZmluZEluZGV4KGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1bJ2lkJ10gPT0gZmllbGRbJ2lkJ107XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoZXh0ZW5kTGlzdEluZGV4ID49IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGlzdEZpbHRlckNvbmRpdGlvbnNbZXh0ZW5kTGlzdEluZGV4XSA9IGZpZWxkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5saXN0RmlsdGVyQ29uZGl0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hDaGFuZ2UuZW1pdCh0aGlzLmxpc3RGaWx0ZXJDb25kaXRpb25zKTtcclxuICAgICAgICB0aGlzLmluU2V0Q3VycmVudEZpbHRlckNvbmRpdGlvbnMoKTtcclxuICAgICAgICB0aGlzLmZpbHRlckxpc3RDbGFzc2lmeSgpO1xyXG4gICAgICAgIHRoaXMuZmFycmlzc2lkZWJhci5pc09wZW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmZsb2F0UGFuZWxPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcclxuICAgICAgICB0aGlzLnN1Ym1pdCgnZXh0ZW5kRm9ybURhdGEnLCB0aGlzLmxpc3RGaWx0ZXJDb25kaXRpb25zKTtcclxuICAgIH1cclxuICAgIC8qKiDmj5DkuqTooajljZUgKi9cclxuICAgIHN1Ym1pdCh0eXBlLCBmaWx0ZXJsaXN0LCBmaWx0ZXJJdGVtID0gbnVsbCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRpc2FibGVkIHx8ICF0aGlzLnNob3dDYW5TdWJtaXQgfHwgIXRoaXMuYWR2YW5jZWRDYW5TdWJtaXQpIHsgcmV0dXJuOyB9XHJcbiAgICAgICAgY29uc3QgcXVlcnlMaXN0ID0gdGhpcy5oYW5kbGVyLnNldEZpbHRlckNvbmRpdGlvbnMoZmlsdGVybGlzdCk7XHJcbiAgICAgICAgdGhpcy5xdWVyeS5lbWl0KHsgdHlwZTogdHlwZSwgZGF0YTogSlNPTi5zdHJpbmdpZnkocXVlcnlMaXN0KSwgZmlsdGVySXRlbSB9KTtcclxuICAgIH1cclxuICAgIC8qKiDorr7nva7nrZvpgInliJ3lp4vlgLwgKi9cclxuICAgIHNldEZpbHRlclZhbHVlKGZpZWxkQ29uZmlnczogRmllbGRDb25maWdbXSkge1xyXG4gICAgICAgIHRoaXMubGlzdEZpbHRlckNvbmRpdGlvbnMgPSB0aGlzLnN0YWdMaXN0RmlsdGVyQ29uZGl0aW9ucy5tYXAobyA9PiAoeyAuLi5vIH0pKTtcclxuICAgICAgICBpZiAodGhpcy5saXN0RmlsdGVyQ29uZGl0aW9ucyAmJiB0aGlzLmxpc3RGaWx0ZXJDb25kaXRpb25zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFZhbHVlcyh0aGlzLmxpc3RGaWx0ZXJDb25kaXRpb25zLCBmaWVsZENvbmZpZ3MpO1xyXG4gICAgICAgICAgICBsZXQgbGlzdEZpbHRlciA9IHRoaXMubGlzdEZpbHRlckNvbmRpdGlvbnMubWFwKG8gPT4gKHsgLi4ubyB9KSk7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdEZpbHRlckNvbmRpdGlvbnMgPSBsaXN0RmlsdGVyO1xyXG4gICAgICAgICAgICB0aGlzLmZpbHRlckxpc3RDbGFzc2lmeSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNlYXJjaENoYW5nZS5lbWl0KHRoaXMubGlzdEZpbHRlckNvbmRpdGlvbnMpO1xyXG4gICAgICAgICAgICB0aGlzLmluU2V0Q3VycmVudEZpbHRlckNvbmRpdGlvbnMoKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5saXN0U2VhcmNoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgICAgICB0aGlzLmNkLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgICAgICAgICB0aGlzLmNhblN1Ym1pdCA9IHRoaXMuY2FuU3VibWl0RmlsdGVyKHRoaXMucmVxdWlyZWRMaXN0RmlsdGVyKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmNhblN1Ym1pdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc3VibWl0KCdzaG93Rm9ybURhdGEnLCB0aGlzLmxpc3RGaWx0ZXJDb25kaXRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOa4heepuuetm+mAieafkOS4gOmhuVxyXG4gICAgICogQHBhcmFtIGxhYmVsQ29kZSDlrZfmrrXnvJblj7fllK/kuIDmoIfor4ZcclxuICAgICAqL1xyXG4gICAgcmVzZXRGaWx0ZXJWYWx1ZShsYWJlbENvZGU6IHN0cmluZykge1xyXG4gICAgICAgIGlmIChsYWJlbENvZGUgJiYgdGhpcy5saXN0RmlsdGVyQ29uZGl0aW9ucyAmJiB0aGlzLmxpc3RGaWx0ZXJDb25kaXRpb25zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBsZXQgcmVzZXRDb25kaXRpb24gPSB0aGlzLmxpc3RGaWx0ZXJDb25kaXRpb25zLmZpbmQoKGNvbmRpdGlvbnMpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb25kaXRpb25zWydmaWVsZENvZGUnXSA9PT0gbGFiZWxDb2RlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBpZiAocmVzZXRDb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRMaXN0Q29uZGl0aW9uKHJlc2V0Q29uZGl0aW9uKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyTGlzdENsYXNzaWZ5KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNkLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hDaGFuZ2UuZW1pdCh0aGlzLmxpc3RGaWx0ZXJDb25kaXRpb25zKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5TZXRDdXJyZW50RmlsdGVyQ29uZGl0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZHZhbmNlZENhblN1Ym1pdCA9IHRoaXMuY2FuU3VibWl0RmlsdGVyKHRoaXMuZXh0ZW5kUmVxdWlyZWRMaXN0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0KCdwYW5lbEZvcm1EYXRhJywgdGhpcy5saXN0RmlsdGVyQ29uZGl0aW9ucyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6K6+572udmFsdWVcclxuICAgIHNldFZhbHVlcyhjb25kaXRpb25zLCBmaWVsZENvbmZpZ3M6IEZpZWxkQ29uZmlnW10pIHtcclxuICAgICAgICBsZXQgcWM6IFF1ZXJ5Q29uZGl0aW9uO1xyXG4gICAgICAgIGxldCBjb250cm9sVHlwZTogc3RyaW5nO1xyXG4gICAgICAgIGlmIChmaWVsZENvbmZpZ3MgJiYgZmllbGRDb25maWdzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmaWVsZENvbmZpZ3MuZm9yRWFjaCh2ID0+IHtcclxuICAgICAgICAgICAgICAgIHFjID0gY29uZGl0aW9ucy5maW5kKGMgPT4gYy5maWVsZENvZGUgPT0gdi5sYWJlbENvZGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHFjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbFR5cGUgPSB0aGlzLmdldENvbnRyb2xUeXBlKHFjKTtcclxuICAgICAgICAgICAgICAgICAgICBxYy52YWx1ZSA9IHRoaXMuZmlsdGVyU2VydmljZS5zZXRWYWx1ZXMoY29udHJvbFR5cGUsIHYudmFsdWUsIHFjLmNvbnRyb2wuc2luZ2xlKTtcclxuICAgICAgICAgICAgICAgICAgICBxYy52YWx1ZVRleHQgPSBxYy52YWx1ZS5nZXRWYWx1ZVRleHQocWMuY29udHJvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcWMuZmlsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRWYWx1ZShmaWVsZE5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IHF1ZXJ5TGlzdCA9IHRoaXMuaGFuZGxlci5zZXRGaWx0ZXJDb25kaXRpb25zKHRoaXMubGlzdEZpbHRlckNvbmRpdGlvbnMpO1xyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSBxdWVyeUxpc3QuZmluZCgobjogYW55KSA9PiBuWydGaWx0ZXJGaWVsZCddID09PSBmaWVsZE5hbWUpO1xyXG4gICAgICAgIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtLnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635Y+W5o6n5Lu257G75Z6LXHJcbiAgICAgKiBAcGFyYW0gc2VsZWN0ZWRGaWVsZENvbmRpdGlvbiBcclxuICAgICAqL1xyXG4gICAgZ2V0Q29udHJvbFR5cGUoc2VsZWN0ZWRGaWVsZENvbmRpdGlvbjogUXVlcnlDb25kaXRpb24pOiBzdHJpbmcge1xyXG4gICAgICAgIGlmIChzZWxlY3RlZEZpZWxkQ29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5UZXh0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2lucHV0JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5TZWFyY2gpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnc2VhcmNoJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5EYXRlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2RhdGUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNlbGVjdGVkRmllbGRDb25kaXRpb24uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLk1vbnRoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ21vbnRoJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5ZZWFyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3llYXInO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNlbGVjdGVkRmllbGRDb25kaXRpb24uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLkRhdGVSYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdkYXRlcmFuZ2UnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNlbGVjdGVkRmllbGRDb25kaXRpb24uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLk1vbnRoUmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnbW9udGhyYW5nZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgPT0gQ29udHJvbFR5cGUuWWVhclJhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3llYXJyYW5nZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgPT0gQ29udHJvbFR5cGUuRGF0ZVJhbmdlVGltZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdkYXRlcmFuZ2V0aW1lJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5Ecm9wRG93bikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdkcm9wZG93bic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgPT0gQ29udHJvbFR5cGUuTnVtYmVyUmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnbnVtYmVyJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5IZWxwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2hlbHAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNlbGVjdGVkRmllbGRDb25kaXRpb24uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLkNoZWNrYm94R3JvdXApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnY2hlY2tib3hncm91cCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2VsZWN0ZWRGaWVsZENvbmRpdGlvbi5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgPT0gQ29udHJvbFR5cGUuUmFkaW8pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAncmFkaW8nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNlbGVjdGVkRmllbGRDb25kaXRpb24uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLklucHV0R3JvdXApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnaW5wdXQtZ3JvdXAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNlbGVjdGVkRmllbGRDb25kaXRpb24uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLk51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdzaW5nbGVudW1iZXInO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNlbGVjdGVkRmllbGRDb25kaXRpb24uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLkZsZXhpYmxlTnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2ZsZXhpYmxlbnVtYmVyJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzZWxlY3RlZEZpZWxkQ29uZGl0aW9uLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5GbGV4aWJsZURhdGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnZmxleGlibGVkYXRlJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnaW5wdXQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5pu05paw5LiK5LiL5paH5Lit562b6YCJ5pWw5o2uXHJcbiAgICAgKi9cclxuICAgIGluU2V0Q3VycmVudEZpbHRlckNvbmRpdGlvbnMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZmlsdGVySGFuZGxlcikge1xyXG4gICAgICAgICAgICB0aGlzLmZpbHRlckhhbmRsZXIuc2V0Q3VycmVudEZpbHRlckNvbmRpdGlvbnModGhpcy5saXN0RmlsdGVyQ29uZGl0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKiDmuIXnqbrmnaHku7YgKi9cclxuICAgIHJlc2V0TGlzdENvbmRpdGlvbihsaXN0RmlsdGVyQ29uZGl0aW9uOiBRdWVyeUNvbmRpdGlvbikge1xyXG4gICAgICAgIGlmIChsaXN0RmlsdGVyQ29uZGl0aW9uLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5UZXh0KSB7XHJcbiAgICAgICAgICAgIGxpc3RGaWx0ZXJDb25kaXRpb24udmFsdWUgPSBuZXcgVGV4dFZhbHVlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGxpc3RGaWx0ZXJDb25kaXRpb24uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLlNlYXJjaCkge1xyXG4gICAgICAgICAgICBsaXN0RmlsdGVyQ29uZGl0aW9uLnZhbHVlID0gbmV3IFNlYXJjaFZhbHVlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGxpc3RGaWx0ZXJDb25kaXRpb24uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLkRhdGUpIHtcclxuICAgICAgICAgICAgbGlzdEZpbHRlckNvbmRpdGlvbi52YWx1ZSA9IG5ldyBEYXRlVmFsdWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobGlzdEZpbHRlckNvbmRpdGlvbi5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgPT0gQ29udHJvbFR5cGUuTW9udGgpIHtcclxuICAgICAgICAgICAgbGlzdEZpbHRlckNvbmRpdGlvbi52YWx1ZSA9IG5ldyBNb250aFZhbHVlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGxpc3RGaWx0ZXJDb25kaXRpb24uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLlllYXIpIHtcclxuICAgICAgICAgICAgbGlzdEZpbHRlckNvbmRpdGlvbi52YWx1ZSA9IG5ldyBZZWFyVmFsdWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobGlzdEZpbHRlckNvbmRpdGlvbi5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgPT0gQ29udHJvbFR5cGUuRGF0ZVJhbmdlKSB7XHJcbiAgICAgICAgICAgIGxpc3RGaWx0ZXJDb25kaXRpb24udmFsdWUgPSBuZXcgRGF0ZVJhbmdlVmFsdWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobGlzdEZpbHRlckNvbmRpdGlvbi5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgPT0gQ29udHJvbFR5cGUuTW9udGhSYW5nZSkge1xyXG4gICAgICAgICAgICBsaXN0RmlsdGVyQ29uZGl0aW9uLnZhbHVlID0gbmV3IE1vbnRoUmFuZ2VWYWx1ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChsaXN0RmlsdGVyQ29uZGl0aW9uLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5ZZWFyUmFuZ2UpIHtcclxuICAgICAgICAgICAgbGlzdEZpbHRlckNvbmRpdGlvbi52YWx1ZSA9IG5ldyBZZWFyUmFuZ2VWYWx1ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChsaXN0RmlsdGVyQ29uZGl0aW9uLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5Ecm9wRG93bikge1xyXG4gICAgICAgICAgICBsaXN0RmlsdGVyQ29uZGl0aW9uLnZhbHVlID0gbmV3IERyb3BEb3duTGlzdFZhbHVlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGxpc3RGaWx0ZXJDb25kaXRpb24uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLk51bWJlclJhbmdlKSB7XHJcbiAgICAgICAgICAgIGxpc3RGaWx0ZXJDb25kaXRpb24udmFsdWUgPSBuZXcgTnVtYmVyUmFuZ2VWYWx1ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChsaXN0RmlsdGVyQ29uZGl0aW9uLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5IZWxwKSB7XHJcbiAgICAgICAgICAgIGxpc3RGaWx0ZXJDb25kaXRpb24udmFsdWUgPSBuZXcgSGVscFZhbHVlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGxpc3RGaWx0ZXJDb25kaXRpb24uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLkNoZWNrYm94R3JvdXApIHtcclxuICAgICAgICAgICAgbGlzdEZpbHRlckNvbmRpdGlvbi52YWx1ZSA9IG5ldyBDaGVja2JveEdyb3VwVmFsdWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobGlzdEZpbHRlckNvbmRpdGlvbi5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgPT0gQ29udHJvbFR5cGUuUmFkaW8pIHtcclxuICAgICAgICAgICAgbGlzdEZpbHRlckNvbmRpdGlvbi52YWx1ZSA9IG5ldyBSYWRpb0dyb3VwVmFsdWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobGlzdEZpbHRlckNvbmRpdGlvbi5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgPT0gQ29udHJvbFR5cGUuSW5wdXRHcm91cCkge1xyXG4gICAgICAgICAgICBsaXN0RmlsdGVyQ29uZGl0aW9uLnZhbHVlID0gbmV3IElucHV0R3JvdXBWYWx1ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChsaXN0RmlsdGVyQ29uZGl0aW9uLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5OdW1iZXIpIHtcclxuICAgICAgICAgICAgbGlzdEZpbHRlckNvbmRpdGlvbi52YWx1ZSA9IG5ldyBOdW1iZXJWYWx1ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChsaXN0RmlsdGVyQ29uZGl0aW9uLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PSBDb250cm9sVHlwZS5GbGV4aWJsZU51bWJlcikge1xyXG4gICAgICAgICAgICBsaXN0RmlsdGVyQ29uZGl0aW9uLnZhbHVlID0gbmV3IEZsZXhpYmxlTnVtYmVyVmFsdWUoeyBzdGFydFZhbHVlOiBudWxsLCBlbmRWYWx1ZTogbnVsbCwgdmFsdWU6IG51bGwgfSwgbGlzdEZpbHRlckNvbmRpdGlvbi5jb250cm9sLnNpbmdsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGxpc3RGaWx0ZXJDb25kaXRpb24uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLkZsZXhpYmxlRGF0ZSkge1xyXG4gICAgICAgICAgICBsaXN0RmlsdGVyQ29uZGl0aW9uLnZhbHVlID0gbmV3IEZsZXhpYmxlRGF0ZVZhbHVlKHsgc3RhcnRWYWx1ZTogbnVsbCwgZW5kVmFsdWU6IG51bGwsIHZhbHVlOiBudWxsIH0sIGxpc3RGaWx0ZXJDb25kaXRpb24uY29udHJvbC5zaW5nbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGlzdEZpbHRlckNvbmRpdGlvbi52YWx1ZSA9IG5ldyBUZXh0VmFsdWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGlzdEZpbHRlckNvbmRpdGlvbi52YWx1ZVRleHQgPSAnJztcclxuICAgICAgICBsaXN0RmlsdGVyQ29uZGl0aW9uLmZpbGxlZCA9IGZhbHNlO1xyXG4gICAgICAgIC8vIHJldHVybiBsaXN0RmlsdGVyQ29uZGl0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0U2VhcmNoKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7IHJldHVybjsgfVxyXG4gICAgICAgIGlmICh0aGlzLmxpc3RGaWx0ZXJDb25kaXRpb25zICYmIHRoaXMubGlzdEZpbHRlckNvbmRpdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdEZpbHRlckNvbmRpdGlvbnMuZm9yRWFjaChsaXN0RmlsdGVyQ29uZGl0aW9uID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRMaXN0Q29uZGl0aW9uKGxpc3RGaWx0ZXJDb25kaXRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5saXN0RmlsdGVyQ29uZGl0aW9ucyA9IHRoaXMubGlzdEZpbHRlckNvbmRpdGlvbnMubWFwKG8gPT4gKHsgLi4ubyB9KSk7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyTGlzdENsYXNzaWZ5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0NhblN1Ym1pdCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc3VibWl0KCdwYW5lbEZvcm1EYXRhJywgdGhpcy5saXN0RmlsdGVyQ29uZGl0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVzZXRDaGFuZ2UuZW1pdCgpO1xyXG4gICAgICAgIHRoaXMuc2hvd0V4cGFuZFRhZyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDpq5jnuqfnrZvpgInmuIXnqbrnrZvpgIlcclxuICAgICAqL1xyXG4gICAgcmVzZXRBZHZhbmNlZFNlYXJjaCgpIHtcclxuICAgICAgICBpZiAodGhpcy5leHRlbmRGaWx0ZXJMaXN0ICYmIHRoaXMuZXh0ZW5kRmlsdGVyTGlzdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5leHRlbmRGaWx0ZXJMaXN0LmZvckVhY2gobGlzdEZpbHRlckNvbmRpdGlvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0TGlzdENvbmRpdGlvbihsaXN0RmlsdGVyQ29uZGl0aW9uKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgdGhpcy5leHRlbmRGaWx0ZXJMaXN0ID0gdGhpcy5leHRlbmRGaWx0ZXJMaXN0Lm1hcChvID0+ICh7IC4uLm8gfSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5leHRlbmRSZXF1aXJlZExpc3QubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZWRDYW5TdWJtaXQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiB2YWx1ZVRleHQg54m55q6K57G75Z6L5aSE55CGXHJcbiAgICAgKiBAcGFyYW0gaXRlbSBcclxuICAgICAqL1xyXG4gICAgZ2V0VmFsdWVUZXh0KGl0ZW06IFF1ZXJ5Q29uZGl0aW9uKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coaXRlbS5maWVsZE5hbWUsaXRlbS5jb250cm9sLmdldENvbnRyb2xUeXBlKCkpO1xyXG4gICAgICAgIGlmIChpdGVtLmNvbnRyb2wuZ2V0Q29udHJvbFR5cGUoKSA9PT0gQ29udHJvbFR5cGUuRHJvcERvd24pIHtcclxuICAgICAgICAgICAgY29uc3QgZW51bVZhbHVlID0gKGl0ZW0uY29udHJvbCBhcyBEcm9wRG93bkNvbnRyb2wpLmVudW1WYWx1ZXM7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gKGl0ZW0udmFsdWUgYXMgRHJvcERvd25MaXN0VmFsdWUpLnZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoZW51bVZhbHVlICYmIGVudW1WYWx1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRzID0gZW51bVZhbHVlLmZpbmQodmFsID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsWyd2YWx1ZSddID09IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGV4dHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnZhbHVlVGV4dCA9IHRleHRzWyduYW1lJ107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXRlbS5jb250cm9sLmdldENvbnRyb2xUeXBlKCkgPT09IENvbnRyb2xUeXBlLkNoZWNrYm94R3JvdXApIHtcclxuICAgICAgICAgICAgY29uc3QgZW51bVZhbHVlID0gKGl0ZW0uY29udHJvbCBhcyBDaGVja2JveEdyb3VwQ29udHJvbCkuZW51bVZhbHVlcztcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSAoaXRlbS52YWx1ZSBhcyBDaGVja2JveEdyb3VwVmFsdWUpLnZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoZW51bVZhbHVlICYmIGVudW1WYWx1ZS5sZW5ndGggJiYgdmFsdWUgJiYgdmFsdWVbJ2xlbmd0aCddID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uY29udHJvbC5ib29sY2hlY2spIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnZhbHVlVGV4dCA9IHZhbHVlWzBdLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udmFsdWVUZXh0ID09ICd0cnVlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnZhbHVlVGV4dCA9IHRoaXMubG9jYWxlU2VydmljZS5nZXRWYWx1ZSgndGV4dC55ZXMnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udmFsdWVUZXh0ID09ICdmYWxzZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS52YWx1ZVRleHQgPSB0aGlzLmxvY2FsZVNlcnZpY2UuZ2V0VmFsdWUoJ3RleHQubm8nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSB2YWx1ZVsnbGVuZ3RoJ107IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnVtcyA9IGVudW1WYWx1ZS5maW5kKHZhbCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsWyd2YWx1ZSddID09IHZhbHVlW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0cy5wdXNoKGVudW1zWyduYW1lJ10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0udmFsdWVUZXh0ID0gdGV4dHMuam9pbignLCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGl0ZW0uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09PSBDb250cm9sVHlwZS5SYWRpbykge1xyXG4gICAgICAgICAgICBjb25zdCBlbnVtVmFsdWUgPSAoaXRlbS5jb250cm9sIGFzIFJhZGlvQ29udHJvbCkuZW51bVZhbHVlcztcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSAoaXRlbS52YWx1ZSBhcyBSYWRpb0dyb3VwVmFsdWUpLnZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoZW51bVZhbHVlICYmIGVudW1WYWx1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRzID0gZW51bVZhbHVlLmZpbmQodmFsID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsWyd2YWx1ZSddID09IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGV4dHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnZhbHVlVGV4dCA9IHRleHRzWyduYW1lJ107XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udmFsdWVUZXh0ID09ICd0cnVlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnZhbHVlVGV4dCA9IHRoaXMubG9jYWxlU2VydmljZS5nZXRWYWx1ZSgndGV4dC55ZXMnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udmFsdWVUZXh0ID09ICdmYWxzZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS52YWx1ZVRleHQgPSB0aGlzLmxvY2FsZVNlcnZpY2UuZ2V0VmFsdWUoJ3RleHQubm8nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uY29udHJvbC5nZXRDb250cm9sVHlwZSgpID09IENvbnRyb2xUeXBlLklucHV0R3JvdXApIHtcclxuICAgICAgICAgICAgaXRlbS52YWx1ZVRleHQgPSBpdGVtLnZhbHVlLmdldFZhbHVlVGV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcbiJdfQ==